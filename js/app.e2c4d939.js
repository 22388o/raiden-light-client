(function(e){function t(t){for(var a,r,o=t[0],s=t[1],u=t[2],d=0,p=[];d<o.length;d++)r=o[d],c[r]&&p.push(c[r][0]),c[r]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);l&&l(t);while(p.length)p.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],a=!0,r=1;r<n.length;r++){var o=n[r];0!==c[o]&&(a=!1)}a&&(i.splice(t--,1),e=s(s.s=n[0]))}return e}var a={},r={app:0},c={app:0},i=[];function o(e){return s.p+"js/"+({}[e]||e)+"."+{"chunk-2d22d746":"a3a405b1","chunk-68fa5988":"6e234936","chunk-af94b63e":"a693092f","chunk-2cd977a2":"73d0a1b4","chunk-437b82f5":"c1d00586","chunk-776d0b89":"76c7a3a6","chunk-cc03bd3c":"e840c9b6"}[e]+".js"}function s(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n={"chunk-68fa5988":1,"chunk-af94b63e":1,"chunk-2cd977a2":1,"chunk-437b82f5":1,"chunk-776d0b89":1,"chunk-cc03bd3c":1};r[e]?t.push(r[e]):0!==r[e]&&n[e]&&t.push(r[e]=new Promise(function(t,n){for(var a="css/"+({}[e]||e)+"."+{"chunk-2d22d746":"31d6cfe0","chunk-68fa5988":"944176c6","chunk-af94b63e":"5e723ede","chunk-2cd977a2":"fd420c13","chunk-437b82f5":"c979287c","chunk-776d0b89":"c7fe795f","chunk-cc03bd3c":"1c862b55"}[e]+".css",c=s.p+a,i=document.getElementsByTagName("link"),o=0;o<i.length;o++){var u=i[o],d=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(d===a||d===c))return t()}var p=document.getElementsByTagName("style");for(o=0;o<p.length;o++){u=p[o],d=u.getAttribute("data-href");if(d===a||d===c)return t()}var l=document.createElement("link");l.rel="stylesheet",l.type="text/css",l.onload=t,l.onerror=function(t){var a=t&&t.target&&t.target.src||c,i=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=a,delete r[e],l.parentNode.removeChild(l),n(i)},l.href=c;var b=document.getElementsByTagName("head")[0];b.appendChild(l)}).then(function(){r[e]=0}));var a=c[e];if(0!==a)if(a)t.push(a[2]);else{var i=new Promise(function(t,n){a=c[e]=[t,n]});t.push(a[2]=i);var u,d=document.createElement("script");d.charset="utf-8",d.timeout=120,s.nc&&d.setAttribute("nonce",s.nc),d.src=o(e),u=function(t){d.onerror=d.onload=null,clearTimeout(p);var n=c[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src,i=new Error("Loading chunk "+e+" failed.\n("+a+": "+r+")");i.type=a,i.request=r,n[1](i)}c[e]=void 0}};var p=setTimeout(function(){u({type:"timeout",target:d})},12e4);d.onerror=d.onload=u,document.head.appendChild(d)}return Promise.all(t)},s.m=e,s.c=a,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(n,a,function(t){return e[t]}.bind(null,a));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/",s.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],d=u.push.bind(u);u.push=t,u=u.slice();for(var p=0;p<u.length;p++)t(u[p]);var l=d;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"0fe9":function(e){e.exports={contracts_version:"0.4.0",chain_id:5,contracts:{EndpointRegistry:{address:"0xDc2c21086D77292460269E9BB3e0b8FaB9CE69d1",transaction_hash:"0xfce414526a19e79382c176fcb001a437dbcec87b3a9b5b7a9292a888a9faa963",block_number:422957,gas_cost:590219,constructor_arguments:[]},SecretRegistry:{address:"0x95AF54f9cCDF066571445d25D77019f9BaE0Dc0e",transaction_hash:"0x72aa348f95018f84386d486bdde65166143bcf1889536529d6283b1a16bd7367",block_number:422958,gas_cost:332473,constructor_arguments:[]},TokenNetworkRegistry:{address:"0x0B4d768c3abeEd6f4901468482544730B49Bf41D",transaction_hash:"0x23cb492560ca9c5d3d7b8b4b27199f73dfd596722d7571bd996f1fc7afadd8da",block_number:422959,gas_cost:4950722,constructor_arguments:["0x95AF54f9cCDF066571445d25D77019f9BaE0Dc0e",5,500,555428]}}}},1:function(e,t){},"152b":function(e,t,n){"use strict";n("7f7f");var a=n("d225"),r=n("b0b4"),c=n("308d"),i=n("6bb5"),o=n("4e2b"),s=n("9ab4"),u=n("60a3"),d=n("5a48"),p=function(e){function t(){return Object(a["a"])(this,t),Object(c["a"])(this,Object(i["a"])(t).apply(this,arguments))}return Object(o["a"])(t,e),Object(r["a"])(t,[{key:"navigateToSelectHub",value:function(e){this.$router.push({name:d["a"].SELECT_HUB,params:{token:e}})}},{key:"navigateToHome",value:function(){this.$router.push({name:d["a"].HOME})}},{key:"navigateToDeposit",value:function(e,t){this.$router.push({name:d["a"].DEPOSIT,params:{token:e,partner:t}})}},{key:"navigateToSelectPaymentTarget",value:function(e){this.$router.push({name:d["a"].SELECT_TARGET,params:{token:e}})}},{key:"navigateToTokenSelect",value:function(){this.$router.push({name:d["a"].SELECT_TOKEN})}},{key:"onBackClicked",value:function(){switch(this.$route.name){case d["a"].ABOUT:case d["a"].SELECT_TARGET:case d["a"].CHANNELS:case d["a"].SELECT_TOKEN:this.navigateToHome();break;case d["a"].SELECT_HUB:this.navigateToTokenSelect();break;case d["a"].DEPOSIT:this.navigateToSelectHub(this.$route.params.token);break}}}]),t}(u["e"]);p=s["a"]([u["a"]],p),t["a"]=p},"15f6":function(e,t,n){},"1b25":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.display?n("div",{attrs:{id:"overlay"}},[n("div",{attrs:{id:"card"}},[e.done?n("div",{staticClass:"steps"},[n("div",{staticClass:"active step"},[e._v("Done")])]):e.steps.length>1?n("div",{staticClass:"steps"},e._l(e.steps,function(t,a){return n("div",{key:a,staticClass:"step",class:{active:e.current===a}},[e._v("\n        Step "+e._s(a+1)+"\n      ")])}),0):e._e(),n("div",{staticClass:"card-content"},[n("div",{staticClass:"step-title"},[e.done?n("span",[e._v(" "+e._s(e.doneStep.title))]):n("span",[e._v(e._s(e.steps[e.current].title))])]),e.done?n("div",[n("v-icon",{staticClass:"success-icon"},[e._v("check_circle")])],1):n("v-progress-circular",{attrs:{size:120,width:7,color:"blue",indeterminate:""}}),n("p",{staticClass:"step-description",attrs:{id:"message"}},[e.done?n("span",{domProps:{innerHTML:e._s(e.doneStep.description)}}):n("span",[e._v("\n          "+e._s(e.steps[e.current].description)+"\n        ")])])],1)])]):e._e()},r=[],c=n("d225"),i=n("308d"),o=n("6bb5"),s=n("4e2b"),u=n("9ab4"),d=n("60a3"),p=function(e){function t(){return Object(c["a"])(this,t),Object(i["a"])(this,Object(o["a"])(t).apply(this,arguments))}return Object(s["a"])(t,e),t}(d["e"]);u["a"]([Object(d["d"])({required:!0})],p.prototype,"display",void 0),u["a"]([Object(d["d"])({required:!1,default:0})],p.prototype,"current",void 0),u["a"]([Object(d["d"])({required:!0})],p.prototype,"steps",void 0),u["a"]([Object(d["d"])({})],p.prototype,"doneStep",void 0),u["a"]([Object(d["d"])({})],p.prototype,"done",void 0),p=u["a"]([Object(d["a"])({})],p);var l=p,b=l,f=(n("e4ad"),n("2877")),m=n("6544"),v=n.n(m),h=n("132d"),O=n("490a"),y=Object(f["a"])(b,a,r,!1,null,"10b38352",null);t["a"]=y.exports;v()(y,{VIcon:h["a"],VProgressCircular:O["a"]})},"1c1f":function(e){e.exports={contracts_version:"0.4.0",chain_id:42,contracts:{EndpointRegistry:{address:"0xe33Ce65F51CdBbaae4209dD349108A5bd3a1466B",transaction_hash:"0x592c3a03d3202f094d8ba210ef4e6acdab77275704f96c14e2447962514ad8c3",block_number:9096765,gas_cost:590219,constructor_arguments:[]},SecretRegistry:{address:"0xCeea31D4Ead6827D64a98DAf745BDc4168c7B2a8",transaction_hash:"0xb102f5ced254949523d4b1f484e1fec601e97f3d89b292fe9558c577a005ba01",block_number:9096765,gas_cost:332473,constructor_arguments:[]},TokenNetworkRegistry:{address:"0x40bC6AA6514D8b6a3E169e62816385721A594E92",transaction_hash:"0xec6821daa34a502a1a68b4e6cad1480a948cf154cfc643e54e8fffee502defa1",block_number:9096766,gas_cost:4950722,constructor_arguments:["0xCeea31D4Ead6827D64a98DAf745BDc4168c7B2a8",42,500,555428]}}}},"1e6f":function(e,t,n){},"1fcd":function(e){e.exports=[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"supply",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"",type:"address"}],name:"balances",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"decimals",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"_decimals",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"version",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"},{name:"_extraData",type:"bytes"}],name:"approveAndCall",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"remaining",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{inputs:[{name:"_initialAmount",type:"uint256"},{name:"_decimalUnits",type:"uint8"},{name:"_tokenName",type:"string"},{name:"_tokenSymbol",type:"string"}],payable:!1,stateMutability:"nonpayable",type:"constructor"},{payable:!1,stateMutability:"nonpayable",type:"fallback"},{anonymous:!1,inputs:[{indexed:!0,name:"_from",type:"address"},{indexed:!0,name:"_to",type:"address"},{indexed:!1,name:"_value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"_owner",type:"address"},{indexed:!0,name:"_spender",type:"address"},{indexed:!1,name:"_value",type:"uint256"}],name:"Approval",type:"event"}]},2:function(e,t){},3:function(e,t){},3190:function(e){e.exports=[{constant:!0,inputs:[{name:"",type:"address"}],name:"token_to_token_networks",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"settlement_timeout_max",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"deprecation_executor",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"chain_id",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_token_address",type:"address"}],name:"createERC20TokenNetwork",outputs:[{name:"token_network_address",type:"address"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"contract_address",type:"address"}],name:"contractExists",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"contract_version",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"token_network_created",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"settlement_timeout_min",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"secret_registry_address",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{inputs:[{name:"_secret_registry_address",type:"address"},{name:"_chain_id",type:"uint256"},{name:"_settlement_timeout_min",type:"uint256"},{name:"_settlement_timeout_max",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,name:"token_address",type:"address"},{indexed:!0,name:"token_network_address",type:"address"}],name:"TokenNetworkCreated",type:"event"}]},"32b6":function(e,t,n){"use strict";var a=n("6ec2"),r=n.n(a);r.a},4:function(e,t){},"4b66":function(e,t,n){"use strict";var a=n("e6c1"),r=n.n(a);r.a},5:function(e,t){},"5a48":function(e,t,n){"use strict";var a;n.d(t,"a",function(){return a}),function(e){e["ABOUT"]="about",e["SELECT_TARGET"]="send",e["SELECT_TOKEN"]="select-token",e["SELECT_HUB"]="select-hub",e["HOME"]="home",e["CHANNELS"]="channels",e["DEPOSIT"]="deposit"}(a||(a={}))},"5dad":function(e,t,n){"use strict";var a=n("f24f"),r=n.n(a);r.a},6:function(e,t){},"6ec2":function(e,t,n){},"77fd":function(e,t,n){"use strict";var a=n("d225"),r=n("b0b4"),c=n("308d"),i=n("6bb5"),o=n("4e2b"),s=n("9ab4"),u=n("60a3"),d=function(e){function t(){return Object(a["a"])(this,t),Object(c["a"])(this,Object(i["a"])(t).apply(this,arguments))}return Object(o["a"])(t,e),Object(r["a"])(t,[{key:"$blockie",value:function(e){return this.$identicon.getIdenticon(e)}}]),t}(u["e"]);d=s["a"]([u["a"]],d),t["a"]=d},8039:function(e,t,n){"use strict";var a=n("ca89"),r=n.n(a);r.a},"87a2":function(e,t,n){"use strict";n.d(t,"d",function(){return c}),n.d(t,"c",function(){return i}),n.d(t,"b",function(){return o}),n.d(t,"a",function(){return a});var a,r=n("8404"),c=function(){return{name:"",symbol:"",address:"",opening:0,open:0,closing:0,closed:0,settling:0,settled:0}},i={balance:r["Zero"],decimals:18,units:"0.0",address:""},o={name:"",chainId:-1};(function(e){e[e["UNDEFINED"]=0]="UNDEFINED",e[e["NO_ACCOUNT"]=1]="NO_ACCOUNT",e[e["UNSUPPORTED_NETWORK"]=2]="UNSUPPORTED_NETWORK"})(a||(a={}))},"9b19":function(e,t,n){e.exports=n.p+"img/logo.5c4b022d.svg"},a3d5:function(e,t,n){"use strict";n.d(t,"a",function(){return i});n("28a5");var a=n("d225"),r=n("b0b4"),c=n("e7ea"),i=function(){function e(){Object(a["a"])(this,e)}return Object(r["a"])(e,null,[{key:"toEth",value:function(e){return c["utils"].formatEther(e)}},{key:"toUnits",value:function(e,t){return c["utils"].formatUnits(e,t)}},{key:"hasBalance",value:function(t,n){var a=e.parse(t,n.decimals),r=e.parse(n.units,n.decimals);return a.lte(r)}},{key:"decimalsOverflow",value:function(e,t){var n;return n=e.indexOf(".")>0?e.split(".")[1]:e.indexOf(",")>0?e.split(",")[1]:"",n.length>t.decimals}},{key:"parse",value:function(e,t){return c["utils"].parseUnits(e,t)}}]),e}()},b1d2:function(e,t,n){},bf81:function(e){e.exports={contracts_version:"0.4.0",chain_id:3,contracts:{EndpointRegistry:{address:"0x8DB433a27F8be1d38f316e44441c381b5746f8fe",transaction_hash:"0xc2f74206fce963ddc386dc28dd524e7c7715c56e98387989f37921278294f845",block_number:4236248,gas_cost:590219,constructor_arguments:[]},SecretRegistry:{address:"0xd97b443B69307E771AD2dDaA4bA1458B84d7b60b",transaction_hash:"0x58cd4ae561c8d9047c89a5142f9fc719725b027f0a82fb8cd6423f923a0f601f",block_number:4236255,gas_cost:332473,constructor_arguments:[]},TokenNetworkRegistry:{address:"0x40a5D15fD98b9a351855D64daa9bc621F400cbc5",transaction_hash:"0x368fb55258310a29194ffa13e98058a3f79da91583776d70d2e507940ee00203",block_number:4236264,gas_cost:4950722,constructor_arguments:["0xd97b443B69307E771AD2dDaA4bA1458B84d7b60b",3,500,555428]}}}},c314:function(e,t,n){"use strict";var a=n("b1d2"),r=n.n(a);r.a},ca89:function(e,t,n){},cd49:function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var a=n("2b0e"),r=n("bb71");n("da64");a["default"].use(r["a"],{iconfont:"md"});var c=n("65d9"),i=n.n(c);i.a.registerHooks(["beforeRouteEnter","beforeRouteLeave","beforeRouteUpdate"]);var o=n("d225"),s=n("b0b4"),u=n("a3d5"),d=n("6625"),p=n.n(d),l=n("e9a7"),b=n.n(l),f=function(){function e(){Object(o["a"])(this,e)}return Object(s["a"])(e,null,[{key:"truncate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12,n="...";if(e.length<=t)return e;var a=Math.floor(t/2);return e.substr(0,a)+n+e.substr(e.length-a)}},{key:"decimals",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return parseFloat(e).toFixed(t)}},{key:"upper",value:function(e){return e?e.toLocaleUpperCase():""}},{key:"displayFormat",value:function(e,t){var n=u["a"].toUnits(e,t),a=parseFloat(n);if(0===a)return"0.0";if(a<1e-5)return"<0.00001";var r=p()(n,".");return r[1]&&r[1].length>5?n.substr(0,n.indexOf(".")+6):n}},{key:"capitalizeFirst",value:function(e){return b()(e)}}]),e}();a["default"].filter("truncate",f.truncate),a["default"].filter("decimals",f.decimals),a["default"].filter("upper",f.upper),a["default"].filter("displayFormat",f.displayFormat),a["default"].filter("capitalizeFirst",f.capitalizeFirst);var m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",{attrs:{dark:""}},[e.inaccessible?n("splash-screen",{on:{connect:function(t){return e.connect()}}}):n("div",{attrs:{id:"application-wrapper"}},[n("div",{attrs:{id:"application-content"}},[n("app-header"),n("v-content",[n("v-container",{attrs:{fluid:"","fill-height":""}},[n("router-view")],1)],1)],1)]),n("div",{staticClass:"policy"},[n("a",{attrs:{href:"https://raiden.network/privacy.html",target:"_blank"}},[e._v("\n      Privacy Policy, Disclaimer & Imprint\n    ")])])],1)},v=[],h=(n("96cf"),n("3b8d")),O=n("308d"),y=n("6bb5"),j=n("4e2b"),k=n("9ab4"),g=n("60a3"),w=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:"","fill-height":""}},[a("v-layout",{attrs:{"align-center":"","justify-center":"",row:""}},[a("v-flex",{attrs:{lg6:"",md8:"",xs10:""}},[a("div",{staticClass:"loading-wrapper display-3"},[a("div",{staticClass:"img-container"},[a("v-img",{attrs:{id:"logo","aspect-ratio":"1",contain:"",src:n("9b19")}})],1),a("div",{attrs:{id:"text-information"}},[a("div",[e._v("\n            Raiden dApp\n          ")])])]),a("div",{staticClass:"font-weight-light text-xs-center disclaimer"},[e._v("\n        The Raiden dApp is a reference implementation of the Raiden Light\n        Client SDK."),a("br"),e._v("\n        It is work in progress and can just be used on the Ethereum Testnets.\n      ")]),a("div",{staticClass:"connect-button"},[e.injectedProvider?a("v-btn",{on:{click:function(t){return e.connect()}}},[e._v("Connect")]):a("span",{staticClass:"no-provider"},[e._v("\n          No web3 provider was detected\n        ")])],1),a("div",{staticClass:"message-container"},[e.accessDenied?a("no-access-message",{staticClass:"error-message",attrs:{reason:e.accessDenied}}):e._e()],1)])],1)],1)},x=[],_=n("f15c"),C=n("2f62"),N=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-alert",{attrs:{value:!0,color:"error",icon:"warning",outline:""}},[n("div",{staticClass:"font-weight-light message"},[e.networkUnsupported?n("span",[e._v("\n      The current network is unsupported.\n    ")]):n("span",[e._v("\n      A valid account could not be detected. "),n("br"),e._v("\n      Please make sure that your provider is unlocked and accessible.\n    ")])])])},E=[],T=n("87a2"),A=function(e){function t(){return Object(o["a"])(this,t),Object(O["a"])(this,Object(y["a"])(t).apply(this,arguments))}return Object(j["a"])(t,e),Object(s["a"])(t,[{key:"networkUnsupported",get:function(){return this.reason===T["a"].UNSUPPORTED_NETWORK}}]),t}(g["e"]);k["a"]([Object(g["d"])({required:!0})],A.prototype,"reason",void 0),A=k["a"]([Object(g["a"])({})],A);var R=A,S=R,I=(n("c314"),n("2877")),M=n("6544"),D=n.n(M),B=n("0798"),P=Object(I["a"])(S,N,E,!1,null,"4d828ac1",null),$=P.exports;D()(P,{VAlert:B["a"]});var U=function(e){function t(){return Object(o["a"])(this,t),Object(O["a"])(this,Object(y["a"])(t).apply(this,arguments))}return Object(j["a"])(t,e),Object(s["a"])(t,[{key:"connect",value:function(){}},{key:"injectedProvider",get:function(){return _["a"].injectedWeb3Available()}}]),t}(g["e"]);k["a"]([Object(g["b"])()],U.prototype,"connect",null),U=k["a"]([Object(g["a"])({components:{NoAccessMessage:$},computed:Object(C["c"])(["accessDenied"])})],U);var L=U,H=L,F=(n("5dad"),n("8336")),V=n("a523"),Z=n("0e8f"),K=n("adda"),q=n("a722"),z=Object(I["a"])(H,w,x,!1,null,"aebf956e",null),G=z.exports;D()(z,{VBtn:F["a"],VContainer:V["a"],VFlex:Z["a"],VImg:K["a"],VLayout:q["a"]});var W=function(){var e=this,t=e.$createElement,n=e._self._c||t;return!e.loading&&e.defaultAccount?n("div",[n("v-layout",{staticClass:"header",attrs:{"justify-center":"","align-center":""}},[n("v-flex",{attrs:{lg12:"",md12:"",xs12:""}},[n("div",{attrs:{id:"header-content"}},[n("div",{staticClass:"navigation-button"},[e.canGoBack?n("v-btn",{attrs:{flat:"",icon:""},on:{click:function(t){return e.onBackClicked()}}},[n("v-icon",[e._v("arrow_back")])],1):e._e()],1),n("v-spacer"),n("v-layout",{attrs:{column:"","align-center":"","justify-center":""}},[n("div",{staticClass:"header-title"},[e._v("Raiden dApp")]),n("div",{staticClass:"network"},[e._v(e._s(e.network))])]),n("v-spacer"),n("div",[n("v-img",{staticClass:"blockie",attrs:{height:"36",width:"36",contain:"","aspect-ratio":"1",src:e.$blockie(e.defaultAccount)}})],1)],1)])],1),n("v-layout",{staticClass:"row-2",attrs:{"align-center":""}},[n("v-flex",{attrs:{lg6:"",md6:"",xs6:""}},[n("div",{staticClass:"address text-xs-left"},[n("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("span",e._g({},a),[e._v(" "+e._s(e._f("truncate")(e.defaultAccount)))])]}}],null,!1,1213229385)},[n("span",[e._v(e._s(e.defaultAccount))])])],1)]),n("v-flex",{attrs:{lg6:"",md6:"",xs6:""}},[n("div",{staticClass:"balance text-xs-right"},[e._v("\n        "+e._s(e._f("decimals")(e.accountBalance))+" ETHER\n      ")])])],1)],1):e._e()},J=[],X=n("cebc"),Q=(n("7f7f"),n("77fd")),Y=n("5a48"),ee=n("152b"),te=function(e){function t(){return Object(o["a"])(this,t),Object(O["a"])(this,Object(y["a"])(t).apply(this,arguments))}return Object(j["a"])(t,e),Object(s["a"])(t,[{key:"canGoBack",get:function(){return this.$route.name!==Y["a"].HOME}}]),t}(Object(g["c"])(Q["a"],ee["a"]));te=k["a"]([Object(g["a"])({computed:Object(X["a"])({},Object(C["c"])(["loading","defaultAccount","accountBalance"]),Object(C["b"])(["network"]))})],te);var ne=te,ae=ne,re=(n("8039"),n("132d")),ce=n("9910"),ie=n("3a2f"),oe=Object(I["a"])(ae,W,J,!1,null,"b79d925e",null),se=oe.exports;D()(oe,{VBtn:F["a"],VFlex:Z["a"],VIcon:re["a"],VImg:K["a"],VLayout:q["a"],VSpacer:ce["a"],VTooltip:ie["a"]});var ue=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(O["a"])(this,Object(y["a"])(t).call(this)),e.initialized=!1,e.name="Raiden dApp",e}return Object(j["a"])(t,e),Object(s["a"])(t,[{key:"connect",value:function(){var e=Object(h["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.initialized=!1,this.$store.commit("accessDenied",T["a"].UNDEFINED),e.next=4,this.$raiden.connect();case 4:return e.next=6,this.$raiden.fetchTokens();case 6:this.initialized=!0;case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"destroyed",value:function(){this.$raiden.disconnect()}},{key:"inaccessible",get:function(){return!this.initialized||this.loading||this.accessDenied!==T["a"].UNDEFINED}}]),t}(g["e"]);ue=k["a"]([Object(g["a"])({computed:Object(C["c"])(["loading","accessDenied"]),components:{AppHeader:se,SplashScreen:G}})],ue);var de=ue,pe=de,le=(n("32b6"),n("7496")),be=n("549c"),fe=Object(I["a"])(pe,m,v,!1,null,"3a9af464",null),me=fe.exports;D()(fe,{VApp:le["a"],VContainer:V["a"],VContent:be["a"]});var ve=n("8c4f"),he=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"content-host"},[n("app-core")],1)},Oe=[],ye=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("TokenNetworks")},je=[],ke=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"content-host"},[n("v-layout",{staticClass:"list-container",attrs:{"justify-center":"",row:""}},[n("v-flex",{attrs:{xs12:"",md12:"",lg12:""}},[n("v-list",{staticClass:"token-list"},e._l(e.tokens,function(t,a){return n("v-list-group",{key:t.token,staticClass:"token",attrs:{id:"token-"+a,"no-action":""},scopedSlots:e._u([{key:"activator",fn:function(){return[n("v-list-tile",[n("v-list-tile-avatar",{staticClass:"list-blockie"},[n("img",{attrs:{src:e.$blockie(t.address),alt:"Partner address blocky"}})]),n("v-list-tile-content",[n("v-list-tile-title",{staticClass:"token-info"},[e._v("\n                  "+e._s(t.symbol)+" | "+e._s(t.name)+"\n                ")]),n("v-list-tile-sub-title",{staticClass:"token-address"},[e._v("\n                  "+e._s(t.address)+"\n                ")])],1)],1)]},proxy:!0}],null,!0)},[n("div",{staticClass:"expanded-area",attrs:{id:"expanded-area-"+a}},[n("v-layout",{attrs:{"justify-center":"",row:""}},[n("v-btn",{staticClass:"text-capitalize action-button leave",attrs:{id:"leave-"+a},on:{click:function(n){return e.leaveNetwork(t)}}},[e._v("Leave Network")]),n("v-btn",{staticClass:"text-capitalize action-button",attrs:{to:"/channels/"+t.address}},[e._v("View Channels")])],1)],1)])}),1)],1)],1),n("v-layout",{staticClass:"section",attrs:{"align-center":"","justify-center":""}},[n("v-flex",{staticClass:"text-xs-center",attrs:{xs10:"",md10:"",lg10:""}},[n("v-btn",{staticClass:"text-capitalize confirm-button",attrs:{to:"/connect",large:"",depressed:""}},[e._v("Connect")])],1)],1),n("confirmation-dialog",{attrs:{display:e.leaveModalVisible},on:{confirm:function(t){return e.leaveConfirmed()},cancel:function(t){return e.leaveCancelled()}},scopedSlots:e._u([{key:"title",fn:function(){return[e._v("\n      Confirm channel close\n    ")]},proxy:!0}])},[e.selectedToken?n("div",[e._v("\n      Are you sure you want to close all your channels for token\n      "+e._s(e.selectedToken.address)+"?\n    ")]):e._e()]),n("progress-overlay",{attrs:{display:e.loading,steps:e.steps}})],1)},ge=[],we=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-layout",{attrs:{row:"","justify-center":""}},[n("v-dialog",{attrs:{persistent:"","max-width":"450"},model:{value:e.display,callback:function(t){e.display=t},expression:"display"}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[e._t("title")],2),n("v-card-text",[e._t("default")],2),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"primary darken-1",flat:""},on:{click:function(t){return e.cancel()}}},[e._v("\n          Cancel\n        ")]),n("v-btn",{attrs:{color:"primary darken-1",flat:""},on:{click:function(t){return e.confirm()}}},[e._v("\n          Confirm\n        ")])],1)],1)],1)],1)},xe=[],_e=function(e){function t(){return Object(o["a"])(this,t),Object(O["a"])(this,Object(y["a"])(t).apply(this,arguments))}return Object(j["a"])(t,e),Object(s["a"])(t,[{key:"confirm",value:function(){this.$emit("confirm")}},{key:"cancel",value:function(){this.$emit("cancel")}}]),t}(g["e"]);k["a"]([Object(g["d"])({required:!0})],_e.prototype,"display",void 0),_e=k["a"]([Object(g["a"])({})],_e);var Ce=_e,Ne=Ce,Ee=n("b0af"),Te=n("99d9"),Ae=n("12b2"),Re=n("169a"),Se=Object(I["a"])(Ne,we,xe,!1,null,"42bf2e9d",null),Ie=Se.exports;D()(Se,{VBtn:F["a"],VCard:Ee["a"],VCardActions:Te["a"],VCardText:Te["b"],VCardTitle:Ae["a"],VDialog:Re["a"],VLayout:q["a"],VSpacer:ce["a"]});var Me=n("1b25"),De=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(O["a"])(this,Object(y["a"])(t).apply(this,arguments)),e.selectedToken=null,e.leaveModalVisible=!1,e.loading=!1,e.steps=[{title:"Leaving network",description:"Closing the channels"}],e}return Object(j["a"])(t,e),Object(s["a"])(t,[{key:"dismissModal",value:function(){this.leaveModalVisible=!1,this.selectedToken=null}},{key:"leaveNetwork",value:function(e){this.selectedToken=e,this.leaveModalVisible=!0}},{key:"leaveConfirmed",value:function(){var e=Object(h["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this.selectedToken.address,this.dismissModal(),this.loading=!0,e.next=5,this.$raiden.leaveNetwork(t);case 5:this.loading=!1;case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"leaveCancelled",value:function(){this.dismissModal()}}]),t}(Object(g["c"])(Q["a"]));De=k["a"]([Object(g["a"])({components:{ProgressOverlay:Me["a"],ConfirmationDialog:Ie},computed:Object(C["b"])(["tokens"])})],De);var Be=De,Pe=Be,$e=(n("f777"),n("8860")),Ue=n("56b0"),Le=n("ba95"),He=n("c954"),Fe=n("5d23"),Ve=Object(I["a"])(Pe,ke,ge,!1,null,"367270ad",null),Ze=Ve.exports;D()(Ve,{VBtn:F["a"],VFlex:Z["a"],VLayout:q["a"],VList:$e["a"],VListGroup:Ue["a"],VListTile:Le["a"],VListTileAvatar:He["a"],VListTileContent:Fe["a"],VListTileSubTitle:Fe["b"],VListTileTitle:Fe["c"]});var Ke=function(e){function t(){return Object(o["a"])(this,t),Object(O["a"])(this,Object(y["a"])(t).apply(this,arguments))}return Object(j["a"])(t,e),t}(g["e"]);Ke=k["a"]([Object(g["a"])({components:{TokenNetworks:Ze}})],Ke);var qe=Ke,ze=qe,Ge=Object(I["a"])(ze,ye,je,!1,null,null,null),We=Ge.exports,Je=function(e){function t(){return Object(o["a"])(this,t),Object(O["a"])(this,Object(y["a"])(t).apply(this,arguments))}return Object(j["a"])(t,e),t}(g["e"]);Je=k["a"]([Object(g["a"])({components:{AppCore:We}})],Je);var Xe=Je,Qe=Xe,Ye=(n("4b66"),Object(I["a"])(Qe,he,Oe,!1,null,"16abdf63",null)),et=Ye.exports;a["default"].use(ve["a"]);var tt=new ve["a"]({mode:"history",base:"/",routes:[{path:"/",name:Y["a"].HOME,component:et},{path:"*",redirect:"/"},{path:"/about",name:Y["a"].ABOUT,component:function(){return n.e("chunk-2d22d746").then(n.bind(null,"f820"))}},{path:"/send/:token/:partner",name:Y["a"].SELECT_TARGET,component:function(){return n.e("chunk-68fa5988").then(n.bind(null,"548f"))}},{path:"/connect",name:Y["a"].SELECT_TOKEN,component:function(){return Promise.all([n.e("chunk-af94b63e"),n.e("chunk-cc03bd3c")]).then(n.bind(null,"7724"))}},{path:"/connect/:token",name:Y["a"].SELECT_HUB,component:function(){return Promise.all([n.e("chunk-af94b63e"),n.e("chunk-437b82f5")]).then(n.bind(null,"c405"))}},{path:"/connect/:token/:partner",name:Y["a"].DEPOSIT,component:function(){return Promise.all([n.e("chunk-af94b63e"),n.e("chunk-2cd977a2")]).then(n.bind(null,"60ac"))}},{path:"/channels/:token",name:Y["a"].CHANNELS,component:function(){return Promise.all([n.e("chunk-af94b63e"),n.e("chunk-776d0b89")]).then(n.bind(null,"3010"))}}]}),nt=n("dd61"),at=n.n(nt),rt=n("e9a8"),ct=n.n(rt),it=n("b8ce"),ot=n.n(it),st=n("c5a2"),ut=n.n(st);a["default"].use(C["a"]);var dt={loading:!0,defaultAccount:"",accountBalance:"0.0",providerDetected:!0,accessDenied:T["a"].UNDEFINED,channels:{},tokens:{},network:T["b"]};function pt(){return ot()(dt)}var lt={state:pt(),mutations:{noProvider:function(e){e.providerDetected=!1},accessDenied:function(e,t){e.accessDenied=t},account:function(e,t){e.defaultAccount=t},loadComplete:function(e){e.loading=!1},balance:function(e,t){e.accountBalance=t},updateChannels:function(e,t){e.channels=t},updateTokens:function(e,t){e.tokens=Object.assign({},t)},network:function(e,t){e.network=t},reset:function(e){Object.assign(e,pt())}},actions:{},getters:{tokens:function(e){var t=function(e,t){return e.address=t.token,e[t.state]+=1,e};return at()(ct()(e.channels),function(n){var a=ut()(n,t,Object(T["d"])()),r=e.tokens[a.address];return r&&(a.name=r.name||"",a.symbol=r.symbol||""),a})},allTokens:function(e){return ut()(e.tokens,function(e,t,n){var a={address:n,balance:t.balance,decimals:t.decimals,units:t.units,symbol:t.symbol,name:t.name};return e.push(a),e},[])},channels:function(e){return function(t){var n=[],a=e.channels[t];return a&&(n=ct()(a)),n}},token:function(e){return function(t){return t in e.tokens?e.tokens[t]:null}},network:function(e){return e.network.name||"Chain ".concat(e.network.chainId)}}},bt=new C["a"].Store(lt),ft=n("9483");Object(ft["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}}),i.a.registerHooks(["beforeRouteEnter","beforeRouteLeave","beforeRouteUpdate"]);var mt=n("e62e");function vt(e,t){e.prototype.$raiden=new mt["c"](bt)}var ht=n("103a"),Ot=n.n(ht),yt=function(){function e(){Object(o["a"])(this,e),this.cache={}}return Object(s["a"])(e,[{key:"getIdenticon",value:function(e){var t=this.cache[e];if(t)return t;var n=Ot()(e);return this.cache[e]=n,n}}]),e}();function jt(e,t){e.prototype.$identicon=new yt}a["default"].config.productionTip=!1,a["default"].use(vt),a["default"].use(jt),new a["default"]({router:tt,store:bt,created:function(){if(sessionStorage.redirect){var e=sessionStorage.redirect;delete sessionStorage.redirect,this.$router.push(e)}},render:function(e){return e(me)}}).$mount("#app")},ce2a:function(e,t,n){"use strict";var a={};n.r(a),n.d(a,"newBlock",function(){return me}),n.d(a,"tokenMonitored",function(){return ve}),n.d(a,"channelOpen",function(){return he}),n.d(a,"channelOpened",function(){return Oe}),n.d(a,"channelOpenFailed",function(){return ye}),n.d(a,"channelMonitored",function(){return je}),n.d(a,"channelDeposit",function(){return ke}),n.d(a,"channelDeposited",function(){return ge}),n.d(a,"channelDepositFailed",function(){return we}),n.d(a,"channelClose",function(){return xe}),n.d(a,"channelClosed",function(){return _e}),n.d(a,"channelCloseFailed",function(){return Ce}),n.d(a,"channelSettleable",function(){return Ne}),n.d(a,"channelSettle",function(){return Ee}),n.d(a,"channelSettled",function(){return Te}),n.d(a,"channelSettleFailed",function(){return Ae});var r={};n.r(r),n.d(r,"matrixSetup",function(){return Be}),n.d(r,"matrixRequestMonitorPresence",function(){return Pe}),n.d(r,"matrixPresenceUpdate",function(){return $e}),n.d(r,"matrixRequestMonitorPresenceFailed",function(){return Ue}),n.d(r,"matrixRoom",function(){return Le}),n.d(r,"matrixRoomLeave",function(){return He});var c={};n.r(c),n.d(c,"raidenInit",function(){return Qe}),n.d(c,"raidenShutdown",function(){return Ye});var i={};n.r(i),n.d(i,"stateOutputEpic",function(){return nt}),n.d(i,"actionOutputEpic",function(){return at});var o={};n.r(o),n.d(o,"initNewBlockEpic",function(){return kt}),n.d(o,"initMonitorRegistryEpic",function(){return gt}),n.d(o,"initMonitorChannelsEpic",function(){return wt}),n.d(o,"initMonitorProviderEpic",function(){return xt}),n.d(o,"tokenMonitoredEpic",function(){return _t}),n.d(o,"channelMonitoredEpic",function(){return Ct}),n.d(o,"channelOpenEpic",function(){return Nt}),n.d(o,"channelOpenedEpic",function(){return Et}),n.d(o,"channelDepositEpic",function(){return Tt}),n.d(o,"channelCloseEpic",function(){return At}),n.d(o,"channelSettleEpic",function(){return Rt}),n.d(o,"channelSettleableEpic",function(){return St});var s={};n.r(s),n.d(s,"messageSend",function(){return Xt}),n.d(s,"messageReceived",function(){return Qt});var u={};n.r(u),n.d(u,"initMatrixEpic",function(){return un}),n.d(u,"matrixStartEpic",function(){return dn}),n.d(u,"matrixShutdownEpic",function(){return pn}),n.d(u,"matrixMonitorPresenceEpic",function(){return ln}),n.d(u,"matrixPresenceUpdateEpic",function(){return bn}),n.d(u,"matrixCreateRoomEpic",function(){return fn}),n.d(u,"matrixInviteEpic",function(){return mn}),n.d(u,"matrixHandleInvitesEpic",function(){return vn}),n.d(u,"matrixLeaveExcessRoomsEpic",function(){return hn}),n.d(u,"matrixLeaveUnknownRoomsEpic",function(){return On}),n.d(u,"matrixCleanLeftRoomsEpic",function(){return yn}),n.d(u,"matrixMessageSendEpic",function(){return jn}),n.d(u,"matrixMessageReceivedEpic",function(){return kn}),n.d(u,"matrixMessageReceivedUpdateRoomEpic",function(){return gn}),n.d(u,"matrixMonitorChannelPresenceEpic",function(){return wn});var d=n("2798"),p=n("832b"),l=n("e4b7"),b=(n("9b5c"),n("33b2"),n("457a"),n("a532"),n("d225")),f=n("308d"),m=n("6bb5"),v=n("4e2b"),h=(n("6651"),n("be75")),O=n("473a"),y=d["o"]([d["l"],d["i"]]),j=function(e){return e instanceof h["BigNumber"]},k=new d["b"]("BigNumber",j,function(e,t){return j(e)?d["m"](e):y.validate(e,t).chain(function(e){try{return d["m"](Object(h["bigNumberify"])(e))}catch(n){return d["e"](e,t,n.message)}})},function(e){return e.toString()}),g=function(e){function t(e,n){var a;return Object(b["a"])(this,t),a=Object(f["a"])(this,Object(m["a"])(t).call(this,n||"enum",function(e){return Object.values(a.enumObject).some(function(t){return t===e})},function(e,t){return a.is(e)?d["m"](e):d["e"](e,t)},d["f"])),a._tag="EnumType",a.enumObject=e,a}return Object(v["a"])(t,e),t}(d["b"]),w=d["d"](d["i"],function(e){return e>=0},"Positive"),x=d["g"]([d["a"],w]),_={};function C(e){var t="HexString",n=void 0===e?0:e;if(n in _&&t in _[n])return _[n][t];var a=e?new RegExp("^0x[0-9a-f]{".concat(2*e,"}$"),"i"):/^0x([0-9a-f]{2})*$/i;return n in _||(_[n]={}),_[n][t]=d["d"](d["l"],function(e){return"string"===typeof e&&!!e.match(a)},t)}function N(e){var t="UInt",n=void 0===e?0:e;if(n in _&&t in _[n])return _[n][t];n in _||(_[n]={});var a=n?Object(h["bigNumberify"])(2).pow(8*n):void 0;return _[n][t]=d["d"](k,function(e){return k.is(e)&&e.gte(0)&&(void 0===a||e.lt(a))},t)}var E=C(65),T=C(32),A=(C(),C(32)),R=d["d"](d["l"],function(e){try{return"string"===typeof e&&Object(h["getAddress"])(e)===e}catch(t){}return!1},"Address");Object(O["set"])(_,["20","Address"],R);var S;N(1);(function(e){e["opening"]="opening",e["open"]="open",e["closing"]="closing",e["closed"]="closed",e["settleable"]="settleable",e["settling"]="settling",e["settled"]="settled"})(S||(S={}));new g(S,"ChannelState");var I=d["n"]({amount:k,expiration:x,secrethash:T}),M=d["n"]({chainId:x,tokenNetworkAddress:R,channelId:x,nonce:x,transferredAmount:k,lockedAmount:k,locksroot:T,messageHash:T,signature:E,sender:R}),D=d["g"]([d["n"]({deposit:k}),d["j"]({locks:d["c"](I),balanceProof:M})]),B=d["g"]([d["n"]({own:D,partner:D}),d["o"]([d["n"]({state:d["h"](S.opening)}),d["n"]({state:d["o"]([d["h"](S.open),d["h"](S.closing)]),id:d["i"],settleTimeout:d["i"],openBlock:d["i"]}),d["n"]({state:d["o"]([d["h"](S.closed),d["h"](S.settleable),d["h"](S.settling)]),id:d["i"],settleTimeout:d["i"],openBlock:d["i"],closeBlock:d["i"]})])]),P=d["k"](d["l"],d["k"](d["l"],B)),$=d["n"]({userId:d["l"],accessToken:d["l"],deviceId:d["l"],displayName:d["l"]}),U=d["n"]({address:R,blockNumber:d["i"],channels:P,tokens:d["k"](d["l"],R),transport:d["j"]({matrix:d["g"]([d["n"]({server:d["l"]}),d["j"]({setup:$,rooms:d["k"](d["l"],d["c"](d["l"]))})])})});function L(e){return JSON.stringify(U.encode(e),void 0,2)}function H(e){"string"===typeof e&&(e=JSON.parse(e));var t=U.decode(e);return p["ThrowReporter"].report(t),t.value}var F,V={address:l["AddressZero"],blockNumber:0,channels:{},tokens:{},transport:{}},Z=Object(h["padZeros"])([],65),K={default:"https://raw.githubusercontent.com/raiden-network/raiden-transport/master/known_servers.test.yaml"};(function(e){e["STOP"]="raidenStopped",e["ACCOUNT_CHANGED"]="providerAccountChanged",e["NETWORK_CHANGED"]="providerNetworkChanged"})(F||(F={}));n("145b"),n("adb9"),n("1414"),n("95d2"),n("9586");var q=n("768b"),z=(n("685a"),n("5d9d"),n("b0b4")),G=n("d577"),W=n("d96a"),J=n("a069"),X=n("5f07"),Q=n("18ec"),Y=(n("7c95"),n("9146")),ee=n("9b68"),te=n("b67a"),ne=n("c361"),ae=n("9676"),re=n("80c0"),ce=n("3190"),ie=n("ea41"),oe=n("1fcd"),se=n("bf81"),ue=n("fd97"),de=n("1c1f"),pe=n("0fe9"),le=n("f008"),be=n("bd86");function fe(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,a=arguments.length>1?arguments[1]:void 0;for(var r in e){var c=e[r];if(c){var i=n[r]||t[r],o=c(i,a);o!==i&&(n=Object.assign({},n,Object(be["a"])({},r,o)))}}return n}}var me=Object(Q["createStandardAction"])("newBlock")(),ve=Object(Q["createStandardAction"])("tokenMonitored").map(function(e){var t=e.token,n=e.tokenNetwork,a=e.first,r=void 0!==a&&a;return{payload:{token:t,tokenNetwork:n,first:r}}}),he=Object(Q["createStandardAction"])("channelOpen")(),Oe=Object(Q["createStandardAction"])("channelOpened")(),ye=Object(Q["createStandardAction"])("channelOpenFailed").map(function(e,t){return{payload:e,error:!0,meta:t}}),je=Object(Q["createStandardAction"])("channelMonitored")(),ke=Object(Q["createStandardAction"])("channelDeposit")(),ge=Object(Q["createStandardAction"])("channelDeposited")(),we=Object(Q["createStandardAction"])("channelDepositFailed").map(function(e,t){return{payload:e,error:!0,meta:t}}),xe=Object(Q["createStandardAction"])("channelClose")(),_e=Object(Q["createStandardAction"])("channelClosed")(),Ce=Object(Q["createStandardAction"])("channelCloseFailed").map(function(e,t){return{payload:e,error:!0,meta:t}}),Ne=Object(Q["createStandardAction"])("channelSettleable")(),Ee=Object(Q["createStandardAction"])("channelSettle")(),Te=Object(Q["createStandardAction"])("channelSettled")(),Ae=Object(Q["createStandardAction"])("channelSettleFailed").map(function(e,t){return{payload:e,error:!0,meta:t}}),Re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V.blockNumber,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(Q["getType"])(me):return t.payload.blockNumber;default:return e}},Se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V.tokens,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(Q["getType"])(ve):return Object(le["set"])([t.payload.token],t.payload.tokenNetwork,e);default:return e}},Ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V.channels,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(Q["getType"])(he):var n=[t.meta.tokenNetwork,t.meta.partner];if(Object(le["get"])(n,e))return e;var a={state:S.opening,own:{deposit:l["Zero"]},partner:{deposit:l["Zero"]}};return Object(le["set"])(n,a,e);case Object(Q["getType"])(Oe):var r=[t.meta.tokenNetwork,t.meta.partner],c={state:S.open,own:{deposit:l["Zero"]},partner:{deposit:l["Zero"]},id:t.payload.id,settleTimeout:t.payload.settleTimeout,openBlock:t.payload.openBlock};return Object(le["set"])(r,c,e);case Object(Q["getType"])(ye):var i=[t.meta.tokenNetwork,t.meta.partner];return Object(le["get"])([].concat(i,["state"]),e)!==S.opening?e:Object(le["unset"])(i,e);case Object(Q["getType"])(ge):var o=[t.meta.tokenNetwork,t.meta.partner],s=Object(le["get"])(o,e);return s&&s.state===S.open&&s.id===t.payload.id?(s=t.payload.participant===t.meta.partner?Object(le["set"])(["partner","deposit"],t.payload.totalDeposit,s):Object(le["set"])(["own","deposit"],t.payload.totalDeposit,s),Object(le["set"])(o,s,e)):e;case Object(Q["getType"])(xe):var u=[t.meta.tokenNetwork,t.meta.partner],d=Object(le["get"])(u,e);return d&&d.state===S.open?(d=Object.assign({},d,{state:S.closing}),Object(le["set"])(u,d,e)):e;case Object(Q["getType"])(_e):var p=[t.meta.tokenNetwork,t.meta.partner],b=Object(le["get"])(p,e);return!b||b.state!==S.open&&b.state!==S.closing||b.id!==t.payload.id?e:(b=Object.assign({},b,{state:S.closed,closeBlock:t.payload.closeBlock}),Object(le["set"])(p,b,e));case Object(Q["getType"])(Ne):var f=[t.meta.tokenNetwork,t.meta.partner],m=Object(le["get"])(f,e);return m&&m.state===S.closed?(m=Object.assign({},m,{state:S.settleable}),Object(le["set"])(f,m,e)):e;case Object(Q["getType"])(Ee):var v=[t.meta.tokenNetwork,t.meta.partner],h=Object(le["get"])(v,e);return h&&h.state===S.settleable?(h=Object.assign({},h,{state:S.settling}),Object(le["set"])(v,h,e)):e;case Object(Q["getType"])(Te):var O=[t.meta.tokenNetwork,t.meta.partner],y=Object(le["get"])(O,e);return y&&[S.closed,S.settleable,S.settling].includes(y.state)?Object(le["unset"])(O,e):e;default:return e}},Me=fe({blockNumber:Re,tokens:Se,channels:Ie},V),De=n("75fc"),Be=Object(Q["createStandardAction"])("matrixSetup")(),Pe=Object(Q["createStandardAction"])("matrixRequestMonitorPresence")(),$e=Object(Q["createStandardAction"])("matrixPresenceUpdate").map(function(e,t){var n=e.userId,a=e.available,r=e.ts;return{payload:{userId:n,available:a,ts:r||Date.now()},meta:t}}),Ue=Object(Q["createStandardAction"])("matrixRequestMonitorPresenceFailed").map(function(e,t){return{payload:e,error:!0,meta:t}}),Le=Object(Q["createStandardAction"])("matrixRoom")(),He=Object(Q["createStandardAction"])("matrixRoomLeave")(),Fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V.transport,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(Q["getType"])(Be):return Object.assign({},e,{matrix:Object.assign({},e.matrix,t.payload)});case Object(Q["getType"])(Le):var n=["matrix","rooms",t.meta.address];return Object(le["set"])(n,[t.payload.roomId].concat(Object(De["a"])(Object(le["getOr"])([],n,e).filter(function(e){return e!==t.payload.roomId}))),e);case Object(Q["getType"])(He):var a=["matrix","rooms",t.meta.address];return e=Object(le["set"])(a,Object(le["getOr"])([],a,e).filter(function(e){return e!==t.payload.roomId}),e),Object(le["isEmpty"])(Object(le["get"])(a,e))&&(e=Object(le["unset"])(a,e)),e;default:return e}},Ve=fe({transport:Fe},V),Ze={channelsReducer:Me,transportReducer:Ve},Ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;return Object.values(Ze).reduce(function(e,n){return n(e,t)},e)},qe=n("a7dc"),ze=n("dafc"),Ge=n("0011"),We=n("ff6c"),Je=n("4f62"),Xe=n("96a6"),Qe=Object(Q["createStandardAction"])("raidenInit")(),Ye=Object(Q["createStandardAction"])("raidenShutdown")(),et=n("6ee6"),tt=n("85d4"),nt=function(e,t,n){Object(et["a"])(e);var a=n.stateOutput$;return t.subscribe(a),tt["a"]},at=function(e,t,n){Object(et["a"])(t);var a=n.actionOutput$;return e.subscribe(a),tt["a"]},rt=(n("726b"),n("2f2e")),ct=n("8214"),it=n("8377"),ot=n("62f2"),st=n("1799"),ut=n("f833"),dt=n("cf7f"),pt=n("787e"),lt=n("bdc9"),bt=n("18cc"),ft=n("1284"),mt=function(e,t,n,a){return new(n||(n=Promise))(function(r,c){function i(e){try{s(a.next(e))}catch(t){c(t)}}function o(e){try{s(a["throw"](e))}catch(t){c(t)}}function s(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(i,o)}s((a=a.apply(e,t||[])).next())})};function vt(e,t,n){return Object(lt["a"])(function(n){return e.on(t,n)},function(n){return e.removeListener(t,n)},n)}function ht(e,t,n,a){var r=this,c=e.provider,i=Object(qe["a"])(t).pipe(Object(Je["a"])(function(t){return vt(e,t,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t})})),o=tt["a"];return n&&a&&(o=n.pipe(Object(ot["a"])(Object(it["a"])(function(){return c.blockNumber?Object(ze["a"])(c.blockNumber):a})),Object(re["a"])(),Object(bt["a"])(function(e){var n=Object(q["a"])(e,2),a=n[0],i=n[1];return mt(r,void 0,void 0,regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map(function(e){return c.getLogs(Object.assign({},e,{fromBlock:a,toBlock:i}))}));case 2:return n=e.sent,e.abrupt("return",Object(qe["a"])(Object(O["sortBy"])(Object(O["flatten"])(n),["blockNumber"])));case 4:case"end":return e.stop()}},e)}))}),Object(ft["a"])(),Object(ne["a"])(function(t){var n=e.interface.parseLog(t);if(n){var a=Array.prototype.slice.call(n.values),r=Object.assign({},t,n,{args:a,removeListener:function(){},getBlock:function(){return c.getBlock(t.blockHash)},getTransaction:function(){return c.getTransaction(t.transactionHash)},getTransactionReceipt:function(){return c.getTransactionReceipt(t.transactionHash)},decode:void 0});return[].concat(Object(De["a"])(a),[r])}}),Object(ae["a"])(function(e){return!!e}))),Object(rt["a"])(o,i)}function Ot(e){return mt(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.t0=pt["getNetwork"],t.t1=parseInt,t.next=4,e.send("net_version",[]);case 4:return t.t2=t.sent,t.t3=(0,t.t1)(t.t2),t.abrupt("return",(0,t.t0)(t.t3));case 7:case"end":return t.stop()}},t)}))}var yt=void 0,jt=function(e,t,n,a){return new(n||(n=Promise))(function(r,c){function i(e){try{s(a.next(e))}catch(t){c(t)}}function o(e){try{s(a["throw"](e))}catch(t){c(t)}}function s(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(i,o)}s((a=a.apply(e,t||[])).next())})},kt=function(e,t,n){Object(et["a"])(t);var a=n.provider;return e.pipe(Object(ae["a"])(Object(Q["isActionOf"])(Qe)),Object(Je["a"])(function(){return vt(a,"block")}),Object(ne["a"])(function(e){return me({blockNumber:e})}))},gt=function(e,t,n){var a=n.registryContract,r=n.contractsInfo;return e.pipe(Object(ae["a"])(Object(Q["isActionOf"])(Qe)),Object(ot["a"])(t),Object(Je["a"])(function(e){var n=Object(q["a"])(e,2),c=n[1];return Object(rt["a"])(ht(a,[a.filters.TokenNetworkCreated(null,null)],Object(O["isEmpty"])(c.tokens)?Object(ze["a"])(r.TokenNetworkRegistry.block_number):void 0,Object(O["isEmpty"])(c.tokens)?Object(ze["a"])(c.blockNumber):void 0).pipe(Object(ot["a"])(t.pipe(Object(st["a"])(c))),Object(ne["a"])(function(e){var t=Object(q["a"])(e,2),n=Object(q["a"])(t[0],2),a=n[0],r=n[1],c=t[1];return ve({token:a,tokenNetwork:r,first:!(a in c.tokens)})})),Object(qe["a"])(Object.entries(c.tokens)).pipe(Object(ne["a"])(function(e){var t=Object(q["a"])(e,2),n=t[0],a=t[1];return ve({token:n,tokenNetwork:a})})))}))},wt=function(e,t){return e.pipe(Object(ae["a"])(Object(Q["isActionOf"])(Qe)),Object(ot["a"])(t),Object(Je["a"])(regeneratorRuntime.mark(function e(t){var n,a,r,c,i,o,s,u,d,p,l,b;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:n=Object(q["a"])(t,2),a=n[1],r=0,c=Object.entries(a.channels);case 2:if(!(r<c.length)){e.next=17;break}i=Object(q["a"])(c[r],2),o=i[0],s=i[1],u=0,d=Object.entries(s);case 5:if(!(u<d.length)){e.next=14;break}if(p=Object(q["a"])(d[u],2),l=p[0],b=p[1],b.state!==S.opening){e.next=9;break}return e.abrupt("continue",11);case 9:return e.next=11,je({id:b.id},{tokenNetwork:o,partner:l});case 11:u++,e.next=5;break;case 14:r++,e.next=2;break;case 17:case"end":return e.stop()}},e)})))},xt=function(e,t,n){Object(et["a"])(t);var a=n.address,r=n.network,c=n.provider;return e.pipe(Object(ae["a"])(Object(Q["isActionOf"])(Qe)),Object(Je["a"])(function(){return c.listAccounts()}),Object(ne["a"])(function(e){return e.includes(a)}),Object(Je["a"])(function(e){return Object(ct["a"])(c.pollingInterval).pipe(Object(Je["a"])(function(){return Object(rt["a"])(e?Object(qe["a"])(c.listAccounts()).pipe(Object(Je["a"])(function(e){return e.includes(a)?tt["a"]:Object(ze["a"])(Ye({reason:F.ACCOUNT_CHANGED}))})):tt["a"],Object(qe["a"])(Ot(c)).pipe(Object(Je["a"])(function(e){return e.chainId!==r.chainId?Object(ze["a"])(Ye({reason:F.NETWORK_CHANGED})):tt["a"]})))}))}))},_t=function(e,t,n){var a=n.address,r=n.getTokenNetworkContract,c=n.contractsInfo;return e.pipe(Object(ae["a"])(Object(Q["isActionOf"])(ve)),Object(Je["a"])(function(e){var n=r(e.payload.tokenNetwork),i=[n.filters.ChannelOpened(null,a,null,null),n.filters.ChannelOpened(null,null,a,null)];return Object(it["a"])(function(){return n.listenerCount(i[0])?tt["a"]:ht(n,i,e.payload.first?Object(ze["a"])(c.TokenNetworkRegistry.block_number):void 0,e.payload.first?t.pipe(Object(ne["a"])(function(e){return e.blockNumber})):void 0).pipe(Object(ae["a"])(function(e){var t=Object(q["a"])(e,3),n=t[1],r=t[2];return n===a||r===a}),Object(ne["a"])(function(e){var t=Object(q["a"])(e,5),r=t[0],c=t[1],i=t[2],o=t[3],s=t[4];return Oe({id:r.toNumber(),settleTimeout:o.toNumber(),openBlock:s.blockNumber,txHash:s.transactionHash},{tokenNetwork:n.address,partner:a===c?i:c})}))})}))},Ct=function(e,t,n){var a=n.getTokenNetworkContract;return e.pipe(Object(ae["a"])(Object(Q["isActionOf"])(je)),Object(Je["a"])(function(e){var n=a(e.meta.tokenNetwork),r=n.filters.ChannelNewDeposit(e.payload.id,null,null),c=n.filters.ChannelClosed(e.payload.id,null,null),i=n.filters.ChannelSettled(e.payload.id,null,null);return Object(it["a"])(function(){return n.listenerCount(r)?tt["a"]:Object(rt["a"])(ht(n,[r],e.payload.fromBlock?Object(ze["a"])(e.payload.fromBlock):void 0,e.payload.fromBlock?t.pipe(Object(ne["a"])(function(e){return e.blockNumber})):void 0).pipe(Object(ne["a"])(function(t){var n=Object(q["a"])(t,4),a=n[0],r=n[1],c=n[2],i=n[3];return ge({id:a.toNumber(),participant:r,totalDeposit:c,txHash:i.transactionHash},e.meta)})),ht(n,[c],e.payload.fromBlock?Object(ze["a"])(e.payload.fromBlock):void 0,e.payload.fromBlock?t.pipe(Object(ne["a"])(function(e){return e.blockNumber})):void 0).pipe(Object(ne["a"])(function(t){var n=Object(q["a"])(t,4),a=n[0],r=n[1],c=n[3];return _e({id:a.toNumber(),participant:r,closeBlock:c.blockNumber,txHash:c.transactionHash},e.meta)})),ht(n,[i],e.payload.fromBlock?Object(ze["a"])(e.payload.fromBlock):void 0,e.payload.fromBlock?t.pipe(Object(ne["a"])(function(e){return e.blockNumber})):void 0).pipe(Object(ne["a"])(function(t){var n=Object(q["a"])(t,4),a=n[0],r=n[3];return Te({id:a.toNumber(),settleBlock:r.blockNumber,txHash:r.transactionHash},e.meta)}))).pipe(Object(Ge["a"])(Object(O["negate"])(Object(Q["isActionOf"])(Te)),!0))})}))},Nt=function(e,t,n){var a=n.getTokenNetworkContract;return e.pipe(Object(ae["a"])(Object(Q["isActionOf"])(he)),Object(ot["a"])(t),Object(Je["a"])(function(e){var t=Object(q["a"])(e,2),n=t[0],r=t[1],c=a(n.meta.tokenNetwork),i=Object(O["get"])(r.channels,[n.meta.tokenNetwork,n.meta.partner,"state"]);return i!==S.opening?Object(ze["a"])(ye(new Error("Invalid channel state: ".concat(i)),n.meta)):Object(qe["a"])(c.functions.openChannel(r.address,n.meta.partner,n.payload.settleTimeout)).pipe(Object(Je["a"])(function(e){return jt(yt,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.wait();case 2:return t.t0=t.sent,t.t1=e,t.abrupt("return",{receipt:t.t0,tx:t.t1});case 5:case"end":return t.stop()}},t)}))}),Object(ne["a"])(function(e){var t=e.receipt,n=e.tx;if(!t.status)throw new Error('openChannel transaction "'.concat(n.hash,'" failed'));return n.hash}),Object(ut["a"])(tt["a"]),Object(Xe["a"])(function(e){return Object(ze["a"])(ye(e,n.meta))}))}))},Et=function(e,t){return e.pipe(Object(ae["a"])(Object(Q["isActionOf"])(Oe)),Object(ot["a"])(t),Object(ae["a"])(function(e){var t=Object(q["a"])(e,2),n=t[0],a=t[1],r=Object(O["get"])(a.channels,[n.meta.tokenNetwork,n.meta.partner]);return!!r&&r.state===S.open}),Object(ne["a"])(function(e){var t=Object(q["a"])(e,1),n=t[0];return je({id:n.payload.id,fromBlock:n.payload.openBlock},n.meta)}))},Tt=function(e,t,n){var a=n.address,r=n.getTokenContract,c=n.getTokenNetworkContract;return e.pipe(Object(ae["a"])(Object(Q["isActionOf"])(ke)),Object(ot["a"])(t),Object(Je["a"])(function(e){var n=Object(q["a"])(e,2),i=n[0],o=n[1],s=Object(O["findKey"])(o.tokens,function(e){return e===i.meta.tokenNetwork});if(!s){var u=new Error('token for tokenNetwork "'.concat(i.meta.tokenNetwork,'" not found'));return Object(ze["a"])(we(u,i.meta))}var d=r(s),p=c(i.meta.tokenNetwork),l=Object(O["get"])(o.channels,[i.meta.tokenNetwork,i.meta.partner]);if(!l||l.state!==S.open||void 0===l.id){var b=new Error('channel for "'.concat(i.meta.tokenNetwork,'" and "').concat(i.meta.partner,"\" not found or not in 'open' state"));return Object(ze["a"])(we(b,i.meta))}var f=l.id;return Object(qe["a"])(d.functions.approve(i.meta.tokenNetwork,i.payload.deposit)).pipe(Object(dt["a"])(function(e){return console.log('sent approve tx "'.concat(e.hash,'" to "').concat(s,'"'))}),Object(Je["a"])(function(e){return jt(yt,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.wait();case 2:return t.t0=t.sent,t.t1=e,t.abrupt("return",{receipt:t.t0,tx:t.t1});case 5:case"end":return t.stop()}},t)}))}),Object(ne["a"])(function(e){var t=e.receipt,n=e.tx;if(!t.status)throw new Error('token "'.concat(s,'" approve transaction "').concat(n.hash,'" failed'));return n.hash}),Object(dt["a"])(function(e){return console.log('approve tx "'.concat(e,'" successfuly mined!'))})).pipe(Object(ot["a"])(t),Object(Je["a"])(function(e){var t=Object(q["a"])(e,2),n=t[1];return p.functions.setTotalDeposit(f,a,n.channels[i.meta.tokenNetwork][i.meta.partner].own.deposit.add(i.payload.deposit),i.meta.partner,{gasLimit:1e5})}),Object(dt["a"])(function(e){return console.log('sent setTotalDeposit tx "'.concat(e.hash,'" to "').concat(i.meta.tokenNetwork,'"'))}),Object(Je["a"])(function(e){return jt(yt,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.wait();case 2:return t.t0=t.sent,t.t1=e,t.abrupt("return",{receipt:t.t0,tx:t.t1});case 5:case"end":return t.stop()}},t)}))}),Object(ne["a"])(function(e){var t=e.receipt,n=e.tx;if(!t.status)throw new Error('tokenNetwork "'.concat(i.meta.tokenNetwork,'" setTotalDeposit transaction "').concat(n.hash,'" failed'));return n.hash}),Object(dt["a"])(function(e){return console.log('setTotalDeposit tx "'.concat(e,'" successfuly mined!'))}),Object(ut["a"])(tt["a"]),Object(Xe["a"])(function(e){return Object(ze["a"])(we(e,i.meta))}))}))},At=function(e,t,n){var a=n.getTokenNetworkContract;return e.pipe(Object(ae["a"])(Object(Q["isActionOf"])(xe)),Object(ot["a"])(t),Object(Je["a"])(function(e){var t=Object(q["a"])(e,2),n=t[0],r=t[1],c=a(n.meta.tokenNetwork),i=Object(O["get"])(r.channels,[n.meta.tokenNetwork,n.meta.partner]);if(!i||i.state!==S.open&&i.state!==S.closing||!i.id){var o=new Error('channel for "'.concat(n.meta.tokenNetwork,'" and "').concat(n.meta.partner,"\" not found or not in 'open' or 'closing' state"));return Object(ze["a"])(Ce(o,n.meta))}var s=i.id;return Object(qe["a"])(c.functions.closeChannel(s,n.meta.partner,l["HashZero"],0,l["HashZero"],Z)).pipe(Object(dt["a"])(function(e){return console.log('sent closeChannel tx "'.concat(e.hash,'" to "').concat(n.meta.tokenNetwork,'"'))}),Object(Je["a"])(function(e){return jt(yt,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.wait();case 2:return t.t0=t.sent,t.t1=e,t.abrupt("return",{receipt:t.t0,tx:t.t1});case 5:case"end":return t.stop()}},t)}))}),Object(ne["a"])(function(e){var t=e.receipt,a=e.tx;if(!t.status)throw new Error('tokenNetwork "'.concat(n.meta.tokenNetwork,'" closeChannel transaction "').concat(a.hash,'" failed'));return console.log('closeChannel tx "'.concat(a.hash,'" successfuly mined!')),a.hash}),Object(ut["a"])(tt["a"]),Object(Xe["a"])(function(e){return Object(ze["a"])(Ce(e,n.meta))}))}))},Rt=function(e,t,n){var a=n.address,r=n.getTokenNetworkContract;return e.pipe(Object(ae["a"])(Object(Q["isActionOf"])(Ee)),Object(ot["a"])(t),Object(Je["a"])(function(e){var t=Object(q["a"])(e,2),n=t[0],c=t[1],i=r(n.meta.tokenNetwork),o=Object(O["get"])(c.channels,[n.meta.tokenNetwork,n.meta.partner]);if(!o||o.state!==S.settleable&&o.state!==S.settling||!o.id){var s=new Error('channel for "'.concat(n.meta.tokenNetwork,'" and "').concat(n.meta.partner,"\" not found or not in 'settleable' or 'settling' state"));return Object(ze["a"])(Ae(s,n.meta))}var u=o.id;return Object(qe["a"])(i.functions.settleChannel(u,a,l["Zero"],l["Zero"],l["HashZero"],n.meta.partner,l["Zero"],l["Zero"],l["HashZero"])).pipe(Object(dt["a"])(function(e){return console.log('sent settleChannel tx "'.concat(e.hash,'" to "').concat(n.meta.tokenNetwork,'"'))}),Object(Je["a"])(function(e){return jt(yt,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.wait();case 2:return t.t0=t.sent,t.t1=e,t.abrupt("return",{receipt:t.t0,tx:t.t1});case 5:case"end":return t.stop()}},t)}))}),Object(ne["a"])(function(e){var t=e.receipt,a=e.tx;if(!t.status)throw new Error('tokenNetwork "'.concat(n.meta.tokenNetwork,'" settleChannel transaction "').concat(a.hash,'" failed'));return console.log('settleChannel tx "'.concat(a.hash,'" successfuly mined!')),a.hash}),Object(ut["a"])(tt["a"]),Object(Xe["a"])(function(e){return Object(ze["a"])(Ae(e,n.meta))}))}))},St=function(e,t){return e.pipe(Object(ae["a"])(Object(Q["isActionOf"])(me)),Object(ot["a"])(t),Object(Je["a"])(regeneratorRuntime.mark(function e(t){var n,a,r,c,i,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:n=Object(q["a"])(t,2),a=n[0].payload.blockNumber,r=n[1],e.t0=regeneratorRuntime.keys(r.channels);case 2:if((e.t1=e.t0()).done){e.next=15;break}c=e.t1.value,e.t2=regeneratorRuntime.keys(r.channels[c]);case 5:if((e.t3=e.t2()).done){e.next=13;break}if(i=e.t3.value,o=r.channels[c][i],!(o.state===S.closed&&o.settleTimeout&&o.closeBlock&&a>o.closeBlock+o.settleTimeout)){e.next=11;break}return e.next=11,Ne({settleableBlock:a},{tokenNetwork:c,partner:i});case 11:e.next=5;break;case 13:e.next=2;break;case 15:case"end":return e.stop()}},e)})))},It=(n("a0fb"),n("314a"),n("fe3e"),n("dced")),Mt=n("7ae8"),Dt=n("66ee"),Bt=n("bcb8"),Pt=n("c71d"),$t=n("41e5"),Ut=n("a66c"),Lt=n("e055"),Ht=n("ba79"),Ft=n("a4df"),Vt=n("eb30"),Zt=n("b7da"),Kt=n("bdc3"),qt=n("7ecd"),zt=n("33b8"),Gt=n("7932"),Wt=n("6bd1"),Jt=n.n(Wt),Xt=Object(Q["createStandardAction"])("messageSend")(),Qt=Object(Q["createStandardAction"])("messageReceived").map(function(e,t){var n=e.message,a=e.ts,r=e.userId,c=e.roomId;return{payload:{message:n,ts:a||Date.now(),userId:r,roomId:c},meta:t}}),Yt=n("0ab7"),en=function(e,t,n,a){return new(n||(n=Promise))(function(r,c){function i(e){try{s(a.next(e))}catch(t){c(t)}}function o(e){try{s(a["throw"](e))}catch(t){c(t)}}function s(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(i,o)}s((a=a.apply(e,t||[])).next())})};function tn(e){var t,n=/^\s*-\s*(.+?)\s*$/gm,a=[];while(t=n.exec(e))a.push(t[1]);return a}function nn(e){return en(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,a,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=e,n.includes("://")||(n="https://".concat(n)),n+="/_matrix/client/versions",a=Date.now(),t.prev=4,t.next=7,Jt()(n);case 7:if(r=t.sent,!(r.status<200||r.status>=300)){t.next=10;break}throw NaN;case 10:t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](4),a=NaN;case 15:return t.abrupt("return",{server:e,rtt:Date.now()-a});case 16:case"end":return t.stop()}},t,null,[[4,12]])}))}function an(e){var t=/^(?:\w*:?\/\/)?([^\/#?&]+)/.exec(e);return t&&t[1]}function rn(e,t){var n=Object(Yt["encodeUri"])("/presence/$userId/status",{$userId:t});return e._http.authedRequest(void 0,"GET",n)}var cn=["online","unavailable"],on=/^@(0x[0-9a-f]{40})[.:]/i,sn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.pipe(Object(ae["a"])(Object(Q["isActionOf"])($e)),Object($t["a"])(function(e,t){return Object.assign({},e,Object(be["a"])({},t.meta.address,t))},t),Object(st["a"])(t))},un=function(e,t,n){var a=n.address,r=n.network,c=n.signer,i=n.matrix$;return e.pipe(Object(ae["a"])(Object(Q["isActionOf"])(Qe)),Object(ot["a"])(t),Object(Je["a"])(function(e){var t=Object(q["a"])(e,2),n=t[1],a=Object(O["get"])(n,["transport","matrix","server"]),c=Object(O["get"])(n,["transport","matrix","setup"]);if(a)return Object(ze["a"])({server:a,setup:c});var i=K[r.name]||K.default;return Object(qe["a"])(Jt()(i)).pipe(Object(Je["a"])(function(e){return e.ok?e.text():Object(It["a"])(new Error('Could not fetch server list from "'.concat(i,'" => ').concat(e.status)))}),Object(Je["a"])(function(e){return Object(qe["a"])(tn(e))}),Object(Je["a"])(function(e){return nn(e)}),Object(Ut["a"])(),Object(ne["a"])(function(e){return Object(O["sortBy"])(e,["rtt"])}),Object(ne["a"])(function(e){if(!e[0]||"number"!==typeof e[0].rtt||isNaN(e[0].rtt))throw new Error("Could not contact any matrix servers: ".concat(JSON.stringify(e)));return e[0].server}),Object(ne["a"])(function(e){return{server:e.includes("://")?e:"https://".concat(e),setup:void 0}}))}),Object(Je["a"])(function(e){var t=e.server,n=e.setup,r=n||{},i=r.userId,o=r.accessToken,s=r.deviceId;if(n){var u=Object(Gt["createClient"])({baseUrl:t,userId:i,accessToken:o,deviceId:s});return Object(ze["a"])({matrix:u,server:t,setup:n})}var d=an(t);if(!d)return Object(It["a"])(new Error('Could not get serverName from "'.concat(t,'"')));var p=Object(Gt["createClient"])({baseUrl:t}),l=a.toLowerCase();return i="@".concat(l,":").concat(d),Object(qe["a"])(c.signMessage(d)).pipe(Object(Je["a"])(function(e){return Object(qe["a"])(p.loginWithPassword(l,e)).pipe(Object(Xe["a"])(function(){return Object(qe["a"])(p.register(l,e))}))}),Object(dt["a"])(function(e){p.deviceId=e.device_id,p._http.opts.accessToken=e.access_token,p.credentials={userId:e.user_id},o=e.access_token,s=e.device_id}),Object(Je["a"])(function(){return c.signMessage(i)}),Object(ne["a"])(function(e){return{matrix:p,server:t,setup:{userId:i,accessToken:o,deviceId:s,displayName:e}}}))}),Object(Je["a"])(function(e){var t=e.matrix,n=e.server,a=e.setup;return Object(qe["a"])(t.setDisplayName(a.displayName)).pipe(Object(Je["a"])(function(){return t.joinRoom("#raiden_".concat(r.name||r.chainId,"_discovery:").concat(an(n)))}),Object(Lt["a"])({matrix:t,server:n,setup:a}))}),Object(dt["a"])(function(e){var t=e.matrix;i.next(t),i.complete()}),Object(ne["a"])(function(e){var t=e.server,n=e.setup;return Be({server:t,setup:n})}))},dn=function(e,t,n){Object(et["a"])(t);var a=n.matrix$;return e.pipe(Object(ae["a"])(Object(Q["isActionOf"])(Be)),Object(bt["a"])(function(){return a}),Object(dt["a"])(function(e){return console.log("MATRIX client",e)}),Object(Je["a"])(function(e){return e.startClient({initialSyncLimit:0})}),Object(Ht["a"])())},pn=function(e,t,n){Object(et["a"])(t);var a=n.matrix$;return a.pipe(Object(dt["a"])(function(t){return e.subscribe(void 0,void 0,function(){return t.stopClient()})}),Object(Ht["a"])())},ln=function(e,t,n){Object(et["a"])(t);var a=n.matrix$;return e.pipe(Object(ae["a"])(Object(Q["isActionOf"])(Pe)),Object(Je["a"])(function(e){return a.pipe(Object(ne["a"])(function(t){return{action:e,matrix:t}}))}),Object(ot["a"])(sn(e)),Object(Je["a"])(function(e){var t=Object(q["a"])(e,2),n=t[0],a=n.action,r=n.matrix,c=t[1];if(a.meta.address in c)return Object(ze["a"])(c[a.meta.address]);var i=[],o=!0,s=!1,u=void 0;try{for(var d,p=r.getUsers()[Symbol.iterator]();!(o=(d=p.next()).done);o=!0){var l=d.value;if(l.displayName&&l.presence){var b=void 0;try{var f=on.exec(l.userId);if(!f||Object(h["getAddress"])(f[1])!==a.meta.address)continue;if(b=Object(h["verifyMessage"])(l.userId,l.displayName),!b||b!==a.meta.address)continue}catch(v){continue}i.push(l)}}}catch(v){s=!0,u=v}finally{try{o||null==p.return||p.return()}finally{if(s)throw u}}if(i.length>0){var m=Object(O["minBy"])(i,"lastPresenceTs");return Object(ze["a"])($e({userId:m.userId,available:cn.includes(m.presence)},a.meta))}return Object(qe["a"])(r.searchUserDirectory({term:a.meta.address.toLowerCase()})).pipe(Object(ne["a"])(function(e){var t=e.results,n=[],r=!0,c=!1,i=void 0;try{for(var o,s=t[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var u=o.value;if(u.display_name){try{var d=on.exec(u.user_id);if(!d||Object(h["getAddress"])(d[1])!==a.meta.address)continue;var p=Object(h["verifyMessage"])(u.user_id,u.display_name);if(!p||p!==a.meta.address)continue}catch(v){continue}n.push(u.user_id)}}}catch(v){c=!0,i=v}finally{try{r||null==s.return||s.return()}finally{if(c)throw i}}if(0===n.length)throw new Error("Could not find any user with valid signature for ".concat(a.meta.address," in ").concat(JSON.stringify(t)));return n}),Object(Je["a"])(function(e){return Object(qe["a"])(e)}),Object(Je["a"])(function(e){return rn(r,e).then(function(t){return Object.assign(t,{user_id:e})})}),Object(Ut["a"])(),Object(ne["a"])(function(e){return Object(O["minBy"])(e,"last_active_ago")}),Object(ne["a"])(function(e){var t=e.presence,n=e.user_id;return $e({userId:n,available:cn.includes(t)},a.meta)}),Object(Xe["a"])(function(e){return Object(ze["a"])(Ue(e,a.meta))}))}))},bn=function(e,t,n){Object(et["a"])(t);var a=n.matrix$;return a.pipe(Object(bt["a"])(function(e){return Object(Mt["a"])(e,"event").pipe(Object(ne["a"])(function(t){return{event:t,matrix:e}}))}),Object(ae["a"])(function(e){var t=e.event;return"m.presence"===t.getType()}),Object(ne["a"])(function(e){var t=e.event,n=e.matrix,a=n.getUser(t.getSender()),r=on.exec(a.userId),c=r&&r[1];return{user:a,matrix:n,peerAddress:c&&Object(h["getAddress"])(c)}}),Object(ae["a"])(function(e){var t=e.user,n=e.peerAddress;return!(!t.presence||!n)}),Object(ot["a"])(e.pipe(Object(ae["a"])(Object(Q["isActionOf"])(Pe)),Object($t["a"])(function(e,t){return e.add(t.meta.address)},new Set),Object(st["a"])(new Set)),sn(e)),Object(ae["a"])(function(e){var t=Object(q["a"])(e,2),n=t[0].peerAddress,a=t[1];return a.has(n)}),Object(Je["a"])(function(e){var t=Object(q["a"])(e,3),n=t[0],a=n.user,r=n.matrix,c=n.peerAddress,i=t[2],o=a.userId,s=c,u=a.presence,d=cn.includes(u);if(s in i&&i[s].payload.userId===o&&i[s].payload.available===d)return tt["a"];var p=a.displayName?Object(ze["a"])(a.displayName):Object(qe["a"])(r.getProfileInfo(o,"displayname")).pipe(Object(ne["a"])(function(e){return e.displayname}),Object(Xe["a"])(function(){return Object(ze["a"])(void 0)}));return p.pipe(Object(ne["a"])(function(e){if(!e)throw new Error('Could not get displayName of "'.concat(o,'"'));var t=Object(h["verifyMessage"])(o,e);if(!t||t!==c)throw new Error('Could not verify displayName signature of "'.concat(o,'": got "').concat(t,'"'));return t}),Object(ne["a"])(function(e){return $e({userId:o,available:d,ts:a.lastPresenceTs},{address:e})}))}),Object(Xe["a"])(function(e){return console.log("Error validating presence event, ignoring",e),tt["a"]}))},fn=function(e,t,n){var a=n.matrix$;return Object(Dt["a"])(sn(e),t).pipe(Object(Ft["a"])(new Bt["a"](1),function(t){return e.pipe(Object(ae["a"])(Object(Q["isActionOf"])(Xt)),Object(Je["a"])(function(e){return a.pipe(Object(ne["a"])(function(t){return{action:e,matrix:t}}))}),Object(Vt["a"])(function(e){var n=e.action,a=e.matrix;return t.pipe(Object(ae["a"])(function(e){var t=Object(q["a"])(e,1),a=t[0];return n.meta.address in a}),Object(Zt["a"])(1),Object(ae["a"])(function(e){var t=Object(q["a"])(e,2),a=t[1];return!Object(O["get"])(a,["transport","matrix","rooms",n.meta.address,0])}),Object(Je["a"])(function(e){var t=Object(q["a"])(e,1),r=t[0];return a.createRoom({visibility:"private",invite:[r[n.meta.address].payload.userId]})}),Object(ne["a"])(function(e){var t=e.room_id;return Le({roomId:t},n.meta)}))}))}))},mn=function(e,t,n){var a=n.matrix$;return e.pipe(Object(ae["a"])(Object(Q["isActionOf"])($e)),Object(ae["a"])(function(e){return e.payload.available}),Object(Je["a"])(function(e){return a.pipe(Object(ne["a"])(function(t){return{action:e,matrix:t}}))}),Object(ot["a"])(t),Object(Je["a"])(function(e){var t=Object(q["a"])(e,2),n=t[0],a=n.action,r=n.matrix,c=t[1],i=Object(O["get"])(c,["transport","matrix","rooms",a.meta.address,0]);if(i){var o=r.getRoom(i);if(o){var s=o.getMember(a.payload.userId);if(!s)return Object(qe["a"])(r.invite(i,a.payload.userId))}}return tt["a"]}),Object(Ht["a"])())},vn=function(e,t,n){Object(et["a"])(t);var a=n.matrix$;return a.pipe(Object(bt["a"])(function(e){return Object(Mt["a"])(e,"RoomMember.membership",function(t,n){return{event:t,member:n,matrix:e}})}),Object(ae["a"])(function(e){var t=e.member,n=e.matrix;return t.userId===n.getUserId()&&"invite"===t.membership}),Object(ot["a"])(sn(e)),Object(Je["a"])(function(t){var n=Object(q["a"])(t,2),a=n[0],r=a.event,c=a.member,i=a.matrix,o=n[1],s=r.getSender(),u=Object(O["find"])(o,function(e){return e.payload.userId===s}),d=u?Object(ze["a"])(u):e.pipe(Object(ae["a"])(Object(Q["isActionOf"])($e)),Object(ae["a"])(function(e){return e.payload.userId===s}),Object(Zt["a"])(1),Object(We["a"])(Object(Pt["a"])(3e4)));return d.pipe(Object(ne["a"])(function(e){return{matrix:i,member:c,senderPresence:e}}))}),Object(Je["a"])(function(e){var t=e.matrix,n=e.member,a=e.senderPresence;return Object(qe["a"])(t.joinRoom(n.roomId,{syncRoom:!0})).pipe(Object(ne["a"])(function(){return Le({roomId:n.roomId},{address:a.meta.address})}))}))},hn=function(e,t,n){var a=n.matrix$;return e.pipe(Object(ae["a"])(Object(Q["isActionOf"])(Le)),Object(Je["a"])(function(e){return a.pipe(Object(ne["a"])(function(t){return{action:e,matrix:t}}))}),Object(ot["a"])(t),Object(Je["a"])(function(e){var t=Object(q["a"])(e,2),n=t[0],a=n.action,r=n.matrix,c=t[1],i=3,o=c.transport.matrix.rooms[a.meta.address];return Object(qe["a"])(o.filter(function(e,t){return Object(et["a"])(e),t>=i})).pipe(Object(Je["a"])(function(e){return r.leave(e).then(function(){return e})}),Object(ne["a"])(function(e){return He({roomId:e},a.meta)}))}))},On=function(e,t,n){Object(et["a"])(e);var a=n.matrix$,r=n.network;return a.pipe(Object(bt["a"])(function(e){return Object(Mt["a"])(e,"Room").pipe(Object(ne["a"])(function(t){return{matrix:e,roomId:t.roomId}}))}),Object(Kt["a"])(3e4),Object(ot["a"])(t),Object(ae["a"])(function(e){var t=Object(q["a"])(e,2),n=t[0],a=n.matrix,c=n.roomId,i=t[1],o=a.getRoom(c);if(!o)return!1;if(o.name&&o.name.match("#raiden_".concat(r.name||r.chainId,"_discovery:")))return!1;var s=Object(O["get"])(i,["transport","matrix","rooms"],{});for(var u in s){var d=!0,p=!1,l=void 0;try{for(var b,f=s[u][Symbol.iterator]();!(d=(b=f.next()).done);d=!0){var m=b.value;if(m===o.roomId)return!1}}catch(v){p=!0,l=v}finally{try{d||null==f.return||f.return()}finally{if(p)throw l}}}return!0}),Object(Je["a"])(function(e){var t=Object(q["a"])(e,1),n=t[0],a=n.matrix,r=n.roomId;return a.leave(r)}),Object(Ht["a"])())},yn=function(e,t,n){Object(et["a"])(e);var a=n.matrix$;return a.pipe(Object(bt["a"])(function(e){return Object(Mt["a"])(e,"Room.myMembership",function(t,n){return{room:t,membership:n,matrix:e}})}),Object(ae["a"])(function(e){var t=e.membership;return"leave"===t}),Object(ot["a"])(t),Object(Je["a"])(regeneratorRuntime.mark(function e(t){var n,a,r,c,i,o,s,u,d,p,l;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:n=Object(q["a"])(t,2),a=n[0].room,r=n[1],c=Object(O["get"])(r,["transport","matrix","rooms"],{}),e.t0=regeneratorRuntime.keys(c);case 3:if((e.t1=e.t0()).done){e.next=34;break}i=e.t1.value,o=!0,s=!1,u=void 0,e.prev=8,d=c[i][Symbol.iterator]();case 10:if(o=(p=d.next()).done){e.next=18;break}if(l=p.value,l!==a.roomId){e.next=15;break}return e.next=15,He({roomId:l},{address:i});case 15:o=!0,e.next=10;break;case 18:e.next=24;break;case 20:e.prev=20,e.t2=e["catch"](8),s=!0,u=e.t2;case 24:e.prev=24,e.prev=25,o||null==d.return||d.return();case 27:if(e.prev=27,!s){e.next=30;break}throw u;case 30:return e.finish(27);case 31:return e.finish(24);case 32:e.next=3;break;case 34:case"end":return e.stop()}},e,null,[[8,20,24,32],[25,,27,31]])})))},jn=function(e,t,n){var a=n.matrix$;return Object(Dt["a"])(sn(e),t).pipe(Object(Ft["a"])(new Bt["a"](1),function(t){return e.pipe(Object(ae["a"])(Object(Q["isActionOf"])(Xt)),Object(Je["a"])(function(e){return a.pipe(Object(ne["a"])(function(t){return{action:e,matrix:t}}))}),Object(qt["a"])(function(e){var t=e.action;return t.meta.address}),Object(Je["a"])(function(e){return e.pipe(Object(Vt["a"])(function(e){var n=e.action,a=e.matrix;return t.pipe(Object(ae["a"])(function(e){var t=Object(q["a"])(e,2),a=t[0],r=t[1];return n.meta.address in a&&a[n.meta.address].payload.available&&Object(O["get"])(r,["transport","matrix","rooms",n.meta.address,0])}),Object(ne["a"])(function(e){var t=Object(q["a"])(e,2),a=t[1];return a.transport.matrix.rooms[n.meta.address][0]}),Object(zt["a"])(),Object(bt["a"])(function(e){var t=a.getRoom(e);return t?Object(ze["a"])(t):Object(Mt["a"])(a,"Room").pipe(Object(ae["a"])(function(t){return t.roomId===e}),Object(Zt["a"])(1))}),Object(ot["a"])(t),Object(Je["a"])(function(e){var r=Object(q["a"])(e,2),c=r[0],i=Object(q["a"])(r[1],1),o=i[0],s=o[n.meta.address].payload.userId,u=c.getMember(s);return u&&"join"===u.membership?Object(ze["a"])(u):Object(Mt["a"])(a,"RoomMember.membership",function(e,t){return Object(et["a"])(e),t}).pipe(Object(ot["a"])(t),Object(ae["a"])(function(e){var t=Object(q["a"])(e,2),a=t[0],r=Object(q["a"])(t[1],1),i=r[0];return a.roomId===c.roomId&&a.userId===i[n.meta.address].payload.userId&&"join"===a.membership}),Object(Zt["a"])(1),Object(ne["a"])(function(e){var t=Object(q["a"])(e,1),n=t[0];return n}))}),Object(Zt["a"])(1),Object(Je["a"])(function(e){return a.sendEvent(e.roomId,"m.room.message",{body:n.payload.message,msgtype:"m.text"},"")}))}))}),Object(Ht["a"])())}))},kn=function(e,t,n){var a=n.matrix$;return Object(Dt["a"])(sn(e),t).pipe(Object(Ft["a"])(new Bt["a"](1),function(e){return a.pipe(Object(bt["a"])(function(e){return Object(Mt["a"])(e,"Room.timeline",function(t,n){return{matrix:e,event:t,room:n}})}),Object(ae["a"])(function(e){var t=e.event,n=e.matrix;return"m.room.message"===t.getType()&&t.getSender()!==n.getUserId()&&"m.text"===t.event.content.msgtype}),Object(Je["a"])(function(t){var n=t.event,a=t.room;return e.pipe(Object(ae["a"])(function(e){var t=Object(q["a"])(e,2),r=t[0],c=t[1],i=Object(O["find"])(r,["payload.userId",n.getSender()]);if(!i)return!1;var o=Object(O["get"])(c,["transport","matrix","rooms",i.meta.address],[]);return!!o.includes(a.roomId)}),Object(Zt["a"])(1),Object(We["a"])(Object(Pt["a"])(3e4)),Object(ne["a"])(function(e){var t=Object(q["a"])(e,1),r=t[0],c=Object(O["find"])(r,["payload.userId",n.getSender()]);return Qt({message:n.event.content.body,ts:n.event.origin_server_ts,userId:c.payload.userId,roomId:a.roomId},c.meta)}))}))}))},gn=function(e,t){return e.pipe(Object(ae["a"])(Object(Q["isActionOf"])(Qt)),Object(ot["a"])(t),Object(ae["a"])(function(e){var t=Object(q["a"])(e,2),n=t[0],a=t[1],r=Object(O["get"])(a,["transport","matrix","rooms",n.meta.address],[]);return!!n.payload.roomId&&r.includes(n.payload.roomId)&&r[0]!==n.payload.roomId}),Object(ne["a"])(function(e){var t=Object(q["a"])(e,1),n=t[0];return Le({roomId:n.payload.roomId},n.meta)}))},wn=function(e){return e.pipe(Object(ae["a"])(Object(Q["isActionOf"])(je)),Object(ne["a"])(function(e){return Pe(void 0,{address:e.meta.partner})}))},xn=Object.assign({},i,o,u),_n=function(e,t,n){var a=e.pipe(Object(ae["a"])(Object(Q["isActionOf"])(Ye))),r=e.pipe(Object(Ge["a"])(Object(O["negate"])(Object(Q["isActionOf"])(Ye)),!0)),c=t.pipe(Object(We["a"])(a));return Object(qe["a"])(Object.values(xn)).pipe(Object(Je["a"])(function(e){return e(r,c,n)}),Object(Xe["a"])(function(e){return Object(ze["a"])(Ye({reason:e}))}),Object(We["a"])(a))},Cn=Object.assign({},c,a,r,s),Nn=Object(O["pick"])(Cn,[Cn.raidenShutdown,Cn.newBlock,Cn.matrixPresenceUpdate].map(Q["getType"])),En=function(e,t,n,a){return new(n||(n=Promise))(function(r,c){function i(e){try{s(a.next(e))}catch(t){c(t)}}function o(e){try{s(a["throw"](e))}catch(t){c(t)}}function s(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(i,o)}s((a=a.apply(e,t||[])).next())})},Tn=function(){function e(t,n,a,r,c){Object(b["a"])(this,e),this.tokenInfo={},this.provider=t,this.network=n,this.signer=a;var i=c.address;this.contracts={registry:new G["Contract"](r.TokenNetworkRegistry.address,ce,this.signer),tokenNetworks:{},tokens:{}};var o=[];var s=new Y["a"](c);this.state$=s;var u=new ee["a"];this.action$=u;var d=new te["a"];this.channels$=s.pipe(Object(ne["a"])(function(e){return Object(O["transform"])(e.channels,function(t,n,a){var r=Object(O["findKey"])(e.tokens,function(e){return e===a});r&&(t[r]=Object(O["transform"])(n,function(e,t,n){return e[n]=Object.assign({state:t.state},Object(O["pick"])(t,["id","settleTimeout","openBlock","closeBlock"]),{token:r,tokenNetwork:a,partner:n,ownDeposit:t.own.deposit,partnerDeposit:t.partner.deposit,balance:(t.partner.balanceProof?t.partner.balanceProof.transferredAmount.add(t.partner.balanceProof.lockedAmount):l["Zero"]).sub(t.own.balanceProof?t.own.balanceProof.transferredAmount.add(t.own.balanceProof.lockedAmount):l["Zero"])})}))})})),this.events$=u.pipe(Object(ae["a"])(Object(Q["isActionOf"])(Object.values(Nn))));var p=Object(X["a"])({dependencies:{stateOutput$:s,actionOutput$:u,matrix$:d,provider:t,network:n,signer:a,address:i,contractsInfo:r,registryContract:this.contracts.registry,getTokenNetworkContract:this.getTokenNetworkContract.bind(this),getTokenContract:this.getTokenContract.bind(this)}});this.store=Object(J["b"])(Ke,c,J["a"].apply(void 0,o.concat([p]))),p.run(_n),c=this.store.getState(),this.provider.resetEventsBlock(c.blockNumber+1),this.resolveName=t.resolveName.bind(t),this.store.dispatch(Qe())}return Object(z["a"])(e,[{key:"stop",value:function(){this.store.dispatch(Ye({reason:F.STOP}))}},{key:"getBlockNumber",value:function(){return En(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.t0=this.provider.blockNumber,e.t0){e.next=5;break}return e.next=4,this.provider.getBlockNumber();case 4:e.t0=e.sent;case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}},e,this)}))}},{key:"getBalance",value:function(e){if(e=e||this.address,!R.is(e))throw new Error("Invalid address");return this.provider.getBalance(e)}},{key:"getTokenBalance",value:function(e,t){return En(this,void 0,void 0,regeneratorRuntime.mark(function n(){var a;return regeneratorRuntime.wrap(function(n){while(1)switch(n.prev=n.next){case 0:if(t=t||this.address,R.is(t)&&R.is(e)){n.next=3;break}throw new Error("Invalid address");case 3:if(e in this.state.tokens){n.next=5;break}throw new Error('token "'.concat(e,'" not monitored'));case 5:return a=this.getTokenContract(e),n.abrupt("return",a.functions.balanceOf(t));case 7:case"end":return n.stop()}},n,this)}))}},{key:"getTokenInfo",value:function(e){return En(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,a,r,c,i,o,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(R.is(e)){t.next=2;break}throw new Error("Invalid address");case 2:if(e in this.state.tokens){t.next=4;break}throw new Error('token "'.concat(e,'" not monitored'));case 4:if(e in this.tokenInfo){t.next=15;break}return n=this.getTokenContract(e),t.next=8,Promise.all([n.functions.totalSupply(),n.functions.decimals(),n.functions.name().catch(Object(O["constant"])(void 0)),n.functions.symbol().catch(Object(O["constant"])(void 0))]);case 8:a=t.sent,r=Object(q["a"])(a,4),c=r[0],i=r[1],o=r[2],s=r[3],this.tokenInfo[e]={totalSupply:c,decimals:i,name:o,symbol:s};case 15:return t.abrupt("return",this.tokenInfo[e]);case 16:case"end":return t.stop()}},t,this)}))}},{key:"getTokenList",value:function(){return En(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!Object(O["isEmpty"])(this.state.tokens)){e.next=3;break}return e.next=3,this.action$.pipe(Object(ae["a"])(Object(Q["isActionOf"])(ve)),Object(re["a"])()).toPromise();case 3:return e.abrupt("return",Object.keys(this.state.tokens));case 4:case"end":return e.stop()}},e,this)}))}},{key:"getTokenNetworkContract",value:function(e){return e in this.contracts.tokenNetworks||(this.contracts.tokenNetworks[e]=new G["Contract"](e,ie,this.signer)),this.contracts.tokenNetworks[e]}},{key:"getTokenContract",value:function(e){return e in this.contracts.tokens||(this.contracts.tokens[e]=new G["Contract"](e,oe,this.signer)),this.contracts.tokens[e]}},{key:"openChannel",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:500;return En(this,void 0,void 0,regeneratorRuntime.mark(function a(){var r,c,i;return regeneratorRuntime.wrap(function(a){while(1)switch(a.prev=a.next){case 0:if(R.is(e)&&R.is(t)){a.next=2;break}throw new Error("Invalid address");case 2:if(r=this.state,c=r.tokens[e],c){a.next=6;break}throw new Error("Unknown token network");case 6:return i=this.action$.pipe(Object(ae["a"])(Object(Q["isActionOf"])([Oe,ye])),Object(ae["a"])(function(e){return e.meta.tokenNetwork===c&&e.meta.partner===t}),Object(re["a"])(),Object(ne["a"])(function(e){if(Object(Q["isActionOf"])(ye,e))throw e.payload;return e.payload.txHash})).toPromise(),this.store.dispatch(he({settleTimeout:n},{tokenNetwork:c,partner:t})),a.abrupt("return",i);case 9:case"end":return a.stop()}},a,this)}))}},{key:"depositChannel",value:function(e,t,n){return En(this,void 0,void 0,regeneratorRuntime.mark(function a(){var r,c,i;return regeneratorRuntime.wrap(function(a){while(1)switch(a.prev=a.next){case 0:if(R.is(e)&&R.is(t)){a.next=2;break}throw new Error("Invalid address");case 2:if(r=this.state,c=r.tokens[e],c){a.next=6;break}throw new Error("Unknown token network");case 6:return i=this.action$.pipe(Object(ae["a"])(Object(Q["isActionOf"])([ge,we])),Object(ae["a"])(function(e){return e.meta.tokenNetwork===c&&e.meta.partner===t}),Object(re["a"])(),Object(ne["a"])(function(e){if(Object(Q["isActionOf"])(we,e))throw e.payload;return e.payload.txHash})).toPromise(),this.store.dispatch(ke({deposit:Object(h["bigNumberify"])(n)},{tokenNetwork:c,partner:t})),a.abrupt("return",i);case 9:case"end":return a.stop()}},a,this)}))}},{key:"closeChannel",value:function(e,t){return En(this,void 0,void 0,regeneratorRuntime.mark(function n(){var a,r,c;return regeneratorRuntime.wrap(function(n){while(1)switch(n.prev=n.next){case 0:if(R.is(e)&&R.is(t)){n.next=2;break}throw new Error("Invalid address");case 2:if(a=this.state,r=a.tokens[e],r){n.next=6;break}throw new Error("Unknown token network");case 6:return c=this.action$.pipe(Object(ae["a"])(Object(Q["isActionOf"])([_e,Ce])),Object(ae["a"])(function(e){return e.meta.tokenNetwork===r&&e.meta.partner===t}),Object(re["a"])(),Object(ne["a"])(function(e){if(Object(Q["isActionOf"])(Ce,e))throw e.payload;return e.payload.txHash})).toPromise(),this.store.dispatch(xe(void 0,{tokenNetwork:r,partner:t})),n.abrupt("return",c);case 9:case"end":return n.stop()}},n,this)}))}},{key:"settleChannel",value:function(e,t){return En(this,void 0,void 0,regeneratorRuntime.mark(function n(){var a,r,c;return regeneratorRuntime.wrap(function(n){while(1)switch(n.prev=n.next){case 0:if(R.is(e)&&R.is(t)){n.next=2;break}throw new Error("Invalid address");case 2:if(a=this.state,r=a.tokens[e],r){n.next=6;break}throw new Error("Unknown token network");case 6:return c=this.action$.pipe(Object(ae["a"])(Object(Q["isActionOf"])([Te,Ae])),Object(ae["a"])(function(e){return e.meta.tokenNetwork===r&&e.meta.partner===t}),Object(re["a"])(),Object(ne["a"])(function(e){if(Object(Q["isActionOf"])(Ae,e))throw e.payload;return e.payload.txHash})).toPromise(),this.store.dispatch(Ee(void 0,{tokenNetwork:r,partner:t})),n.abrupt("return",c);case 9:case"end":return n.stop()}},n,this)}))}},{key:"getAvailability",value:function(e){return En(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(R.is(e)){t.next=2;break}throw new Error("Invalid address");case 2:return n=this.action$.pipe(Object(ae["a"])(Object(Q["isActionOf"])([$e,Ue])),Object(ae["a"])(function(t){return t.meta.address===e}),Object(re["a"])(),Object(ne["a"])(function(e){if(Object(Q["isActionOf"])(Ue,e))throw e.payload;return e.payload})).toPromise(),this.store.dispatch(Pe(void 0,{address:e})),t.abrupt("return",n);case 5:case"end":return t.stop()}},t,this)}))}},{key:"sendMessage",value:function(e,t){this.store.dispatch(Xt({message:t},{address:e}))}},{key:"state",get:function(){return this.store.getState()}},{key:"address",get:function(){return this.state.address}}],[{key:"create",value:function(t,n,a,r){return En(this,void 0,void 0,regeneratorRuntime.mark(function c(){var i,o,s,u,d,p,l,b,f,m,v,h,y;return regeneratorRuntime.wrap(function(c){while(1)switch(c.prev=c.next){case 0:return l=function(e){return e&&"function"===typeof e.getItem},i="string"===typeof t?new W["JsonRpcProvider"](t):t instanceof W["JsonRpcProvider"]?t:new W["Web3Provider"](t),c.next=4,i.getNetwork();case 4:if(o=c.sent,r){c.next=18;break}c.t0=o.name,c.next="rinkeby"===c.t0?9:"ropsten"===c.t0?11:"kovan"===c.t0?13:"goerli"===c.t0?15:17;break;case 9:return r=ue.contracts,c.abrupt("break",18);case 11:return r=se.contracts,c.abrupt("break",18);case 13:return r=de.contracts,c.abrupt("break",18);case 15:return r=pe.contracts,c.abrupt("break",18);case 17:throw new Error("No deploy info provided nor recognized network: ".concat(JSON.stringify(o)));case 18:if("number"!==typeof n){c.next=22;break}s=i.getSigner(n),c.next=36;break;case 22:if(!R.is(n)){c.next=31;break}return c.next=25,i.listAccounts();case 25:if(u=c.sent,u.includes(n)){c.next=28;break}throw new Error('Account "'.concat(n,'" not found in provider, got=').concat(u));case 28:s=i.getSigner(n),c.next=36;break;case 31:if(!A.is(n)){c.next=35;break}s=new G["Wallet"](n,i),c.next=36;break;case 35:throw new Error("String account must be either a 0x-encoded address or private key");case 36:return c.next=38,s.getAddress();case 38:if(d=c.sent,p=Object.assign({},V,{blockNumber:r.TokenNetworkRegistry.block_number||0,address:d}),b=void 0,f=void 0,!a||!l(a)){c.next=61;break}return m="raiden_".concat(o.name||o.chainId,"_").concat(r.TokenNetworkRegistry.address,"_").concat(d),c.t1=Object,c.t2={},c.t3=p,c.t4=JSON,c.next=49,a.getItem(m);case 49:if(c.t5=c.sent,c.t5){c.next=52;break}c.t5="null";case 52:c.t6=c.t5,c.t7=c.t4.parse.call(c.t4,c.t6),v=c.t1.assign.call(c.t1,c.t2,c.t3,c.t7),p=H(v),h=Object(O["debounce"])(function(e){a.setItem(m,L(e))},1e3,{maxWait:5e3}),b=h,f=function(){return h.flush()},c.next=62;break;case 61:a&&U.is(a)?p=a:a&&(p=H(a));case 62:if(d===p.address){c.next=64;break}throw new Error('Mismatch between provided account and loaded state: "'.concat(d,'" !== "').concat(p.address,'"'));case 64:return y=new e(i,o,s,r,p),b&&y.state$.subscribe(b,f,f),c.abrupt("return",y);case 67:case"end":return c.stop()}},c)}))}}]),e}();n.d(t,"a",function(){return S}),n.d(t,"b",function(){return Tn})},e4ad:function(e,t,n){"use strict";var a=n("15f6"),r=n.n(a);r.a},e62e:function(e,t,n){"use strict";n.d(t,"c",function(){return y}),n.d(t,"b",function(){return g}),n.d(t,"a",function(){return w});var a=n("308d"),r=n("6bb5"),c=n("4e2b"),i=n("f28b"),o=(n("7f7f"),n("5df3"),n("768b")),s=(n("ac6a"),n("96cf"),n("3b8d")),u=n("d225"),d=n("b0b4"),p=n("ce2a"),l=n("f15c"),b=n("a3d5"),f=n("87a2"),m=n("8404"),v=n("5ddc"),h=n.n(v),O=n("cab6"),y=function(){function e(t){Object(u["a"])(this,e),this._raiden=void 0,this.store=t}return Object(d["a"])(e,[{key:"updateTokenBalances",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(){var t,n,a,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t=this.store.state.tokens,e.t0=regeneratorRuntime.keys(t);case 2:if((e.t1=e.t0()).done){e.next=11;break}return n=e.t1.value,a=t[n],e.next=7,this.raiden.getTokenBalance(n);case 7:r=e.sent,t[n]=Object.assign({},a,{balance:r,units:b["a"].toUnits(r,a.decimals)}),e.next=2;break;case 11:this.store.commit("updateTokens",t);case 12:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"raiden",get:function(){if(void 0===this._raiden)throw new Error("Raiden instance was not initialized");return this._raiden}}]),Object(d["a"])(e,[{key:"ensResolve",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.raiden.resolveName(t);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e["catch"](0),new x(e.t0);case 9:case"end":return e.stop()}},e,this,[[0,6]])}));function t(t){return e.apply(this,arguments)}return t}()},{key:"connect",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(){var t,n,a,r=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l["a"].provider();case 3:if(t=e.sent,t){e.next=8;break}this.store.commit("noProvider"),e.next=26;break;case 8:return e.next=10,p["b"].create(t,0,window.localStorage);case 10:return n=e.sent,this._raiden=n,e.t0=this.store,e.next=15,this.getAccount();case 15:return e.t1=e.sent,e.t0.commit.call(e.t0,"account",e.t1),e.t2=this.store,e.next=20,this.getBalance();case 20:e.t3=e.sent,e.t2.commit.call(e.t2,"balance",e.t3),n.events$.pipe(Object(O["filter"])(function(e){return"raidenShutdown"===e.type})).subscribe(function(){return r.store.commit("reset")}),n.events$.pipe(Object(O["filter"])(function(e){return"newBlock"===e.type})).subscribe(Object(s["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r.updateTokenBalances();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))),n.channels$.subscribe(function(e){r.store.commit("updateChannels",e)}),this.store.commit("network",n.network);case 26:e.next=33;break;case 28:e.prev=28,e.t4=e["catch"](0),console.log(e.t4),a=h()(e.t4.message,"No deploy info provided")?f["a"].UNSUPPORTED_NETWORK:f["a"].NO_ACCOUNT,this.store.commit("accessDenied",a);case 33:this.store.commit("loadComplete");case 34:case"end":return e.stop()}},e,this,[[0,28]])}));function t(){return e.apply(this,arguments)}return t}()},{key:"disconnect",value:function(){this.raiden.stop()}},{key:"getAccount",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.raiden.address);case 1:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"getBalance",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.getBalance();case 2:return t=e.sent,e.abrupt("return",b["a"].toEth(t));case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"getToken",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(t){var n,a,r,c,i,s,u,d;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=this.raiden,e.prev=1,e.next=4,Promise.all([n.getTokenBalance(t),n.getTokenInfo(t)]);case 4:return a=e.sent,r=Object(o["a"])(a,2),c=r[0],i=r[1],s=i.decimals,u=i.symbol,d=i.name,e.abrupt("return",{name:d,symbol:u,balance:c,decimals:s,units:b["a"].toUnits(c,s),address:t});case 14:return e.prev=14,e.t0=e["catch"](1),console.error(e.t0),e.abrupt("return",null);case 18:case"end":return e.stop()}},e,this,[[1,14]])}));function t(t){return e.apply(this,arguments)}return t}()},{key:"openChannel",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(t,n,a,r){var c,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return c=function(e,t){r&&r({current:e,total:t})},i=this.raiden,c(1,3),e.prev=3,e.next=6,i.openChannel(t,n);case 6:e.next=11;break;case 8:throw e.prev=8,e.t0=e["catch"](3),new g(e.t0);case 11:if(c(2,3),!a.gt(m["Zero"])){e.next=15;break}return e.next=15,this.deposit(t,n,a);case 15:case"end":return e.stop()}},e,this,[[3,8]])}));function t(t,n,a,r){return e.apply(this,arguments)}return t}()},{key:"leaveNetwork",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(t,n){var a,r,c,i,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:a=this.store.getters.channels(t),r={closed:0,failed:0},c=a.length,i=0;case 4:if(!(i<c)){e.next=19;break}return n&&n({current:i+1,total:c}),o=a[i],e.prev=7,e.next=10,this.closeChannel(o.token,o.partner);case 10:r.closed+=1,e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](7),r.failed+=1;case 16:i++,e.next=4;break;case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}},e,this,[[7,13]])}));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"closeChannel",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.raiden.closeChannel(t,n);case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e["catch"](0),new k(e.t0);case 8:case"end":return e.stop()}},e,this,[[0,5]])}));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"deposit",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(t,n,a){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.raiden.depositChannel(t,n,a);case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e["catch"](0),new w(e.t0);case 8:case"end":return e.stop()}},e,this,[[0,5]])}));function t(t,n,a){return e.apply(this,arguments)}return t}()},{key:"settleChannel",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.raiden.settleChannel(t,n);case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e["catch"](0),new j(e.t0);case 8:case"end":return e.stop()}},e,this,[[0,5]])}));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"fetchTokens",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(){var t,n,a,r,c,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this.store.state.tokens,n=0,e.prev=2,e.next=5,this.raiden.getTokenList();case 5:a=e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](2),a=[];case 11:r=0;case 12:if(!(r<a.length)){e.next=23;break}if(c=a[r],!(c in t)){e.next=16;break}return e.abrupt("continue",20);case 16:return e.next=18,this.getToken(c);case 18:i=e.sent,i&&(t[c]=i,n+=1);case 20:r++,e.next=12;break;case 23:n>0&&this.store.commit("updateTokens",t);case 24:case"end":return e.stop()}},e,this,[[2,8]])}));function t(){return e.apply(this,arguments)}return t}()}]),e}(),j=function(e){function t(){return Object(u["a"])(this,t),Object(a["a"])(this,Object(r["a"])(t).apply(this,arguments))}return Object(c["a"])(t,e),t}(Object(i["a"])(Error)),k=function(e){function t(){return Object(u["a"])(this,t),Object(a["a"])(this,Object(r["a"])(t).apply(this,arguments))}return Object(c["a"])(t,e),t}(Object(i["a"])(Error)),g=function(e){function t(){return Object(u["a"])(this,t),Object(a["a"])(this,Object(r["a"])(t).apply(this,arguments))}return Object(c["a"])(t,e),t}(Object(i["a"])(Error)),w=function(e){function t(){return Object(u["a"])(this,t),Object(a["a"])(this,Object(r["a"])(t).apply(this,arguments))}return Object(c["a"])(t,e),t}(Object(i["a"])(Error)),x=function(e){function t(){return Object(u["a"])(this,t),Object(a["a"])(this,Object(r["a"])(t).apply(this,arguments))}return Object(c["a"])(t,e),t}(Object(i["a"])(Error))},e6c1:function(e,t,n){},ea41:function(e){e.exports=[{constant:!1,inputs:[{name:"channel_identifier",type:"uint256"},{name:"participant",type:"address"},{name:"partner",type:"address"},{name:"merkle_tree_leaves",type:"bytes"}],name:"unlock",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"participant1",type:"address"},{name:"participant2",type:"address"},{name:"settle_timeout",type:"uint256"}],name:"openChannel",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"deprecate",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"settlement_timeout_max",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"deprecation_executor",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"secret_registry",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"chain_id",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"token_network_deposit_limit",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"bytes32"}],name:"participants_hash_to_channel_identifier",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"channel_participant_deposit_limit",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"channel_identifier",type:"uint256"},{name:"participant",type:"address"},{name:"total_deposit",type:"uint256"},{name:"partner",type:"address"}],name:"setTotalDeposit",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"channel_counter",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"MAX_SAFE_UINT256",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"contract_address",type:"address"}],name:"contractExists",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"participant",type:"address"},{name:"partner",type:"address"}],name:"getParticipantsHash",outputs:[{name:"",type:"bytes32"}],payable:!1,stateMutability:"pure",type:"function"},{constant:!0,inputs:[{name:"channel_identifier",type:"uint256"},{name:"participant1",type:"address"},{name:"participant2",type:"address"}],name:"getChannelInfo",outputs:[{name:"",type:"uint256"},{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"signature_prefix",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"participant",type:"address"},{name:"partner",type:"address"}],name:"getChannelIdentifier",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"channel_identifier",type:"uint256"},{name:"participant1",type:"address"},{name:"participant1_transferred_amount",type:"uint256"},{name:"participant1_locked_amount",type:"uint256"},{name:"participant1_locksroot",type:"bytes32"},{name:"participant2",type:"address"},{name:"participant2_transferred_amount",type:"uint256"},{name:"participant2_locked_amount",type:"uint256"},{name:"participant2_locksroot",type:"bytes32"}],name:"settleChannel",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"contract_version",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"safety_deprecation_switch",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"settlement_timeout_min",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"channel_identifier",type:"uint256"},{name:"partner",type:"address"},{name:"balance_hash",type:"bytes32"},{name:"nonce",type:"uint256"},{name:"additional_hash",type:"bytes32"},{name:"signature",type:"bytes"}],name:"closeChannel",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"",type:"uint256"}],name:"channels",outputs:[{name:"settle_block_number",type:"uint256"},{name:"state",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"channel_identifier",type:"uint256"},{name:"participant",type:"address"},{name:"partner",type:"address"}],name:"getChannelParticipantInfo",outputs:[{name:"",type:"uint256"},{name:"",type:"uint256"},{name:"",type:"bool"},{name:"",type:"bytes32"},{name:"",type:"uint256"},{name:"",type:"bytes32"},{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"channel_identifier",type:"uint256"},{name:"closing_participant",type:"address"},{name:"non_closing_participant",type:"address"},{name:"balance_hash",type:"bytes32"},{name:"nonce",type:"uint256"},{name:"additional_hash",type:"bytes32"},{name:"closing_signature",type:"bytes"},{name:"non_closing_signature",type:"bytes"}],name:"updateNonClosingBalanceProof",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"token",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"channel_identifier",type:"uint256"},{name:"participant",type:"address"},{name:"partner",type:"address"}],name:"getUnlockIdentifier",outputs:[{name:"",type:"bytes32"}],payable:!1,stateMutability:"pure",type:"function"},{inputs:[{name:"_token_address",type:"address"},{name:"_secret_registry",type:"address"},{name:"_chain_id",type:"uint256"},{name:"_settlement_timeout_min",type:"uint256"},{name:"_settlement_timeout_max",type:"uint256"},{name:"_deprecation_executor",type:"address"}],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,name:"channel_identifier",type:"uint256"},{indexed:!0,name:"participant1",type:"address"},{indexed:!0,name:"participant2",type:"address"},{indexed:!1,name:"settle_timeout",type:"uint256"}],name:"ChannelOpened",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"channel_identifier",type:"uint256"},{indexed:!0,name:"participant",type:"address"},{indexed:!1,name:"total_deposit",type:"uint256"}],name:"ChannelNewDeposit",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"channel_identifier",type:"uint256"},{indexed:!0,name:"closing_participant",type:"address"},{indexed:!0,name:"nonce",type:"uint256"}],name:"ChannelClosed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"channel_identifier",type:"uint256"},{indexed:!0,name:"participant",type:"address"},{indexed:!0,name:"partner",type:"address"},{indexed:!1,name:"locksroot",type:"bytes32"},{indexed:!1,name:"unlocked_amount",type:"uint256"},{indexed:!1,name:"returned_tokens",type:"uint256"}],name:"ChannelUnlocked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"channel_identifier",type:"uint256"},{indexed:!0,name:"closing_participant",type:"address"},{indexed:!0,name:"nonce",type:"uint256"}],name:"NonClosingBalanceProofUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"channel_identifier",type:"uint256"},{indexed:!1,name:"participant1_amount",type:"uint256"},{indexed:!1,name:"participant2_amount",type:"uint256"}],name:"ChannelSettled",type:"event"}]},f15c:function(e,t,n){"use strict";n.d(t,"a",function(){return i});n("96cf");var a=n("3b8d"),r=n("d225"),c=n("b0b4"),i=function(){function e(){Object(r["a"])(this,e)}return Object(c["a"])(e,null,[{key:"provider",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=window.ethereum,n=null,"undefined"===typeof t){e.next=8;break}return e.next=5,t.enable();case 5:n=t,e.next=9;break;case 8:window.web3&&(n=window.web3.currentProvider);case 9:return n&&n.isMetaMask&&(n.autoRefreshOnNetworkChange=!1),e.abrupt("return",n);case 11:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}()}]),e}();i.injectedWeb3Available=function(){return window.ethereum||window.web3}},f24f:function(e,t,n){},f777:function(e,t,n){"use strict";var a=n("1e6f"),r=n.n(a);r.a},fd97:function(e){e.exports={contracts_version:"0.4.0",chain_id:4,contracts:{EndpointRegistry:{address:"0x73F77285E154FD681D7E3145DE399E7Ad9BeC702",transaction_hash:"0xcbb7c7fdf9f3c9f078aca2ebba971df88e9965894ba76526284c5326b41a6372",block_number:3172536,gas_cost:590219,constructor_arguments:[]},SecretRegistry:{address:"0x3324D3e5e7478F4Dc332BDEeF3b3180d3C975762",transaction_hash:"0x4c4322070629a7cc82b0a4c2942da105d83045cfc27b3c4e8e352f9658002bcc",block_number:3172537,gas_cost:332473,constructor_arguments:[]},TokenNetworkRegistry:{address:"0xCa0eD1b8EC7b8bcD9689d22790A44C0f5e53b0ed",transaction_hash:"0xe05e4fcfb8d492c6e6ecca367a5eac256f898ae27d4ee5954f381431d7b5a114",block_number:3172538,gas_cost:4950722,constructor_arguments:["0x3324D3e5e7478F4Dc332BDEeF3b3180d3C975762",4,500,555428]}}}}});
//# sourceMappingURL=app.e2c4d939.js.map