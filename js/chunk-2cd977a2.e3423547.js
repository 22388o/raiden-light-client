(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2cd977a2"],{"040f":function(t,e,n){"use strict";var a=n("b7f5"),i=n.n(a);i.a},"26e5":function(t,e,n){},"495d":function(t,e,n){"use strict";var a=n("eed7"),i=n.n(a);i.a},"4bd4":function(t,e,n){"use strict";n("26e5");var a=n("94ab");e["a"]={name:"v-form",mixins:[Object(a["b"])("form")],inheritAttrs:!1,props:{value:Boolean,lazyValidation:Boolean},data:function(){return{inputs:[],watchers:[],errorBag:{}}},watch:{errorBag:{handler:function(){var t=Object.values(this.errorBag).includes(!0);this.$emit("input",!t)},deep:!0,immediate:!0}},methods:{watchInput:function(t){var e=this,n=function(t){return t.$watch("hasError",function(n){e.$set(e.errorBag,t._uid,n)},{immediate:!0})},a={_uid:t._uid,valid:void 0,shouldValidate:void 0};return this.lazyValidation?a.shouldValidate=t.$watch("shouldValidate",function(i){i&&(e.errorBag.hasOwnProperty(t._uid)||(a.valid=n(t)))}):a.valid=n(t),a},validate:function(){var t=this.inputs.filter(function(t){return!t.validate(!0)}).length;return!t},reset:function(){for(var t=this,e=this.inputs.length;e--;)this.inputs[e].reset();this.lazyValidation&&setTimeout(function(){t.errorBag={}},0)},resetValidation:function(){for(var t=this,e=this.inputs.length;e--;)this.inputs[e].resetValidation();this.lazyValidation&&setTimeout(function(){t.errorBag={}},0)},register:function(t){var e=this.watchInput(t);this.inputs.push(t),this.watchers.push(e)},unregister:function(t){var e=this.inputs.find(function(e){return e._uid===t._uid});if(e){var n=this.watchers.find(function(t){return t._uid===e._uid});n.valid&&n.valid(),n.shouldValidate&&n.shouldValidate(),this.watchers=this.watchers.filter(function(t){return t._uid!==e._uid}),this.inputs=this.inputs.filter(function(t){return t._uid!==e._uid}),this.$delete(this.errorBag,e._uid)}}},render:function(t){var e=this;return t("form",{staticClass:"v-form",attrs:Object.assign({novalidate:!0},this.$attrs),on:{submit:function(t){return e.$emit("submit",t)}}},this.$slots.default)}}},5147:function(t,e,n){var a=n("2b4c")("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[a]=!1,!"/./"[t](e)}catch(i){}}return!0}},"60ac":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content-host"},[n("v-form",{attrs:{autocomplete:"off"},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[n("v-layout",{attrs:{"align-center":"","justify-center":"",row:""}},[n("v-flex",{attrs:{xs10:"",md10:"",lg10:""}},[n("div",{staticClass:"screen-title"},[t._v("Open Channel")])])],1),n("v-layout",{attrs:{"align-center":"","justify-center":"",row:""}},[n("v-flex",{attrs:{xs10:"",md10:"",lg10:""}},[n("amount-input",{attrs:{token:t.token,limit:""},model:{value:t.deposit,callback:function(e){t.deposit=e},expression:"deposit"}})],1)],1),n("v-layout",{attrs:{"align-center":"","justify-center":"",row:""}},[n("div",{staticClass:"divider"})]),n("v-layout",{attrs:{"align-center":"","justify-center":"",row:""}},[n("v-flex",{staticClass:"information",attrs:{xs10:"",md10:"",lg10:""}},[n("div",{staticClass:"information-label text-xs-left"},[t._v("Token")]),n("div",{staticClass:"information-description text-xs-left"},[n("span",{staticClass:"font-weight-medium"},[t._v(t._s(t.token.symbol))]),t._v("\n          Â· "+t._s(t.token.name)+"\n        ")]),n("div",{staticClass:"text--secondary"},[t._v("\n          "+t._s(t.token.address)+"\n        ")])])],1),n("v-layout",{attrs:{"align-center":"","justify-center":"",row:""}},[n("v-flex",{staticClass:"information",attrs:{xs10:"",md10:"",lg10:""}},[n("div",{staticClass:"information-label text-xs-left"},[t._v("Hub")]),n("div",{staticClass:"information-description text-xs-left"},[t._v(t._s(t.partner))])])],1),n("v-layout",{staticClass:"section",attrs:{"align-center":"","justify-center":""}},[n("v-flex",{staticClass:"text-xs-center",attrs:{xs10:"",md10:"",lg10:""}},[n("v-btn",{staticClass:"text-capitalize confirm-button",attrs:{id:"open-channel",depressed:"",disabled:!t.valid,loading:t.loading,large:""},on:{click:function(e){return t.openChannel()}}},[t._v("\n          Make Deposit\n        ")])],1)],1)],1),n("progress-overlay",{attrs:{display:t.loading,steps:t.steps,"done-step":t.doneStep,current:t.current,done:t.done}}),n("error-screen",{attrs:{title:"Something went wrong",description:t.error,"button-label":"Dismiss"},on:{dismiss:function(e){t.error=""}}})],1)},i=[],r=(n("96cf"),n("3b8d")),s=n("d225"),o=n("b0b4"),c=n("308d"),l=n("6bb5"),u=n("4e2b"),d=n("9ab4"),h=n("60a3"),p=n("dbe0"),f=n("e62e"),v=n("87a2"),b=n("a3d5"),m=n("1b25"),g=n("8404"),y=n("fc09"),k=n("152b"),w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return""!==t.description?n("div",{staticClass:"overlay"},[n("div",{staticClass:"card"},[t._m(0),n("div",{staticClass:"card-content"},[n("div",{staticClass:"error-title"},[t._v(t._s(t.title))]),n("div",{staticClass:"icon"},[n("v-icon",{staticClass:"error-icon",attrs:{size:"90"}},[t._v("close")])],1),n("div",{staticClass:"error-message"},[t._v(t._s(t.description))]),t.buttonLabel?n("div",[n("v-btn",{staticClass:"button",on:{click:function(e){return t.dismiss()}}},[t._v(t._s(t.buttonLabel))])],1):t._e()])])]):t._e()},x=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"header"},[n("span",{staticClass:"header-title"},[t._v("Error")])])}],O=function(t){function e(){return Object(s["a"])(this,e),Object(c["a"])(this,Object(l["a"])(e).apply(this,arguments))}return Object(u["a"])(e,t),Object(o["a"])(e,[{key:"dismiss",value:function(){}}]),e}(h["e"]);d["a"]([Object(h["d"])({required:!0})],O.prototype,"title",void 0),d["a"]([Object(h["d"])({required:!0})],O.prototype,"description",void 0),d["a"]([Object(h["d"])({required:!1,default:""})],O.prototype,"buttonLabel",void 0),d["a"]([Object(h["b"])()],O.prototype,"dismiss",null),O=d["a"]([Object(h["a"])({})],O);var _=O,j=_,C=(n("495d"),n("2877")),S=n("6544"),V=n.n(S),$=n("8336"),B=n("132d"),T=Object(C["a"])(j,w,x,!1,null,"4ba77413",null),E=T.exports;V()(T,{VBtn:$["a"],VIcon:B["a"]});var z=function(t){function e(){var t;return Object(s["a"])(this,e),t=Object(c["a"])(this,Object(l["a"])(e).apply(this,arguments)),t.partner="",t.token=v["c"],t.deposit="0.00",t.valid=!1,t.loading=!1,t.error="",t.steps=[],t.allSteps=[{title:"Opening a new Channel",description:"Please do not close the browser and confirm the transaction with MetaMask."},{title:"Transferring tokens to the network and deposit into the channel",description:"Please do not close the browser and confirm two (2) transactions with MetaMask."},{title:"Not implemented - split title above, when done",description:"Not implemented - split description above, when done"}],t.doneStep={title:"New Channel opened",description:"A new channel has been opened successfully.<br/>You may now select a payment target."},t.current=0,t.done=!1,t}return Object(u["a"])(e,t),Object(o["a"])(e,[{key:"beforeRouteLeave",value:function(t,e,n){this.loading?window.confirm("Channel opening is in progress, are you sure you want to leave?")?n():n(!1):n()}},{key:"openChannel",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var e,n,a=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this.token,n=b["a"].parse(this.deposit,e.decimals),n.eq(g["Zero"])?this.steps=[this.allSteps[0]]:this.steps=this.allSteps,this.loading=!0,t.prev=4,t.next=7,this.$raiden.openChannel(e.address,this.partner,n,function(t){return a.current=t.current-1});case 7:this.done=!0,setTimeout(function(){a.loading=!1,a.navigateToSelectPaymentTarget(a.token.address)},2e3),t.next=17;break;case 11:t.prev=11,t.t0=t["catch"](4),this.error="",t.t0 instanceof f["b"]?this.error="Channel open failed.":t.t0 instanceof f["a"]?this.error="Could not deposit to the channel.":this.error=t.t0.message,this.done=!1,this.loading=!1;case 17:case"end":return t.stop()}},t,this,[[4,11]])}));function e(){return t.apply(this,arguments)}return e}()},{key:"created",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var e,n,a,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e=this.$route.params,n=e.token,a=e.partner,y["a"].checkAddressChecksum(n)){t.next=4;break}return this.navigateToHome(),t.abrupt("return");case 4:if(y["a"].checkAddressChecksum(a)){t.next=9;break}return this.navigateToTokenSelect(),t.abrupt("return");case 9:this.partner=a;case 10:if(i=this.$store.getters.token(n),i){t.next=15;break}return t.next=14,this.$raiden.getToken(n);case 14:i=t.sent;case 15:i?this.token=i:this.navigateToHome();case 16:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()}]),e}(Object(h["c"])(k["a"]));z=d["a"]([Object(h["a"])({components:{ErrorScreen:E,ProgressOverlay:m["a"],AmountInput:p["a"]}})],z);var R=z,A=R,U=(n("712a4"),n("0e8f")),I=n("4bd4"),L=n("a722"),M=Object(C["a"])(A,a,i,!1,null,"2f70d6f9",null);e["default"]=M.exports;V()(M,{VBtn:$["a"],VFlex:U["a"],VForm:I["a"],VLayout:L["a"]})},"712a4":function(t,e,n){"use strict";var a=n("7cb3"),i=n.n(a);i.a},"7cb3":function(t,e,n){},b7f5:function(t,e,n){},d2c8:function(t,e,n){var a=n("aae3"),i=n("be13");t.exports=function(t,e,n){if(a(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(t))}},dbe0:function(t,e,n){"use strict";var a,i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("fieldset",{class:{light:t.light,dark:!t.light,padded:t.padded},attrs:{id:"token-amount"}},[n("v-text-field",{ref:"input",class:{light:t.light,invalid:!t.valid},attrs:{id:"amount",disabled:t.disabled,label:t.label,rules:t.rules,value:t.amount,"background-color":"transparent",autocomplete:"off",hint:"Enter the amount you wish to deposit and confirm.","persistent-hint":"",light:t.light,dark:!t.light,flat:"",placeholder:"0.00",solo:""},on:{contextmenu:function(e){return t.valueUpdated("contextmenu",e)},drop:function(e){return t.valueUpdated("drop",e)},keydown:function(e){return t.valueUpdated("keydown",e)},keyup:function(e){return t.valueUpdated("keyup",e)},mousedown:function(e){return t.valueUpdated("mousedown",e)},mouseup:function(e){return t.valueUpdated("mouseup",e)},select:function(e){return t.valueUpdated("select",e)}},nativeOn:{input:function(e){return t.valueUpdated("input",e)}}},[n("div",{staticClass:"prepend-placeholder",attrs:{slot:"prepend"},slot:"prepend"}),n("div",{staticClass:"status-icon-wrapper",attrs:{slot:"append-outer"},slot:"append-outer"},[t.valid?n("v-icon",{staticClass:"status-icon",attrs:{large:""}},[t._v("check_circle")]):n("v-icon",{staticClass:"status-icon",attrs:{large:""}},[t._v("error")])],1)]),n("span",{staticClass:"token-symbol",class:{light:t.light}},[t._v(t._s(t.token.symbol||"TKN"))])],1)},r=[],s=n("d225"),o=n("b0b4"),c=n("308d"),l=n("6bb5"),u=n("4e2b"),d=n("9ab4"),h=n("60a3"),p=n("a3d5"),f=a=function(t){function e(){var t;return Object(s["a"])(this,e),t=Object(c["a"])(this,Object(l["a"])(e).apply(this,arguments)),t.valid=!0,t.amount="0.00",t.rules=[function(t){return!!t||"The amount cannot be empty"},function(e){return!t.limit||t.noDecimalOverflow(e)||"The token supports only up to ".concat(t.token.decimals," decimals")},function(e){return!t.limit||t.hasEnoughBalance(e)||"Insufficient balance"}],t.oldValue="0.00",t.oldSelectionStart=0,t.oldSelectionEnd=0,t}return Object(u["a"])(e,t),Object(o["a"])(e,[{key:"noDecimalOverflow",value:function(t){return t&&a.numericRegex.test(t)&&!p["a"].decimalsOverflow(t,this.token)}},{key:"hasEnoughBalance",value:function(t){return t&&a.numericRegex.test(t)&&!p["a"].decimalsOverflow(t,this.token)&&p["a"].hasBalance(t,this.token)}},{key:"mounted",value:function(){this.amount=this.oldValue=this.value}},{key:"valueUpdated",value:function(t,e){var n=e.target,i=n.value;if(this.$refs.input){var r=this.$refs.input;this.valid=r.valid}a.numericRegex.test(i)?(this.$emit(t,i),this.oldValue=i,this.oldSelectionStart=n.selectionStart,this.oldSelectionEnd=n.selectionEnd):(n.value=this.oldValue,this.oldSelectionStart&&this.oldSelectionEnd&&n.setSelectionRange(this.oldSelectionStart,this.oldSelectionEnd))}}]),e}(h["e"]);f.numericRegex=/^\d*[.,]?\d*$/,d["a"]([Object(h["d"])({required:!1})],f.prototype,"label",void 0),d["a"]([Object(h["d"])({})],f.prototype,"disabled",void 0),d["a"]([Object(h["d"])({default:"0.00"})],f.prototype,"value",void 0),d["a"]([Object(h["d"])()],f.prototype,"token",void 0),d["a"]([Object(h["d"])({default:!1,type:Boolean})],f.prototype,"limit",void 0),d["a"]([Object(h["d"])({default:!1,type:Boolean})],f.prototype,"light",void 0),d["a"]([Object(h["d"])({default:!1,type:Boolean})],f.prototype,"padded",void 0),f=a=d["a"]([Object(h["a"])({})],f);var v=f,b=v,m=(n("040f"),n("2877")),g=n("6544"),y=n.n(g),k=n("132d"),w=n("2677"),x=Object(m["a"])(b,i,r,!1,null,"6bf0abcd",null);e["a"]=x.exports;y()(x,{VIcon:k["a"],VTextField:w["a"]})},eed7:function(t,e,n){},f559:function(t,e,n){"use strict";var a=n("5ca1"),i=n("9def"),r=n("d2c8"),s="startsWith",o=""[s];a(a.P+a.F*n("5147")(s),"String",{startsWith:function(t){var e=r(this,t,s),n=i(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),a=String(t);return o?o.call(e,a,n):e.slice(n,n+a.length)===a}})},fc09:function(t,e,n){"use strict";n.d(e,"a",function(){return s});n("f559");var a=n("d225"),i=n("b0b4"),r=n("e7ea"),s=function(){function t(){Object(a["a"])(this,t)}return Object(i["a"])(t,null,[{key:"isAddress",value:function(t){return/^(0x)?[0-9a-f]{40}$/i.test(t)}},{key:"checkAddressChecksum",value:function(t){try{return t===r["utils"].getAddress(t)}catch(e){return!1}}},{key:"isAddressLike",value:function(t){return t.startsWith("0x")}},{key:"isDomain",value:function(t){return/\b((?=[a-z0-9-]{1,63}\.)(xn--)?[a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,63}\b/.test(t)}}]),t}()}}]);
//# sourceMappingURL=chunk-2cd977a2.e3423547.js.map