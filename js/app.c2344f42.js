(function(e){function t(t){for(var r,a,c=t[0],s=t[1],u=t[2],l=0,f=[];l<c.length;l++)a=c[l],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&f.push(o[a][0]),o[a]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);p&&p(t);while(f.length)f.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,a=1;a<n.length;a++){var c=n[a];0!==o[c]&&(r=!1)}r&&(i.splice(t--,1),e=s(s.s=n[0]))}return e}var r={},a={app:0},o={app:0},i=[];function c(e){return s.p+"js/"+({}[e]||e)+"."+{"chunk-17a6e8db":"ffd569cf","chunk-0b5eed92":"831a13cd","chunk-0b901f51":"db54fc60","chunk-1b3da3cb":"2086c746","chunk-1d947ee2":"904cae5e","chunk-01c7a70c":"a9a903cf","chunk-2c58ae81":"1a8b2a85","chunk-71037595":"06f32cc1","chunk-037118b4":"b6d2a705","chunk-2bf280f1":"3204e275","chunk-7d2ee13d":"f6875ab4","chunk-df4d93b8":"6325a8f3","chunk-b36a244c":"5ac32e90","chunk-26feb7c8":"7f8e6889","chunk-3ad51e9c":"7927601b","chunk-e7f7fb88":"b78eb3ee","chunk-35d595fe":"caa35b4e","chunk-3eadbefa":"ae8d5e25","chunk-56c8da20":"2f1a561f","chunk-3730a74a":"19a4aa2b","chunk-4be5e7a4":"28961d62","chunk-5926bc0a":"9f4cbf79"}[e]+".js"}function s(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n={"chunk-17a6e8db":1,"chunk-0b5eed92":1,"chunk-0b901f51":1,"chunk-1b3da3cb":1,"chunk-1d947ee2":1,"chunk-01c7a70c":1,"chunk-2c58ae81":1,"chunk-71037595":1,"chunk-037118b4":1,"chunk-2bf280f1":1,"chunk-7d2ee13d":1,"chunk-df4d93b8":1,"chunk-b36a244c":1,"chunk-26feb7c8":1,"chunk-3ad51e9c":1,"chunk-e7f7fb88":1,"chunk-35d595fe":1,"chunk-5926bc0a":1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=new Promise((function(t,n){for(var r="css/"+({}[e]||e)+"."+{"chunk-17a6e8db":"5d83788e","chunk-0b5eed92":"2257e070","chunk-0b901f51":"46353ec5","chunk-1b3da3cb":"8afe453f","chunk-1d947ee2":"81034486","chunk-01c7a70c":"9b55b8ff","chunk-2c58ae81":"731ff5c8","chunk-71037595":"5c74075e","chunk-037118b4":"e6a3b9e9","chunk-2bf280f1":"ff5fe635","chunk-7d2ee13d":"b56042dd","chunk-df4d93b8":"a4bc3636","chunk-b36a244c":"27a7b577","chunk-26feb7c8":"fb72ceb0","chunk-3ad51e9c":"fa169327","chunk-e7f7fb88":"fc9f14b0","chunk-35d595fe":"351288b9","chunk-3eadbefa":"31d6cfe0","chunk-56c8da20":"31d6cfe0","chunk-3730a74a":"31d6cfe0","chunk-4be5e7a4":"31d6cfe0","chunk-5926bc0a":"feb5ece2"}[e]+".css",o=s.p+r,i=document.getElementsByTagName("link"),c=0;c<i.length;c++){var u=i[c],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===r||l===o))return t()}var f=document.getElementsByTagName("style");for(c=0;c<f.length;c++){u=f[c],l=u.getAttribute("data-href");if(l===r||l===o)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var r=t&&t.target&&t.target.src||o,i=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=r,delete a[e],p.parentNode.removeChild(p),n(i)},p.href=o;var d=document.getElementsByTagName("head")[0];d.appendChild(p)})).then((function(){a[e]=0})));var r=o[e];if(0!==r)if(r)t.push(r[2]);else{var i=new Promise((function(t,n){r=o[e]=[t,n]}));t.push(r[2]=i);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,s.nc&&l.setAttribute("nonce",s.nc),l.src=c(e);var f=new Error;u=function(t){l.onerror=l.onload=null,clearTimeout(p);var n=o[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;f.message="Loading chunk "+e+" failed.\n("+r+": "+a+")",f.name="ChunkLoadError",f.type=r,f.request=a,n[1](f)}o[e]=void 0}};var p=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(t)},s.m=e,s.c=r,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/",s.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var f=0;f<u.length;f++)t(u[f]);var p=l;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"0444":function(e,t,n){},"05eb":function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e["OPENED"]="OPENED",e["APPROVED"]="APPROVED",e["DEPOSITED"]="DEPOSITED",e["CONFIRMED"]="CONFIRMED"}(r||(r={}))},"0602":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("2111"),a=r["x"]([r["s"],r["n"],r["e"],r["m"]],"CapsPrimitive"),o=r["x"]([a,r["d"](a)],"CapsValue"),i=r["p"](r["r"](r["s"],o),"Caps")},"0862":function(e,t,n){"use strict";n.d(t,"c",(function(){return g})),n.d(t,"b",(function(){return w})),n.d(t,"f",(function(){return _})),n.d(t,"e",(function(){return k})),n.d(t,"a",(function(){return E})),n.d(t,"d",(function(){return T}));var r=n("cefa"),a=n("58da"),o=n("8df4"),i=n("4377"),c=n("427e"),s=n.n(c),u=n("2b5b"),l=n("46f7"),f=n("d890");function p(e,t){return m(e)||h(e,t)||b(e,t)||d()}function d(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function b(e,t){if(e){if("string"===typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)if(n.push(i.value),t&&n.length===t)break}catch(s){a=!0,o=s}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return n}}function m(e){if(Array.isArray(e))return e}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=s()((function(e){return e.pipe(Object(r["a"])(f["matrixPresence"].success.is),Object(a["a"])((function(e,t){return O(O({},e),{},j({},t.meta.address,t))}),{}),Object(o["a"])(),Object(i["a"])({}))}));function w(e,t){return Object.values(e).find((function(e){return e.payload.userId===t}))}function _(e){for(var t=new URL("mxc://raiden.network/cap"),n=function(e,n){return t.searchParams.append(e,n)},r=0,a=Object.entries(e);r<a.length;r++){var o=p(a[r],2),i=o[0],c=o[1];Array.isArray(c)?c.forEach(n.bind(null,i)):n(i,c)}return t.href}function k(e){if(e){var t={};try{var n=new URL(e);return n.searchParams.forEach((function(e,n){var r=e;if(/^\d+$/.test(e))r=Object(l["b"])(e);else{var a=e.toLowerCase();"none"===a||"null"===a?r=null:"false"===a?r=!1:"true"===a&&(r=!0)}if(n in t){var o=t[n];Array.isArray(o)||(t[n]=o=[o]),o.push(r)}else t[n]=r})),t}catch(r){}}}function E(e,t){var n;return null!==(n=null===e||void 0===e?void 0:e[t])&&void 0!==n?n:u["b"][t]}function T(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.sort((function(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())}))}},"0a08":function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.show?n("div",{staticClass:"blurred-overlay",class:{fullscreen:e.fullscreen}},[e._t("default")],2):e._e()},a=[],o=n("9ab4"),i=n("5cf9");function c(e){return c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function f(e){var t=b();return function(){var n,r=y(e);if(t){var a=y(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){return!t||"object"!==c(t)&&"function"!==typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}var h=function(e){u(n,e);var t=f(n);function n(){return s(this,n),t.apply(this,arguments)}return n}(i["e"]);Object(o["a"])([Object(i["d"])({type:Boolean,required:!0})],h.prototype,"show",void 0),Object(o["a"])([Object(i["d"])({required:!1,default:!1,type:Boolean})],h.prototype,"fullscreen",void 0),h=Object(o["a"])([Object(i["a"])({})],h);var m=h,v=m,O=(n("71a0"),n("a6c2")),j=Object(O["a"])(v,r,a,!1,null,"2c6136c2",null);t["a"]=j.exports},"0ba5":function(e,t,n){"use strict";var r=n("5778");n.d(t,"a",(function(){return r["d"]})),n.d(t,"b",(function(){return r["e"]})),n.d(t,"c",(function(){return r["i"]})),n.d(t,"d",(function(){return r["j"]})),n.d(t,"e",(function(){return r["k"]}));var a=n("7de2");n.d(t,"f",(function(){return a["b"]})),n.d(t,"g",(function(){return a["e"]})),n.d(t,"h",(function(){return a["g"]})),n.d(t,"i",(function(){return a["h"]}))},"0bc3":function(e,t,n){},"0bd4":function(e,t,n){"use strict";n("a520")},"0c26":function(e,t,n){"use strict";n("3b18")},"0d3e":function(e,t,n){},"0dd2":function(e,t,n){e.exports=n.p+"img/back_arrow.268247fb.svg"},"0f75":function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n("e832"),a=n("c010"),o=n.n(a),i=n("7fcc"),c=n.n(i),s=n("a3d5");function u(e,t){return b(e)||d(e,t)||f(e,t)||l()}function l(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(e,t){if(e){if("string"===typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)if(n.push(i.value),t&&n.length===t)break}catch(s){a=!0,o=s}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return n}}function b(e){if(Array.isArray(e))return e}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t,n){return t&&h(e.prototype,t),n&&h(e,n),e}var v=function(){function e(){y(this,e)}return m(e,null,[{key:"truncate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12;if(!e)return"";var n="...";if(e.length<=t)return e;var r=Math.floor(t/2);return e.substr(0,r)+n+e.substr(e.length-r)}},{key:"decimals",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return parseFloat(e).toFixed(t)}},{key:"upper",value:function(e){return e?e.toLocaleUpperCase():""}},{key:"displayFormat",value:function(t,n){var r=s["a"].toUnits(t,null!==n&&void 0!==n?n:18),a=parseFloat(r);return 0===a?0===n?"0":"0.0":a<1e-6?"<0.000001":e.formatValue(r,n)}},{key:"formatValue",value:function(e,t){var n=o()(e,"."),r=u(n,2),a=r[0],i=r[1];if(i&&i.length>6){var c=i.substring(0,6);return"≈".concat(a,".").concat(c)}return 0===t?a:e}},{key:"capitalizeFirst",value:function(e){return c()(e)}},{key:"upperCase",value:function(e){return e.toUpperCase()}}]),e}();v.toUnits=function(e,t){return s["a"].toUnits(e,null!==t&&void 0!==t?t:18)},v.formatDate=function(e){return"".concat(new Intl.DateTimeFormat("en-US").format(e)," ").concat(e.toLocaleTimeString("en-US"))},r["a"].filter("truncate",v.truncate),r["a"].filter("decimals",v.decimals),r["a"].filter("upper",v.upper),r["a"].filter("displayFormat",v.displayFormat),r["a"].filter("capitalizeFirst",v.capitalizeFirst),r["a"].filter("upperCase",v.upperCase),r["a"].filter("toUnits",v.toUnits),r["a"].filter("formatDate",v.formatDate)},"0ff6":function(e){e.exports=JSON.parse('{"contracts_version":null,"chain_id":4,"contracts":{"ServiceRegistry":{"address":"0xe44921f1F63B6369A1Ef0Ae497b2620D68C40f3C","transaction_hash":"0xd9d8ac1821c2f4ac47af6f44e3c2e6da49fae8acac936e851dd21833e86684f9","block_number":6515467,"gas_cost":1999628,"constructor_arguments":["0x2488C9445b405E0fbbD60e89813f8b8652973737","0x062C12c01D0f17fC9eAa33940D994594d91a0182",2e+21,6,5,17280000,1000,15552000]},"UserDeposit":{"address":"0x9d87E6E25029dAa79E064Db04f3Dc1a785025FcE","transaction_hash":"0xfdefb83579530c6bc54f732a9d15a8c8e8bff3f88e85b6fbbcb1ffc55f8ff0de","block_number":6515468,"gas_cost":1530470,"constructor_arguments":["0x2488C9445b405E0fbbD60e89813f8b8652973737",1.157920892373162e+77]},"MonitoringService":{"address":"0x9D5fF7860dcFc1EB6bCF230D911Fe0df0f8C0e31","transaction_hash":"0x21fbe2880e3168989a1f53cec9e83e765e00aa0f43eded08612caefc7359ba9b","block_number":6515469,"gas_cost":1949901,"constructor_arguments":["0x2488C9445b405E0fbbD60e89813f8b8652973737","0xe44921f1F63B6369A1Ef0Ae497b2620D68C40f3C","0x9d87E6E25029dAa79E064Db04f3Dc1a785025FcE","0xC1e1F66c196738E6E38728Cac797E658631C8580"]},"OneToN":{"address":"0xd392CE4c8A44d3D22c24a2812EF7c11e27F3E194","transaction_hash":"0xb41df6abc165200fe335d23008ef82e6febb948984fc6df3d35d473fcd439af7","block_number":6515470,"gas_cost":1097797,"constructor_arguments":["0x9d87E6E25029dAa79E064Db04f3Dc1a785025FcE",4,"0xe44921f1F63B6369A1Ef0Ae497b2620D68C40f3C"]}}}')},1:function(e,t){},"11f2":function(e,t,n){},1273:function(e,t,n){"use strict";n("11f2")},"12bc":function(e,t,n){},"152b":function(e,t,n){"use strict";var r=n("9ab4"),a=n("5cf9"),o=n("80bf");function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function l(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function p(e){var t=y();return function(){var n,r=h(e);if(t){var a=h(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){return!t||"object"!==i(t)&&"function"!==typeof t?b(e):t}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}var m=function(e){l(n,e);var t=p(n);function n(){return c(this,n),t.apply(this,arguments)}return u(n,[{key:"navigateToSelectHub",value:function(e){this.$router.push({name:o["a"].SELECT_HUB,params:{token:e}})}},{key:"navigateToHome",value:function(){this.$router.push({name:o["a"].HOME})}},{key:"navigateToTransfer",value:function(e){this.$router.push({name:o["a"].TRANSFER,params:{token:e}})}},{key:"navigateToOpenChannel",value:function(e,t){this.$router.push({name:o["a"].OPEN_CHANNEL,params:{token:e,partner:t}})}},{key:"navigateToChannels",value:function(e){this.$router.push({name:o["a"].CHANNELS,params:{token:e}})}},{key:"navigateToSelectTransferTarget",value:function(e,t,n){var r={name:o["a"].TRANSFER,params:{token:e},query:{}};t&&n&&(r.query={target:t,amount:n}),this.$router.push(r)}},{key:"navigateToTokenSelect",value:function(){this.$router.push({name:o["a"].SELECT_TOKEN})}},{key:"navigateToTransferSteps",value:function(e,t,n){this.$router.push({name:o["a"].TRANSFER_STEPS,params:{token:e,target:t},query:{amount:n}})}},{key:"navigateToNotifications",value:function(){this.$router.push({name:o["a"].NOTIFICATIONS})}},{key:"navigateToAccount",value:function(){this.$router.push({name:o["a"].ACCOUNT_ROOT})}},{key:"navigateToBackupState",value:function(){this.$router.push({name:o["a"].ACCOUNT_BACKUP})}},{key:"navigateToRaidenAccountTransfer",value:function(){this.$router.push({name:o["a"].ACCOUNT_RAIDEN})}},{key:"navigateToSettings",value:function(){this.$router.push({name:o["a"].ACCOUNT_SETTINGS})}},{key:"navigateToWithdrawal",value:function(){this.$router.push({name:o["a"].ACCOUNT_WITHDRAWAL})}},{key:"navigateToUDC",value:function(){this.$router.push({name:o["a"].ACCOUNT_UDC})}},{key:"onModalBackClicked",value:function(){this.$router.go(-1)}},{key:"onBackClicked",value:function(){switch(this.$route.name){case o["a"].TRANSFER_STEPS:this.navigateToSelectTransferTarget(this.$route.params.token,this.$route.params.target,this.$route.params.amount);break;case o["a"].CHANNELS:this.navigateToTransfer(this.$route.params.token);break;case o["a"].SELECT_TOKEN:this.$router.go(-1);break;case o["a"].SELECT_HUB:this.navigateToTokenSelect();break;case o["a"].OPEN_CHANNEL:this.navigateToSelectHub(this.$route.params.token);break;default:break}}}]),n}(a["e"]);m=Object(r["a"])([a["a"]],m),t["a"]=m},"18cb":function(e,t,n){e.exports=n.p+"img/channels_info.76c17597.svg"},1924:function(e,t,n){e.exports=n.p+"img/backup_state_info.0f9ae539.svg"},"1a78":function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return p})),n.d(t,"c",(function(){return r}));var r,a=n("2111"),o=n("48a3"),i=n.n(o),c=n("5778"),s=n("ca14"),u={SENT:"sent",RECEIVED:"received"},l=a["k"](i()(u)),f=a["p"](a["j"]([a["v"]({_id:a["s"],channel:a["s"],direction:l,secrethash:s["c"],expiration:a["n"],transfer:Object(s["i"])(Object(s["h"])(c["b"])),fee:Object(s["d"])(32),partner:s["a"],cleared:a["n"]},"TransferStateBase"),a["o"]({secret:s["f"],secretRegistered:Object(s["i"])(a["v"]({txHash:s["c"],txBlock:a["n"]})),transferProcessed:Object(s["i"])(Object(s["h"])(c["e"])),channelClosed:Object(s["i"])(a["v"]({txHash:s["c"],txBlock:a["n"]})),channelSettled:Object(s["i"])(a["v"]({txHash:s["c"],txBlock:a["n"]})),secretRequest:Object(s["i"])(Object(s["h"])(c["f"])),secretReveal:Object(s["i"])(Object(s["h"])(c["g"])),unlock:Object(s["i"])(Object(s["h"])(c["h"])),expired:Object(s["i"])(Object(s["h"])(c["a"])),unlockProcessed:Object(s["i"])(Object(s["h"])(c["e"])),expiredProcessed:Object(s["i"])(Object(s["h"])(c["e"]))},"TransferStateOpts")])),p=f;(function(e){e["pending"]="PENDING",e["received"]="RECEIVED",e["closed"]="CLOSED",e["requested"]="REQUESTED",e["revealed"]="REVEALED",e["registered"]="REGISTERED",e["unlocking"]="UNLOCKING",e["expiring"]="EXPIRING",e["unlocked"]="UNLOCKED",e["expired"]="EXPIRED"})(r||(r={}))},"1a83":function(e,t,n){"use strict";n("0444")},"1a92":function(e,t,n){},"1b23":function(e,t,n){"use strict";n.d(t,"b",(function(){return S})),n.d(t,"a",(function(){return P})),n.d(t,"d",(function(){return N})),n.d(t,"c",(function(){return R}));var r=n("36d8"),a=n.n(r),o=n("331d"),i=n("ae8f"),c=n("42f4"),s=n("a489"),u=n("0fda"),l=n("daae"),f=n("258b"),p=n("423d"),d=n("4cf1"),b=n("ae0c"),y=n("18df"),h=n("43a7"),m=n("58be");function v(e){return w(e)||g(e)||j(e)||O()}function O(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function j(e,t){if(e){if("string"===typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,t):void 0}}function g(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function w(e){if(Array.isArray(e))return _(e)}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){T(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function A(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){x(o,r,a,i,c,"next",e)}function c(e){x(o,r,a,i,c,"throw",e)}i(void 0)}))}}function S(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e5,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e3,u=t.fromBlock,h=t.toBlock;return Object(o["a"])((function(){var m=u,v=n,O=3;return Object(o["a"])(A(a.a.mark((function n(){return a.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",e.getLogs(E(E({},t),{},{fromBlock:m,toBlock:Math.min(m+v-1,h)})));case 1:case"end":return n.stop()}}),n)})))).pipe(Object(l["a"])({complete:function(){return m+=v},error:function(){v=Math.round(v/2),v<r&&(v=r,O--)}}),Object(f["a"])((function(e){return Object(i["a"])(e)})),Object(p["a"])((function(t){return O>=0?Object(c["a"])(e.pollingInterval).pipe(Object(d["a"])()):Object(s["a"])(t)})),Object(b["a"])((function(e){return e.pipe(Object(y["a"])((function(){return m<=h})))})))}))}function P(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,r=arguments.length>3?arguments[3]:void 0;if("string"===typeof t||Array.isArray(t))return Object(u["a"])((function(n){return e.on(t,n)}),(function(n){return e.removeListener(t,n)}));var a=2*n,i=[];return Object(o["a"])((function(){if(!r){var t=e._lastBlockNumber,a=e.blockNumber;t=t&&t>0?t:a&&a>0?a:1,r=t-n}return i.splice(0,i.length,r),P(e,"block")})).pipe(Object(h["a"])(Math.ceil(e.pollingInterval/10)),Object(m["a"])((function(r){return S(e,E(E({},t),{},{fromBlock:i[0],toBlock:r})).pipe(Object(l["a"])({next:function(e){if(e.blockNumber&&!(e.blockNumber+n>r)){var t=e.blockNumber+1,a=i.findIndex((function(e){return e>t}));a&&(a<0&&(a=i.length),i.splice(0,a,t))}},complete:function(){while(i.length>=a)i.shift();i.push(r+1)}}))})))}function N(e,t){var n=function(t){var n=e.interface.parseLog(t);if(!0!==t.removed&&n){var r=E(E(E({},t),n),{},{removeListener:function(){},getBlock:function(){return e.provider.getBlock(t.blockHash)},getTransaction:function(){return e.provider.getTransaction(t.transactionHash)},getTransactionReceipt:function(){return e.provider.getTransactionReceipt(t.transactionHash)}});return[].concat(v(n.args),[r])}};return void 0!==t?n(t):n}function R(e){return"unknown"===e.name?e.chainId.toString():"homestead"===e.name?"mainnet":e.name}},"1f0b":function(e){e.exports=JSON.parse('{"contracts_version":null,"chain_id":1,"contracts":{"ServiceRegistry":{"address":"0xa80aEc9eebD8058A1468e563C025999590F32C08","transaction_hash":"0x5aea719cdc67247db8f24da779a3cf817daab629ad2f743bf4c6b0b067339804","block_number":10095929,"gas_cost":1999694,"constructor_arguments":["0x255Aa6DF07540Cb5d3d297f0D0D4D84cb52bc8e6","0xbBF11c2f66E1887681C902095CEfB1018C854c0f",8.420485356775965e+21,5,4,2836573,842048535677596500000,15552000]},"UserDeposit":{"address":"0x1c62fF66aF8aaD410065E02338F5bFbbe23e1f10","transaction_hash":"0xa810cc5afd8eef2f056fe8d9895b32b81927d76643d8965aaa40d2e24d63dc97","block_number":10095932,"gas_cost":1530140,"constructor_arguments":["0x255Aa6DF07540Cb5d3d297f0D0D4D84cb52bc8e6",8.420485356775965e+23]},"MonitoringService":{"address":"0x727DDdBD042d891180A252C7A20634a696A16925","transaction_hash":"0x8404ad70bd1a42ad0bf27c41d720a78ebdc0a8c23621f479ca1f700773ddfc03","block_number":10095941,"gas_cost":1949835,"constructor_arguments":["0x255Aa6DF07540Cb5d3d297f0D0D4D84cb52bc8e6","0xa80aEc9eebD8058A1468e563C025999590F32C08","0x1c62fF66aF8aaD410065E02338F5bFbbe23e1f10","0x6d07A2ef8De5d7D48337510BCEb9FEEa5424b20c"]},"OneToN":{"address":"0x960f01E9E219E1c8564784a050fD1cA51651592D","transaction_hash":"0xd775a9e8b2baa0005d84cc9d0ff5efa627163e80b05d53712a5b19b44b552836","block_number":10095943,"gas_cost":1097785,"constructor_arguments":["0x1c62fF66aF8aaD410065E02338F5bFbbe23e1f10",1,"0xa80aEc9eebD8058A1468e563C025999590F32C08"]}}}')},2:function(e,t){},2175:function(e,t,n){},"233e":function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"header-identicon"},[n("v-img",{class:{"header-identicon__blockie":e.defaultAccount,"header-identicon__blockie header-identicon__blockie__grayscale":!e.defaultAccount},attrs:{src:e.$blockie(e.defaultAccount),contain:"","aspect-ratio":"1"}})],1)},a=[],o=n("9ab4"),i=n("5cf9"),c=n("94ea"),s=n("77fd");function u(e){return u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}function y(e,t){return y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},y(e,t)}function h(e){var t=O();return function(){var n,r=j(e);if(t){var a=j(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return m(this,n)}}function m(e,t){return!t||"object"!==u(t)&&"function"!==typeof t?v(e):t}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function j(e){return j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},j(e)}var g=function(e){b(n,e);var t=h(n);function n(){return d(this,n),t.apply(this,arguments)}return n}(Object(i["c"])(s["a"]));g=Object(o["a"])([Object(i["a"])({computed:f({},Object(c["e"])(["defaultAccount"]))})],g);var w=g,_=w,k=(n("1a83"),n("a6c2")),E=n("411c"),T=n.n(E),x=n("1331"),A=Object(k["a"])(_,r,a,!1,null,"18cb3a6d",null);t["a"]=A.exports;T()(A,{VImg:x["a"]})},"2b5b":function(e,t,n){"use strict";n.d(t,"f",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"e",(function(){return c})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return f})),n.d(t,"d",(function(){return p}));var r,a=n("b97c"),o=n("6da0");function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c,s,u=Object(a["h"])([],65),l=Object(o["a"])([]);(function(e){e["STOP"]="raidenStopped",e["ACCOUNT_CHANGED"]="providerAccountChanged",e["NETWORK_CHANGED"]="providerNetworkChanged"})(c||(c={})),function(e){e["DELIVERY"]="Delivery",e["RECEIVE"]="Receive",e["MEDIATE"]="Mediate",e["WEBRTC"]="webRTC",e["TO_DEVICE"]="toDevice"}(s||(s={}));var f=(r={},i(r,s.DELIVERY,1),i(r,s.RECEIVE,1),i(r,s.MEDIATE,1),i(r,s.WEBRTC,0),i(r,s.TO_DEVICE,0),r),p="RAIDEN"},"31a7":function(e){e.exports=JSON.parse('{"contracts_version":null,"chain_id":4,"contracts":{"SecretRegistry":{"address":"0x84df710E901299486F120B06e85b9f22AF913387","transaction_hash":"0x3bf1a9f9f03720a51c593d466c007a65d69c1ca197ac4b572ba9d689773936d3","block_number":6515460,"gas_cost":247286,"constructor_arguments":[]},"TokenNetworkRegistry":{"address":"0xC1e1F66c196738E6E38728Cac797E658631C8580","transaction_hash":"0x0072b99e7cac9134c5769044c9d7d4bafa32cad2a95afaaa3c10b30a8493ddb7","block_number":6515461,"gas_cost":4001594,"constructor_arguments":["0x84df710E901299486F120B06e85b9f22AF913387",4,20,555428,1.157920892373162e+77]}},"token_networks":[{"token_network_address":"0x5CEd7CfC56B4249296108B00DbA70b1b903371D8","constructor_arguments":{"_token_address":"0xD7bB0F9D05766c0149C1A3BE14c634310C4B7719","_secret_registry":"0x84df710E901299486F120B06e85b9f22AF913387","_chain_id":4,"_settlement_timeout_min":20,"_settlement_timeout_max":555428,"_deprecation_executor":"0x062C12c01D0f17fC9eAa33940D994594d91a0182","_channel_participant_deposit_limit":1.157920892373162e+77,"_token_network_deposit_limit":1.157920892373162e+77}}]}')},"325b":function(e,t,n){"use strict";n.d(t,"e",(function(){return M})),n.d(t,"c",(function(){return B})),n.d(t,"f",(function(){return F})),n.d(t,"h",(function(){return V})),n.d(t,"g",(function(){return $})),n.d(t,"i",(function(){return H})),n.d(t,"a",(function(){return q})),n.d(t,"d",(function(){return K})),n.d(t,"j",(function(){return G})),n.d(t,"b",(function(){return X}));var r=n("97a5"),a=n("42f4"),o=n("a489"),i=n("331d"),c=n("35dc"),s=n("dae3"),u=n("4a9c"),l=n("769c"),f=n("258b"),p=n("58da"),d=n("cefa"),b=n("ae0c"),y=n("7f4a"),h=n("18df"),m=n("25cb"),v=n("231d"),O=n("daae"),j=n("dfba"),g=n("4cf1"),w=n("a00b"),_=n("84d4"),k=n("319d"),E=n("534d"),T=n("459b"),x=n("ca14"),A=n("ee6c");function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R(e,t){return L(e)||U(e,t)||I(e,t)||D()}function D(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function I(e,t){if(e){if("string"===typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?C(e,t):void 0}}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function U(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)if(n.push(i.value),t&&n.length===t)break}catch(s){a=!0,o=s}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return n}}function L(e){if(Array.isArray(e))return e}var M=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return e.pipe(u["a"].apply(void 0,t),Object(l["a"])())}};function B(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e,t){return e===t};return function(t){return t.pipe(Object(l["a"])(),Object(f["a"])((function(e){return Object(r["a"])(e)})),Object(p["a"])((function(t,n){var r=t.acc,a=R(n,2),o=a[0],i=a[1];return e(r[o],i)?{acc:r}:{acc:P(P({},r),{},N({},o,i)),changed:[o,i]}}),{acc:{}}),Object(u["a"])("changed"),Object(d["a"])(x["n"]))}}function F(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e4;return function(n){return n.pipe(Object(b["a"])((function(e){return e.pipe(Object(y["a"])((function(){if("number"===typeof t)return t;var e=t.next();return e.done?-1:e.value})),Object(h["a"])((function(e){return e>=0})),Object(m["a"])((function(e){return Object(a["a"])(e)})))})),Object(v["a"])(e))}}function W(e){return Symbol.iterator in e}function V(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(r){return r.pipe(Object(O["a"])((function(){return t=void 0})),Object(j["a"])((function(r){return r.pipe(Object(f["a"])((function(r,i){var c,s,u;if("number"===typeof e)u=e;else{t||(t=W(e)?e[Symbol.iterator]():e);var l=t.next();u=l.done?-1:l.value}var f=u>=0;return 0!==n.maxRetries&&f&&(f=i<(null!==(c=n.maxRetries)&&void 0!==c?c:10)),n.onErrors&&f&&(f=Object(A["g"])(n.onErrors,r)),n.neverOnErrors&&f&&(f=!Object(A["g"])(n.neverOnErrors,r)),n.predicate&&f&&(f=!!n.predicate(r,i)),n.stopPredicate&&f&&(f=!n.stopPredicate(r,i)),null===(s=n.log)||void 0===s||s.call(n,"retryWhile: ".concat(f?"retrying":"giving up"),{count:i,interval:u,error:r}),f?Object(a["a"])(u):Object(o["a"])(r)})))})))}}function $(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Object(i["a"])(e).pipe(V.apply(void 0,n))}function H(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.pipe(Object(y["a"])((function(e){return t?!e:!!e})),Object(l["a"])());return function(e){return e.pipe(Object(v["a"])(n.pipe(Object(d["a"])((function(e){return!e})))),Object(b["a"])((function(){return n.pipe(Object(d["a"])((function(e){return e})))})),q(e))}}function q(e,t){return function(n){var r=n.pipe(Object(v["a"])(e.pipe(Object(g["a"])(),Object(w["a"])(null))));return void 0!==t&&(r=r.pipe(Object(_["a"])(t))),r}}function K(e){return function(t){return t.pipe(Object(k["a"])(void 0,null),Object(f["a"])(e))}}function G(e){return function(t){return Object(c["a"])(Object(a["a"])(e).pipe(Object(E["a"])(Object(o["a"])(new Error("timeout waiting first")))),t)}}function X(e,t){return function(n){var r=[];return n.pipe(Object(O["a"])((function(e){return r.push(e)})),Object(T["a"])((function(){return Object(i["a"])((function(){return r.length?e(r.splice(0,null!==t&&void 0!==t?t:r.length)):s["a"]}))})))}}},"358d":function(e,t,n){"use strict";n.d(t,"a",(function(){return F})),n.d(t,"c",(function(){return V})),n.d(t,"d",(function(){return $})),n.d(t,"b",(function(){return H})),n.d(t,"e",(function(){return q}));var r=n("36d8"),a=n.n(r),o=n("2111"),i=n("34ba"),c=n("ae8f"),s=n("dae3"),u=n("dd00"),l=n("258b"),f=n("7225"),p=n("7f4a"),d=n("423d"),b=n("94e7"),y=n("8509"),h=n("b97c"),m=n("427e"),v=n.n(m),O=n("325b"),j=n("ee6c"),g=n("ca14"),w=n("46f7"),_=n("0862"),k=n("b8ff"),E=n("8120"),T=n("7de2"),x=n("2b5b"),A=n("8089");function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R(e,t){return L(e)||U(e,t)||I(e,t)||D()}function D(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function I(e,t){if(e){if("string"===typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?C(e,t):void 0}}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function U(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)if(n.push(i.value),t&&n.length===t)break}catch(s){a=!0,o=s}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return n}}function L(e){if(Array.isArray(e))return e}function M(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function B(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){M(o,r,a,i,c,"next",e)}function c(e){M(o,r,a,i,c,"throw",e)}i(void 0)}))}}function F(e,t,n,r,a,o){if(!(r in t)||!t[r].payload.available)return'path: partner "'.concat(r,'" not available in transport');if(a!==r&&!Object(_["a"])(t[r].payload.caps,x["a"].MEDIATE))return'path: partner "'.concat(r,"\" doesn't mediate transfers");var i=e.channels[Object(E["d"])({tokenNetwork:n,partner:r})];if(!i)return"path: there's no direct channel with partner \"".concat(r,'"');if(i.state!==k["b"].open)return'path: channel with "'.concat(r,'" in state "').concat(i.state,'" instead of "').concat(k["b"].open,'"');var c=Object(E["c"])(i),s=c.ownCapacity;return!s.lt(o)||'path: channel with "'.concat(r,"\" doesn't have enough capacity=").concat(s.toString())}var W=v()(function(){var e=B(a.a.mark((function e(t,n){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(O["g"])((function(){return t.callStatic.token()}),n,{onErrors:j["h"]}).toPromise());case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());function V(e,t){var n=t.serviceRegistryContract,r=t.network,c=t.contractsInfo,s=t.provider,d=t.config$,b=o["v"]({message:o["s"],network_info:o["v"]({chain_id:o["l"](r.chainId),token_network_registry_address:o["l"](c.TokenNetworkRegistry.address)}),operator:o["s"],payment_address:g["a"],price_info:Object(g["j"])(32),version:o["s"]}),h=g["a"].is(e)?Object(O["g"])((function(){return n.callStatic.urls(e)}),s.pollingInterval,{onErrors:j["h"]}):Object(i["a"])(e);return h.pipe(Object(u["a"])(d),Object(l["a"])((function(e){var t=R(e,2),r=t[0],o=t[1],i=o.httpTimeout,c=o.pfsMaxFee;if(!r)throw new j["c"](j["b"].PFS_EMPTY_URL);if(!Object(A["j"])(r))throw new j["c"](j["b"].PFS_INVALID_URL,{url:r});r.startsWith("https://")||r.startsWith("http://")||(r="https://".concat(r));var u=Date.now();return Object(y["a"])(r+"/api/v1/info").pipe(Object(f["a"])(i),Object(l["a"])(function(){var e=B(a.a.mark((function e(t){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=g["l"],e.t1=b,e.t2=w["b"],e.next=5,t.text();case 5:return e.t3=e.sent,e.t4=(0,e.t2)(e.t3),e.t5=(0,e.t0)(e.t1,e.t4),e.next=10,W(n,s.pollingInterval);case 10:return e.t6=e.sent,e.abrupt("return",[e.t5,e.t6]);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(p["a"])((function(e){var t=R(e,2),n=t[0],a=t[1];return Object(j["d"])(n.price_info.lte(c),[j["b"].PFS_TOO_EXPENSIVE,{price:n.price_info.toString()}]),{address:n.payment_address,url:r,rtt:Date.now()-u,price:n.price_info,token:a}})))})))}function $(e,t){var n=t.log;return Object(c["a"])(e).pipe(Object(l["a"])((function(e){return V(e,t).pipe(Object(d["a"])((function(t){return n.warn('Error trying to fetch PFS info for "'.concat(e,'" - ignoring:'),t),s["a"]})))}),5),Object(b["a"])(),Object(p["a"])((function(e){if(!e.length)throw new j["c"](j["b"].PFS_INVALID_INFO);return e.sort((function(e,t){var n=e.price.sub(t.price);return n.lt(0)?-1:n.gt(0)?1:e.rtt-t.rtt}))})))}function H(e){return Object(h["b"])([Object(w["a"])(e.one_to_n_address,20),Object(w["a"])(e.chain_id,32),Object(w["a"])(T["a"].IOU,32),Object(w["a"])(e.sender,20),Object(w["a"])(e.receiver,20),Object(w["a"])(e.amount,32),Object(w["a"])(e.expiration_block,32)])}function q(e,t){return K.apply(this,arguments)}function K(){return K=B(a.a.mark((function e(t,n){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t.signMessage(H(n)).then((function(e){return P(P({},n),{},{signature:e})})));case 1:case"end":return e.stop()}}),e)}))),K.apply(this,arguments)}},"38d1":function(e,t,n){},"3a66":function(e,t,n){"use strict";n("631b")},"3b18":function(e,t,n){},"3f96":function(e,t,n){},"40b2":function(e,t,n){"use strict";n("5919"),n("823d");var r=n("111d"),a=n.n(r),o=n("b993"),i=n("178d"),c=a.a.methodFactory;Object.assign(a.a,{methodFactory:c}),o["logger"].setLevel(a.a.levels.DEBUG);var s=Object(i["getRequest"])();Object(i["request"])((function(e,t){var n=s(e,t),r=n.abort.bind(n);return Object.assign(n,{abort:function(){r(),t(new Error("aborted!"))}})})),"RTCPeerConnection"in globalThis||Object.assign(globalThis,n("d4a7"))},"438d":function(e,t,n){"use strict";n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return y})),n.d(t,"d",(function(){return h})),n.d(t,"c",(function(){return m}));var r=n("36d8"),a=n.n(r),o=n("2023"),i=n("34ba"),c=n("cefa"),s=n("dd5b"),u=n("4cf1"),l=n("8173"),f=n("d276"),p=n("325b"),d=a.a.mark(b);function b(){var e,t,n,r,o=arguments;return a.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:e=o.length>0&&void 0!==o[0]?o[0]:1e3,t=o.length>1&&void 0!==o[1]?o[1]:6e4,n=o.length>2&&void 0!==o[2]?o[2]:1.4,r=e;case 4:return a.next=7,r;case 7:r=Math.min(t,Math.ceil(r*n)),a.next=4;break;case 10:case"end":return a.stop()}}),d)}function y(e,t,n){return Object(o["a"])(e.pipe(Object(c["a"])(n),Object(s["a"])(1),Object(u["a"])()),Object(i["a"])(t))}function h(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3e4;return y(t,e,Object(f["g"])(l["messageSend"],e.meta)).pipe(Object(p["f"])(n,r),Object(p["a"])(t))}function m(e,t){return function(n){return n.type===e&&(!t||n.expiration.eq(t.expiration)&&n.total_withdraw.eq("totalWithdraw"in t?t.totalWithdraw:t.total_withdraw))}}},"46f7":function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return b}));var r=n("87b8"),a=n("c00b"),o=n("699d"),i=n("b97c"),c=n("e64d"),s=n.n(c),u=n("ca14"),l=n("ee6c");function f(e,t){var n;if("boolean"===typeof e?e=e?r["c"]:r["f"]:"number"===typeof e&&(e=a["a"].from(e)),"string"!==typeof e||Object(i["l"])(e)||(e=Object(o["f"])(e)),Object(i["k"])(e)&&(e=Object(i["i"])(e)),u["b"].is(e)){if(e.lt(0))throw new l["c"](l["b"].DTA_NEGATIVE_NUMBER);if(e.gte(r["d"].pow(8*t)))throw new l["c"](l["b"].DTA_NUMBER_TOO_LARGE);n=Object(i["h"])(Object(i["i"])(e),t)}else{if("string"!==typeof e)throw new l["c"](l["b"].DTA_UNENCODABLE_DATA);if(Object(i["d"])(e)!==t)throw new l["c"](l["b"].DTA_ARRAY_LENGTH_DIFFERENCE);n=e}return n}var p=s()({storeAsString:!0}),d=p.parse,b=p.stringify},"49f8":function(e,t,n){var r={"./en.json":"edd4"};function a(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id="49f8"},"4cd4":function(e,t,n){e.exports=n.p+"img/notification_block.ad9b07ff.svg"},"4e0b":function(e){e.exports=JSON.parse('{"contracts_version":null,"chain_id":5,"contracts":{"ServiceRegistry":{"address":"0x3bc9C8d34f5714327095358668fD436D7c457C6C","transaction_hash":"0xcec06ceaf6c15357177391017580bb0debdec890eb745c192d137e9ac57678d5","block_number":2723632,"gas_cost":1999628,"constructor_arguments":["0x5Fc523e13fBAc2140F056AD7A96De2cC0C4Cc63A","0x062C12c01D0f17fC9eAa33940D994594d91a0182",2e+21,6,5,17280000,1000,15552000]},"UserDeposit":{"address":"0x0794F09913AA8C77C8c5bdd1Ec4Bb51759Ee0cC5","transaction_hash":"0x50508f3c0a34284cf45d1f710e7cfe1c09ee0635a44c3bb2a72227ac9c1f1802","block_number":2723633,"gas_cost":1530470,"constructor_arguments":["0x5Fc523e13fBAc2140F056AD7A96De2cC0C4Cc63A",1.157920892373162e+77]},"MonitoringService":{"address":"0x20e8e5181000e60799A523a2023d630868f378Fd","transaction_hash":"0x72080b163a9b759f3b27cc207c5237826e8c7e525a44b28dba033a359416e494","block_number":2723634,"gas_cost":1949901,"constructor_arguments":["0x5Fc523e13fBAc2140F056AD7A96De2cC0C4Cc63A","0x3bc9C8d34f5714327095358668fD436D7c457C6C","0x0794F09913AA8C77C8c5bdd1Ec4Bb51759Ee0cC5","0x5a5CF4A63022F61F1506D1A2398490c2e8dfbb98"]},"OneToN":{"address":"0xA514Da2418576CeC4070C82996f30532dDa99706","transaction_hash":"0xaba87d45cfed63d3b69945de2bf9c7aa65d636a6163b54d305b369f28a3a5eaa","block_number":2723635,"gas_cost":1097797,"constructor_arguments":["0x0794F09913AA8C77C8c5bdd1Ec4Bb51759Ee0cC5",5,"0x3bc9C8d34f5714327095358668fD436D7c457C6C"]}}}')},"50e7":function(e,t,n){"use strict";n.d(t,"a",(function(){return Lc})),n.d(t,"b",(function(){return Bc}));var r={};n.r(r),n.d(r,"dbErrorsEpic",(function(){return X}));var a={};n.r(a),n.d(a,"initEpic",(function(){return Ye})),n.d(a,"initNewBlockEpic",(function(){return Qe})),n.d(a,"blockTimeEpic",(function(){return ze})),n.d(a,"blockStaleEpic",(function(){return Ze})),n.d(a,"initTokensRegistryEpic",(function(){return Je})),n.d(a,"initMonitorProviderEpic",(function(){return et})),n.d(a,"channelEventsEpic",(function(){return ot})),n.d(a,"channelMonitoredEpic",(function(){return it})),n.d(a,"channelOpenEpic",(function(){return ct})),n.d(a,"channelDepositEpic",(function(){return ut})),n.d(a,"channelCloseEpic",(function(){return lt})),n.d(a,"channelUpdateEpic",(function(){return ft})),n.d(a,"channelAutoSettleEpic",(function(){return pt})),n.d(a,"channelSettleEpic",(function(){return dt})),n.d(a,"channelSettleableEpic",(function(){return bt})),n.d(a,"channelUnlockEpic",(function(){return yt})),n.d(a,"confirmationEpic",(function(){return mt}));var o={};n.r(o),n.d(o,"initMatrixEpic",(function(){return Jt})),n.d(o,"matrixShutdownEpic",(function(){return en})),n.d(o,"matrixMonitorPresenceEpic",(function(){return xn})),n.d(o,"matrixPresenceUpdateEpic",(function(){return Nn})),n.d(o,"matrixMonitorChannelPresenceEpic",(function(){return Rn})),n.d(o,"matrixUpdateCapsEpic",(function(){return Dn})),n.d(o,"matrixCreateRoomEpic",(function(){return Xn})),n.d(o,"matrixInviteEpic",(function(){return Yn})),n.d(o,"matrixHandleInvitesEpic",(function(){return Qn})),n.d(o,"matrixLeaveExcessRoomsEpic",(function(){return zn})),n.d(o,"matrixLeaveUnknownRoomsEpic",(function(){return Zn})),n.d(o,"matrixCleanLeftRoomsEpic",(function(){return Jn})),n.d(o,"matrixCleanMissingRoomsEpic",(function(){return er})),n.d(o,"matrixMessageReceivedUpdateRoomEpic",(function(){return tr})),n.d(o,"matrixMessageSendEpic",(function(){return _r})),n.d(o,"matrixMessageGlobalSendEpic",(function(){return Er})),n.d(o,"matrixMessageReceivedEpic",(function(){return xr})),n.d(o,"deliveredEpic",(function(){return Ar})),n.d(o,"rtcConnectEpic",(function(){return ma}));var i={};n.r(i),n.d(i,"transferAutoExpireEpic",(function(){return ka})),n.d(i,"transferGenerateAndSignEnvelopeMessageEpic",(function(){return no})),n.d(i,"initQueuePendingEnvelopeMessagesEpic",(function(){return bo})),n.d(i,"initQueuePendingReceivedEpic",(function(){return yo})),n.d(i,"transferClearCompletedEpic",(function(){return mo})),n.d(i,"transferMediateEpic",(function(){return To})),n.d(i,"transferProcessedReceivedEpic",(function(){return Do})),n.d(i,"transferProcessedSendEpic",(function(){return Io})),n.d(i,"transferRetryMessageEpic",(function(){return Wo})),n.d(i,"transferSecretRequestedEpic",(function(){return Qo})),n.d(i,"transferSecretRevealEpic",(function(){return Zo})),n.d(i,"transferSecretRevealedEpic",(function(){return Jo})),n.d(i,"transferRequestUnlockEpic",(function(){return ei})),n.d(i,"monitorSecretRegistryEpic",(function(){return ti})),n.d(i,"transferSuccessOnSecretRegisteredEpic",(function(){return ni})),n.d(i,"transferAutoRegisterEpic",(function(){return ri})),n.d(i,"transferSecretRegisterEpic",(function(){return ai})),n.d(i,"initWithdrawMessagesEpic",(function(){return bi})),n.d(i,"withdrawSendRequestMessageEpic",(function(){return yi})),n.d(i,"withdrawSendTxEpic",(function(){return hi})),n.d(i,"withdrawMessageProcessedEpic",(function(){return mi})),n.d(i,"autoWithdrawExpireEpic",(function(){return vi})),n.d(i,"withdrawSendExpireMessageEpic",(function(){return Oi}));var c={};n.r(c),n.d(c,"pathFindServiceEpic",(function(){return Gi})),n.d(c,"pfsCapacityUpdateEpic",(function(){return Xi})),n.d(c,"pfsFeeUpdateEpic",(function(){return Yi})),n.d(c,"pfsServiceRegistryMonitorEpic",(function(){return Qi})),n.d(c,"monitorUdcBalanceEpic",(function(){return zi})),n.d(c,"udcDepositEpic",(function(){return Ji})),n.d(c,"monitorRequestEpic",(function(){return tc})),n.d(c,"udcWithdrawRequestEpic",(function(){return nc})),n.d(c,"udcCheckWithdrawPlannedEpic",(function(){return rc})),n.d(c,"udcWithdrawPlannedEpic",(function(){return ac})),n.d(c,"msMonitorNewBPEpic",(function(){return oc}));var s=n("36d8"),u=n.n(s),l=n("5e354"),f=n("2023"),p=n("dd97"),d=n("ae8f"),b=n("34ba"),y=n("42f4"),h=n("f5c1"),m=n("7f4a"),v=n("769c"),O=n("daae"),j=n("4cf1"),g=n("cefa"),w=n("4a9c"),_=n("4377"),k=n("dd5b"),E=n("58da"),T=n("18df"),x=n("231d"),A=n("258b"),S=n("423d"),P=n("2ac2"),N=n("dd00"),R=n("2f2f"),D=n("0eb1"),I=n("87b8"),C=n("0529"),U=n.n(C),L=n("2bde"),M=n.n(L),B=n("fe07"),F=n.n(B),W=n("f5be"),V=n("2b5b"),$=n("325b"),H=n("0862"),q=n("d890"),K=n("eed9");function G(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function X(e,t,n){G(t);var r=n.db;return r.busy$.pipe(Object(j["a"])(),Object($["a"])(e))}var Y=n("331d"),Q=n("dae3"),z=n("516a"),Z=n("a489"),J=n("a00b"),ee=n("43a7"),te=n("58be"),ne=n("25cb"),re=n("bd71"),ae=n("94e7"),oe=n("dc10"),ie=n("534d"),ce=n("1c01"),se=n("459b"),ue=n("02ce"),le=n.n(ue),fe=n("605b"),pe=n.n(fe),de=n("5a9d"),be=n.n(de),ye=n("7ff5"),he=n.n(ye),me=n("b97c"),ve=n("f9e5"),Oe=n("3638"),je=n("ee6c"),ge=n("8089"),we=n("ca14"),_e=n("d276"),ke=n("1b23"),Ee=n("46f7"),Te=n("7de2"),xe=n("59ec"),Ae=n("1a78"),Se=n("5bbb"),Pe=n("b8ff"),Ne=n("f799"),Re=n("8120");function De(e){return Ue(e)||Ce(e)||He(e)||Ie()}function Ie(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ce(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function Ue(e){if(Array.isArray(e))return qe(e)}function Le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Le(Object(n),!0).forEach((function(t){Be(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Be(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fe(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function We(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Fe(o,r,a,i,c,"next",e)}function c(e){Fe(o,r,a,i,c,"throw",e)}i(void 0)}))}}function Ve(e,t){return Ge(e)||Ke(e,t)||He(e,t)||$e()}function $e(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function He(e,t){if(e){if("string"===typeof e)return qe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qe(e,t):void 0}}function qe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ke(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)if(n.push(i.value),t&&n.length===t)break}catch(s){a=!0,o=s}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return n}}function Ge(e){if(Array.isArray(e))return e}function Xe(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function Ye(e,t,n){Xe(e);var r=n.init$;return t.pipe(Object(D["a"])(),Object(A["a"])((function(e){var n=e.blockNumber,a=Date.now();return r.pipe(Object(A["a"])((function(e){return Object(h["a"])(Object(b["a"])(1),e.pipe(Object(j["a"])(),Object(J["a"])(-1)))})),Object(E["a"])((function(e,t){return e+t}),0),Object(ee["a"])(10),Object(D["a"])((function(e){return 0===e})),Object(N["a"])(t),Object(m["a"])((function(e){var t=Ve(e,2),r=t[1].blockNumber;return Object(W["g"])({tookMs:Date.now()-a,initialBlock:n,currentBlock:r})})))})),Object(P["a"])((function(){return r.complete()})))}function Qe(e,t,n){Xe(t);var r=n.provider;return Object($["g"])((function(){return r.getBlockNumber()}),r.pollingInterval).pipe(Object(A["a"])((function(e){return Object(f["a"])(Object(b["a"])(e),Object(ke["a"])(r,"block"))})),Object(m["a"])((function(e){return Object(Ne["newBlock"])({blockNumber:e})})),Object($["a"])(e))}function ze(e,t,n){Xe(t);var r=n.provider,a=20,o=[-a,0],i=function(e){return Object(Y["a"])(We(u.a.mark((function t(){return u.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",r.getBlock(e).then((function(t){var n=t.timestamp;return[e,1e3*n]})));case 1:case"end":return t.stop()}}),t)}))))};return e.pipe(Object(g["a"])(Ne["newBlock"].is),Object(w["a"])("payload","blockNumber"),Object(g["a"])((function(e){return e>=o[0]+a})),Object(te["a"])((function(e){var t=o[0]>0?Object(b["a"])(o):i(Math.max(1,e-a)),n=i(e);return Object(l["a"])([t,n]).pipe(Object(A["a"])(u.a.mark((function e(t){var n,r,a,i;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=Ve(t,2),r=n[0],a=n[1],i=(a[1]-r[1])/(a[0]-r[0]),i===o[2]){e.next=5;break}return e.next=5,i;case 5:o=[a[0],a[1],i];case 6:case"end":return e.stop()}}),e)}))),Object(S["a"])(he()(Q["a"])))})),Object(m["a"])((function(e){return Object(Ne["blockTime"])({blockTime:e})})))}function Ze(e,t,n){Xe(e);var r=n.latest$,a=n.config$;return t.pipe(Object($["e"])("blockNumber"),Object(N["a"])(r,a),Object(m["a"])((function(e){var t=Ve(e,3),n=t[1].blockTime,r=t[2].httpTimeout;return Math.max(3*n,2*r)})),Object(ne["a"])((function(e){return Object(h["a"])(Object(b["a"])(!1),Object(y["a"])(e).pipe(Object(re["a"])(!0),Object($["a"])(t)))})),Object(v["a"])(),Object(m["a"])((function(e){return Object(Ne["blockStale"])({stale:e})})))}function Je(e,t,n){var r=n.address,a=n.provider,o=n.registryContract,i=n.contractsInfo,c=n.init$;return e.pipe(Object(g["a"])(Ne["newBlock"].is),Object(N["a"])(t),Object(k["a"])(1),Object(g["a"])((function(e){var t=Ve(e,2),n=t[1];return pe()(n.tokens)})),Object(A["a"])((function(e){var n=Ve(e,1),s=n[0],u=new z["a"];return c.next(u),Object(ke["b"])(a,Me(Me({},o.filters.TokenNetworkCreated(null,null)),{},{fromBlock:i.TokenNetworkRegistry.block_number,toBlock:s.payload.blockNumber})).pipe(Object(m["a"])((function(e){return{log:e,parsed:o.interface.parseLog(e)}})),Object(g["a"])((function(e){var t=e.parsed;return!!t.args["token_network_address"]})),Object(k["a"])(2),Object(N["a"])(t),Object(A["a"])((function(e){var t=Ve(e,2),n=t[0],o=n.log,i=n.parsed,c=t[1].blockNumber,s=ve["b"].encode(["address"],[r]);return Object(f["a"])(Object(ke["b"])(a,{address:i.args.token_network_address,topics:[null,null,s],fromBlock:o.blockNumber,toBlock:c}),Object(ke["b"])(a,{address:i.args.token_network_address,topics:[null,null,null,s],fromBlock:o.blockNumber,toBlock:c})).pipe(Object(k["a"])(1),Object(re["a"])(Object(Ne["tokenMonitored"])({token:i.args.token_address,tokenNetwork:i.args.token_network_address,fromBlock:o.blockNumber})))}),5),Object(P["a"])((function(){return u.complete()})))})))}function et(e,t,n){var r;Xe(t);var a,o=n.address,i=n.main,c=n.network,s=n.provider,l=null!==(r=null===i||void 0===i?void 0:i.address)&&void 0!==r?r:o;return Object(y["a"])(0,s.pollingInterval).pipe(Object($["a"])(e),Object(te["a"])(We(u.a.mark((function e(){var t,n,r,o,i;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([!1===a?Promise.resolve(null):s.listAccounts(),s.getNetwork()]);case 3:if(t=e.sent,n=Ve(t,2),r=n[0],o=n[1],Object(je["d"])(o.chainId===c.chainId,"network changed"),void 0===a&&(a=null===r||void 0===r?void 0:r.includes(l)),!a||!r||r.includes(l)){e.next=11;break}return e.abrupt("return",Object(W["e"])({reason:V["e"].ACCOUNT_CHANGED}));case 11:e.next=20;break;case 13:if(e.prev=13,e.t0=e["catch"](0),null===e.t0||void 0===e.t0||null===(i=e.t0.message)||void 0===i||!i.includes("network changed")){e.next=17;break}return e.abrupt("return",Object(W["e"])({reason:V["e"].NETWORK_CHANGED}));case 17:if(!Object(je["g"])(je["h"],e.t0)){e.next=19;break}return e.abrupt("return");case 19:throw e.t0;case 20:case"end":return e.stop()}}),e,null,[[0,13]])})))),Object(g["a"])(we["n"]))}function tt(e){return{openTopic:Oe["b"].getEventTopic(e.interface.getEvent("ChannelOpened")),depositTopic:Oe["b"].getEventTopic(e.interface.getEvent("ChannelNewDeposit")),withdrawTopic:Oe["b"].getEventTopic(e.interface.getEvent("ChannelWithdraw")),closedTopic:Oe["b"].getEventTopic(e.interface.getEvent("ChannelClosed")),settledTopic:Oe["b"].getEventTopic(e.interface.getEvent("ChannelSettled"))}}function nt(e,t){var n=Ve(e,2),r=n[0],a=n[1],o=t.address,i=t.latest$,c=t.getTokenNetworkContract,s=c(a),u=tt(s),l=u.openTopic,f=u.depositTopic,p=u.withdrawTopic,d=u.closedTopic,b=u.settledTopic;return function(e){return e.pipe(Object(N["a"])(i),Object(m["a"])((function(e){var t,n,i=Ve(e,2),c=i[0],s=i[1],u=s.state,y=s.config,h=c[0].toNumber(),m=Object.values(u.channels).find((function(e){return e.tokenNetwork===a&&e.id===h})),v=Object(we["o"])(c),O=null===(t=v.topics)||void 0===t?void 0:t[0],j=v.transactionHash,g=v.blockNumber,w=g+y.confirmationBlocks<=u.blockNumber||void 0;switch(O){case l:var _=Ve(c,4),k=_[1],E=_[2],T=_[3];if((o===k||o===E)&&(!m||h>m.id)){var x=o==k?E:k;n=Ne["channelOpen"].success({id:h,token:r,settleTimeout:T.toNumber(),isFirstParticipant:o===k,txHash:j,txBlock:g,confirmed:w},{tokenNetwork:a,partner:x})}break;case f:var A=Ve(c,3),S=A[1],P=A[2];(null===m||void 0===m?void 0:m.id)===h&&P.gt(m[S===m.partner.address?"partner":"own"].deposit)&&(n=Ne["channelDeposit"].success({id:h,participant:S,totalDeposit:P,txHash:j,txBlock:g,confirmed:w},{tokenNetwork:a,partner:m.partner.address}));break;case p:var N=Ve(c,3),R=N[1],D=N[2];(null===m||void 0===m?void 0:m.id)===h&&D.gt(m[R===m.partner.address?"partner":"own"].withdraw)&&(n=Object(Ne["channelWithdrawn"])({id:h,participant:R,totalWithdraw:D,txHash:j,txBlock:g,confirmed:w},{tokenNetwork:a,partner:m.partner.address}));break;case d:if((null===m||void 0===m?void 0:m.id)===h&&!("closeBlock"in m)){var I=Ve(c,2),C=I[1];n=Ne["channelClose"].success({id:h,participant:C,txHash:j,txBlock:g,confirmed:w},{tokenNetwork:a,partner:m.partner.address})}break;case b:(null===m||void 0===m?void 0:m.id)===h&&(n=Ne["channelSettle"].success({id:h,txHash:j,txBlock:g,confirmed:w,locks:m.partner.locks},{tokenNetwork:a,partner:m.partner.address}));break}return n})),Object(g["a"])(we["n"]))}}function rt(e,t,n){var r=Ve(e,2),a=r[0],o=r[1],i=Ve(t,2),c=i[0],s=i[1],u=n.address,l=n.provider,p=n.latest$,b=n.getTokenNetworkContract,y=b(s),h=tt(y),m=h.openTopic;return Object(f["a"])(Object(ke["b"])(l,Me(Me({},y.filters.ChannelOpened(null,u,null,null)),{},{fromBlock:a,toBlock:o})),Object(ke["b"])(l,Me(Me({},y.filters.ChannelOpened(null,null,u,null)),{},{fromBlock:a,toBlock:o}))).pipe(Object(ae["a"])(),Object(N["a"])(p),Object(A["a"])((function(e){var t=Ve(e,2),n=t[0],r=t[1].state,i=n.map(Object(ke["d"])(y)).filter(we["n"]).filter((function(e){var t=Ve(e,3),n=t[0],a=t[1],o=t[2],i=u===a?o:a,c=n.toNumber(),l=Object(Re["d"])({tokenNetwork:s,partner:i});return!(Object(Re["e"])({id:c,tokenNetwork:s,partner:i})in r.oldChannels||l in r.channels&&c<r.channels[l].id)})),c=[].concat(De(i),De(Object.values(r.channels).filter((function(e){return e.tokenNetwork===s})).map((function(e){return[e.id]})))).map((function(e){var t=Ve(e,1),n=t[0];return ve["b"].encode(["uint256"],[n])}));return 0===c.length?Q["a"]:Object(ke["b"])(l,{address:s,topics:[Object.values(tt(y)).filter((function(e){return e!==m})),c],fromBlock:a,toBlock:o}).pipe(Object(ae["a"])(),Object(A["a"])((function(e){var t=e.map(Object(ke["d"])(y)).filter(we["n"]),n=[].concat(De(i),De(t));return Object(d["a"])(le()(n,[function(e){return Object(we["o"])(e).blockNumber},function(e){return Object(we["o"])(e).transactionIndex}]))})))})),nt([c,s],n))}function at(e,t,n){var r=Ve(t,2),a=r[0],o=r[1],i=n.provider,c=n.getTokenNetworkContract,s=n.config$,u=c(o),l={address:o,topics:[Object.values(tt(u))]};return s.pipe(Object(D["a"])(),Object(A["a"])((function(t){var n=t.confirmationBlocks;return Object(ke["a"])(i,l,n,e)})),Object(m["a"])(Object(ke["d"])(u)),Object(g["a"])(we["n"]),nt([a,o],n))}function ot(e,t,n){return e.pipe(Object(g["a"])(Ne["newBlock"].is),Object(w["a"])("payload","blockNumber"),Object(oe["a"])(1,void 0,(function(e){return t.pipe(Object(w["a"])("tokens"),Object($["c"])(),Object(N["a"])(t),Object(A["a"])((function(t){var r=Ve(t,2),a=Ve(r[0],2),o=a[0],i=a[1],c=r[1],s=Object.values(c.channels).concat(Object.values(c.oldChannels)).filter((function(e){return e.tokenNetwork===i})).reduce((function(e,t){return Math.max(e,"settleBlock"in t?t.settleBlock:"closeBlock"in t?t.closeBlock:t.openBlock)}),n.contractsInfo.TokenNetworkRegistry.block_number),u=new z["a"];return n.init$.next(u),e.pipe(Object(D["a"])(),Object(A["a"])((function(e){return Object(f["a"])(Object(b["a"])(Object(Ne["tokenMonitored"])({token:o,tokenNetwork:i,fromBlock:s,toBlock:e})),rt([s,e],[o,i],n).pipe(Object(P["a"])((function(){u.next(!0),u.complete()}))),at(e+1,[o,i],n).pipe(Object(R["a"])((function(){return u}))))})))})))})),Object($["a"])(e))}function it(e,t){return Xe(e),t.pipe(Re["f"],Object(A["a"])((function(e){return e.pipe(Object(D["a"])(),Object(m["a"])((function(e){return Object(Ne["channelMonitored"])({id:e.id},{tokenNetwork:e.tokenNetwork,partner:e.partner.address})})))})))}function ct(e,t,n){var r=n.log,a=n.signer,o=n.address,i=n.main,c=n.provider,s=n.getTokenNetworkContract,u=n.config$;return e.pipe(Object(g["a"])(Object(_e["e"])(Ne["channelOpen"].request)),Object(N["a"])(t,u),Object(A["a"])((function(t){var n,l,f,p=Ve(t,3),d=p[0],y=p[1],m=p[2],v=m.settleTimeout,O=m.subkey,w=d.meta,_=w.tokenNetwork,k=w.partner,E=null===(n=y.channels[Object(Re["d"])(d.meta)])||void 0===n?void 0:n.state;if(E)return Object(b["a"])(Ne["channelOpen"].failure(new je["c"](je["b"].CNL_INVALID_STATE,{state:E}),d.meta));var T=Object(ge["b"])({signer:a,address:o,main:i},null!==(l=d.payload.subkey)&&void 0!==l?l:O),A=T.signer,P=Object(ge["d"])(s(_),A),N=Q["a"];return null!==(f=d.payload.deposit)&&void 0!==f&&f.gt(0)&&(N=Object(b["a"])(Ne["channelDeposit"].request({deposit:d.payload.deposit,subkey:d.payload.subkey,waitOpen:!0},d.meta))),Object(h["a"])(N,Object(Y["a"])((function(){var e;return P.openChannel(o,k,null!==(e=d.payload.settleTimeout)&&void 0!==e?e:v)})).pipe(Object(Re["b"])("openChannel",je["b"].CNL_OPENCHANNEL_FAILED,{log:r,provider:c}),Object($["h"])(Object(Se["b"])(u),{onErrors:je["e"],log:r.info}),Object(x["a"])(e.pipe(Object(g["a"])(Ne["channelOpen"].success.is),Object(g["a"])((function(e){return e.meta.tokenNetwork===_&&e.meta.partner===k})))),Object(j["a"])(),Object(S["a"])((function(e){return Object(b["a"])(Ne["channelOpen"].failure(e,d.meta))}))))})))}function st(e,t,n,r,a){var o=Ve(e,2),i=o[0],c=o[1],s=Ve(t,3),l=s[0],f=s[1],p=s[2],d=a.log,b=a.provider,y=a.config$;return Object(Y["a"])((function(){return Promise.all([i.callStatic.balanceOf(l),i.callStatic.allowance(l,c.address)])})).pipe(Object(N["a"])(y),Object(A["a"])((function(e){var t=Ve(e,2),r=Ve(t[0],2),a=r[0],o=r[1],s=t[1].minimumAllowance;return Object(Re["a"])([a,o,n],i,c.address,je["b"].CNL_APPROVE_TRANSACTION_FAILED,{provider:b},{log:d,minimumAllowance:s})})),Object(ie["a"])(r),Object(k["a"])(1),Object(A["a"])(function(){var e=We(u.a.mark((function e(t){return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",c.callStatic.getChannelParticipantInfo(t,f,p).then((function(e){var n=e[0];return[t,n]})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(A["a"])(function(){var e=We(u.a.mark((function e(t){var r,a,o;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=Ve(t,2),a=r[0],o=r[1],e.abrupt("return",c.setTotalDeposit(a,f,o.add(n),p));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(Re["b"])("setTotalDeposit",je["b"].CNL_SETTOTALDEPOSIT_FAILED,{log:d,provider:b}),Object($["h"])(Object(Se["b"])(y),{onErrors:je["e"],log:d.info}))}function ut(e,t,n){Xe(t);var r=n.log,a=n.signer,o=n.address,i=n.main,c=n.getTokenContract,s=n.getTokenNetworkContract,u=n.provider,p=n.config$,d=n.latest$;return e.pipe(Object(g["a"])(Object(_e["e"])(Ne["channelDeposit"].request)),Object(ce["a"])((function(e){return e.meta.tokenNetwork})),Object(A["a"])((function(t){return t.pipe(Object(se["a"])((function(t){return Object(l["a"])([d,p]).pipe(Object(D["a"])(),Object(A["a"])((function(n){var l,y=Ve(n,2),h=y[0].state,m=y[1].subkey;Object(je["d"])(t.payload.deposit.gt(0),je["b"].DTA_INVALID_DEPOSIT);var v,O=t.meta,_=O.tokenNetwork,k=O.partner,E=be()(h.tokens,(function(e){return e===_})),T=h.channels[Object(Re["d"])(t.meta)];if(E&&!T&&t.payload.waitOpen)v=Object(f["a"])(e.pipe(Object(g["a"])(Ne["channelOpen"].failure.is),Object(g["a"])((function(e){return e.meta.tokenNetwork===t.meta.tokenNetwork&&e.meta.partner===t.meta.partner})),Object(ie["a"])(Object(Z["a"])(new je["c"](je["b"].CNL_NO_OPEN_CHANNEL_FOUND,t.meta)))),d.pipe(Object(w["a"])("state","channels",Object(Re["d"])(t.meta)),Object(g["a"])(we["n"])));else{if((null===T||void 0===T?void 0:T.state)!==Pe["b"].open)throw new je["c"](je["b"].CNL_NO_OPEN_CHANNEL_FOUND);v=Object(b["a"])(T)}var x=Object(ge["b"])({signer:a,address:o,main:i},null!==(l=t.payload.subkey)&&void 0!==l?l:m),A=x.signer,S=x.address,P=Object(ge["d"])(c(E),A),N=Object(ge["d"])(s(_),A);return v.pipe(Object(w["a"])("id"),Object(oe["a"])(1,void 0,(function(e){return st([P,N],[S,o,k],t.payload.deposit,e,{log:r,provider:u,config$:p})})),Object(j["a"])())})),Object(S["a"])((function(e){return Object(b["a"])(Ne["channelDeposit"].failure(e,t.meta))})))})))})))}function lt(e,t,n){var r=n.log,a=n.signer,o=n.address,i=n.main,c=n.provider,s=n.network,u=n.getTokenNetworkContract,l=n.config$;return e.pipe(Object(g["a"])(Object(_e["e"])(Ne["channelClose"].request)),Object(N["a"])(t,l),Object(A["a"])((function(t){var n,f,p=Ve(t,3),y=p[0],h=p[1],m=p[2].subkey,v=y.meta,O=v.tokenNetwork,w=v.partner,_=Object(ge["b"])({signer:a,address:o,main:i},null!==(n=null===(f=y.payload)||void 0===f?void 0:f.subkey)&&void 0!==n?n:m),k=_.signer,E=Object(ge["d"])(u(O),k),T=h.channels[Object(Re["d"])(y.meta)];if((null===T||void 0===T?void 0:T.state)!==Pe["b"].open&&(null===T||void 0===T?void 0:T.state)!==Pe["b"].closing){var P=new je["c"](je["b"].CNL_NO_OPEN_OR_CLOSING_CHANNEL_FOUND,y.meta);return Object(b["a"])(Ne["channelClose"].failure(P,y.meta))}var N=T.partner.balanceProof,R=Object(Te["b"])(N),D=N.nonce,I=N.additionalHash,C=N.signature,U=Object(me["b"])([Object(Ee["a"])(O,20),Object(Ee["a"])(s.chainId,32),Object(Ee["a"])(Te["a"].BALANCE_PROOF,32),Object(Ee["a"])(T.id,32),Object(Ee["a"])(R,32),Object(Ee["a"])(D,32),Object(Ee["a"])(I,32),Object(Ee["a"])(C,65)]);return Object(d["a"])(a.signMessage(U)).pipe(Object(A["a"])((function(t){return Object(Y["a"])((function(){return E.closeChannel(T.id,w,o,R,D,I,C,t)})).pipe(Object(Re["b"])("closeChannel",je["b"].CNL_CLOSECHANNEL_FAILED,{log:r,provider:c}),Object($["h"])(Object(Se["b"])(l),{onErrors:je["e"],log:r.info}),Object(x["a"])(e.pipe(Object(g["a"])(Ne["channelClose"].success.is),Object(g["a"])((function(e){return e.meta.tokenNetwork===O&&e.meta.partner===w})))))})),Object(j["a"])(),Object(S["a"])((function(e){return Object(b["a"])(Ne["channelClose"].failure(e,y.meta))})))})))}function ft(e,t,n){var r=n.log,a=n.signer,o=n.address,i=n.main,c=n.provider,s=n.network,u=n.getTokenNetworkContract,l=n.config$;return e.pipe(Object(g["a"])(Object(_e["e"])(Ne["channelClose"].success)),Object(g["a"])((function(e){return!!e.payload.confirmed})),Object(R["a"])((function(){return e.pipe(Object(g["a"])(Ne["newBlock"].is))})),Object(N["a"])(t,l),Object(g["a"])((function(e){var t=Ve(e,2),n=t[0],r=t[1],a=r.channels[Object(Re["d"])(n.meta)];return(null===a||void 0===a?void 0:a.state)===Pe["b"].closed&&a.id===n.payload.id&&a.partner.balanceProof.transferredAmount.add(a.partner.balanceProof.lockedAmount).gt(I["f"])&&a.closeParticipant!==o})),Object(A["a"])((function(e){var t=Ve(e,3),n=t[0],f=t[1],p=t[2].subkey,b=n.meta,y=b.tokenNetwork,h=b.partner,m=Object(ge["b"])({signer:a,address:o,main:i},p),v=m.signer,O=Object(ge["d"])(u(y),v),g=f.channels[Object(Re["d"])(n.meta)],w=Object(Te["b"])(g.partner.balanceProof),_=g.partner.balanceProof.nonce,k=g.partner.balanceProof.additionalHash,E=g.partner.balanceProof.signature,T=Object(me["b"])([Object(Ee["a"])(y,20),Object(Ee["a"])(s.chainId,32),Object(Ee["a"])(Te["a"].BALANCE_PROOF_UPDATE,32),Object(Ee["a"])(g.id,32),Object(Ee["a"])(w,32),Object(Ee["a"])(_,32),Object(Ee["a"])(k,32),Object(Ee["a"])(E,65)]);return Object(d["a"])(a.signMessage(T)).pipe(Object(A["a"])((function(e){return Object(Y["a"])((function(){return O.updateNonClosingBalanceProof(g.id,h,o,w,_,k,E,e)})).pipe(Object(Re["b"])("updateNonClosingBalanceProof",je["b"].CNL_UPDATE_NONCLOSING_BP_FAILED,{log:r,provider:c}),Object($["h"])(Object(Se["b"])(l),{onErrors:je["e"],log:r.info}))})),Object(j["a"])(),Object(S["a"])((function(e){return r.error("Error updating non-closing balance-proof, ignoring",e),Q["a"]})))})))}function pt(e,t,n){Xe(e);var r=n.config$;return t.pipe(Re["f"],Object(A["a"])((function(e){return e.pipe(Object(g["a"])((function(e){return e.state===Pe["b"].settleable})),Object(k["a"])(1),Object(N["a"])(r),Object(R["a"])((function(e){var n=Ve(e,2),r=n[0],a=n[1].confirmationBlocks,o=r.closeBlock+r.settleTimeout+Math.round(a*(1+Math.random()));return t.pipe(Object(w["a"])("blockNumber"),Object(g["a"])((function(e){return o<=e})),Object(k["a"])(1))})),Object(N["a"])(t),Object(g["a"])((function(e){var t,n=Ve(e,2),r=Ve(n[0],1),a=r[0],o=n[1];return(null===(t=o.channels[Object(Re["d"])(a)])||void 0===t?void 0:t.state)===Pe["b"].settleable})),Object(m["a"])((function(e){var t=Ve(e,1),n=Ve(t[0],1),r=n[0];return Ne["channelSettle"].request(void 0,{tokenNetwork:r.tokenNetwork,partner:r.partner.address})})))})),Object($["i"])(r.pipe(Object(w["a"])("autoSettle"))))}function dt(e,t,n){var r=n.log,a=n.signer,o=n.address,i=n.main,c=n.provider,s=n.getTokenNetworkContract,u=n.config$,f=n.db;return e.pipe(Object(g["a"])(Object(_e["e"])(Ne["channelSettle"].request)),Object(N["a"])(t,u),Object(A["a"])((function(t){var n,p,d=Ve(t,3),y=d[0],h=d[1],v=d[2].subkey,O=y.meta,w=O.tokenNetwork,_=O.partner,k=Object(ge["b"])({signer:a,address:o,main:i},null!==(n=null===(p=y.payload)||void 0===p?void 0:p.subkey)&&void 0!==n?n:v),E=k.signer,T=Object(ge["d"])(s(w),E),P=h.channels[Object(Re["d"])(y.meta)];if((null===P||void 0===P?void 0:P.state)!==Pe["b"].settleable&&(null===P||void 0===P?void 0:P.state)!==Pe["b"].settling){var N=new je["c"](je["b"].CNL_NO_SETTLEABLE_OR_SETTLING_CHANNEL_FOUND,y.meta);return Object(b["a"])(Ne["channelSettle"].failure(N,y.meta))}return Object(Y["a"])((function(){return Promise.all([T.callStatic.getChannelParticipantInfo(P.id,o,_),T.callStatic.getChannelParticipantInfo(P.id,_,o)])})).pipe(Object($["h"])(Object(Se["b"])(u),{onErrors:je["h"]}),Object(A["a"])((function(t){var n,a,i=Ve(t,2),s=i[0][3],p=i[1][3];return n=s===Object(Te["b"])(P.own.balanceProof)?Object(b["a"])(P.own.balanceProof):Object(xe["a"])(f,P,Ae["a"].SENT,s).pipe(Object(S["a"])((function(){return Object(Z["a"])(new je["c"](je["b"].CNL_SETTLECHANNEL_INVALID_BALANCEHASH,{address:o,ownBalanceHash:s}))}))),a=p===Object(Te["b"])(P.partner.balanceProof)?Object(b["a"])(P.partner.balanceProof):Object(xe["a"])(f,P,Ae["a"].RECEIVED,p).pipe(Object(S["a"])((function(){return Object(Z["a"])(new je["c"](je["b"].CNL_SETTLECHANNEL_INVALID_BALANCEHASH,{address:o,partnerBalanceHash:p}))}))),Object(l["a"])([n,a]).pipe(Object(m["a"])((function(e){var t=Ve(e,2),n=t[0],r=t[1];return r.transferredAmount.add(r.lockedAmount).lt(n.transferredAmount.add(n.lockedAmount))?[[_,r],[o,n]]:[[o,n],[_,r]]})),Object(A["a"])((function(t){var n=Ve(t,2),a=n[0],o=n[1];return Object(Y["a"])((function(){return T.settleChannel(P.id,a[0],a[1].transferredAmount,a[1].lockedAmount,a[1].locksroot,o[0],o[1].transferredAmount,o[1].lockedAmount,o[1].locksroot)})).pipe(Object(Re["b"])("settleChannel",je["b"].CNL_SETTLECHANNEL_FAILED,{log:r,provider:c}),Object($["h"])(Object(Se["b"])(u),{onErrors:je["e"],log:r.info}),Object(x["a"])(e.pipe(Object(g["a"])(Ne["channelSettle"].success.is),Object(g["a"])((function(e){return e.meta.tokenNetwork===w&&e.meta.partner===_})))))})))})),Object(j["a"])(),Object(S["a"])((function(e){return Object(b["a"])(Ne["channelSettle"].failure(e,y.meta))})))})))}function bt(e,t){return e.pipe(Object(g["a"])(Object(_e["e"])(Ne["newBlock"])),Object(N["a"])(t),Object(A["a"])(u.a.mark((function e(t){var n,r,a,o,i,c;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=Ve(t,2),r=n[0].payload.blockNumber,a=n[1],o=0,i=Object.values(a.channels);case 2:if(!(o<i.length)){e.next=10;break}if(c=i[o],!(c.state===Pe["b"].closed&&r>c.closeBlock+c.settleTimeout)){e.next=7;break}return e.next=7,Object(Ne["channelSettleable"])({settleableBlock:r},{tokenNetwork:c.tokenNetwork,partner:c.partner.address});case 7:o++,e.next=2;break;case 10:case"end":return e.stop()}}),e)}))))}function yt(e,t,n){var r=n.log,a=n.signer,o=n.address,i=n.main,c=n.provider,s=n.getTokenNetworkContract,u=n.config$;return e.pipe(Object(g["a"])(Object(_e["e"])(Ne["channelSettle"].success)),Object(g["a"])((function(e){var t;return!(!e.payload.confirmed||null===(t=e.payload.locks)||void 0===t||!t.length)})),Object(N["a"])(t,u),Object(g["a"])((function(e){var t,n=Ve(e,2),r=n[0],a=n[1];return(null===(t=a.channels[Object(Re["d"])(r.meta)])||void 0===t?void 0:t.id)!==r.payload.id})),Object(A["a"])((function(e){var t=Ve(e,3),n=t[0],l=t[2].subkey,f=n.meta,p=f.tokenNetwork,d=f.partner,b=Object(ge["d"])(s(p),Object(ge["b"])({signer:a,address:o,main:i},l).signer),y=Object(me["b"])(n.payload.locks.reduce((function(e,t){return[].concat(De(e),[Object(Ee["a"])(t.expiration,32),Object(Ee["a"])(t.amount,32),t.secrethash])}),[]));return Object(Y["a"])((function(){return b.unlock(n.payload.id,o,d,y)})).pipe(Object(Re["b"])("unlock",je["b"].CNL_ONCHAIN_UNLOCK_FAILED,{log:r,provider:c}),Object($["h"])(Object(Se["b"])(u),{onErrors:je["e"],log:r.info}),Object(j["a"])(),Object(S["a"])((function(e){return r.error("Error unlocking pending locks on-chain, ignoring",e),Q["a"]})))})))}function ht(e,t,n,r){return Object($["g"])((function(){return t.getTransactionReceipt(e.payload.txHash)}),t.pollingInterval).pipe(Object(m["a"])((function(t){var a;return void 0!==(null===t||void 0===t?void 0:t.confirmations)&&t.confirmations>=r&&t.status?Me(Me({},e),{},{payload:Me(Me({},e.payload),{},{txBlock:null!==(a=t.blockNumber)&&void 0!==a?a:e.payload.txBlock,confirmed:!0})}):e.payload.txBlock+2*r<n?Me(Me({},e),{},{payload:Me(Me({},e.payload),{},{confirmed:!1})}):void 0})),Object(g["a"])(we["n"]))}function mt(e,t,n){Xe(e);var r=n.config$,a=n.provider,o=n.latest$;return Object(l["a"])([t.pipe(Object($["e"])("blockNumber")),t.pipe(Object(w["a"])("pendingTxs")),r.pipe(Object($["e"])("confirmationBlocks"),Object($["a"])(t))]).pipe(Object(g["a"])((function(e){var t=Ve(e,2),n=t[1];return n.length>0})),Object(te["a"])((function(e){var t=Ve(e,3),n=t[0],r=t[1],i=t[2];return Object(d["a"])(r).pipe(Object(g["a"])((function(e){return e.payload.txBlock+i<n})),Object(se["a"])((function(e){return ht(e,a,n,i).pipe(Object(x["a"])(o.pipe(Object(g["a"])((function(t){var n=t.state;return!n.pendingTxs.some((function(t){return t.type===e.type&&t.payload.txHash===e.payload.txHash}))})))))})))})))}var vt=n("2111"),Ot=n("7225"),jt=n("ae6a"),gt=n("dfba"),wt=n("8509"),_t=n("178d"),kt=n("b993"),Et=n("f2df"),Tt=n("759f");function xt(e){var t=/^(?:\w*:?\/\/)?([^/#?&]+)/.exec(e);return t&&t[1]}function At(e,t){var n=Object(Tt["encodeUri"])("/presence/$userId/status",{$userId:t});return e._http.authedRequest(void 0,"GET",n)}var St=n("a92c"),Pt=n("5983"),Nt=n.n(Pt);function Rt(e){return[e.discoveryRoom,e.pfsRoom,e.monitoringRoom].filter(we["n"])}var Dt=Nt()((function(e,t){return e===t.roomId||e===t.name||e===t.getCanonicalAlias()||t.getAliases().includes(e)}));function It(e,t){var n=e.getRoom(t);return n||(n=e.getRooms().find(Dt(t))),n?Object(b["a"])(n):Object(St["a"])(e,"Room").pipe(Object(g["a"])(Dt(t)),Object(k["a"])(1))}function Ct(e,t,n){var r=n.log;if("string"===typeof e)try{var a=Object(Te["c"])(e);if("signature"in a){var o=Object(Te["f"])(a);if(o!==t)throw new je["c"](je["b"].TRNS_MESSAGE_SIGNATURE_MISMATCH,{sender:t,signer:o})}return a}catch(i){r.warn("Could not decode message: ".concat(e,": ").concat(i))}}function Ut(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function Lt(e,t){return Vt(e)||Wt(e,t)||Bt(e,t)||Mt()}function Mt(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Bt(e,t){if(e){if("string"===typeof e)return Ft(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ft(e,t):void 0}}function Ft(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Wt(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)if(n.push(i.value),t&&n.length===t)break}catch(s){a=!0,o=s}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return n}}function Vt(e){if(Array.isArray(e))return e}function $t(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function Ht(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){$t(o,r,a,i,c,"next",e)}function c(e){$t(o,r,a,i,c,"throw",e)}i(void 0)}))}}function qt(e,t){var n=xt(t.getHomeserverUrl());return Object(d["a"])(Rt(e)).pipe(Object(m["a"])((function(e){return"#".concat(e,":").concat(n)})),Object(A["a"])((function(e){return t.joinRoom(e).then((function(r){return r.currentState.setStateEvents([new _t["MatrixEvent"]({type:"m.room.aliases",state_key:n,content:{aliases:[e]},event_id:"$local_".concat(Date.now()),room_id:r.roomId,sender:t.getUserId()})]),t.store.storeRoom(r),t.emit("Room",r),r}))})),Object(w["a"])("roomId"),Object(ae["a"])())}function Kt(e,t){return Gt.apply(this,arguments)}function Gt(){return Gt=Ht(u.a.mark((function e(t,n){var r,a;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r={not_rooms:n,ephemeral:{not_types:["m.receipt","m.typing"]},timeline:{limit:0,not_senders:[t.getUserId()]}},a={room:r},e.abrupt("return",t.createFilter(a));case 3:case"end":return e.stop()}}),e)}))),Gt.apply(this,arguments)}function Xt(e,t,n,r){return e.pipe(Object(g["a"])(q["matrixSetup"].is),Object(k["a"])(1),Object(O["a"])((function(){n.next(t),n.complete()})),Object(N["a"])(r),Object(R["a"])((function(e){var t=Lt(e,2),n=t[1].pollingInterval;return Object(y["a"])(Math.ceil(n/5))})),Object(A["a"])((function(e){var n=Lt(e,2),a=n[1];return qt(a,t).pipe(Object(A["a"])(function(){var e=Ht(u.a.mark((function e(n){return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Kt(t,n));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(A["a"])(function(){var e=Ht(u.a.mark((function e(n){return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.setPushRuleEnabled("global","override",".m.rule.master",!0);case 2:return e.abrupt("return",n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(A["a"])(function(){var e=Ht(u.a.mark((function e(n){return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t.startClient({filter:n}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(A["a"])((function(){return Object(y["a"])(Math.round((Math.random()+.5)*a.httpTimeout)).pipe(Object(A["a"])(Ht(u.a.mark((function e(){return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t.setPresence({presence:"online",status_msg:Date.now().toString()}));case 1:case"end":return e.stop()}}),e)})))))})),Object($["h"])(Object(Se["b"])(r),{onErrors:je["h"]}))})),Object(j["a"])())}function Yt(e,t){return e.includes("://")||(e="https://"+e),Object(Y["a"])((function(){var n=Date.now();return Object(wt["a"])(e+"/_matrix/client/versions").pipe(Object(Ot["a"])(t),Object(m["a"])((function(e){var t=e.ok;return t?Date.now():NaN})),Object(S["a"])((function(){return Object(b["a"])(NaN)})),Object(m["a"])((function(t){return{server:e,rtt:t-n}})))}))}var Qt=vt["v"]({active_servers:vt["d"](vt["s"]),all_servers:vt["d"](vt["s"])});function zt(e,t){return Object(wt["a"])(e).pipe(Object(A["a"])(function(){var t=Ht(u.a.mark((function t(n){return u.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return Object(Et["a"])(n.ok,'Could not fetch server list from "'.concat(e,'" => ').concat(n.status)),t.abrupt("return",n.json());case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),Object(Ot["a"])(t),Object(A["a"])((function(e){return Object(we["l"])(Qt,e).active_servers})),Object(A["a"])((function(e){return Yt(e,t)})),Object(ae["a"])(),Object(A["a"])((function(e){return le()(e,["rtt"])})),Object(g["a"])((function(e){var t=e.rtt;return!isNaN(t)})),Object(jt["a"])((function(){return new je["c"](je["b"].TRNS_NO_MATRIX_SERVERS)})))}function Zt(e,t,n,r){var a=n.address,o=n.signer,i=n.config$,c=xt(e);return Object(Et["a"])(c,[je["b"].TRNS_NO_SERVERNAME,{server:e}]),i.pipe(Object(D["a"])(),Object(A["a"])((function(n){var r=n.pollingInterval;if(t){var s=Object(_t["createClient"])({baseUrl:e,userId:t.userId,accessToken:t.accessToken,deviceId:t.deviceId});return Object(b["a"])({matrix:s,server:e,setup:t,pollingInterval:r})}var l=Object(_t["createClient"])({baseUrl:e}),f=a.toLowerCase(),p="@".concat(f,":").concat(c);return Object(d["a"])(o.signMessage(c)).pipe(Object(A["a"])((function(e){return Object(Y["a"])(Ht(u.a.mark((function t(){return u.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",l.login("m.login.password",{identifier:{type:"m.id.user",user:f},password:e,device_id:V["d"]}));case 1:case"end":return t.stop()}}),t)})))).pipe(Object(S["a"])(function(){var t=Ht(u.a.mark((function t(n){return u.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",l.registerRequest({username:f,password:e,device_id:V["d"]}).catch(he()(n)));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),Object($["h"])(Object(Se["b"])(i),{onErrors:je["h"]}))})),Object(A["a"])((function(t){var n=t.access_token,r=t.device_id,a=t.user_id;return Object(Et["a"])(a===p,["Wrong login/register user_id",{user_id:a,userId:p}]),l.deviceId=r,l._http.opts.accessToken=n,l.credentials={userId:p},Object(d["a"])(o.signMessage(p)).pipe(Object(m["a"])((function(t){return{matrix:l,server:e,setup:{userId:p,accessToken:n,deviceId:r,displayName:t}}})))})))})),Object(A["a"])((function(e){var t=e.matrix,n=e.server,a=e.setup;return Object(Y["a"])((function(){return Promise.all([t.setDisplayName(a.displayName),t.setAvatarUrl(r&&!pe()(r)?Object(H["f"])(r):"")])})).pipe(Object($["h"])(Object(Se["b"])(i),{onErrors:je["h"]}),Object(re["a"])({matrix:t,server:n,setup:a}))})))}function Jt(e,t,n){Ut(t);var r=n.address,a=n.signer,o=n.matrix$,i=n.latest$,c=n.config$,s=n.init$;return Object(l["a"])([i,c]).pipe(Object(D["a"])(),Object(A["a"])((function(e){var t=Lt(e,2),n=t[0].state,i=t[1],u=i.matrixServer,l=i.matrixServerLookup,f=i.httpTimeout,p=i.caps,d=n.transport.server,y=n.transport.setup;s.next(o);var h,m=[];u?(u===d&&m.push(Object(b["a"])({server:d,setup:y})),m.push(Object(b["a"])({server:u}))):(d&&m.push(Object(b["a"])({server:d,setup:y})),m.push(zt(l,f)));var v=function(e){return h=e,Q["a"]};return Object(Y["a"])((function(){return m.shift()||Q["a"]})).pipe(Object(S["a"])(v),Object(se["a"])((function(e){var t=e.server,n=e.setup;return Zt(t,n,{address:r,signer:a,config$:c},p).pipe(Object(S["a"])(v))})),Object(D["a"])(),Object(O["a"])((function(e){var t=e.matrix;return t.setMaxListeners(30)})),Object(gt["a"])((function(e){return e.pipe(Object(A["a"])((function(){return m.length?Object(b["a"])(null):Object(Z["a"])(h)})))})))})),Object(A["a"])((function(t){var n=t.matrix,r=t.server,a=t.setup;return Object(f["a"])(Xt(e,n,o,c),Object(b["a"])(Object(q["matrixSetup"])({server:r,setup:a})),c.pipe(Object($["e"])("logger"),Object(O["a"])((function(e){return kt["logger"].setLevel(e||"silent",!1)})),Object(j["a"])()))})),Object($["a"])(e))}function en(e,t,n){Ut(t);var r=n.matrix$;return e.pipe(Object(N["a"])(r),Object($["d"])(function(){var e=Ht(u.a.mark((function e(t){var n;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return n=t[1],n.stopClient(),e.prev=4,e.next=7,n.setPresence({presence:"offline",status_msg:""});case 7:e.next=11;break;case 9:e.prev=9,e.t0=e["catch"](4);case 11:case"end":return e.stop()}}),e,null,[[4,9]])})));return function(t){return e.apply(this,arguments)}}()),Object(j["a"])())}var tn=n("ebf5"),nn=n("0150"),rn=n.n(nn),an=n("8130"),on=n.n(an),cn=n("21b8"),sn=n.n(cn),un=n("2d67"),ln=n("8379");function fn(e,t){return bn(e)||dn(e,t)||jn(e,t)||pn()}function pn(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function dn(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)if(n.push(i.value),t&&n.length===t)break}catch(s){a=!0,o=s}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return n}}function bn(e){if(Array.isArray(e))return e}function yn(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function hn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hn(Object(n),!0).forEach((function(t){vn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function On(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=jn(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function jn(e,t){if(e){if("string"===typeof e)return gn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gn(e,t):void 0}}function gn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wn(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function _n(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){wn(o,r,a,i,c,"next",e)}function c(e){wn(o,r,a,i,c,"throw",e)}i(void 0)}))}}var kn=["online","unavailable"],En=/^@(0x[0-9a-f]{40})[.:]/i;function Tn(e,t,n){var r=n.log,a=n.config$;return Object(Y["a"])(_n(u.a.mark((function n(){return u.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",e.searchUserDirectory({term:t.toLowerCase()}));case 1:case"end":return n.stop()}}),n)})))).pipe(Object($["h"])(Object(Se["b"])(a),{onErrors:je["h"]}),Object(A["a"])(u.a.mark((function e(n){var r,a,o,i,c,s;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=n.results,a=On(r),e.prev=2,a.s();case 4:if((o=a.n()).done){e.next=24;break}if(i=o.value,i.display_name){e.next=8;break}return e.abrupt("continue",22);case 8:if(e.prev=8,c=En.exec(i.user_id),c&&Object(un["a"])(c[1])===t){e.next=12;break}return e.abrupt("continue",22);case 12:if(s=Object(ln["b"])(i.user_id,i.display_name),s&&s===t){e.next=15;break}return e.abrupt("continue",22);case 15:e.next=20;break;case 17:return e.prev=17,e.t0=e["catch"](8),e.abrupt("continue",22);case 20:return e.next=22,i;case 22:e.next=4;break;case 24:e.next=29;break;case 26:e.prev=26,e.t1=e["catch"](2),a.e(e.t1);case 29:return e.prev=29,a.f(),e.finish(29);case 32:case"end":return e.stop()}}),e,null,[[2,26,29,32],[8,17]])}))),Object(A["a"])((function(t){return Object(Y["a"])(_n(u.a.mark((function n(){return u.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",At(e,t.user_id));case 1:case"end":return n.stop()}}),n)})))).pipe(Object(m["a"])((function(e){return mn(mn({},e),t)})),Object($["h"])(Object(Se["b"])(a),{onErrors:je["h"]}),Object(S["a"])((function(e){return r.info("Error fetching user presence, ignoring:",e),Q["a"]})))}),3),Object(ae["a"])(),Object(m["a"])((function(e){if(!e.length)throw new je["c"](je["b"].TRNS_NO_VALID_USER,{address:t});return rn()(e,sn()(Number.POSITIVE_INFINITY,"last_active_ago"))})),Object(m["a"])((function(e){var n=e.presence,r=e.user_id,a=e.avatar_url;return q["matrixPresence"].success({userId:r,available:kn.includes(n),ts:Date.now(),caps:Object(H["e"])(a)},{address:t})})),Object(S["a"])((function(e){return Object(b["a"])(q["matrixPresence"].failure(e,{address:t}))})))}function xn(e,t,n){yn(t);var r=n.matrix$,a=n.latest$,o=n.config$,i=n.log;return e.pipe(Object(g["a"])(Object(_e["e"])(q["matrixPresence"].request)),Object(A["a"])((function(e){return r.pipe(Object(m["a"])((function(t){return{action:e,matrix:t}})))})),Object(ce["a"])((function(e){var t=e.action;return t.meta.address})),Object(A["a"])((function(e){return e.pipe(Object(N["a"])(a),Object(te["a"])((function(e){var t=fn(e,2),n=t[0],r=n.action,a=n.matrix,c=t[1].presences;return r.meta.address in c?Object(b["a"])(c[r.meta.address]):Tn(a,r.meta.address,{log:i,config$:o})})))})))}var An=["userId","available","caps"];function Sn(e){var t=new Set;return e.pipe(Object(g["a"])(q["matrixPresence"].request.is),Object(E["a"])((function(e,t){return e.add(t.meta.address)}),t),Object(_["a"])(t))}function Pn(e,t,n,r){var a=r.log,o=r.config$,i=r.latest$,c=r.matrix$;return c.pipe(Object(ne["a"])((function(r){return Object(l["a"])([Object(Y["a"])(_n(u.a.mark((function t(){return u.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",r.getProfileInfo(e.userId));case 1:case"end":return t.stop()}}),t)})))),Object(Y["a"])(_n(u.a.mark((function t(){return u.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",kn.includes(n.getContent().presence)?n.getContent():At(r,e.userId));case 1:case"end":return t.stop()}}),t)})))),i.pipe(Object($["e"])("rtc",t))])})),Object(m["a"])((function(n){var r,o=fn(n,3),i=o[0],c=o[1],s=c.presence,u=c.last_active_ago,l=o[2];Object(Et["a"])(null===i||void 0===i?void 0:i.displayname,"no displayname");var f=Object(ln["b"])(e.userId,i.displayname);Object(Et["a"])(f===t,"invalid displayname signature: ".concat(f," !== ").concat(t)),s!==e.presence&&a.warn("Presence mismatch",{user:e,presence:s,last_active_ago:u});var p=kn.includes(s)||!!l;return q["matrixPresence"].success({userId:e.userId,available:p,ts:u?Date.now()-u:null!==(r=e.lastPresenceTs)&&void 0!==r?r:Date.now(),caps:Object(H["e"])(i.avatar_url)},{address:f})})),Object($["h"])(Object(Se["b"])(o),{onErrors:je["h"]}),Object(S["a"])((function(t){return a.warn("Error validating presence event, ignoring",e.userId,n,t),Q["a"]})))}function Nn(e,t,n){yn(t);var r=n.matrix$,a=n.latest$;return r.pipe(Object(ne["a"])((function(t){return Object(St["a"])(t,"event").pipe(Object($["a"])(e),Object(g["a"])((function(e){return"m.presence"===e.getType()})),Object(A["a"])(u.a.mark((function e(n){var r,a,o,i;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,a=t.getUser(n.getSender()),Object(Et["a"])(null===a||void 0===a?void 0:a.presence),o=null===(r=En.exec(a.userId))||void 0===r?void 0:r[1],Object(Et["a"])(o),i=Object(un["a"])(o),e.next=8,{user:a,address:i,event:n};case 8:e.next=12;break;case 10:e.prev=10,e.t0=e["catch"](0);case 12:case"end":return e.stop()}}),e,null,[[0,10]])}))))})),Object(N["a"])(Sn(e)),Object(g["a"])((function(e){var t=fn(e,2),n=t[0].address,r=t[1];return r.has(n)})),Object(ce["a"])((function(e){var t=fn(e,1),n=t[0].address;return n})),Object(A["a"])((function(t){return t.pipe(Object(ne["a"])((function(e){var t=fn(e,1),r=t[0],a=r.user,o=r.address,i=r.event;return Pn(a,o,i,n)})),Object($["a"])(e))})),Object(N["a"])(a),Object(g["a"])((function(e){var t=fn(e,2),n=t[0],r=t[1].presences;return n.payload.available||!(n.meta.address in r)||!r[n.meta.address].payload.available||n.payload.userId===r[n.meta.address].payload.userId})),Object(g["a"])((function(e){var t,n=fn(e,2),r=n[0],a=n[1].presences;return!F()(on()(r.payload,An),on()(null===(t=a[r.meta.address])||void 0===t?void 0:t.payload,An))})),Object(w["a"])(0))}function Rn(e){return e.pipe(Object(g["a"])(Ne["channelMonitored"].is),Object(m["a"])((function(e){return q["matrixPresence"].request(void 0,{address:e.meta.partner})})))}function Dn(e,t,n){yn(t);var r=n.matrix$,a=n.config$;return a.pipe(Object($["a"])(e),Object(w["a"])("caps"),Object(v["a"])(F.a),Object(tn["a"])(1),Object(ne["a"])((function(e){return r.pipe(Object(A["a"])((function(t){return Object(Y["a"])(_n(u.a.mark((function n(){return u.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",t.setAvatarUrl(e&&!pe()(e)?Object(H["f"])(e):""));case 1:case"end":return n.stop()}}),n)})))).pipe(Object(A["a"])(_n(u.a.mark((function e(){return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t.setPresence({presence:"online",status_msg:Date.now().toString()}));case 1:case"end":return e.stop()}}),e)})))))})),Object($["h"])(Object(Se["b"])(a)),Object(j["a"])())})))}var In=n("9112"),Cn=n("8173"),Un=n("83ee");function Ln(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=Fn(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function Mn(e,t){return $n(e)||Vn(e,t)||Fn(e,t)||Bn()}function Bn(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Fn(e,t){if(e){if("string"===typeof e)return Wn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Wn(e,t):void 0}}function Wn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Vn(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)if(n.push(i.value),t&&n.length===t)break}catch(s){a=!0,o=s}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return n}}function $n(e){if(Array.isArray(e))return e}function Hn(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function qn(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function Kn(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){qn(o,r,a,i,c,"next",e)}function c(e){qn(o,r,a,i,c,"throw",e)}i(void 0)}))}}function Gn(e,t,n,r,a){var o=r.pollingInterval,i=r.httpTimeout,c=a.log;return Object(y["a"])(o,i).pipe(Object(te["a"])((function(){return Object(Y["a"])(Kn(u.a.mark((function r(){var a,o,i;return u.a.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(i=null===(a=e.getRoom(t))||void 0===a||null===(o=a.getMember(n))||void 0===o?void 0:o.membership,"join"!==i&&"invite"!==i){r.next=3;break}return r.abrupt("return",null);case 3:return r.abrupt("return",e.invite(t,n));case 4:case"end":return r.stop()}}),r)})))).pipe(Object(O["a"])((function(e){e&&c.info("Invited to room",{roomId:t,userId:n})})),Object(S["a"])((function(e){return Object(je["g"])("is already in the room",e)||c.warn("Error inviting",t,n,e),Q["a"]})),Object(j["a"])())})))}function Xn(e,t,n){Hn(t);var r=n.address,a=n.log,o=n.matrix$,i=n.latest$,c=n.config$;return e.pipe(Object(g["a"])(Object(_e["e"])([Un["transferSigned"],Ne["channelMonitored"],q["matrixRoomLeave"]])),Object(m["a"])((function(e){var t;switch(e.type){case Un["transferSigned"].type:e.meta.direction===Ae["a"].SENT&&e.payload.message.initiator===r?t=e.payload.message.target:e.meta.direction===Ae["a"].RECEIVED&&e.payload.message.target===r&&(t=e.payload.message.initiator);break;case Ne["channelMonitored"].type:t=e.meta.partner;break;default:t=e.meta.address;break}if(t&&Object(H["d"])(r,t)[0]===r)return t})),Object(g["a"])(we["n"]),Object(ce["a"])((function(e){return e})),Object(A["a"])((function(t){return t.pipe(Object(A["a"])((function(e){return o.pipe(Object(m["a"])((function(t){return{peer:e,matrix:t}})))})),Object(te["a"])((function(t){var n=t.peer,r=t.matrix;return i.pipe(Object(g["a"])((function(e){var t=e.presences;return n in t})),Object($["a"])(e),Object(k["a"])(1),Object(g["a"])((function(e){var t=e.presences,r=e.config;return!Object(H["a"])(r.caps,V["a"].TO_DEVICE)||!Object(H["a"])(t[n].payload.caps,V["a"].TO_DEVICE)})),Object(g["a"])((function(e){var t,r,a=e.state;return!(null!==(t=a.transport.rooms)&&void 0!==t&&null!==(r=t[n])&&void 0!==r&&r[0])})),Object(A["a"])((function(e){var t=e.presences;return r.createRoom({visibility:"private",invite:[t[n].payload.userId]})})),Object(m["a"])((function(e){var t=e.room_id;return Object(q["matrixRoom"])({roomId:t},{address:n})})),Object($["h"])(Object(Se["b"])(c),{onErrors:je["h"]}),Object(S["a"])((function(e){return a.error("Error creating room, ignoring",e),Q["a"]})))})))})))}function Yn(e,t,n){Hn(t);var r=n.matrix$,a=n.config$,o=n.latest$,i=n.log;return e.pipe(Object(g["a"])(Object(_e["e"])(q["matrixPresence"].success)),Object(ce["a"])((function(e){return e.meta.address})),Object(A["a"])((function(t){return Object(l["a"])([t,o.pipe(Object(m["a"])((function(e){var n,r,a=e.state;return null===(n=a.transport.rooms)||void 0===n||null===(r=n[t.key])||void 0===r?void 0:r[0]})),Object(v["a"])())]).pipe(Object(N["a"])(r,a),Object(ne["a"])((function(e){var t=Mn(e,3),n=Mn(t[0],2),r=n[0],a=n[1],o=t[1],c=t[2];return r.payload.available&&a?Gn(o,a,r.payload.userId,c,{log:i}):Q["a"]})),Object($["a"])(e))})))}function Qn(e,t,n){Hn(t);var r=n.log,a=n.matrix$,o=n.config$,i=n.latest$;return a.pipe(Object(ne["a"])((function(t){return Object(St["a"])(t,"RoomMember.membership").pipe(Object(m["a"])((function(e){var n=Mn(e,2),r=n[0],a=n[1];return{event:r,member:a,matrix:t}})),Object($["a"])(e))})),Object(g["a"])((function(e){var t=e.member,n=e.matrix;return t.userId===n.getUserId()&&"invite"===t.membership})),Object(N["a"])(o),Object(A["a"])((function(t){var n=Mn(t,2),a=n[0],c=a.event,s=a.member,l=a.matrix,f=n[1].httpTimeout;return i.pipe(Object($["e"])("presences"),Object(m["a"])((function(e){return Object.values(e).find((function(e){return e.payload.userId===c.getSender()}))})),Object(g["a"])(we["n"]),Object($["a"])(e),Object(k["a"])(1),Object(Ot["a"])(f),Object(m["a"])((function(e){return{matrix:l,member:s,senderPresence:e}})),Object(S["a"])((function(){return Object(Y["a"])(Kn(u.a.mark((function e(){return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r.info("Leaving invited room because we don't know the inviter",c),e.abrupt("return",l.leave(s.roomId));case 2:case"end":return e.stop()}}),e)})))).pipe(Object($["h"])(Object(Se["b"])(o),{onErrors:je["h"]}),Object(S["a"])((function(e){return r.warn("Error leaving invited room, ignoring",e),Q["a"]})),Object(j["a"])())})))})),Object(A["a"])((function(e){var t=e.matrix,n=e.member,a=e.senderPresence;return Object(Y["a"])(Kn(u.a.mark((function e(){return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t.joinRoom(n.roomId,{syncRoom:!0}));case 1:case"end":return e.stop()}}),e)})))).pipe(Object(re["a"])(Object(q["matrixRoom"])({roomId:n.roomId},{address:a.meta.address})),Object($["h"])(Object(Se["b"])(o),{onErrors:je["h"]}),Object(S["a"])((function(e){return r.warn("Error joining invited room, ignoring",e),Q["a"]})))})))}function zn(e,t,n){var r=n.log,a=n.matrix$,o=n.config$;return e.pipe(Object(g["a"])(Object(_e["e"])(q["matrixRoom"])),Object(A["a"])((function(e){return a.pipe(Object(m["a"])((function(t){return{action:e,matrix:t}})))})),Object(N["a"])(t,o),Object(A["a"])((function(e){var t,n,a=Mn(e,3),o=a[0],i=o.action,c=o.matrix,s=a[1],u=a[2].matrixExcessRooms,l=null!==(t=null===(n=s.transport.rooms)||void 0===n?void 0:n[i.meta.address])&&void 0!==t?t:[];return Object(d["a"])(l.filter((function(e,t){return Hn(e),t>=u}))).pipe(Object(A["a"])((function(e){return c.leave(e).catch((function(e){return r.error("Error leaving excess room, ignoring",e)})).then((function(){return e}))})),Object(m["a"])((function(e){return Object(q["matrixRoomLeave"])({roomId:e},i.meta)})))})))}function Zn(e,t,n){Hn(e);var r=n.log,a=n.matrix$,o=n.config$;return a.pipe(Object(ne["a"])((function(e){return Object(St["a"])(e,"Room").pipe(Object(m["a"])((function(t){return{matrix:e,room:t}})))})),Object(R["a"])((function(){return o.pipe(Object(D["a"])(),Object(A["a"])((function(e){var t=e.httpTimeout;return Object(y["a"])(t)})))})),Object($["a"])(t),Object(N["a"])(t,o),Object(g["a"])((function(e){var t=Mn(e,3),n=t[0],r=n.matrix,a=n.room,o=t[1].transport,i=t[2];if(!a)return!1;var c=xt(r.getHomeserverUrl());if(Rt(i).some((function(e){return Dt("#".concat(e,":").concat(c),a)})))return!1;for(var s=0,u=Object.values(null!==(l=o.rooms)&&void 0!==l?l:{});s<u.length;s++){var l,f,p=u[s],d=Ln(p);try{for(d.s();!(f=d.n()).done;){var b=f.value;if(b===a.roomId)return!1}}catch(y){d.e(y)}finally{d.f()}}return!0})),Object(A["a"])(function(){var e=Kn(u.a.mark((function e(t){var n,a,o,i;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=Mn(t,1),a=n[0],o=a.matrix,i=a.room,r.warn("Unknown room in matrix, leaving",i.roomId),e.abrupt("return",o.leave(i.roomId).catch((function(e){return r.error("Error leaving unknown room, ignoring",e)})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(j["a"])())}function Jn(e,t,n){Hn(e);var r=n.log,a=n.matrix$;return a.pipe(Object(ne["a"])((function(e){return Object(St["a"])(e,"Room.myMembership").pipe(Object(m["a"])((function(t){var n=Mn(t,2),r=n[0],a=n[1];return{room:r,membership:a,matrix:e}})),Object($["a"])(t))})),Object(g["a"])((function(e){var t=e.membership;return"leave"===t})),Object(N["a"])(t),Object(A["a"])(u.a.mark((function e(t){var n,a,o,i,c,s,l,f,p,d,b,y;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=Mn(t,2),a=n[0].room,o=n[1].transport,i=0,c=Object.entries(null!==(s=o.rooms)&&void 0!==s?s:{});case 2:if(!(i<c.length)){e.next=26;break}l=Mn(c[i],2),f=l[0],p=l[1],d=Ln(p),e.prev=5,d.s();case 7:if((b=d.n()).done){e.next=15;break}if(y=b.value,y!==a.roomId){e.next=13;break}return r.warn("Left event for peer room detected, forgetting",f,y),e.next=13,Object(q["matrixRoomLeave"])({roomId:y},{address:f});case 13:e.next=7;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e["catch"](5),d.e(e.t0);case 20:return e.prev=20,d.f(),e.finish(20);case 23:i++,e.next=2;break;case 26:case"end":return e.stop()}}),e,null,[[5,17,20,23]])}))))}function er(e,t,n){Hn(e);var r=n.log,a=n.matrix$,o=n.config$;return t.pipe(Object($["e"])("transport","rooms"),Object(g["a"])(we["n"]),Object(A["a"])(u.a.mark((function e(t){var n,r,a,o,i,c,s,l;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=0,r=Object.entries(t);case 1:if(!(n<r.length)){e.next=23;break}a=Mn(r[n],2),o=a[0],i=a[1],c=Ln(i),e.prev=4,c.s();case 6:if((s=c.n()).done){e.next=12;break}return l=s.value,e.next=10,{roomId:l,address:o};case 10:e.next=6;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e["catch"](4),c.e(e.t0);case 17:return e.prev=17,c.f(),e.finish(17);case 20:n++,e.next=1;break;case 23:case"end":return e.stop()}}),e,null,[[4,14,17,20]])}))),Object(In["a"])((function(e){var t=e.roomId;return t})),Object(A["a"])((function(e){var t=e.roomId,n=e.address;return a.pipe(Object(m["a"])((function(e){return{matrix:e,roomId:t,address:n}})))})),Object(N["a"])(o),Object(A["a"])((function(e){var t=Mn(e,2),n=t[0],a=n.roomId,o=n.address,i=n.matrix,c=t[1].httpTimeout;return It(i,a).pipe(Object(Ot["a"])(c),Object(j["a"])(),Object(S["a"])((function(){return r.warn("Peer room in state not found in matrix, forgetting",o,a),Object(b["a"])(Object(q["matrixRoomLeave"])({roomId:a},{address:o}))})))})))}function tr(e,t){return e.pipe(Object(g["a"])(Cn["messageReceived"].is),Object(N["a"])(t),Object(g["a"])((function(e){var t,n,r=Mn(e,2),a=r[0],o=r[1],i=null!==(t=null===(n=o.transport.rooms)||void 0===n?void 0:n[a.meta.address])&&void 0!==t?t:[];return!!a.payload.roomId&&i.includes(a.payload.roomId)&&i[0]!==a.payload.roomId})),Object(m["a"])((function(e){var t=Mn(e,1),n=t[0];return Object(q["matrixRoom"])({roomId:n.payload.roomId},n.meta)})))}var nr=n("03a8"),rr=n("1f17"),ar=n("5778");function or(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ir(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cr(e,t,n){return t&&ir(e.prototype,t),n&&ir(e,n),e}var sr=function(){function e(t){or(this,e),this.values=new Map,this.max=t}return cr(e,[{key:"get",value:function(e){var t=this.values.get(e);return t&&(this.values.delete(e),this.values.set(e,t)),t}},{key:"put",value:function(e,t){if(this.values.size>=this.max){var n=this.values.keys().next().value;this.values.delete(n)}this.values.set(e,t)}}]),e}();function ur(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ur(Object(n),!0).forEach((function(t){pr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ur(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fr(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function pr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dr(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function br(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){dr(o,r,a,i,c,"next",e)}function c(e){dr(o,r,a,i,c,"throw",e)}i(void 0)}))}}function yr(e,t){return jr(e)||Or(e,t)||mr(e,t)||hr()}function hr(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function mr(e,t){if(e){if("string"===typeof e)return vr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vr(e,t):void 0}}function vr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Or(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)if(n.push(i.value),t&&n.length===t)break}catch(s){a=!0,o=s}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return n}}function jr(e){if(Array.isArray(e))return e}function gr(e){return"string"===typeof e?e:Object(Te["d"])(e)}function wr(e,t,n){var r=n.log,a=n.latest$,o=n.config$,i=n.matrix$,c="m.room.message",s="m.text"===t.msgtype?a.pipe(Object($["e"])("rtc",e)):Object(b["a"])(null),f=a.pipe(Object($["e"])("presences",e)),p=a.pipe(Object(m["a"])((function(t){var n,r,a=t.state;return null===(n=a.transport.rooms)||void 0===n||null===(r=n[e])||void 0===r?void 0:r[0]})),Object(v["a"])()),d=Object(l["a"])([s,f,p]).pipe(Object(N["a"])(o),Object(m["a"])((function(e){var t=yr(e,2),n=yr(t[0],3),r=n[0],a=n[1],o=n[2],i=t[1].caps;return"open"===(null===r||void 0===r?void 0:r.readyState)?r:Object(H["a"])(i,V["a"].TO_DEVICE)&&Object(H["a"])(null===a||void 0===a?void 0:a.payload.caps,V["a"].TO_DEVICE)?a.payload.userId:o||void 0})),Object(v["a"])()),y=0,h=-1;return Object(Y["a"])((function(){return y||(y=Date.now()),d})).pipe(Object(ne["a"])((function(e){return e?(h++,"string"!==typeof e?Object(Y["a"])(br(u.a.mark((function n(){return u.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.send(t.body),n.abrupt("return",e.label);case 2:case"end":return n.stop()}}),n)})))):e.startsWith("@")?i.pipe(Object(A["a"])(function(){var n=br(u.a.mark((function n(r){return u.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",r.sendToDevice(c,pr({},e,{"*":t})));case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()),Object(re["a"])(e),Object(R["a"])(he()(f.pipe(Object(g["a"])((function(t){return(null===t||void 0===t?void 0:t.payload.userId)===e&&t.payload.available})))))):i.pipe(Object(A["a"])(function(){var n=br(u.a.mark((function n(r){return u.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",r.sendEvent(e,c,t,""));case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()),Object(re["a"])(e),Object(R["a"])(he()(f.pipe(Object(g["a"])((function(e){return!(null===e||void 0===e||!e.payload.available)}))))))):Q["a"]})),Object($["h"])(Object(Se["b"])(o),{maxRetries:3,onErrors:je["h"],log:r.warn}),Object(k["a"])(1),Object(m["a"])((function(e){return{via:e,tookMs:Date.now()-y,retries:h}})))}function _r(e,t,n){return fr(t),e.pipe(Object(g["a"])(Object(_e["e"])(Cn["messageSend"].request)),Object(ce["a"])((function(e){var t;return"".concat(e.meta.address,"|").concat(null!==(t=e.payload.msgtype)&&void 0!==t?t:"m.text")})),Object(A["a"])((function(t){return t.pipe(Object($["b"])((function(t){var r,a=t[0].meta.address,o=null!==(r=t[0].payload.msgtype)&&void 0!==r?r:"m.text",i=t.map((function(e){return gr(e.payload.message)})).join("\n"),c={body:i,msgtype:o};return wr(a,c,n).pipe(Object(A["a"])((function(e){return t.map((function(t){return Cn["messageSend"].success(e,t.meta)}))})),Object(S["a"])((function(e){return n.log.error("messageSend error",e,t[0].meta),Object(d["a"])(t.map((function(t){return Cn["messageSend"].failure(e,t.meta)})))})),Object($["a"])(e,10))}),10))})))}function kr(e,t,n,r){var a=r.config$,o=r.log,i=e[0].meta.roomName,c=Rt(n);if(!c.includes(i))return o.warn("messageGlobalSend for unknown global room, ignoring",i,c),Q["a"];var s=xt(t.getHomeserverUrl()),l="#".concat(i,":").concat(s),f=e.map((function(e){return gr(e.payload.message)})).join("\n"),p=Date.now(),d=-1;return It(t,l).pipe(Object(A["a"])(function(){var n=br(u.a.mark((function n(r){return u.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return d++,n.abrupt("return",t.sendEvent(r.roomId,"m.room.message",{body:f,msgtype:"m.text"},"").then((function(){return o.info("messageGlobalSend success",{tookMs:Date.now()-p,retries:d,roomName:i,batchSize:e.length})})));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()),Object($["h"])(Object(Se["b"])(a),{maxRetries:3,onErrors:je["h"]}),Object(S["a"])((function(t){return o.error("Error sending messages to global room",t,{retries:d,roomName:i,batchSize:e.length}),Q["a"]})))}function Er(e,t,n){fr(t);var r=n.matrix$,a=n.config$;return e.pipe(Object(g["a"])(Object(_e["e"])(Cn["messageGlobalSend"])),Object(ce["a"])((function(e){return e.meta.roomName})),Object(A["a"])((function(t){return t.pipe(Object($["b"])((function(t){return r.pipe(Object(N["a"])(a),Object(A["a"])((function(e){var r=yr(e,2),a=r[0],o=r[1];return kr(t,a,o,n)})),Object($["a"])(e,10))}),20))})),Object(j["a"])())}function Tr(e){var t=yr(e,2),n=t[0],r=n.matrix,a=n.event,o=n.room,i=t[1],c="m.room.message"===a.getType()&&a.getSender()!==r.getUserId(),s=!!o&&!Rt(i).some((function(e){return Dt("#".concat(e,":").concat(xt(r.getHomeserverUrl())),o)})),u=!o&&!!Object(H["a"])(i.caps,V["a"].TO_DEVICE);return c&&(s||u)}function xr(e,t,n){fr(t);var r=n.log,a=n.matrix$,o=n.config$,i=n.latest$;return a.pipe(Object(ne["a"])((function(e){return Object(f["a"])(Object(St["a"])(e,"Room.timeline").pipe(Object(m["a"])((function(t){var n=yr(t,2),r=n[0],a=n[1];return{matrix:e,event:r,room:a}}))),Object(St["a"])(e,"toDeviceEvent").pipe(Object(m["a"])((function(t){return{matrix:e,event:t,room:void 0}}))))})),Object($["a"])(e),Object(N["a"])(o),Object(g["a"])(Tr),Object(A["a"])((function(t){var n=yr(t,2),a=n[0],o=a.event,c=a.room,s=n[1].httpTimeout;return i.pipe(Object(g["a"])((function(e){var t,n,r=e.presences,a=e.state,i=Object(H["b"])(r,o.getSender());if(!i)return!1;var s=null!==(t=null===(n=a.transport.rooms)||void 0===n?void 0:n[i.meta.address])&&void 0!==t?t:[];return!c||s.includes(c.roomId)})),Object($["a"])(e),Object(k["a"])(1),Object(x["a"])(Object(y["a"])(s)),Object(A["a"])((function(e){var t,n=e.presences,a=Object(H["b"])(n,o.getSender()),i=(null!==(t=o.getContent().body)&&void 0!==t?t:"").split("\n");return Object(nr["a"])(i,rr["b"]).pipe(Object(m["a"])((function(e){var t;return"m.text"===o.getContent().msgtype&&(t=Ct(e,a.meta.address,{log:r})),Object(Cn["messageReceived"])(lr(lr(lr({text:e},t?{message:t}:{}),{},{ts:Date.now(),userId:a.payload.userId},c?{roomId:c.roomId}:{}),o.getContent().msgtype?{msgtype:o.getContent().msgtype}:{}),a.meta)})))})))})))}function Ar(e,t,n){fr(t);var r=n.log,a=n.signer,o=n.latest$,i=new sr(32);return e.pipe(Object(g["a"])(Object(Te["g"])([Object(we["h"])(ar["e"]),Object(we["h"])(ar["f"]),Object(we["h"])(ar["g"])])),Object(N["a"])(o),Object(g["a"])((function(e){var t=yr(e,2),n=t[0],r=t[1].presences;return n.meta.address in r&&!!Object(H["a"])(r[n.meta.address].payload.caps,V["a"].DELIVERY)})),Object(se["a"])((function(e){var t=yr(e,1),n=t[0],o=n.payload.message;return Object(Y["a"])((function(){var e=o.message_identifier,t=e.toString(),c=i.get(t);if(c)return Object(b["a"])(Cn["messageSend"].request({message:c},{address:n.meta.address,msgId:t}));var s={type:ar["d"].DELIVERED,delivered_message_identifier:e};return r.info('Signing "'.concat(s.type,'" for "').concat(o.type,'" with id=').concat(e.toString())),Object(d["a"])(Object(Te["h"])(a,s,{log:r})).pipe(Object(O["a"])((function(e){return i.put(t,e)})),Object(m["a"])((function(e){return Cn["messageSend"].request({message:e},{address:n.meta.address,msgId:t})})))}))})))}var Sr,Pr=n("04448"),Nr=n("8df4"),Rr=n("6c2a"),Dr=n("ae0c"),Ir=n("438d");function Cr(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function Ur(e){return Br(e)||Mr(e)||Vr(e)||Lr()}function Lr(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Mr(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function Br(e){if(Array.isArray(e))return $r(e)}function Fr(e,t){return qr(e)||Hr(e,t)||Vr(e,t)||Wr()}function Wr(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Vr(e,t){if(e){if("string"===typeof e)return $r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$r(e,t):void 0}}function $r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Hr(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)if(n.push(i.value),t&&n.length===t)break}catch(s){a=!0,o=s}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return n}}function qr(e){if(Array.isArray(e))return e}function Kr(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function Gr(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Kr(o,r,a,i,c,"next",e)}function c(e){Kr(o,r,a,i,c,"throw",e)}i(void 0)}))}}function Xr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Yr,Qr="m.notice";(function(e){e["offer"]="offer",e["answer"]="answer",e["candidates"]="candidates",e["hangup"]="hangup"})(Yr||(Yr={}));var zr=vt["p"](vt["j"]([vt["v"]({type:vt["l"](Yr.offer),sdp:vt["s"]}),vt["o"]({call_id:vt["s"]})])),Zr=vt["p"](vt["j"]([vt["v"]({type:vt["l"](Yr.answer),sdp:vt["s"]}),vt["o"]({call_id:vt["s"]})])),Jr=vt["p"](vt["j"]([vt["v"]({type:vt["l"](Yr.candidates),candidates:vt["q"](vt["y"])}),vt["o"]({call_id:vt["s"]})])),ea=vt["p"](vt["j"]([vt["v"]({type:vt["l"](Yr.hangup)}),vt["o"]({call_id:vt["s"]})])),ta=(Sr={},Xr(Sr,Yr.offer,zr),Xr(Sr,Yr.answer,Zr),Xr(Sr,Yr.candidates,Jr),Xr(Sr,Yr.hangup,ea),Sr),na=new WeakMap;function ra(e){return aa.apply(this,arguments)}function aa(){return aa=Gr(u.a.mark((function e(t){var n,r,a,o;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=na.get(t),!(n&&Date.now()<n[0])){e.next=3;break}return e.abrupt("return",n[1]);case 3:return e.next=5,t.turnServer().catch((function(){}));case 5:return r=e.sent,a=Date.now()+36e5,o=[],r&&"uris"in r&&(o.push({urls:r.uris,username:r.username,credentialType:"password",credential:r.password}),a=Date.now()+1e3*r.ttl),na.set(t,[a,o]),e.abrupt("return",o);case 11:case"end":return e.stop()}}),e)}))),aa.apply(this,arguments)}function oa(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=a.log;return e.pipe(Object(g["a"])(Cn["messageReceived"].is),Object(g["a"])((function(e){return e.meta.address===n&&e.payload.msgtype===Qr})),Object(A["a"])(u.a.mark((function e(n){var r;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,r=Object(Ee["b"])(n.payload.text),r["type"]!==t){e.next=5;break}return e.next=5,Object(we["l"])(ta[t],r);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),null===o||void 0===o||o.info("Failed to decode WebRTC signaling message, ignoring",{text:n.payload.text,peerAddr:n.meta.address,peerId:n.payload.userId,error:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Object(g["a"])((function(e){return!r||e.call_id===r})))}function ia(e){var t;return Array.isArray(e)&&2===e.length&&(null===(t=e[1])||void 0===t?void 0:t.readyState)}function ca(e,t,n,r){var a=r.log;return Object(f["a"])(oa(t,Yr.candidates,n.peerAddress,n.callId,{log:a}).pipe(Object(O["a"])((function(e){return a.debug("RTC: received candidates",n.callId,e.candidates)})),Object(A["a"])((function(e){var t;return Object(d["a"])(null!==(t=e.candidates)&&void 0!==t?t:[])})),Object(A["a"])(function(){var t=Gr(u.a.mark((function t(r){return u.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.addIceCandidate(r);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t["catch"](0),a.warn("RTC: error setting candidate, ignoring",n.callId,e.connectionState,r,t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e){return t.apply(this,arguments)}}()),Object(j["a"])()),Object(St["a"])(e,"icecandidate").pipe(Object(w["a"])("candidate"),Object(T["a"])(we["n"]),Object(Pr["a"])(10),Object(g["a"])((function(e){return e.length>0})),Object(O["a"])((function(e){return a.debug("RTC: got candidates",n.callId,e)})),Object(m["a"])((function(e){var t={type:Yr.candidates,candidates:e,call_id:n.callId};return Cn["messageSend"].request({message:Object(Ee["c"])(t),msgtype:Qr},{address:n.peerAddress,msgId:Object(xe["e"])().toString()})}))))}function sa(e,t,n){var r=t.peerAddress;return n.matrix$.pipe(Object(A["a"])((function(e){return ra(e)})),Object(N["a"])(n.config$),Object(A["a"])((function(a){var o=Fr(a,2),i=o[0],c=o[1].fallbackIceServers,s=new RTCPeerConnection({iceServers:[].concat(Ur(i),Ur(c))}),l=new z["a"],p=s.createDataChannel(t.callId,{ordered:!1});return Object(f["a"])(ca(s,e,t,n).pipe(Object(R["a"])(he()(l))),Object(Y["a"])(Gr(u.a.mark((function e(){return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",s.createOffer());case 1:case"end":return e.stop()}}),e)})))).pipe(Object(A["a"])(function(){var e=Gr(u.a.mark((function e(t){return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s.setLocalDescription(t);case 2:return e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(A["a"])((function(a){var o={type:a.type,sdp:a.sdp,call_id:t.callId},i={address:r,msgId:Object(xe["e"])().toString()},c=Cn["messageSend"].request({message:Object(Ee["c"])(o),msgtype:Qr},i),d=0;return Object(f["a"])(oa(e,Yr.answer,r,t.callId,n).pipe(Object(k["a"])(1),Object(A["a"])(function(){var e=Gr(u.a.mark((function e(t){return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n.log.info("RTC: got answer",t.call_id),e.next=3,s.setRemoteDescription(t);case 3:return e.abrupt("return",[s,p]);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(P["a"])((function(){l.next(!0),l.complete()}))),Object(Ir["a"])(e,c,Object(_e["g"])(Cn["messageSend"],i)).pipe(Object(J["a"])([s,p]))).pipe(Object(g["a"])((function(e){return!ia(e)||!d++})),Object(P["a"])((function(){return d?null:s.close()})))}))))})))}function ua(e,t,n){var r=t.peerAddress;return oa(e,Yr.offer,r,void 0,n).pipe(Object(O["a"])((function(e){return n.log.info("RTC: got invite",e.call_id)})),Object(A["a"])((function(e){return n.matrix$.pipe(Object(A["a"])((function(t){return ra(t).then((function(t){return[e,t]}))})))})),Object(N["a"])(n.config$),Object(ne["a"])((function(a){var o=Fr(a,2),i=Fr(o[0],2),c=i[0],s=i[1],l=o[1].fallbackIceServers;c.call_id!==t.callId&&(n.log.info("RTC: setting callId from caller",{info:t,event:c}),c.call_id&&(t.callId=c.call_id));var p=new z["a"],d=new RTCPeerConnection({iceServers:[].concat(Ur(s),Ur(l))}),b=!0;return Object(f["a"])(ca(d,e,t,n).pipe(Object(R["a"])(he()(p))),Object(Y["a"])(Gr(u.a.mark((function e(){return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",d.setRemoteDescription(c));case 1:case"end":return e.stop()}}),e)})))).pipe(Object(A["a"])(Gr(u.a.mark((function e(){return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",d.createAnswer());case 1:case"end":return e.stop()}}),e)})))),Object(A["a"])(function(){var e=Gr(u.a.mark((function e(t){return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,d.setLocalDescription(t);case 2:return e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(A["a"])((function(n){var a={type:n.type,sdp:n.sdp,call_id:t.callId},o=Cn["messageSend"].request({message:Object(Ee["c"])(a),msgtype:Qr},{address:r,msgId:Object(xe["e"])().toString()});return Object(Ir["a"])(e,o,Object(_e["g"])(Cn["messageSend"],o.meta))})),Object(P["a"])((function(){return p.next(!0),p.complete()}))),Object(St["a"])(d,"datachannel").pipe(Object(m["a"])((function(e){var t=e.channel;return[d,t]})),Object(k["a"])(1),Object(O["a"])((function(){return b=!1})),Object(P["a"])((function(){return b?d.close():null}))))})))}var la="peer hung up",fa="channel closed",pa="ping",da=["failed","closed","disconnected"];function ba(e,t,n){var r=t.peerId,a=t.peerAddress,o=n.log;return function(t){var n=new z["a"],i=t.pipe(Object(x["a"])(n),Object(Nr["a"])()),c=i.pipe(Object(g["a"])(Cn["messageSend"].request.is)),s=i.pipe(Object(g["a"])(ia)).pipe(Object(ne["a"])((function(t){var i=Fr(t,2),c=i[0],s=i[1];return Object(f["a"])(Object(St["a"])(c,"connectionstatechange").pipe(Object(_["a"])(null),Object(A["a"])((function(){return da.includes(c.connectionState)?Object(Z["a"])(new Error("RTC: connection failed")):Q["a"]}))),Object(St["a"])(s,"close").pipe(Object(ie["a"])(Object(Z["a"])(new Error(fa)))),Object(St["a"])(s,"error").pipe(Object(A["a"])((function(e){return Object(Z["a"])(e.error)}))),Object(St["a"])(s,"open").pipe(Object(O["a"])((function(){o.info("RTC: dataChannel open",s.label),s.send(pa)})),Object($["j"])(e),Object(O["a"])((function(){n.next(!0),n.complete()})),Object(re["a"])(Object(q["rtcChannel"])(s,{address:a}))),Object(St["a"])(s,"message").pipe(Object(Rr["b"])(rr["b"]),Object(O["a"])((function(e){return o.debug("RTC: dataChannel message",s.label,e)})),Object(w["a"])("data"),Object(g["a"])((function(e){return"string"===typeof e})),Object(g["a"])((function(e){return e!==pa})),Object(A["a"])((function(e){return Object(d["a"])(e.split("\n"))})),Object(m["a"])((function(e){return Object(Cn["messageReceived"])({text:e,message:Ct(e,a,{log:o}),ts:Date.now(),userId:r},{address:a})})))).pipe(Object(P["a"])((function(){return c.close()})))})));return Object(f["a"])(c,s)}}function ya(e,t){var n=Object(H["d"])(e,t),r=n[0]===e,a=n.join("|");return r&&(a+="|".concat(Date.now())),a}function ha(e,t,n,r){var a=n.httpTimeout,o=n.pollingInterval,i=r.log,c=r.address,s=Object(H["d"])(c,e.meta.address)[0]===c,u=Object(Ir["b"])(a,2*a,1.2);return Object(Y["a"])((function(){var n,a=ya(c,e.meta.address),o={callId:a,peerId:e.payload.userId,peerAddress:e.meta.address},l=new z["a"];n=s?sa(t,o,r):ua(t,o,r);var p=u.next(),d=p.value;return d?Object(f["a"])(Object(f["a"])(n,oa(t,Yr.hangup,o.peerAddress,o.callId,{log:i}).pipe(Object(ie["a"])(Object(Z["a"])(new Error(la))))).pipe(ba(d,o,r),Object(x["a"])(l),Object(S["a"])((function(e){var t;return l.next(!Object(je["g"])([la,fa],e)),l.complete(),i.info("Couldn't set up WebRTC dataChannel, retrying",o.callId,null!==(t=null===e||void 0===e?void 0:e.message)&&void 0!==t?t:e),Q["a"]})),Object(J["a"])(Object(q["rtcChannel"])(void 0,{address:e.meta.address}))),l.pipe(Object(g["a"])((function(e){return e})),Object(m["a"])((function(){var e={type:Yr.hangup,call_id:o.callId};return Cn["messageSend"].request({message:Object(Ee["c"])(e),msgtype:Qr},{address:o.peerAddress,msgId:Object(xe["e"])().toString()})})))):Q["a"]})).pipe(Object(Dr["a"])((function(e){return e.pipe(Object(A["a"])((function(){return s?Object(y["a"])(o):Object(b["a"])(null)})))})))}function ma(e,t,n){Cr(t);var r=n.latest$,a=n.config$,o=n.address;return e.pipe(Object(g["a"])(Object(_e["e"])([Un["transferSigned"],Ne["channelMonitored"]])),Object(A["a"])(u.a.mark((function e(t){return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!Ne["channelMonitored"].is(t)){e.next=5;break}return e.next=3,t.meta.partner;case 3:e.next=13;break;case 5:if(t.meta.direction!==Ae["a"].SENT||t.payload.message.initiator!==o){e.next=10;break}return e.next=8,t.payload.message.target;case 8:e.next=13;break;case 10:if(t.meta.direction!==Ae["a"].RECEIVED||t.payload.message.target!==o){e.next=13;break}return e.next=13,t.payload.message.initiator;case 13:case"end":return e.stop()}}),e)}))),Object(In["a"])(),Object(A["a"])((function(t){return r.pipe(Object(w["a"])("presences",t),Object(g["a"])(we["n"]),Object(v["a"])((function(e,t){return e.payload.userId===t.payload.userId&&!!Object(H["a"])(e.payload.caps,V["a"].WEBRTC)===!!Object(H["a"])(t.payload.caps,V["a"].WEBRTC)})),Object(N["a"])(a),Object(g["a"])((function(e){var t=Fr(e,2),n=t[0],r=t[1].caps;return!!Object(H["a"])(n.payload.caps,V["a"].WEBRTC)&&!!Object(H["a"])(r,V["a"].WEBRTC)})),Object(ne["a"])((function(t){var r=Fr(t,2),a=r[0],o=r[1];return ha(a,e,o,n)})),Object($["a"])(e))})))}function va(e,t){return _a(e)||wa(e,t)||ja(e,t)||Oa()}function Oa(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ja(e,t){if(e){if("string"===typeof e)return ga(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ga(e,t):void 0}}function ga(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wa(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)if(n.push(i.value),t&&n.length===t)break}catch(s){a=!0,o=s}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return n}}function _a(e){if(Array.isArray(e))return e}function ka(e,t,n){var r=n.config$;return e.pipe(Object(g["a"])(Ne["newBlock"].is),Object(w["a"])("payload","blockNumber"),Object(N["a"])(t,r),Object(te["a"])((function(t){var n=va(t,3),r=n[0],a=n[1].transfers,o=n[2].confirmationBlocks;return Object(d["a"])(Object.values(a).filter((function(e){return e.direction===Ae["a"].SENT&&!e.unlock&&!e.expired&&!e.secretRegistered&&!e.channelClosed&&e.expiration<=r-2*o}))).pipe(Object(A["a"])((function(t){var n={secrethash:t.transfer.lock.secrethash,direction:Ae["a"].SENT};return Object(f["a"])(Object(Ir["a"])(e,Un["transferExpire"].request(void 0,n),Object(_e["g"])(Un["transferExpire"],n)),Object(b["a"])(Un["transfer"].failure(new je["c"](je["b"].XFER_EXPIRED,{block:t.transfer.lock.expiration.toString()}),n)))})))})))}var Ea=n("c00b");function Ta(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function xa(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function Aa(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){xa(o,r,a,i,c,"next",e)}function c(e){xa(o,r,a,i,c,"throw",e)}i(void 0)}))}}function Sa(e,t){return Ra(e)||Na(e,t)||Ca(e,t)||Pa()}function Pa(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Na(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)if(n.push(i.value),t&&n.length===t)break}catch(s){a=!0,o=s}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return n}}function Ra(e){if(Array.isArray(e))return e}function Da(e){return La(e)||Ua(e)||Ca(e)||Ia()}function Ia(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ca(e,t){if(e){if("string"===typeof e)return Ma(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ma(e,t):void 0}}function Ua(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function La(e){if(Array.isArray(e))return Ma(e)}function Ma(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ba(e,t){var n=e.locks.filter((function(e){return e.secrethash!==t}));return Object(Et["a"])(n.length===e.locks.length-1,"invalid locks size"),n}function Fa(e){return e.reduce((function(e,t){var n=t.amount;return e.add(n)}),I["f"])}function Wa(e,t,n){var r=e.channels[Object(Re["d"])(t)];return Object(Et["a"])((null===r||void 0===r?void 0:r.state)===Pe["b"].open,"channel not open"),n&&(Object(Et["a"])(n.chain_id.eq(e.chainId),"chainId mismatch"),Object(Et["a"])(n.channel_identifier.eq(r.id),"channelId mismatch")),r}function Va(e,t,n,r){var a,o=n.revealTimeout,i=n.confirmationBlocks,c=n.expiryFactor,s=r.log,l=r.address,f=r.network,p=r.signer,b={routes:t.payload.paths.map((function(e){var t=e.path;return{route:t}}))},y=t.payload.paths[0].fee,h=t.payload.paths[0].path[0],m=t.payload.tokenNetwork,v=Wa(e,{tokenNetwork:m,partner:h});Object(Et["a"])(!t.payload.expiration||t.payload.expiration>e.blockNumber+o,"expiration too soon");var O=Ea["a"].from(t.payload.expiration||Math.min(e.blockNumber+Math.round(o*c),e.blockNumber+v.settleTimeout-i));Object(Et["a"])(O.lte(e.blockNumber+v.settleTimeout),["expiration too far in the future",{expiration:O.toString(),blockNumber:e.blockNumber,settleTimeout:v.settleTimeout,revealTimeout:o}]);var j={amount:t.payload.value.add(y),expiration:O,secrethash:t.meta.secrethash},g=[].concat(Da(v.own.locks),[j]),w=Fa(g);Object(Et["a"])(Object(we["j"])(32).is(v.own.balanceProof.transferredAmount.add(w)),"overflow on future transferredAmount");var _=Object(xe["b"])(g);s.info("Signing transfer of value",t.payload.value.toString(),"of token",v.token,", to",t.payload.target,", through routes",t.payload.paths,", paying",y.toString(),"in fees.");var k={type:ar["d"].LOCKED_TRANSFER,message_identifier:Object(xe["e"])(),chain_id:Ea["a"].from(f.chainId),token_network_address:t.payload.tokenNetwork,channel_identifier:Ea["a"].from(v.id),nonce:v.own.nextNonce,transferred_amount:v.own.balanceProof.transferredAmount,locked_amount:w,locksroot:_,payment_identifier:t.payload.paymentId,token:v.token,recipient:h,lock:j,target:t.payload.target,initiator:null!==(a=t.payload.initiator)&&void 0!==a?a:l,metadata:b};return Object(d["a"])(Object(Te["h"])(p,k,{log:s})).pipe(Object(A["a"])(u.a.mark((function e(n){return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(Un["transferSigned"])({message:n,fee:y,partner:h},t.meta);case 2:if(!t.payload.secret){e.next=5;break}return e.next=5,Object(Un["transferSecret"])({secret:t.payload.secret},t.meta);case 5:case"end":return e.stop()}}),e)}))))}function $a(e,t,n){return Object(l["a"])([e,n.config$]).pipe(Object(D["a"])(),Object(A["a"])((function(e){var r=Sa(e,2),a=r[0],o=r[1];return n.db.storageKeys.has(Object(xe["i"])(t.meta))?(n.log.warn("transfer already present",t.meta),Q["a"]):Va(a,t,o,n)})),Object(S["a"])((function(e){return Object(b["a"])(Un["transfer"].failure(e,t.meta))})))}function Ha(e,t,n,r,a){var o,i=a.log,c=a.signer,s=n.meta.secrethash,u=r.transfer,l=u.token_network_address,f=r.partner,p=Wa(t,{tokenNetwork:l,partner:f});if(r.unlock)o=Object(b["a"])(r.unlock);else{Object(Et["a"])(r.secret,"unknown secret"),Object(Et["a"])(p.own.locks.find((function(e){return e.secrethash===s})),"transfer already unlocked or expired"),Object(Et["a"])(r.secretRegistered||r.expiration>t.blockNumber,"lock expired");var y={type:ar["d"].UNLOCK,message_identifier:Object(xe["e"])(),chain_id:u.chain_id,token_network_address:u.token_network_address,channel_identifier:u.channel_identifier,nonce:p.own.nextNonce,transferred_amount:Object(we["l"])(Object(we["j"])(32),p.own.balanceProof.transferredAmount.add(u.lock.amount),"overflow on transferredAmount"),locked_amount:p.own.balanceProof.lockedAmount.sub(u.lock.amount),locksroot:Object(xe["b"])(Ba(p.own,s)),payment_identifier:u.payment_identifier,secret:r.secret};o=Object(d["a"])(Object(Te["h"])(c,y,{log:i}))}return o.pipe(Object(N["a"])(e),Object(m["a"])((function(e){var t=Sa(e,2),r=t[0],a=t[1],o=a.transfers[Object(xe["i"])(n.meta)],i=Wa(a,{tokenNetwork:l,partner:f});return Object(Et["a"])(o.expiration>a.blockNumber||o.secretRegistered||i.own.locks.find((function(e){return e.secrethash===s&&e.registered})),"lock expired"),Un["transferUnlock"].success({message:r,partner:f},n.meta)})))}function qa(e,t,n){var r=n.signer,a=n.log,o=n.db;return Object(Y["a"])((function(){return Object(xe["d"])(e,o,t.meta)})).pipe(Object(N["a"])(e),Object(A["a"])((function(n){var o=Sa(n,2),i=o[0],c=o[1];return Ha(e,c,t,i,{log:a,signer:r})})),Object(S["a"])((function(e){return a.warn("Error trying to unlock after SecretReveal",e),Object(b["a"])(Un["transferUnlock"].failure(e,t.meta))})))}function Ka(e,t,n,r){var a,o=r.signer,i=r.log,c=t.meta.secrethash,s=n.transfer,u=s.token_network_address,l=n.partner,f=Wa(e,{tokenNetwork:u,partner:l});if(n.expired)a=Object(b["a"])(n.expired);else{Object(Et["a"])(s.lock.expiration.lt(e.blockNumber),"lock not yet expired"),Object(Et["a"])(f.own.locks.find((function(e){return e.secrethash===c}))&&!n.unlock,"transfer already unlocked or expired");var p=Object(xe["b"])(Ba(f.own,c)),y={type:ar["d"].LOCK_EXPIRED,message_identifier:Object(xe["e"])(),chain_id:s.chain_id,token_network_address:s.token_network_address,channel_identifier:s.channel_identifier,nonce:f.own.nextNonce,transferred_amount:f.own.balanceProof.transferredAmount,locked_amount:f.own.balanceProof.lockedAmount.sub(s.lock.amount),locksroot:p,recipient:l,secrethash:c};a=Object(d["a"])(Object(Te["h"])(o,y,{log:i}))}return a.pipe(Object(m["a"])((function(e){return Un["transferExpire"].success({message:e,partner:l},t.meta)})))}function Ga(e,t,n){var r=n.log,a=n.signer,o=n.db;return Object(Y["a"])((function(){return Object(xe["d"])(e,o,t.meta)})).pipe(Object(N["a"])(e),Object(A["a"])((function(e){var n=Sa(e,2),o=n[0],i=n[1];return Ka(i,t,o,{signer:a,log:r})})),Object(S["a"])((function(e){return Object(b["a"])(Un["transferExpire"].failure(e,t.meta))})))}function Xa(e,t,n){var r=n.address,a=n.log,o=n.signer,i=n.config$,c=n.db,s=t.payload.message.lock.secrethash,f={secrethash:s,direction:Ae["a"].RECEIVED};return Object(l["a"])([e,i]).pipe(Object(D["a"])(),Object(A["a"])((function(e){var n=Sa(e,2),i=n[0],p=n[1],d=p.revealTimeout,y=p.caps,h=t.payload.message;if(c.storageKeys.has(Object(xe["i"])(f))){a.warn("transfer already present",f);var m=h.message_identifier,v=i.transfers[Object(xe["i"])(f)];return null!==v&&void 0!==v&&v.transferProcessed&&v.partner===t.meta.address&&m.eq(v.transfer.message_identifier)?Object(b["a"])(Object(Un["transferProcessed"])({message:Object(we["q"])(v.transferProcessed)},f)):Q["a"]}var O=h.token_network_address,j=t.meta.address,g=Wa(i,{tokenNetwork:O,partner:j},h);Object(Et["a"])(h.nonce.eq(g.partner.nextNonce),["nonce mismatch",{expected:g.partner.nextNonce.toNumber(),received:h.nonce.toNumber()}]);var w=[].concat(Da(g.partner.locks),[h.lock]),_=Object(xe["b"])(w);Object(Et["a"])(h.locksroot===_,"locksroot mismatch"),Object(Et["a"])(h.transferred_amount.eq(g.partner.balanceProof.transferredAmount),"transferredAmount mismatch");var k=Fa(w);Object(Et["a"])(h.locked_amount.eq(k),"lockedAmount mismatch"),Object(Et["a"])(Object(we["j"])(32).is(g.partner.balanceProof.transferredAmount.add(k)),"overflow on future transferredAmount");var E=Object(Re["c"])(g),T=E.partnerCapacity;Object(Et["a"])(h.lock.amount.lte(T),"balanceProof total amount bigger than capacity"),Object(Et["a"])(h.lock.expiration.lte(i.blockNumber+g.settleTimeout),["expiration too far in the future",{expiration:h.lock.expiration.toString(),blockNumber:i.blockNumber,settleTimeout:g.settleTimeout,revealTimeout:d}]),Object(Et["a"])(h.recipient===r,"Received transfer isn't for us"),a.info("Receiving transfer of value",h.lock.amount.toString(),"of token",g.token,", from",h.initiator,", through partner",j);var x,S=Object(b["a"])(void 0);h.target===r&&(Object(H["a"])(y,V["a"].RECEIVE)?h.lock.expiration.sub(d).gt(i.blockNumber)||(x={reason:"lock expired or expires too soon",lockExpiration:h.lock.expiration.toString(),dangerZoneStart:h.lock.expiration.sub(d).toString()}):x={reason:"receiving disabled"},x?a.warn("Ignoring received transfer",x):S=Object(Y["a"])(Aa(u.a.mark((function e(){var t;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={type:ar["d"].SECRET_REQUEST,payment_identifier:h.payment_identifier,secrethash:s,amount:h.lock.amount,expiration:h.lock.expiration,message_identifier:Object(xe["e"])()},e.abrupt("return",Object(Te["h"])(o,t,{log:a}));case 2:case"end":return e.stop()}}),e)})))));var P=Object(Y["a"])((function(){var e={type:ar["d"].PROCESSED,message_identifier:h.message_identifier};return Object(Te["h"])(o,e,{log:a})}));return Object(l["a"])([P,S]).pipe(Object(A["a"])(u.a.mark((function e(t){var n,r,a;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=Sa(t,2),r=n[0],a=n[1],e.next=3,Object(Un["transferSigned"])({message:h,fee:I["f"],partner:j},f);case 3:return e.next=5,Object(Un["transferProcessed"])({message:r},f);case 5:if(!a){e.next=10;break}return e.next=8,q["matrixPresence"].request(void 0,{address:h.initiator});case 8:return e.next=10,Object(Un["transferSecretRequest"])({message:a},f);case 10:case"end":return e.stop()}}),e)}))))})),Object(S["a"])((function(e){return Object(b["a"])(Un["transfer"].failure(e,f))})))}function Ya(e,t,n){var r=n.log,a=n.signer,o=n.db,i=Object(xe["c"])(t.payload.message.secret),c={secrethash:i,direction:Ae["a"].RECEIVED};return Object(Y["a"])((function(){return Object(xe["d"])(e,o,c)})).pipe(Object(N["a"])(e),Object(A["a"])((function(e){var n=Sa(e,2),o=n[0],s=n[1];Object(Et["a"])(o,"unknown transfer");var l=t.payload.message,f=t.meta.address;if(Object(Et["a"])(f===o.partner,"wrong partner"),Object(Et["a"])(!o.expired,"already expired"),o.unlock)return r.warn("transfer already unlocked",t.meta),o.unlockProcessed&&l.message_identifier.eq(o.unlockProcessed.message_identifier)?Object(b["a"])(Object(Un["transferUnlockProcessed"])({message:Object(we["q"])(o.unlockProcessed)},c)):Q["a"];var p=o.transfer;Object(Et["a"])(l.token_network_address===p.token_network_address,"wrong tokenNetwork");var y=l.token_network_address,h=Wa(s,{tokenNetwork:y,partner:f},l);Object(Et["a"])(l.nonce.eq(h.partner.nextNonce),["nonce mismatch",{expected:h.partner.nextNonce.toNumber(),received:l.nonce.toNumber()}]);var m=p.lock.amount,v=Ba(h.partner,i);Object(Et["a"])(l.locksroot===Object(xe["b"])(v),"locksroot mismatch"),Object(Et["a"])(l.transferred_amount.eq(h.partner.balanceProof.transferredAmount.add(m)),"transferredAmount mismatch"),Object(Et["a"])(l.locked_amount.eq(Fa(v)),"lockedAmount mismatch");var O={type:ar["d"].PROCESSED,message_identifier:l.message_identifier};return Object(d["a"])(Object(Te["h"])(a,O,{log:r})).pipe(Object(A["a"])(u.a.mark((function e(t){return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(o.secret){e.next=3;break}return e.next=3,Object(Un["transferSecret"])({secret:l.secret},c);case 3:return e.next=5,Un["transferUnlock"].success({message:l,partner:f},c);case 5:return e.next=7,Object(Un["transferUnlockProcessed"])({message:t},c);case 7:return e.next=9,Un["transfer"].success({balanceProof:Object(Te["e"])(l)},c);case 9:case"end":return e.stop()}}),e)}))))})),Object(S["a"])((function(e){return r.warn("Error trying to process received Unlock",e),Object(b["a"])(Un["transferUnlock"].failure(e,c))})))}function Qa(e,t,n){var r=n.log,a=n.signer,o=n.config$,i=n.db,c=t.payload.message.secrethash,s={secrethash:c,direction:Ae["a"].RECEIVED};return Object(Y["a"])((function(){return Object(xe["d"])(e,i,s)})).pipe(Object(N["a"])(e,o),Object(A["a"])((function(e){var n=Sa(e,3),o=n[0],i=n[1],l=n[2].confirmationBlocks,f=t.payload.message,p=t.meta.address;if(Object(Et["a"])(p===o.partner,"wrong partner"),Object(Et["a"])(!o.unlock,"transfer unlocked"),o.expired)return r.warn("transfer already expired",t.meta),o.expiredProcessed&&f.message_identifier.eq(o.expiredProcessed.message_identifier)?Object(b["a"])(Object(Un["transferExpireProcessed"])({message:Object(we["q"])(o.expiredProcessed)},s)):Q["a"];var y=o.transfer;Object(Et["a"])(y.lock.expiration.add(l).lte(i.blockNumber),"expiration block not confirmed yet"),Object(Et["a"])(!o.secretRegistered,"secret registered onchain"),Object(Et["a"])(f.token_network_address===y.token_network_address,"wrong tokenNetwork");var h=f.token_network_address,m=Wa(i,{tokenNetwork:h,partner:p},f);Object(Et["a"])(f.nonce.eq(m.partner.nextNonce),["nonce mismatch",{expected:m.partner.nextNonce.toNumber(),received:f.nonce.toNumber()}]);var v=Ba(m.partner,c);Object(Et["a"])(f.locksroot===Object(xe["b"])(v),"locksroot mismatch"),Object(Et["a"])(f.locked_amount.eq(Fa(v)),"lockedAmount mismatch"),Object(Et["a"])(f.transferred_amount.eq(m.partner.balanceProof.transferredAmount),"transferredAmount mismatch");var O={type:ar["d"].PROCESSED,message_identifier:f.message_identifier};return Object(d["a"])(Object(Te["h"])(a,O,{log:r})).pipe(Object(A["a"])(u.a.mark((function e(t){return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Un["transferExpire"].success({message:f,partner:p},s);case 2:return e.next=4,Object(Un["transferExpireProcessed"])({message:t},s);case 4:return e.next=6,Un["transfer"].failure(new je["c"](je["b"].XFER_EXPIRED,{block:y.lock.expiration.toString()}),s);case 6:case"end":return e.stop()}}),e)}))))})),Object(S["a"])((function(e){return r.warn("Error trying to process received LockExpired",e),Object(b["a"])(Un["transferExpire"].failure(e,s))})))}function za(e,t,n){var r=n.log,a=n.address,o=n.signer,i=n.network,c=n.config$,s=n.latest$;return t.meta.direction!==Ae["a"].SENT?Q["a"]:Object(l["a"])([e,c,s]).pipe(Object(D["a"])(),Object(A["a"])((function(e){var n,c=Sa(e,3),s=c[0],u=c[1].revealTimeout,l=c[2].presences,f=Wa(s,t.meta);if(f.own.pendingWithdraws.some(Object(Ir["c"])(ar["d"].WITHDRAW_REQUEST,t.meta)))return Q["a"];Object(Et["a"])(null===(n=l[t.meta.partner])||void 0===n?void 0:n.payload.available,je["b"].CNL_WITHDRAW_PARTNER_OFFLINE),Object(Et["a"])(t.meta.expiration>=s.blockNumber+u,je["b"].CNL_WITHDRAW_EXPIRES_SOON),Object(Et["a"])(t.meta.totalWithdraw.gt(f.own.withdraw),je["b"].CNL_WITHDRAW_AMOUNT_TOO_LOW),Object(Et["a"])(t.meta.totalWithdraw.lte(Object(Re["c"])(f).ownTotalWithdrawable),je["b"].CNL_WITHDRAW_AMOUNT_TOO_HIGH);var p={type:ar["d"].WITHDRAW_REQUEST,message_identifier:Object(xe["e"])(),chain_id:Ea["a"].from(i.chainId),token_network_address:t.meta.tokenNetwork,channel_identifier:Ea["a"].from(f.id),participant:a,total_withdraw:t.meta.totalWithdraw,nonce:f.own.nextNonce,expiration:Ea["a"].from(t.meta.expiration)};return Object(d["a"])(Object(Te["h"])(o,p,{log:r})).pipe(Object(m["a"])((function(e){return Un["withdrawMessage"].request({message:e},t.meta)})))})),Object(S["a"])((function(e){return Object(b["a"])(Un["withdraw"].failure(e,t.meta))})))}function Za(e,t,n){var r=n.address,a=t.payload.message,o=a.token_network_address,i=t.meta.address,c={direction:Ae["a"].SENT,tokenNetwork:o,partner:i,totalWithdraw:a.total_withdraw,expiration:a.expiration.toNumber()};return e.pipe(Object(D["a"])(),Object(m["a"])((function(e){return Wa(e,{tokenNetwork:o,partner:i},a),Object(Et["a"])(a.participant===r,"participant mismatch"),Un["withdrawMessage"].success({message:a},c)})),Object(S["a"])((function(e){return Object(b["a"])(Un["withdrawMessage"].failure(e,c))})))}function Ja(e,t,n){var r=n.log,a=n.address,o=n.signer,i=n.config$;return t.meta.direction!==Ae["a"].SENT?Q["a"]:Object(l["a"])([e,i]).pipe(Object(D["a"])(),Object(A["a"])((function(e){var n=Sa(e,2),i=n[0],c=n[1].confirmationBlocks,s=Wa(i,t.meta);Object(Et["a"])(!s.own.pendingWithdraws.some(Object(Ir["c"])(ar["d"].WITHDRAW_EXPIRED,t.meta)),"already expired");var l=s.own.pendingWithdraws.find(Object(Ir["c"])(ar["d"].WITHDRAW_REQUEST,t.meta));Object(Et["a"])(l,"no matching WithdrawRequest found, maybe already confirmed"),Object(Et["a"])(i.blockNumber>=t.meta.expiration+c,"not yet expired");var f={type:ar["d"].WITHDRAW_EXPIRED,message_identifier:Object(xe["e"])(),chain_id:l.chain_id,token_network_address:l.token_network_address,channel_identifier:l.channel_identifier,participant:a,total_withdraw:t.meta.totalWithdraw,nonce:s.own.nextNonce,expiration:l.expiration};return Object(d["a"])(Object(Te["h"])(o,f,{log:r})).pipe(Object(A["a"])(u.a.mark((function e(n){return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Un["withdrawExpire"].success({message:n},t.meta);case 2:return e.next=4,Un["withdraw"].failure(new je["c"](je["b"].CNL_WITHDRAW_EXPIRED),t.meta);case 4:case"end":return e.stop()}}),e)}))))})),Object(S["a"])((function(e){return Object(b["a"])(Un["withdrawExpire"].failure(e,t.meta))})))}function eo(e,t,n){var r=n.signer,a=n.log,o=t.payload.message,i=o.token_network_address,c=o.participant,s={direction:Ae["a"].RECEIVED,tokenNetwork:i,partner:c,totalWithdraw:o.total_withdraw,expiration:o.expiration.toNumber()};return e.pipe(Object(D["a"])(),Object(A["a"])((function(e){Object(Et["a"])(o.participant===t.meta.address,"participant mismatch");var n,l=Wa(e,{tokenNetwork:i,partner:c},o),f=l.partner.pendingWithdraws.find(Object(Ir["c"])(ar["d"].WITHDRAW_CONFIRMATION,o));if(f)n=Object(b["a"])(f);else{Object(Et["a"])(o.nonce.eq(l.partner.nextNonce),["nonce mismatch",{expected:l.partner.nextNonce.toNumber(),received:o.nonce.toNumber()}]),Object(Et["a"])(o.total_withdraw.lte(Object(Re["c"])(l).partnerTotalWithdrawable),"invalid total_withdraw");var p={type:ar["d"].WITHDRAW_CONFIRMATION,message_identifier:o.message_identifier,chain_id:o.chain_id,token_network_address:o.token_network_address,channel_identifier:o.channel_identifier,participant:o.participant,total_withdraw:o.total_withdraw,nonce:l.own.nextNonce,expiration:o.expiration};n=Object(d["a"])(Object(Te["h"])(r,p,{log:a}))}return n.pipe(Object(A["a"])(u.a.mark((function e(n){return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Un["withdrawMessage"].request({message:o},s);case 2:return e.next=4,Un["withdrawMessage"].success({message:n},s);case 4:return e.next=6,Cn["messageSend"].request({message:n},{address:c,msgId:t.payload.message.message_identifier.toString()});case 6:case"end":return e.stop()}}),e)}))))})),Object(S["a"])((function(e){return Object(b["a"])(Un["withdrawMessage"].failure(e,s))})))}function to(e,t,n,r){var a=n.signer,o=n.log,i=n.config$,c=t.payload.message,s=c.token_network_address,f=c.participant,p={direction:Ae["a"].RECEIVED,tokenNetwork:s,partner:f,totalWithdraw:c.total_withdraw,expiration:c.expiration.toNumber()};return Object(l["a"])([e,i]).pipe(Object(D["a"])(),Object(A["a"])((function(e){var n=Sa(e,2),i=n[0],l=n[1].confirmationBlocks;Object(Et["a"])(f===t.meta.address,"participant mismatch");var y,h=Wa(i,{tokenNetwork:s,partner:f},c),m="".concat(Object(Re["e"])(h),"+").concat(c.message_identifier.toString()),v=r.get(m);if(v)y=Object(b["a"])(v);else{Object(Et["a"])(c.nonce.eq(h.partner.nextNonce),["nonce mismatch",{expected:h.partner.nextNonce.toNumber(),received:c.nonce.toNumber()}]),Object(Et["a"])(i.blockNumber>=p.expiration+l,"expire block not confirmed yet");var j={type:ar["d"].PROCESSED,message_identifier:c.message_identifier};y=Object(d["a"])(Object(Te["h"])(a,j,{log:o})).pipe(Object(O["a"])((function(e){return r.put(m,e)})))}return y.pipe(Object(A["a"])(u.a.mark((function e(t){return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Un["withdrawExpire"].success({message:c},p);case 2:return e.next=4,Object(Un["withdrawCompleted"])(void 0,p);case 4:return e.next=6,Cn["messageSend"].request({message:t},{address:f,msgId:t.message_identifier.toString()});case 6:case"end":return e.stop()}}),e)}))))})),Object(S["a"])((function(e){return Object(b["a"])(Un["withdrawExpire"].failure(e,p))})))}function no(e,t,n){Ta(t);var r=new sr(32),a=n.latest$.pipe(Object($["e"])("state"),Object($["a"])(e));return Object(f["a"])(e.pipe(Object(g["a"])(Object(_e["e"])([Un["transfer"].request,Un["transferUnlock"].request,Un["transferExpire"].request,Un["withdraw"].request,Un["withdrawExpire"].request]))),e.pipe(Object(g["a"])(Object(Te["g"])([Object(we["h"])(ar["b"]),Object(we["h"])(ar["h"]),Object(we["h"])(ar["a"]),Object(we["h"])(ar["k"]),Object(we["h"])(ar["i"]),Object(we["h"])(ar["j"])])))).pipe(Object(se["a"])((function(e){var t;switch(e.type){case Un["transfer"].request.type:t=$a(a,e,n);break;case Un["transferUnlock"].request.type:t=qa(a,e,n);break;case Un["transferExpire"].request.type:t=Ga(a,e,n);break;case Un["withdraw"].request.type:t=za(a,e,n);break;case Un["withdrawExpire"].request.type:t=Ja(a,e,n);break;case Cn["messageReceived"].type:switch(e.payload.message.type){case ar["d"].LOCKED_TRANSFER:t=Xa(a,e,n);break;case ar["d"].UNLOCK:t=Ya(a,e,n);break;case ar["d"].LOCK_EXPIRED:t=Qa(a,e,n);break;case ar["d"].WITHDRAW_REQUEST:t=eo(a,e,n);break;case ar["d"].WITHDRAW_CONFIRMATION:t=Za(a,e,n);break;case ar["d"].WITHDRAW_EXPIRED:t=to(a,e,n,r);break}break}return t})))}var ro=n("8480"),ao=n("ee9f"),oo=n.n(ao);function io(e,t){return fo(e)||lo(e,t)||so(e,t)||co()}function co(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function so(e,t){if(e){if("string"===typeof e)return uo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?uo(e,t):void 0}}function uo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function lo(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)if(n.push(i.value),t&&n.length===t)break}catch(s){a=!0,o=s}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return n}}function fo(e){if(Array.isArray(e))return e}function po(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function bo(e,t){return po(e),t.pipe(Object(D["a"])(),Object(A["a"])((function(e){var t=e.transfers;return Object(d["a"])(Object.values(t).filter((function(e){return e.direction===Ae["a"].SENT&&!e.unlockProcessed&&!e.expiredProcessed&&!e.secretRegistered&&!e.channelClosed})))})),Object(A["a"])(u.a.mark((function e(t){var n;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={secrethash:t.transfer.lock.secrethash,direction:Ae["a"].SENT},e.next=3,q["matrixPresence"].request(void 0,{address:t.transfer.target});case 3:if(t.transferProcessed){e.next=6;break}return e.next=6,Object(Un["transferSigned"])({message:Object(we["q"])(t.transfer),fee:t.fee,partner:t.partner},n);case 6:if(!t.unlock){e.next=9;break}return e.next=9,Un["transferUnlock"].success({message:Object(we["q"])(t.unlock),partner:t.partner},n);case 9:if(!t.expired){e.next=12;break}return e.next=12,Un["transferExpire"].success({message:Object(we["q"])(t.expired),partner:t.partner},n);case 12:case"end":return e.stop()}}),e)}))))}function yo(e,t,n){po(e);var r=n.config$;return t.pipe(Object(D["a"])(),Object(A["a"])((function(e){var t=e.transfers;return Object(d["a"])(Object.values(t).filter((function(e){return e.direction===Ae["a"].RECEIVED&&!e.unlock&&!e.expired&&!e.secretRegistered&&!e.channelClosed})))})),Object(A["a"])((function(e){var t=e.transfer.lock.secrethash,n={secrethash:t,direction:Ae["a"].RECEIVED};return Object(f["a"])(Object(b["a"])(Object(Un["transferSigned"])({message:Object(we["q"])(e.transfer),fee:e.fee,partner:e.partner},n)),e.secret&&!e.secretReveal?Object(b["a"])(Object(Un["transferSecret"])({secret:e.secret},n)):Q["a"],e.secretReveal?Object(b["a"])(Object(Un["transferSecretReveal"])({message:Object(we["q"])(e.secretReveal)},n)):Q["a"],!e.secret&&e.secretRequest?r.pipe(Object(w["a"])("caps"),Object(g["a"])((function(e){return!!Object(H["a"])(e,V["a"].RECEIVE)})),Object(k["a"])(1),Object(ie["a"])(Object(b["a"])(q["matrixPresence"].request(void 0,{address:e.transfer.initiator}),Object(Un["transferSecretRequest"])({message:Object(we["q"])(e.secretRequest)},n)))):Q["a"])})))}function ho(e){var t,n;return"meta"in e&&(null===(t=e.meta)||void 0===t?void 0:t.secrethash)&&(null===(n=e.meta)||void 0===n?void 0:n.direction)}function mo(e,t,n){var r=n.config$;return t.pipe(Object($["e"])("transfers"),Object($["c"])(),Object(ce["a"])((function(e){var t=io(e,1),n=t[0];return n}),ro["a"],(function(e){return t.pipe(Object(g["a"])((function(t){var n=t.transfers;return!(e.key in n)})))})),Object(N["a"])(r),Object(A["a"])((function(n){var r=io(n,2),a=r[0],o=r[1].httpTimeout;return a.pipe(Object(g["a"])((function(e){var t=io(e,2),n=t[1];return!!(n.unlockProcessed||n.expiredProcessed||n.channelSettled)})),Object(k["a"])(1),Object(A["a"])((function(t){var n=io(t,2),r=n[1];return e.pipe(Object(g["a"])(ho),Object(g["a"])((function(e){return Object(xe["i"])(e.meta)===a.key})),Object(_["a"])({meta:oo()(["secrethash","direction"],r)}))})),Object($["a"])(e),Object(ee["a"])(3*o),Object(m["a"])((function(e){var t=e.meta;return Object(Un["transferClear"])(void 0,t)})),Object(x["a"])(t.pipe(Object(g["a"])((function(e){var t=e.transfers;return!(a.key in t)})))))})))}function vo(e,t){return _o(e)||wo(e,t)||jo(e,t)||Oo()}function Oo(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function jo(e,t){if(e){if("string"===typeof e)return go(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?go(e,t):void 0}}function go(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wo(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)if(n.push(i.value),t&&n.length===t)break}catch(s){a=!0,o=s}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return n}}function _o(e){if(Array.isArray(e))return e}function ko(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function Eo(e,t,n){var r=n.caps,a=Object(H["a"])(r,V["a"].MEDIATE),o=e.meta.direction===Ae["a"].RECEIVED&&e.payload.message.target!==t;return!!a&&o}function To(e,t,n){ko(t);var r=n.address,a=n.config$;return e.pipe(Object(g["a"])(Un["transferSigned"].is),Object(N["a"])(a),Object(g["a"])((function(e){var t=vo(e,2),n=t[0],a=t[1];return Eo(n,r,a)})),Object(m["a"])((function(e){var t=vo(e,1),n=t[0],r=n.payload.message,a=n.meta.secrethash;return Un["transfer"].request({tokenNetwork:r.token_network_address,target:r.target,value:r.lock.amount,paymentId:r.payment_identifier,paths:r.metadata.routes.map((function(e){var t=e.route;return{path:t.slice(1),fee:I["f"]}})),expiration:r.lock.expiration.toNumber(),initiator:r.initiator},{secrethash:a,direction:Ae["a"].SENT})})))}function xo(e,t){return Ro(e)||No(e,t)||So(e,t)||Ao()}function Ao(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function So(e,t){if(e){if("string"===typeof e)return Po(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Po(e,t):void 0}}function Po(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function No(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)if(n.push(i.value),t&&n.length===t)break}catch(s){a=!0,o=s}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return n}}function Ro(e){if(Array.isArray(e))return e}function Do(e,t){return e.pipe(Object(g["a"])(Object(Te["g"])(Object(we["h"])(ar["e"]))),Object(N["a"])(t),Object(A["a"])(u.a.mark((function e(t){var n,r,a,o,i,c,s,l,f,p,d;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=xo(t,2),r=n[0],a=n[1].transfers,o=0,i=Object.values(a);case 2:if(!(o<i.length)){e.next=25;break}if(p=i[o],p.direction===Ae["a"].SENT&&p.partner===r.meta.address){e.next=6;break}return e.abrupt("continue",22);case 6:if(d={secrethash:p.secrethash,direction:Ae["a"].SENT},!r.payload.message.message_identifier.eq(p.transfer.message_identifier)){e.next=12;break}return e.next=10,Object(Un["transferProcessed"])({message:r.payload.message},d);case 10:e.next=22;break;case 12:if(!r.payload.message.message_identifier.eq(null!==(c=null===(s=p.unlock)||void 0===s?void 0:s.message_identifier)&&void 0!==c?c:-1)){e.next=19;break}return e.next=15,Un["transfer"].success({balanceProof:Object(Te["e"])(p.unlock)},d);case 15:return e.next=17,Object(Un["transferUnlockProcessed"])({message:r.payload.message},d);case 17:e.next=22;break;case 19:if(!r.payload.message.message_identifier.eq(null!==(l=null===(f=p.expired)||void 0===f?void 0:f.message_identifier)&&void 0!==l?l:-1)){e.next=22;break}return e.next=22,Object(Un["transferExpireProcessed"])({message:r.payload.message},d);case 22:o++,e.next=2;break;case 25:case"end":return e.stop()}}),e)}))))}function Io(e,t,n){var r=n.db;return e.pipe(Object(g["a"])(Object(_e["e"])([Un["transferProcessed"],Un["transferUnlockProcessed"],Un["transferExpireProcessed"]])),Object(g["a"])((function(e){return e.meta.direction===Ae["a"].RECEIVED})),Object(N["a"])(t),Object(A["a"])((function(e){var t=xo(e,2),n=t[0],a=t[1];return Object(xe["d"])(a,r,n.meta).then((function(e){return[n,e]}))})),Object(m["a"])((function(e){var t=xo(e,2),n=t[0],r=t[1];return Cn["messageSend"].request({message:n.payload.message},{address:r.partner,msgId:n.payload.message.message_identifier.toString()})})))}function Co(e,t){return Fo(e)||Bo(e,t)||Lo(e,t)||Uo()}function Uo(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Lo(e,t){if(e){if("string"===typeof e)return Mo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Mo(e,t):void 0}}function Mo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Bo(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)if(n.push(i.value),t&&n.length===t)break}catch(s){a=!0,o=s}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return n}}function Fo(e){if(Array.isArray(e))return e}function Wo(e,t,n){var r=n.config$;return e.pipe(Object(g["a"])(Object(_e["e"])([Un["transferSigned"],Un["transferUnlock"].success,Un["transferExpire"].success,Un["transferSecretRequest"],Un["transferSecretReveal"]])),Object(N["a"])(t,r),Object(A["a"])((function(n){var a,o,i=Co(n,3),c=i[0],s=i[1],u=i[2].revealTimeout,f=s.transfers[Object(xe["i"])(c.meta)],p=t.pipe(Object($["e"])("transfers",Object(xe["i"])(c.meta)));switch(c.type){case Un["transferSigned"].type:c.meta.direction===Ae["a"].SENT&&(a=c.payload.partner,o=p.pipe(Object(g["a"])((function(e){return!!(e.transferProcessed||e.unlockProcessed||e.expiredProcessed||e.channelClosed)}))));break;case Un["transferUnlock"].success.type:c.meta.direction===Ae["a"].SENT&&(a=c.payload.partner,o=p.pipe(Object(g["a"])((function(e){return!(!e.unlockProcessed&&!e.channelClosed)}))));break;case Un["transferExpire"].success.type:c.meta.direction===Ae["a"].SENT&&(a=c.payload.partner,o=p.pipe(Object(g["a"])((function(e){return!(!e.expiredProcessed&&!e.channelClosed)}))));break;case Un["transferSecretRequest"].type:c.meta.direction===Ae["a"].RECEIVED&&f&&(a=f.transfer.initiator,o=Object(l["a"])([t,p]).pipe(Object(g["a"])((function(e){var t=Co(e,2),n=t[0].blockNumber,r=t[1];return!(!r.secretReveal&&!r.channelClosed)||n>r.expiration-u}))));break;case Un["transferSecretReveal"].type:c.meta.direction===Ae["a"].RECEIVED&&f&&(a=f.partner,o=p.pipe(Object(g["a"])((function(e){return!(!e.unlock&&!e.channelClosed)}))));break}return a&&o?Object(Ir["d"])(Cn["messageSend"].request({message:c.payload.message},{address:a,msgId:c.payload.message.message_identifier.toString()}),e,o,Object(Se["b"])(r)):Q["a"]})))}function Vo(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=Ko(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function $o(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function Ho(e,t){return Yo(e)||Xo(e,t)||Ko(e,t)||qo()}function qo(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ko(e,t){if(e){if("string"===typeof e)return Go(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Go(e,t):void 0}}function Go(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Xo(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)if(n.push(i.value),t&&n.length===t)break}catch(s){a=!0,o=s}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return n}}function Yo(e){if(Array.isArray(e))return e}function Qo(e,t,n){var r=n.address,a=n.log;return e.pipe(Object(g["a"])(Object(Te["g"])(Object(we["h"])(ar["f"]))),Object(N["a"])(t),Object(A["a"])(u.a.mark((function e(t){var n,o,i,c,s,l;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=Ho(t,2),o=n[0],i=n[1],c=o.payload.message,s=Object(xe["i"])({secrethash:c.secrethash,direction:Ae["a"].SENT}),s in i.transfers){e.next=5;break}return e.abrupt("return");case 5:if(l=i.transfers[s].transfer,l.initiator===r&&l.target===o.meta.address&&l.payment_identifier.eq(c.payment_identifier)){e.next=9;break}return a.warn("Invalid SecretRequest for transfer",c,l),e.abrupt("return");case 9:return e.next=11,Object(Un["transferSecretRequest"])({message:c},{secrethash:c.secrethash,direction:Ae["a"].SENT});case 11:case"end":return e.stop()}}),e)}))))}var zo=function(e,t){var n=t.signer,r=t.log,a=t.latest$,o=e.payload.message;return a.pipe(Object(D["a"])(),Object(A["a"])((function(t){var a=t.state,i=a.transfers[Object(xe["i"])(e.meta)];Object(je["d"])(i.secret,"SecretRequest for unknown secret");var c,s=i.transfer,l=s.target,f=i.fee,p=s.lock.amount.sub(f);if(Object(je["d"])(o.expiration.lte(s.lock.expiration)&&o.expiration.gt(a.blockNumber),"SecretRequest for expired transfer"),Object(je["d"])(o.amount.gte(p),"SecretRequest for amount too small!"),o.amount.eq(p)||r.info("Accepted SecretRequest for amount different than sent",o,s),i.secretReveal)c=Object(b["a"])(i.secretReveal);else{var y={type:ar["d"].SECRET_REVEAL,message_identifier:Object(xe["e"])(),secret:i.secret};c=Object(d["a"])(Object(Te["h"])(n,y,{log:r}))}return c.pipe(Object(A["a"])(u.a.mark((function t(n){return u.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(Un["transferSecretReveal"])({message:n},e.meta);case 2:return t.next=4,Cn["messageSend"].request({message:n},{address:l,msgId:n.message_identifier.toString()});case 4:case"end":return t.stop()}}),t)}))))})),Object(S["a"])((function(t){return r.error("Invalid SecretRequest",t),Object(b["a"])(Un["transfer"].failure(new je["c"](je["b"].XFER_INVALID_SECRETREQUEST),e.meta))})))};function Zo(e,t,n){return $o(t),e.pipe(Object(g["a"])(Object(_e["e"])(Un["transferSecretRequest"])),Object(g["a"])((function(e){return e.meta.direction===Ae["a"].SENT})),Object(se["a"])((function(e){return zo(e,n)})))}function Jo(e,t,n){var r=n.config$;return e.pipe(Object(g["a"])(Object(Te["g"])(ar["g"])),Object(N["a"])(t),Object(A["a"])(u.a.mark((function e(t){var n,r,a,o,i,c,s,l,f,p,d,b;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=Ho(t,2),r=n[0],a=n[1],o=Object(xe["c"])(r.payload.message.secret),i=Object.values(Ae["a"]).map((function(e){return a.transfers[Object(xe["i"])({secrethash:o,direction:e})]})).filter(we["n"]),c=r.payload.message,s=Vo(i.filter((function(e){return e.direction===Ae["a"].SENT}))),e.prev=5,s.s();case 7:if((l=s.n()).done){e.next=17;break}return f=l.value,p={secrethash:o,direction:Ae["a"].SENT},e.next=12,Object(Un["transferSecret"])({secret:c.secret},p);case 12:if(r.meta.address!==f.partner||f.channelClosed){e.next=15;break}return e.next=15,Un["transferUnlock"].request(void 0,p);case 15:e.next=7;break;case 17:e.next=22;break;case 19:e.prev=19,e.t0=e["catch"](5),s.e(e.t0);case 22:return e.prev=22,s.f(),e.finish(22);case 25:d=Vo(i.filter((function(e){return e.direction===Ae["a"].RECEIVED}))),e.prev=26,d.s();case 28:if((b=d.n()).done){e.next=34;break}return b.value,e.next=32,Object(Un["transferSecret"])({secret:c.secret},{secrethash:o,direction:Ae["a"].RECEIVED});case 32:e.next=28;break;case 34:e.next=39;break;case 36:e.prev=36,e.t1=e["catch"](26),d.e(e.t1);case 39:return e.prev=39,d.f(),e.finish(39);case 42:case"end":return e.stop()}}),e,null,[[5,19,22,25],[26,36,39,42]])}))),Object($["i"])(r.pipe(Object(m["a"])((function(e){var t=e.caps;return Object(H["a"])(t,V["a"].RECEIVE)})))))}function ei(e,t,n){$o(t);var r=n.log,a=n.signer,o=n.latest$;return e.pipe(Object(g["a"])(Object(_e["e"])([Un["transferSecret"],Un["transferSecretRegister"].success])),Object(g["a"])((function(e){return e.meta.direction===Ae["a"].RECEIVED})),Object(g["a"])((function(e){return Un["transferSecret"].is(e)||!!e.payload.confirmed})),Object(se["a"])((function(e){return o.pipe(Object($["e"])("state"),Object(D["a"])(),Object(g["a"])((function(t){var n=t.transfers;return Object(xe["i"])(e.meta)in n})),Object(A["a"])((function(t){var n,o=t.transfers,i=null===(n=o[Object(xe["i"])(e.meta)])||void 0===n?void 0:n.secretReveal;if(i)return Object(b["a"])(Object(we["q"])(i));var c={type:ar["d"].SECRET_REVEAL,message_identifier:Object(xe["e"])(),secret:e.payload.secret};return Object(Te["h"])(a,c,{log:r})})),Object(m["a"])((function(t){return Object(Un["transferSecretReveal"])({message:t},e.meta)})),Object(S["a"])((function(t){return r.warn("Error trying to sign SecretReveal - ignoring",t,e.meta),Q["a"]})))})))}function ti(e,t,n){$o(e);var r=n.provider,a=n.secretRegistryContract,o=n.config$;return o.pipe(Object($["e"])("confirmationBlocks"),Object(ne["a"])((function(e){return Object(ke["a"])(r,a.filters.SecretRevealed(null,null),e)})),Object($["a"])(t),Object(m["a"])(Object(ke["d"])(a)),Object(g["a"])(we["n"]),Object(N["a"])(t,o),Object(A["a"])(u.a.mark((function e(t){var n,r,a,o,i,c,s,l,f,p,d,b,y;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=Ho(t,3),r=Ho(n[0],3),a=r[0],o=r[1],i=r[2],c=n[1],s=c.transfers,l=c.blockNumber,f=n[2].confirmationBlocks,p=0,d=Object.values(Ae["a"]);case 2:if(!(p<d.length)){e.next=12;break}if(b=d[p],y=Object(xe["i"])({secrethash:a,direction:b}),y in s){e.next=7;break}return e.abrupt("continue",9);case 7:return e.next=9,Un["transferSecretRegister"].success({secret:o,txHash:i.transactionHash,txBlock:i.blockNumber,confirmed:i.blockNumber+f<=l?i.blockNumber<s[y].expiration:void 0},{secrethash:a,direction:b});case 9:p++,e.next=2;break;case 12:case"end":return e.stop()}}),e)}))))}function ni(e){return e.pipe(Object(g["a"])(Un["transferSecretRegister"].success.is),Object(g["a"])((function(e){return!!e.payload.confirmed})),Object(m["a"])((function(e){return Un["transfer"].success({},e.meta)})))}function ri(e,t,n){var r=n.config$,a=n.latest$;return t.pipe(Object(N["a"])(r),Object(A["a"])((function(e){var t=Ho(e,2),n=t[0],r=n.blockNumber,a=n.transfers,o=t[1].revealTimeout;return Object(d["a"])(Object.values(a).filter((function(e){return e.direction===Ae["a"].RECEIVED&&!e.unlock&&!e.expired&&!!e.secret&&!e.secretRegistered&&e.expiration>r&&e.expiration<=r+o})))})),Object(ce["a"])((function(e){return e._id}),ro["a"],(function(e){return a.pipe(Object(w["a"])("state"),Object(g["a"])((function(t){var n=t.blockNumber,r=t.transfers;return!!(r[e.key].expiration<n||r[e.key].unlock||r[e.key].secretRegistered)})))})),Object(A["a"])((function(t){return t.pipe(Object(te["a"])((function(t){var n={secrethash:t.secrethash,direction:Ae["a"].RECEIVED};return Object(Ir["a"])(e,Un["transferSecretRegister"].request({secret:t.secret},n),Object(_e["f"])(Un["transferSecretRegister"],n))})),Object(x["a"])(t.pipe(Object(j["a"])(),Object(J["a"])(1))))})),Object($["i"])(r.pipe(Object(w["a"])("caps"),Object(m["a"])((function(e){return Object(H["a"])(e,V["a"].RECEIVE)})))))}function ai(e,t,n){$o(t);var r=n.log,a=n.signer,o=n.address,i=n.main,c=n.provider,s=n.secretRegistryContract,u=n.config$;return e.pipe(Object(g["a"])(Un["transferSecretRegister"].request.is),Object(N["a"])(u),Object(A["a"])((function(e){var t,n=Ho(e,2),l=n[0],f=n[1].subkey,p=Object(ge["b"])({signer:a,address:o,main:i},null!==(t=l.payload.subkey)&&void 0!==t?t:f),d=p.signer,y=Object(ge["d"])(s,d);return Object(Y["a"])((function(){return y.registerSecret(l.payload.secret)})).pipe(Object(Re["b"])("registerSecret",je["b"].XFER_REGISTERSECRET_TX_FAILED,{log:r,provider:c}),Object($["h"])(Object(Se["b"])(u),{onErrors:je["f"],log:r.debug}),Object(j["a"])(),Object(S["a"])((function(e){return Object(b["a"])(Un["transferSecretRegister"].failure(e,l.meta))})))})))}n("9201");var oi=n("0ba5");function ii(e,t){return ui(e)||si(e,t)||fi(e,t)||ci()}function ci(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function si(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)if(n.push(i.value),t&&n.length===t)break}catch(s){a=!0,o=s}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return n}}function ui(e){if(Array.isArray(e))return e}function li(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=fi(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function fi(e,t){if(e){if("string"===typeof e)return pi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pi(e,t):void 0}}function pi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function di(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function bi(e,t){return di(e),t.pipe(Object(D["a"])(),Object(A["a"])(u.a.mark((function e(t){var n,r,a,o,i,c;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=0,r=Object.values(t.channels);case 1:if(!(n<r.length)){e.next=31;break}if(a=r[n],a.state===Pe["b"].open){e.next=5;break}return e.abrupt("continue",28);case 5:o=li(a.own.pendingWithdraws),e.prev=6,o.s();case 8:if((i=o.n()).done){e.next=20;break}if(c=i.value,c.type!==oi["a"].WITHDRAW_REQUEST||a.own.pendingWithdraws.some(Object(Ir["c"])(oi["a"].WITHDRAW_CONFIRMATION,c))){e.next=15;break}return e.next=13,Un["withdrawMessage"].request({message:c},{direction:Ae["a"].SENT,tokenNetwork:a.tokenNetwork,partner:a.partner.address,totalWithdraw:c.total_withdraw,expiration:c.expiration.toNumber()});case 13:e.next=18;break;case 15:if(c.type!==oi["a"].WITHDRAW_EXPIRED){e.next=18;break}return e.next=18,Un["withdrawExpire"].success({message:c},{direction:Ae["a"].SENT,tokenNetwork:a.tokenNetwork,partner:a.partner.address,totalWithdraw:c.total_withdraw,expiration:c.expiration.toNumber()});case 18:e.next=8;break;case 20:e.next=25;break;case 22:e.prev=22,e.t0=e["catch"](6),o.e(e.t0);case 25:return e.prev=25,o.f(),e.finish(25);case 28:n++,e.next=1;break;case 31:case"end":return e.stop()}}),e,null,[[6,22,25,28]])}))))}function yi(e,t,n){var r=n.config$;return e.pipe(Object(g["a"])(Un["withdrawMessage"].request.is),Object(g["a"])((function(e){return e.meta.direction===Ae["a"].SENT})),Object(A["a"])((function(n){var a=n.payload.message,o=Cn["messageSend"].request({message:a},{address:n.meta.partner,msgId:a.message_identifier.toString()}),i=t.pipe(Object(g["a"])((function(e){var t=e.channels[Object(Re["d"])(n.meta)];return(null===t||void 0===t?void 0:t.state)!==Pe["b"].open||t.own.pendingWithdraws.some(Object(Ir["c"])(oi["a"].WITHDRAW_CONFIRMATION,n.meta))||!t.own.pendingWithdraws.some(Object(Ir["c"])(oi["a"].WITHDRAW_REQUEST,n.meta))})));return Object(Ir["d"])(o,e,i,Object(Se["b"])(r))})))}function hi(e,t,n){di(t);var r=n.address,a=n.signer,o=n.main,i=n.provider,c=n.log,s=n.getTokenNetworkContract,u=n.latest$,l=n.config$;return e.pipe(Object(g["a"])(Un["withdrawMessage"].success.is),Object(g["a"])((function(e){return e.meta.direction===Ae["a"].SENT})),Object(se["a"])((function(e){return u.pipe(Object(D["a"])(),Object(A["a"])((function(t){var n=t.state,u=t.config,f=u.subkey,p=u.revealTimeout;Object(je["d"])(e.meta.expiration>=n.blockNumber+p,je["b"].CNL_WITHDRAW_EXPIRES_SOON);var d=n.channels[Object(Re["d"])(e.meta)];Object(je["d"])((null===d||void 0===d?void 0:d.state)===Pe["b"].open,"channel not open"),Object(je["d"])(e.meta.totalWithdraw.gt(d.own.withdraw),"withdraw already performed");var b=d.own.pendingWithdraws.find(Object(Ir["c"])(oi["a"].WITHDRAW_REQUEST,e.payload.message));Object(je["d"])(b,"no matching WithdrawRequest found");var y=e.meta.tokenNetwork,h=Object(ge["b"])({signer:a,address:r,main:o},f),m=h.signer,v=Object(ge["d"])(s(y),m);return Object(Y["a"])((function(){return v.setTotalWithdraw(d.id,r,e.meta.totalWithdraw,e.meta.expiration,b.signature,e.payload.message.signature)})).pipe(Object(Re["b"])("setTotalWithdraw",je["b"].CNL_WITHDRAW_TRANSACTION_FAILED,{log:c,provider:i}),Object($["h"])(Object(Se["b"])(l),{onErrors:je["f"],log:c.debug}))})),Object(m["a"])((function(t){var n=ii(t,2),r=n[1];return Un["withdraw"].success({txHash:r.transactionHash,txBlock:r.blockNumber,confirmed:void 0},e.meta)})),Object(S["a"])((function(t){return Object(b["a"])(Un["withdraw"].failure(t,e.meta))})))})))}function mi(e,t,n){di(t);var r=n.signer,a=n.log,o=n.latest$,i=new sr(32);return e.pipe(Object(g["a"])(Object(_e["e"])([Un["withdrawMessage"].request,Un["withdrawMessage"].success])),Object(g["a"])((function(e){return e.meta.direction===Ae["a"].RECEIVED!==Un["withdrawMessage"].success.is(e)})),Object(se["a"])((function(e){return o.pipe(Object(D["a"])(),Object(g["a"])((function(t){var n=t.presences;return e.meta.partner in n&&!!Object(H["a"])(n[e.meta.partner].payload.caps,V["a"].DELIVERY)})),Object(A["a"])((function(){var t,n=e.payload.message,o=n.message_identifier.toString(),c=i.get(o);if(c)t=Object(b["a"])(c);else{var s={type:oi["a"].PROCESSED,message_identifier:n.message_identifier};t=Object(d["a"])(Object(oi["i"])(r,s,{log:a})).pipe(Object(O["a"])((function(e){return i.put(o,e)})))}return t.pipe(Object(m["a"])((function(t){return Cn["messageSend"].request({message:t},{address:e.meta.partner,msgId:t.message_identifier.toString()})})))})),Object(S["a"])((function(e){return a.info("Signing Processed message for Withdraw message failed, ignoring",e),Q["a"]})))})))}function vi(e,t,n){var r=n.config$;return e.pipe(Object(g["a"])(Ne["newBlock"].is),Object(w["a"])("payload","blockNumber"),Object(N["a"])(t,r),Object(A["a"])(u.a.mark((function e(t){var n,r,a,o,i,c,s,l,f,p,d;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=ii(t,3),r=n[0],a=n[1],o=n[2].confirmationBlocks,i=0,c=Object.values(a.channels);case 2:if(!(i<c.length)){e.next=31;break}if(s=c[i],s.state===Pe["b"].open){e.next=6;break}return e.abrupt("continue",28);case 6:l=s.own.pendingWithdraws.filter(Object(Ir["c"])(oi["a"].WITHDRAW_REQUEST)),f=li(l),e.prev=8,f.s();case 10:if((p=f.n()).done){e.next=20;break}if(d=p.value,!d.expiration.add(2*o).gte(r)){e.next=14;break}return e.abrupt("continue",18);case 14:if(!s.own.pendingWithdraws.some(Object(Ir["c"])(oi["a"].WITHDRAW_EXPIRED,d))){e.next=16;break}return e.abrupt("continue",18);case 16:return e.next=18,Un["withdrawExpire"].request(void 0,{direction:Ae["a"].SENT,tokenNetwork:s.tokenNetwork,partner:s.partner.address,expiration:d.expiration.toNumber(),totalWithdraw:d.total_withdraw});case 18:e.next=10;break;case 20:e.next=25;break;case 22:e.prev=22,e.t0=e["catch"](8),f.e(e.t0);case 25:return e.prev=25,f.f(),e.finish(25);case 28:i++,e.next=2;break;case 31:case"end":return e.stop()}}),e,null,[[8,22,25,28]])}))))}function Oi(e,t,n){di(t);var r=n.config$;return e.pipe(Object(g["a"])(Un["withdrawExpire"].success.is),Object(g["a"])((function(e){return e.meta.direction===Ae["a"].SENT})),Object(A["a"])((function(t){var n=t.payload.message,a=Cn["messageSend"].request({message:n},{address:t.meta.partner,msgId:n.message_identifier.toString()}),o=e.pipe(Object(g["a"])(Object(oi["h"])(Object(we["h"])(oi["b"]))),Object(g["a"])((function(e){return e.meta.address===t.meta.partner&&e.payload.message.message_identifier.eq(n.message_identifier)})),Object(re["a"])(Object(Un["withdrawCompleted"])(void 0,t.meta)),Object(k["a"])(1),Object(Nr["a"])());return Object(f["a"])(Object(Ir["d"])(a,e,o,Object(Se["b"])(r)),o)})))}var ji=n("945b"),gi=n("ad7d"),wi=n("84d4"),_i=n("699d"),ki=n("358d"),Ei=n("d011");function Ti(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=Bi(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function xi(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function Ai(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Si(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ai(Object(n),!0).forEach((function(t){Pi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ai(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ni(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function Ri(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Ni(o,r,a,i,c,"next",e)}function c(e){Ni(o,r,a,i,c,"throw",e)}i(void 0)}))}}function Di(e){return Ui(e)||Ci(e)||Bi(e)||Ii()}function Ii(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ci(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function Ui(e){if(Array.isArray(e))return Fi(e)}function Li(e,t){return Vi(e)||Wi(e,t)||Bi(e,t)||Mi()}function Mi(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Bi(e,t){if(e){if("string"===typeof e)return Fi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fi(e,t):void 0}}function Fi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Wi(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)if(n.push(i.value),t&&n.length===t)break}catch(s){a=!0,o=s}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return n}}function Vi(e){if(Array.isArray(e))return e}var $i=vt["p"](vt["v"]({error_code:vt["n"],errors:vt["s"]}));function Hi(e){return(null!==e&&void 0!==e?e:new Date).toISOString().substr(0,19)}function qi(e,t,n){var r=n.address,a=n.signer,o=n.network,i=n.contractsInfo,c=n.latest$,s=n.config$;return Object(Y["a"])((function(){var t=Hi(),n=Object(me["b"])([r,e.address,Object(_i["f"])(t)]);return Object(d["a"])(a.signMessage(n)).pipe(Object(m["a"])((function(n){return{sender:r,receiver:e.address,timestamp:t,signature:n}})))})).pipe(Object(N["a"])(s),Object(A["a"])((function(n){var r=Li(n,2),a=r[0],o=r[1].httpTimeout;return Object(wt["a"])("".concat(e.url,"/api/v1/").concat(t,"/payment/iou?").concat(new URLSearchParams(a).toString()),{method:"GET",headers:{"Content-Type":"application/json"}}).pipe(Object(Ot["a"])(o),Object($["h"])(Object(Se["b"])(s),{onErrors:[].concat(Di(je["h"]),["TimeoutError"])}))})),Object(N["a"])(c.pipe(Object(w["a"])("state","blockNumber")),s),Object(A["a"])(function(){var t=Ri(u.a.mark((function t(n){var a,c,s,l,f,p,d,b;return u.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=Li(n,3),c=a[0],s=a[1],l=a[2].pfsIouTimeout,404!==c.status){t.next=3;break}return t.abrupt("return",{sender:r,receiver:e.address,chain_id:Ea["a"].from(o.chainId),amount:I["f"],one_to_n_address:i.OneToN.address,expiration_block:Ea["a"].from(s).add(l)});case 3:return t.next=5,c.text();case 5:if(f=t.sent,c.ok){t.next=8;break}throw new je["c"](je["b"].PFS_LAST_IOU_REQUEST_FAILED,{responseStatus:c.status,responseText:f});case 8:if(p=Object(we["l"])(Ei["b"],Object(Ee["b"])(f)),d=p.last_iou,b=Object(ln["b"])(Object(ki["b"])(d),d.signature),b===r){t.next=12;break}throw new je["c"](je["b"].PFS_IOU_SIGNATURE_MISMATCH,{signer:b,address:r});case 12:return t.abrupt("return",d);case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))}function Ki(e,t,n){return n.latest$.pipe(Object(D["a"])(),Object(A["a"])((function(r){var a,o=r.state,i=null===(a=o.iou[t])||void 0===a?void 0:a[e.address];return i?Object(b["a"])(i):qi(e,t,n)})),Object(m["a"])((function(t){return Si(Si({},t),{},{amount:t.amount.add(e.price)})})),Object(A["a"])((function(e){return Object(ki["e"])(n.signer,e)})))}function Gi(e,t,n){return xi(t),e.pipe(Object(g["a"])(Object(_e["e"])(K["pathFind"].request)),Object(se["a"])((function(t){return n.latest$.pipe(Object(D["a"])(),Object(A["a"])((function(r){var a,o,i=t.meta.target;return i in r.presences?(a=Q["a"],o=Object(b["a"])(r)):(a=Object(b["a"])(q["matrixPresence"].request(void 0,{address:i})),o=ic(e,n,i)),Object(f["a"])(o.pipe(Object(A["a"])((function(e){return cc(t,n,e)})),Object(N["a"])(n.latest$),Object(A["a"])((function(e){var r=Li(e,2),a=r[0],o=r[1];return sc(t,n,a,o)})),Object(S["a"])((function(e){return Object(b["a"])(K["pathFind"].failure(e,t.meta))}))),a)})))})))}function Xi(e,t,n){xi(e);var r=n.log,a=n.address,o=n.network,i=n.signer,c=n.config$;return t.pipe(Re["f"],Object(A["a"])((function(e){return e.pipe(Object(ji["a"])(),Object(N["a"])(c),Object(g["a"])((function(e){var t=Li(e,2),n=Li(t[0],2),r=n[1],a=t[1].pfsRoom;return r.state===Pe["b"].open&&!!a})),Object(gi["a"])((function(e){var t=Li(e,2),n=Li(t[0],2),r=n[0],a=n[1],o=t[1].httpTimeout;return a.own.locks.length>r.own.locks.length||a.partner.locks.length>r.partner.locks.length?Object(y["a"])(o):Object(b["a"])(1)})),Object(ne["a"])((function(e){var t=Li(e,2),n=Li(t[0],2),c=n[1],s=t[1],u=s.revealTimeout,l=s.pfsRoom,f=c.tokenNetwork,p=c.partner.address,d=Object(Re["c"])(c),b=d.ownCapacity,y=d.partnerCapacity,h={type:ar["d"].PFS_CAPACITY_UPDATE,canonical_identifier:{chain_identifier:Ea["a"].from(o.chainId),token_network_address:f,channel_identifier:Ea["a"].from(c.id)},updating_participant:a,other_participant:p,updating_nonce:c.own.balanceProof.nonce,other_nonce:c.partner.balanceProof.nonce,updating_capacity:b,other_capacity:y,reveal_timeout:Ea["a"].from(u)};return Object(Y["a"])((function(){return Object(Te["h"])(i,h,{log:r})})).pipe(Object(m["a"])((function(e){return Object(Cn["messageGlobalSend"])({message:e},{roomName:l})})),Object(S["a"])((function(e){return r.error("Error trying to generate & sign PFSCapacityUpdate",e),Q["a"]})))})))})))}function Yi(e,t,n){xi(e);var r=n.log,a=n.address,o=n.network,i=n.signer,c=n.config$;return t.pipe(Re["f"],Object(A["a"])((function(e){return e.pipe(Object(D["a"])())})),Object(N["a"])(c),Object(g["a"])((function(e){var t=Li(e,2),n=t[0],r=t[1],a=r.pfsRoom,o=r.caps;return n.state===Pe["b"].open&&!!a&&!!Object(H["a"])(o,V["a"].MEDIATE)})),Object(A["a"])((function(e){var t=Li(e,2),n=t[0],c=t[1].pfsRoom,s={type:ar["d"].PFS_FEE_UPDATE,canonical_identifier:{chain_identifier:Ea["a"].from(o.chainId),token_network_address:n.tokenNetwork,channel_identifier:Ea["a"].from(n.id)},updating_participant:a,timestamp:Hi(),fee_schedule:{cap_fees:!0,imbalance_penalty:null,proportional:I["f"],flat:I["f"]}};return Object(d["a"])(Object(Te["h"])(i,s,{log:r})).pipe(Object(m["a"])((function(e){return Object(Cn["messageGlobalSend"])({message:e},{roomName:c})})),Object(S["a"])((function(e){return r.error("Error trying to generate & sign PFSFeeUpdate",e),Q["a"]})))})))}function Qi(e,t,n){xi(t);var r=n.provider,a=n.serviceRegistryContract,o=n.contractsInfo,i=n.config$,c=n.latest$,s=n.init$;return Object(l["a"])([i.pipe(Object($["e"])("pfs")),i.pipe(Object($["e"])("confirmationBlocks"))]).pipe(Object(ne["a"])((function(e){var t=Li(e,2),n=t[0],i=t[1];if(""!==n&&void 0!==n)return Q["a"];var u=new z["a"];return s.next(u),Object(ke["a"])(r,a.filters.RegisteredService(null,null,null,null),i,o.ServiceRegistry.block_number).pipe(Object(N["a"])(c),Object(g["a"])((function(e){var t=Li(e,2),n=t[0].blockNumber,r=t[1].state;return!!n&&n+i<=r.blockNumber})),Object(w["a"])(0),Object(m["a"])(Object(ke["d"])(a)),Object(g["a"])(we["n"])).pipe(Object(ce["a"])((function(e){var t=Li(e,1),n=t[0];return n})),Object(A["a"])((function(e){return e.pipe(Object(ne["a"])((function(e){var t=Li(e,2),n=t[0],r=t[1],a=Date.now(),o=r.mul(1e3);if(o.lt(a))return Q["a"];var i=o.sub(a).lt(I["d"].pow(31))?Object(b["a"])({service:n,valid:!1}).pipe(Object(wi["a"])(new Date(o.toNumber()))):Q["a"];return Object(f["a"])(Object(b["a"])({service:n,valid:!0}),i)})))})),Object(E["a"])((function(e,t){var n=t.service,r=t.valid;return!r&&e.includes(n)?e.filter((function(e){return e!==n})):r&&!e.includes(n)?[].concat(Di(e),[n]):e}),[]),Object(v["a"])(),Object(ee["a"])(1e3),Object(m["a"])((function(e){return u.complete(),Object(K["pfsListUpdated"])({pfsList:e})})))})),Object($["a"])(e))}function zi(e,t,n){xi(t);var r=n.address,a=n.latest$,o=n.provider,i=n.userDepositContract;return e.pipe(Object(g["a"])(Ne["newBlock"].is),Object(_["a"])(null),Object(te["a"])((function(){return Object($["g"])((function(){return Promise.all([i.callStatic.effectiveBalance(r),i.callStatic.total_deposit(r)])}),o.pollingInterval,{onErrors:je["h"]}).pipe(Object(S["a"])(he()(Q["a"])))})),Object(N["a"])(a),Object(g["a"])((function(e){var t=Li(e,2),n=Li(t[0],1),r=n[0],a=t[1].udcBalance;return!a.eq(r)})),Object(m["a"])((function(e){var t=Li(e,1),n=Li(t[0],2),r=n[0],a=n[1];return K["udcDeposit"].success({balance:r},{totalDeposit:a})})))}function Zi(e,t,n,r,a){var o=Li(e,2),i=o[0],c=o[1],s=Li(t,2),u=s[0],l=s[1],f=Li(n,2),p=f[0],d=f[1],b=r.pollingInterval,y=r.minimumAllowance,h=a.log,m=a.provider,v=a.config$;return Object($["g"])((function(){return Promise.all([i.callStatic.balanceOf(u),i.callStatic.allowance(u,c.address),c.callStatic.total_deposit(l)])}),b,{onErrors:je["h"]}).pipe(Object(A["a"])((function(e){var t=Li(e,3),n=t[0],r=t[1],a=t[2];return Object(je["d"])(a.add(p).eq(d),[je["b"].UDC_DEPOSIT_OUTDATED,{requested:d.toString(),current:a.toString()}]),Object(Re["a"])([n,r,p],i,c.address,je["b"].RDN_APPROVE_TRANSACTION_FAILED,{provider:m},{log:h,minimumAllowance:y})})),Object(A["a"])((function(){return c.deposit(l,d)})),Object(Re["b"])("deposit",je["b"].RDN_DEPOSIT_TRANSACTION_FAILED,{log:h,provider:m}),Object($["h"])(Object(Se["b"])(v),{onErrors:je["f"],log:h.debug}))}function Ji(e,t,n){xi(t);var r=n.userDepositContract,a=n.getTokenContract,o=n.address,i=n.log,c=n.signer,s=n.main,u=n.config$,l=n.provider;return e.pipe(Object(g["a"])(K["udcDeposit"].request.is),Object(se["a"])((function(e){return Object($["g"])((function(){return r.callStatic.token()}),l.pollingInterval,{onErrors:je["h"]}).pipe(Object(N["a"])(u),Object(A["a"])((function(t){var n,f=Li(t,2),p=f[0],d=f[1],b=Object(ge["b"])({signer:c,address:o,main:s},null!==(n=e.payload.subkey)&&void 0!==n?n:d.subkey),y=b.signer,h=b.address,m=Object(ge["d"])(a(p),y),v=Object(ge["d"])(r,y);return Zi([m,v],[h,o],[e.payload.deposit,e.meta.totalDeposit],d,{log:i,provider:l,config$:u})})),Object(A["a"])((function(t){var n=Li(t,2),a=n[1];return Object($["g"])((function(){return r.callStatic.effectiveBalance(o)}),l.pollingInterval,{onErrors:je["h"]}).pipe(Object(m["a"])((function(t){return K["udcDeposit"].success({balance:t,txHash:a.transactionHash,txBlock:a.blockNumber,confirmed:void 0},e.meta)})))})),Object(S["a"])((function(t){return Object(b["a"])(K["udcDeposit"].failure(t,e.meta))})))})))}function ec(e){var t=e.address,n=e.log,r=e.network,a=e.signer,o=e.contractsInfo,i=e.latest$,c=e.config$;return function(e){var s=Li(e,2),u=s[1],f=Object(Re["c"])(u),p=f.partnerUnlocked;return p.isZero()?Q["a"]:Object(l["a"])([i,c]).pipe(Object(g["a"])((function(e){var t,n=Li(e,2),r=n[0].udcBalance,a=n[1],o=a.monitoringRoom,i=a.monitoringReward,c=a.rateToSvt;return!!o&&!(null===i||void 0===i||!i.gt(I["f"]))&&r.gte(i)&&p.mul(null!==(t=c[u.token])&&void 0!==t?t:I["a"]).div(I["e"]).gt(i)})),Object(k["a"])(1),Object(A["a"])((function(e){var i=Li(e,2),c=i[1],s=c.monitoringReward,l=c.monitoringRoom,f=u.partner.balanceProof,p=Object(Te["b"])(f),b=Object(me["b"])([Object(Ee["a"])(u.tokenNetwork,20),Object(Ee["a"])(r.chainId,32),Object(Ee["a"])(Te["a"].BALANCE_PROOF_UPDATE,32),Object(Ee["a"])(u.id,32),Object(Ee["a"])(p,32),Object(Ee["a"])(f.nonce,32),Object(Ee["a"])(f.additionalHash,32),Object(Ee["a"])(f.signature,65)]);return Object(d["a"])(a.signMessage(b)).pipe(Object(A["a"])((function(e){return Object(Te["h"])(a,{type:ar["d"].MONITOR_REQUEST,balance_proof:{chain_id:f.chainId,token_network_address:f.tokenNetworkAddress,channel_identifier:Ea["a"].from(u.id),nonce:f.nonce,balance_hash:p,additional_hash:f.additionalHash,signature:f.signature},non_closing_participant:t,non_closing_signature:e,monitoring_service_contract_address:o.MonitoringService.address,reward_amount:s},{log:n})})),Object(m["a"])((function(e){return Object(Cn["messageGlobalSend"])({message:e},{roomName:l})})))})),Object(S["a"])((function(e){return n.error("Error trying to generate & sign MonitorRequest",e),Q["a"]})))}}function tc(e,t,n){return xi(e),t.pipe(Re["f"],Object(N["a"])(n.config$),Object(A["a"])((function(e){var t=Li(e,2),r=t[0],a=t[1].httpTimeout;return r.pipe(Object(v["a"])((function(e,t){return t.partner.balanceProof.transferredAmount.eq(e.partner.balanceProof.transferredAmount)&&t.partner.balanceProof.lockedAmount.eq(e.partner.balanceProof.lockedAmount)&&t.partner.locks===e.partner.locks})),Object(ji["a"])(),Object(gi["a"])((function(e){var t=Li(e,2),n=t[0],r=t[1];return r.partner.locks.length>n.partner.locks.length?Object(y["a"])(a):Object(b["a"])(1)})),Object(ne["a"])(ec(n)))})))}function nc(e,t,n){var r=n.userDepositContract,a=n.address,o=n.log,i=n.signer,c=n.provider,s=n.config$;return e.pipe(Object(g["a"])(K["udcWithdraw"].request.is),Object(A["a"])((function(e){return Object($["g"])((function(){return r.callStatic.balances(a).then((function(t){return[e,t]}))}),c.pollingInterval,{onErrors:je["h"]})})),Object(se["a"])((function(e){var n=Li(e,2),u=n[0],l=n[1],f=Object(ge["d"])(r,i),p=u.meta.amount;return Object(Y["a"])((function(){return Object(je["d"])(p.gt(I["f"]),[je["b"].UDC_PLAN_WITHDRAW_GT_ZERO,{amount:p.toString()}]),Object(je["d"])(l.sub(p).gte(I["f"]),[je["b"].UDC_PLAN_WITHDRAW_EXCEEDS_AVAILABLE,{balance:l.toString(),amount:p.toString()}]),f.planWithdraw(p)})).pipe(Object(Re["b"])("planWithdraw",je["b"].UDC_PLAN_WITHDRAW_FAILED,{log:o,provider:c}),Object($["h"])(Object(Se["b"])(s),{onErrors:je["f"],log:o.debug}),Object(A["a"])((function(e){var n=Li(e,2),o=n[1],i=o.transactionHash,s=o.blockNumber;return t.pipe(Object($["e"])("blockNumber"),Object(te["a"])((function(){return Object($["g"])((function(){return r.callStatic.withdraw_plans(a)}),c.pollingInterval,{onErrors:je["h"]})})),Object(D["a"])((function(e){var t=e.amount;return t.gte(u.meta.amount)})),Object(m["a"])((function(e){var t=e.amount,n=e.withdraw_block;return K["udcWithdraw"].success({block:n.toNumber(),txHash:i,txBlock:s,confirmed:void 0},{amount:t})})))})),Object(S["a"])((function(e){return o.error("Planning udc withdraw failed",e),Object(b["a"])(K["udcWithdraw"].failure(e,u.meta))})))})))}function rc(e,t,n){xi(e),xi(t);var r=n.userDepositContract,a=n.address,o=n.config$;return o.pipe(Object(D["a"])(),Object(A["a"])((function(e){var t=e.pollingInterval;return Object($["g"])((function(){return r.withdraw_plans(a)}),t,{onErrors:je["h"]})})),Object(g["a"])((function(e){return e.withdraw_block.gt(I["f"])})),Object(m["a"])((function(e){var t=e.amount,n=e.withdraw_block;return K["udcWithdraw"].success({block:n.toNumber(),confirmed:!0},{amount:t})})))}function ac(e,t,n){var r=n.log,a=n.userDepositContract,o=n.address,i=n.signer,c=n.provider,s=n.config$;return e.pipe(Object(g["a"])(K["udcWithdraw"].success.is),Object(g["a"])((function(e){return!0===e.payload.confirmed})),Object(A["a"])((function(e){return t.pipe(Object(w["a"])("blockNumber"),Object(g["a"])((function(t){return e.payload.block<t})),Object(k["a"])(1),Object(re["a"])(e))})),Object(A["a"])((function(e){return Object($["g"])((function(){return a.callStatic.balances(o).then((function(t){return[e,t]}))}),c.pollingInterval,{onErrors:je["h"]})})),Object(se["a"])((function(e){var n=Li(e,2),u=n[0],l=n[1],f=Object(ge["d"])(a,i);return Object(Y["a"])((function(){return Object(je["d"])(l.gt(I["f"]),[je["b"].UDC_WITHDRAW_NO_BALANCE,{balance:l.toString()}]),f.withdraw(u.meta.amount)})).pipe(Object(Re["b"])("withdraw",je["b"].UDC_WITHDRAW_FAILED,{log:r,provider:c}),Object($["h"])(Object(Se["b"])(s),{onErrors:je["f"],log:r.debug}),Object(se["a"])((function(e){var n=Li(e,2),r=n[1],a=r.transactionHash,i=r.blockNumber;return t.pipe(Object($["e"])("blockNumber"),Object(te["a"])((function(){return Object($["g"])((function(){return f.callStatic.balances(o)}),c.pollingInterval,{onErrors:je["h"]})})),Object(g["a"])((function(e){return e.lt(l)})),Object(k["a"])(1),Object(m["a"])((function(e){return Object(K["udcWithdrawn"])({withdrawal:l.sub(e),txHash:a,txBlock:i,confirmed:void 0},u.meta)})))})),Object(S["a"])((function(e){return r.error("Error when processing the withdraw plan",e),Object(b["a"])(K["udcWithdraw"].failure(e,u.meta))})))})))}function oc(e,t,n){xi(e);var r=n.provider,a=n.monitoringServiceContract,o=n.address,i=n.config$;return i.pipe(Object($["e"])("confirmationBlocks"),Object(ne["a"])((function(e){return Object(ke["a"])(r,a.filters.NewBalanceProofReceived(null,null,null,null,null,o),e)})),Object($["a"])(t),Object(m["a"])(Object(ke["d"])(a)),Object(g["a"])(we["n"]),Object(g["a"])((function(e){var t=Li(e,6),n=t[5];return n===o})),Object(N["a"])(t,i),Object(m["a"])((function(e){var t=Li(e,3),n=Li(t[0],7),r=n[0],a=n[1],o=n[2],i=n[3],c=n[4],s=n[6],u=t[1],l=t[2].confirmationBlocks,f=Object.values(u.channels).concat(Object.values(u.oldChannels)).find((function(e){return e.tokenNetwork===r&&a.eq(e.id)})),p=s.blockNumber;if(f&&p)return Object(K["msBalanceProofSent"])({tokenNetwork:r,partner:f.partner.address,id:f.id,reward:o,nonce:i,monitoringService:c,txHash:s.transactionHash,txBlock:p,confirmed:p+l<=u.blockNumber||void 0})})),Object(g["a"])(we["n"]))}function ic(e,t,n){return e.pipe(Object(g["a"])(Object(_e["g"])(q["matrixPresence"],{address:n})),Object(k["a"])(1),Object(A["a"])((function(e){if(q["matrixPresence"].success.is(e))return t.latest$.pipe(Object(D["a"])((function(e){var t=e.presences;return n in t})));throw e.payload})))}function cc(e,t,n){var r=n.state,a=n.presences,o=n.config;uc(e,r,a);var i=e.meta,c=i.tokenNetwork,s=i.target,u=i.value;if(e.payload.paths)return Object(b["a"])({paths:e.payload.paths,iou:void 0});if(!0===Object(ki["a"])(r,a,c,s,s,u))return Object(b["a"])({paths:[{path:[t.address,e.meta.target],fee:I["f"]}],iou:void 0});if(lc(e,o))throw new je["c"](je["b"].PFS_DISABLED);return fc(e,t)}function sc(e,t,n,r){var a=e.meta.tokenNetwork,o=n.iou,i=n.paths,c=n.error;return Object(d["a"])(u.a.mark((function s(){var l;return u.a.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(!o){s.next=8;break}if(!mc(n)){s.next=6;break}return s.next=4,Object(K["iouPersist"])({iou:o},{tokenNetwork:a,serviceAddress:o.receiver});case 4:s.next=8;break;case 6:return s.next=8,Object(K["iouClear"])(void 0,{tokenNetwork:a,serviceAddress:o.receiver});case 8:if(!c){s.next=14;break}if(!Oc(c)){s.next=13;break}throw new je["c"](je["b"].PFS_NO_ROUTES_BETWEEN_NODES);case 13:throw new je["c"](je["b"].PFS_ERROR_RESPONSE,{errorCode:c.error_code,errors:c.errors});case 14:if(l=pc(e,t,r,i),!l.length){s.next=20;break}return s.next=18,K["pathFind"].success({paths:l},e.meta);case 18:s.next=21;break;case 20:throw new je["c"](je["b"].PFS_NO_ROUTES_FOUND);case 21:case"end":return s.stop()}}),s)}))())}function uc(e,t,n){var r=e.meta,a=r.tokenNetwork,o=r.target,i=r.value;Object(je["d"])(Object.values(t.tokens).includes(a),[je["b"].PFS_UNKNOWN_TOKEN_NETWORK,{tokenNetwork:a}]),Object(je["d"])(n[o].payload.available,[je["b"].PFS_TARGET_OFFLINE,{target:o}]),Object(je["d"])(Object(H["a"])(n[o].payload.caps,V["a"].RECEIVE),[je["b"].PFS_TARGET_NO_RECEIVE,{target:o}]),Object(je["d"])(Object.values(t.channels).some((function(e){return!0===Object(ki["a"])(t,n,a,e.partner.address,o,i)})),je["b"].PFS_NO_ROUTES_BETWEEN_NODES)}function lc(e,t){var n=t.pfs,r=null===e.payload.pfs,a=!e.payload.pfs&&null===n;return r||a}function fc(e,t){var n=e.meta,r=n.tokenNetwork,a=n.target,o=n.value;return t.config$.pipe(Object(D["a"])(),Object(A["a"])((function(n){return dc(e.payload.pfs,n.pfs,t).pipe(Object(A["a"])((function(e){return bc(e,r,t)})),Object(A["a"])((function(e){var i=e.pfs,c=e.iou;return yc(i,c,r,t.address,a,o,n)})),Object(m["a"])((function(e){var t=e.pfsResponse,r=e.responseText,a=e.iou;return hc(t,r,a,n)})))})))}function pc(e,t,n,r){var a=t.address,o=t.log,i=n.state,c=n.presences,s=[],u=new Set;if(r){var l,f=Ti(r);try{for(f.s();!(l=f.n()).done;){var p=l.value,d=p.path,b=p.fee,y=vc(d,a),h=y[0],m=!1,v="";if(!u.has(h)){if(0===s.length){var O=e.meta,j=O.tokenNetwork,g=O.target,w=O.value,_=Object(ki["a"])(i,c,j,h,g,w);m=!0===_,v="string"===typeof _?_:""}else h!==s[0].path[0]?v="path: already selected another recipient":b.gt(s[0].fee)?v="path: already selected a smaller fee":m=!0;m?s.push({path:y,fee:b}):(o.warn("Invalidated received route. Reason:",v,"Route:",y),u.add(h))}}}catch(k){f.e(k)}finally{f.f()}}return s}function dc(e,t,n){if(e)return Object(b["a"])(e);if(t)return Object(ki["c"])(t,n);var r=n.log,a=n.latest$;return a.pipe(Object(w["a"])("pfsList"),Object(D["a"])((function(e){return e.length>0})),Object(A["a"])((function(e){return Object(ki["d"])(e,n)})),Object(O["a"])((function(e){return r.info("Auto-selecting best PFS from:",e)})),Object(w["a"])(0))}function bc(e,t,n){return e.price.isZero()?Object(b["a"])({pfs:e,iou:void 0}):Ki(e,t,n).pipe(Object(m["a"])((function(t){return{pfs:e,iou:t}})))}function yc(e,t,n,r,a,o,i){var c=i.httpTimeout,s=i.pfsMaxPaths,l=Object(Ee["c"])({from:r,to:a,value:Object(we["j"])(32).encode(o),max_paths:s,iou:t?Si(Si({},t),{},{amount:Object(we["j"])(32).encode(t.amount),expiration_block:Object(we["j"])(32).encode(t.expiration_block),chain_id:Object(we["j"])(32).encode(t.chain_id)}):void 0});return Object(wt["a"])("".concat(e.url,"/api/v1/").concat(n,"/paths"),{method:"POST",headers:{"Content-Type":"application/json"},body:l}).pipe(Object(Ot["a"])(c),Object($["h"])(Object(Se["b"])(Object(b["a"])(i)),{onErrors:[].concat(Di(je["h"]),["TimeoutError"])}),Object(A["a"])(function(){var e=Ri(u.a.mark((function e(n){return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=n,e.next=3,n.text();case 3:return e.t1=e.sent,e.t2=t,e.abrupt("return",{pfsResponse:e.t0,responseText:e.t1,iou:e.t2});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}function hc(e,t,n,r){var a=r.pfsSafetyMargin,o=r.pfsMaxPaths,i=Object(Ee["b"])(t);if(e.ok){var c=Object(we["l"])(Ei["d"],i).result.filter((function(e,t){return t<o})),s=c.map((function(e){var t=e.path,n=e.estimated_fee,r=n.mul(Math.round(1e6*a)).div(1e6);return{path:t,fee:r}}));return{paths:s,iou:n}}var u=Object(we["l"])($i,i);return{iou:n,error:u}}function mc(e){var t=e.paths,n=e.error;return void 0!==t||Oc(n)}function vc(e,t){return e[0]===t?e.slice(1):e}function Oc(e){return 2201===(null===e||void 0===e?void 0:e.error_code)}function jc(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function gc(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){jc(o,r,a,i,c,"next",e)}function c(e){jc(o,r,a,i,c,"throw",e)}i(void 0)}))}}function wc(e,t){return xc(e)||Tc(e,t)||kc(e,t)||_c()}function _c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function kc(e,t){if(e){if("string"===typeof e)return Ec(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ec(e,t):void 0}}function Ec(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Tc(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)if(n.push(i.value),t&&n.length===t)break}catch(s){a=!0,o=s}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return n}}function xc(e){if(Array.isArray(e))return e}function Ac(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function Sc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sc(Object(n),!0).forEach((function(t){Nc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Nc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rc(e){var t=e.stale,n=e.udcBalance,r=e.config.monitoringReward;return Nc({},V["a"].RECEIVE,!t&&null!==r&&void 0!==r&&r.gt(0)&&r.lte(n)?1:0)}function Dc(e,t,n){return null===n?n:void 0!==n?Pc(Pc(Pc({},e),t),n):null===t?t:Pc(Pc({},e),t)}function Ic(e,t,n){Ac(e);var r=n.defaultConfig,a=n.latest$;return Object(l["a"])([t.pipe(Object($["e"])("config","caps")),a]).pipe(Object(m["a"])((function(e){var t=wc(e,2),n=t[0],a=t[1];return Dc(Rc(a),r.caps,n)})),Object(v["a"])(F.a),Object(m["a"])((function(e){return Object(W["c"])({caps:e})})),Object($["a"])(t))}function Cc(e,t,n){Ac(t);var r=n.config$,a=n.log,o=n.provider;return Object(f["a"])(r.pipe(Object($["e"])("logger"),Object(O["a"])((function(e){return a.setLevel(e||"silent",!1)}))),r.pipe(Object($["e"])("pollingInterval"),Object(O["a"])((function(e){return o.pollingInterval=e})))).pipe(Object(j["a"])(),Object($["a"])(e))}var Uc={configCapsEpic:Ic,configReactEpic:Cc};function Lc(e,t,n){var r=n.defaultConfig,a=I["a"],o=!1,i=e.pipe(Object(g["a"])(K["udcDeposit"].success.is),Object(w["a"])("payload","balance"),Object(_["a"])(a),Object(v["a"])((function(e,t){return e.eq(t)}))),c=e.pipe(Object(g["a"])(Ne["blockTime"].is),Object(w["a"])("payload","blockTime"),Object(_["a"])(15e3)),s=e.pipe(Object(g["a"])(Ne["blockStale"].is),Object(w["a"])("payload","stale"),Object(_["a"])(o)),u=Object(f["a"])(t.pipe(Object(k["a"])(1),Object(w["a"])("config"),Object(m["a"])((function(e){var t=e.caps,n=e.monitoringReward;return Dc(Rc({udcBalance:a,stale:o,config:{monitoringReward:null!==n&&void 0!==n?n:r.monitoringReward}}),r.caps,t)}))),e.pipe(Object(g["a"])(W["c"].is),Object(w["a"])("payload","caps"))),p=Object(l["a"])([t.pipe(Object($["e"])("config")),u]).pipe(Object(m["a"])((function(e){var t=wc(e,2),n=t[0],a=t[1];return Pc(Pc(Pc({},r),n),{},{caps:a})}))),d=Object(H["c"])(e),b=e.pipe(Object(g["a"])(K["pfsListUpdated"].is),Object(w["a"])("payload","pfsList"),Object(_["a"])([])),y=e.pipe(Object(g["a"])(q["rtcChannel"].is),Object(E["a"])((function(e,t){return t.payload?Pc(Pc({},e),{},Nc({},t.meta.address,t.payload)):M()(t.meta.address,e)}),{}),Object(_["a"])({}));return Object(l["a"])([Object(l["a"])([e,t,p,d,b,y]),Object(l["a"])([i,c,s])]).pipe(Object(m["a"])((function(e){var t=wc(e,2),n=wc(t[0],6),r=n[0],a=n[1],o=n[2],i=n[3],c=n[4],s=n[5],u=wc(t[1],3),l=u[0],f=u[1],p=u[2];return{action:r,state:a,config:o,presences:i,pfsList:c,rtc:s,udcBalance:l,blockTime:f,stale:p}})))}var Mc=Pc(Pc(Pc(Pc(Pc(Pc({},Uc),r),a),o),i),c);function Bc(e,t,n){var r=e.pipe(Object(g["a"])(W["e"].is),Object(k["a"])(1)),a=e.pipe(Object(T["a"])(U()(W["e"].is),!0)),o=t.pipe(Object(x["a"])(r));return Object(p["a"])((function(){var r=Lc(e,t,n).subscribe(n.latest$);return r.add((function(){return n.latest$.complete()})),r}),(function(){var e=new Set,t=Object(d["a"])(Object.values(Mc)).pipe(Object(A["a"])((function(t){return e.add(t.name),t(a,o,n).pipe(Object(S["a"])((function(e){return n.log.error("Epic error",t.name,t,e),Object(b["a"])(Object(W["e"])({reason:e}))})),Object(P["a"])((function(){return e.delete(t.name)})))})),Object(x["a"])(r.pipe(Object(N["a"])(n.config$),Object(R["a"])((function(e){var t=wc(e,2),n=(t[0],t[1].httpTimeout);return Object(y["a"])(n)})),Object(O["a"])((function(){return n.log.warn("Pending Epics :",e)}))))),i=n.db.busy$.pipe(Object(D["a"])((function(e){return!e})),Object(O["a"])((function(){return n.db.busy$.next(!0)})),Object(S["a"])((function(){return Object(b["a"])(null)})),Object(A["a"])(gc(u.a.mark((function e(){return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",n.db.close());case 1:case"end":return e.stop()}}),e)})))),Object(j["a"])(),Object(P["a"])((function(){n.db.busy$.next(!1),n.db.busy$.complete()})));return Object(h["a"])(t,i)}))}},5778:function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"e",(function(){return f})),n.d(t,"f",(function(){return d})),n.d(t,"g",(function(){return y})),n.d(t,"b",(function(){return _})),n.d(t,"h",(function(){return E})),n.d(t,"a",(function(){return x})),n.d(t,"k",(function(){return P})),n.d(t,"i",(function(){return R})),n.d(t,"j",(function(){return I})),n.d(t,"c",(function(){return $}));var r,a=n("2111"),o=n("ca14"),i=n("9201");(function(e){e["DELIVERED"]="Delivered",e["PROCESSED"]="Processed",e["SECRET_REQUEST"]="SecretRequest",e["SECRET_REVEAL"]="RevealSecret",e["LOCKED_TRANSFER"]="LockedTransfer",e["UNLOCK"]="Unlock",e["LOCK_EXPIRED"]="LockExpired",e["WITHDRAW_REQUEST"]="WithdrawRequest",e["WITHDRAW_CONFIRMATION"]="WithdrawConfirmation",e["WITHDRAW_EXPIRED"]="WithdrawExpired",e["PFS_CAPACITY_UPDATE"]="PFSCapacityUpdate",e["PFS_FEE_UPDATE"]="PFSFeeUpdate",e["MONITOR_REQUEST"]="RequestMonitoring"})(r||(r={}));var c=a["p"](a["v"]({message_identifier:Object(o["j"])(8)})),s=a["p"](a["v"]({type:a["l"](r.DELIVERED),delivered_message_identifier:Object(o["j"])(8)})),u=s,l=a["p"](a["j"]([a["v"]({type:a["l"](r.PROCESSED)}),c])),f=l,p=a["p"](a["j"]([a["v"]({type:a["l"](r.SECRET_REQUEST),payment_identifier:Object(o["j"])(8),secrethash:o["c"],amount:Object(o["j"])(32),expiration:Object(o["j"])(32)}),c])),d=p,b=a["p"](a["j"]([a["v"]({type:a["l"](r.SECRET_REVEAL),secret:o["f"]}),c])),y=b,h=a["p"](a["j"]([a["v"]({chain_id:Object(o["j"])(32),token_network_address:o["a"],channel_identifier:Object(o["j"])(32),nonce:Object(o["j"])(8),transferred_amount:Object(o["j"])(32),locked_amount:Object(o["j"])(32),locksroot:o["c"]}),c])),m=a["p"](a["v"]({route:a["q"](o["a"])})),v=m,O=a["p"](a["v"]({routes:a["q"](v)})),j=O,g=a["p"](a["j"]([a["v"]({payment_identifier:Object(o["j"])(8),token:o["a"],recipient:o["a"],lock:i["d"],target:o["a"],initiator:o["a"],metadata:j}),h])),w=a["p"](a["j"]([a["v"]({type:a["l"](r.LOCKED_TRANSFER)}),g])),_=w,k=a["p"](a["j"]([a["v"]({type:a["l"](r.UNLOCK),payment_identifier:Object(o["j"])(8),secret:o["f"]}),h])),E=k,T=a["p"](a["j"]([a["v"]({type:a["l"](r.LOCK_EXPIRED),recipient:o["a"],secrethash:o["c"]}),h])),x=T,A=a["p"](a["v"]({chain_id:Object(o["j"])(32),token_network_address:o["a"],channel_identifier:Object(o["j"])(32),participant:o["a"],total_withdraw:Object(o["j"])(32),nonce:Object(o["j"])(8),expiration:Object(o["j"])(32)})),S=a["p"](a["j"]([a["v"]({type:a["l"](r.WITHDRAW_REQUEST)}),A,c])),P=S,N=a["p"](a["j"]([a["v"]({type:a["l"](r.WITHDRAW_CONFIRMATION)}),A,c])),R=N,D=a["p"](a["j"]([a["v"]({type:a["l"](r.WITHDRAW_EXPIRED)}),A,c])),I=D,C=a["p"](a["v"]({type:a["l"](r.PFS_CAPACITY_UPDATE),canonical_identifier:a["p"](a["v"]({chain_identifier:Object(o["j"])(32),token_network_address:o["a"],channel_identifier:Object(o["j"])(32)})),updating_participant:o["a"],other_participant:o["a"],updating_nonce:Object(o["j"])(8),other_nonce:Object(o["j"])(8),updating_capacity:Object(o["j"])(32),other_capacity:Object(o["j"])(32),reveal_timeout:Object(o["j"])(32)})),U=C,L=a["p"](a["v"]({type:a["l"](r.PFS_FEE_UPDATE),canonical_identifier:a["p"](a["v"]({chain_identifier:Object(o["j"])(32),token_network_address:o["a"],channel_identifier:Object(o["j"])(32)})),updating_participant:o["a"],timestamp:a["s"],fee_schedule:a["v"]({cap_fees:a["e"],imbalance_penalty:a["x"]([a["m"],a["d"](a["u"]([Object(o["j"])(32),Object(o["d"])(32)]))]),proportional:Object(o["d"])(32),flat:Object(o["d"])(32)})})),M=L,B=a["p"](a["v"]({type:a["l"](r.MONITOR_REQUEST),balance_proof:a["v"]({chain_id:Object(o["j"])(32),token_network_address:o["a"],channel_identifier:Object(o["j"])(32),nonce:Object(o["j"])(8),balance_hash:o["c"],additional_hash:o["c"],signature:o["g"]}),monitoring_service_contract_address:o["a"],non_closing_participant:o["a"],non_closing_signature:o["g"],reward_amount:Object(o["j"])(32)})),F=B,W=[u,f,d,y,_,E,x,P,R,I,U,M,F],V=W,$=a["x"](V)},"59ec":function(e,t,n){"use strict";n.d(t,"b",(function(){return U})),n.d(t,"c",(function(){return L})),n.d(t,"g",(function(){return M})),n.d(t,"f",(function(){return B})),n.d(t,"e",(function(){return F})),n.d(t,"i",(function(){return W})),n.d(t,"j",(function(){return $})),n.d(t,"h",(function(){return G})),n.d(t,"a",(function(){return X})),n.d(t,"d",(function(){return Y}));var r,a=n("36d8"),o=n.n(a),i=n("c00b"),c=n("b97c"),s=n("007a"),u=n("6da0"),l=n("09d5"),f=n("905c9"),p=n("258b"),d=n("cefa"),b=n("7f4a"),y=n("0eb1"),h=n("34ba"),m=n("331d"),v=n("ae8f"),O=n("8120"),j=n("f2df"),g=n("ca14"),w=n("46f7"),_=n("9201"),k=n("0ba5"),E=n("1a78");function T(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function x(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){T(o,r,a,i,c,"next",e)}function c(e){T(o,r,a,i,c,"throw",e)}i(void 0)}))}}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(e,t){return R(e)||N(e,t)||I(e,t)||P()}function P(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function N(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)if(n.push(i.value),t&&n.length===t)break}catch(s){a=!0,o=s}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return n}}function R(e){if(Array.isArray(e))return e}function D(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=I(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function I(e,t){if(e){if("string"===typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?C(e,t):void 0}}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function U(e){var t,n=[],r=D(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;n.push(Object(w["a"])(a.expiration,32),Object(w["a"])(a.amount,32),a.secrethash)}}catch(o){r.e(o)}finally{r.f()}return Object(u["a"])(Object(c["b"])(n))}function L(e){return Object(l["c"])(e)}function M(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32;return Object(c["i"])(Object(s["a"])(e))}function B(){return i["a"].from(Date.now())}function F(){return i["a"].from(Date.now())}function W(e){return"_id"in e?e._id:"".concat(e.direction,":").concat(e.secrethash)}var V=new RegExp("^(".concat(Object.values(E["a"]).join("|"),"):(0x[a-f0-9]{64})$"),"i");function $(e){var t=e.match(V);Object(j["a"])(t,"Invalid transferKey format");var n=S(t,3),r=n[1],a=n[2];return{direction:r,secrethash:a}}var H=(r={},A(r,E["c"].expired,(function(e){var t;return null===(t=e.expiredProcessed)||void 0===t?void 0:t.ts})),A(r,E["c"].unlocked,(function(e){var t;return null===(t=e.unlockProcessed)||void 0===t?void 0:t.ts})),A(r,E["c"].expiring,(function(e){var t;return null===(t=e.expired)||void 0===t?void 0:t.ts})),A(r,E["c"].unlocking,(function(e){var t;return null===(t=e.unlock)||void 0===t?void 0:t.ts})),A(r,E["c"].registered,(function(e){var t;return null===(t=e.secretRegistered)||void 0===t?void 0:t.ts})),A(r,E["c"].revealed,(function(e){var t;return null===(t=e.secretReveal)||void 0===t?void 0:t.ts})),A(r,E["c"].requested,(function(e){var t;return null===(t=e.secretRequest)||void 0===t?void 0:t.ts})),A(r,E["c"].closed,(function(e){var t;return null===(t=e.channelClosed)||void 0===t?void 0:t.ts})),A(r,E["c"].received,(function(e){var t;return null===(t=e.transferProcessed)||void 0===t?void 0:t.ts})),A(r,E["c"].pending,(function(e){return e.transfer.ts})),r);function q(e){for(var t=0,n=Object.entries(H);t<n.length;t++){var r=S(n[t],2),a=r[0],o=r[1],i=o(e);if(void 0!==i)return a}return E["c"].pending}function K(e){return!!(e.unlockProcessed||e.expiredProcessed||e.secretRegistered||e.channelSettled)}function G(e){var t=q(e),n=new Date(e.transfer.ts),r=new Date(H[t](e)),a=e.transfer,o=e.direction,i=a.lock.amount.sub(e.fee),c=e.secretRequest&&e.secretRequest.amount.lt(i),s=!!(e.secretReveal||e.unlock||e.secretRegistered)||!(c||e.expired||e.channelClosed)&&void 0,u=K(e);return{key:W(e),secrethash:a.lock.secrethash,direction:o,status:t,initiator:a.initiator,partner:e.partner,target:a.target,metadata:a.metadata,paymentId:a.payment_identifier,chainId:a.chain_id.toNumber(),token:a.token,tokenNetwork:a.token_network_address,channelId:a.channel_identifier,value:i,fee:e.fee,amount:a.lock.amount,expirationBlock:a.lock.expiration.toNumber(),startedAt:n,changedAt:r,success:s,completed:u,secret:e.secret}}function X(e,t,n,r){return r===f["a"]?Object(h["a"])(_["b"]):Object(m["a"])((function(){return e.find({selector:{channel:Object(O["e"])(t),direction:n}})})).pipe(Object(p["a"])((function(e){var t=e.docs;return Object(v["a"])(t)})),Object(p["a"])((function(e){var t=Object(g["l"])(E["d"],e);return Object(v["a"])([t.transfer,t.unlock,t.expired])})),Object(d["a"])(g["n"]),Object(b["a"])(k["g"]),Object(y["a"])((function(e){return Object(k["f"])(e)===r})))}function Y(e,t,n){return Q.apply(this,arguments)}function Q(){return Q=x(o.a.mark((function e(t,n,r){return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("string"!==typeof r&&(r=W(r)),"address"in t){e.next=5;break}return e.next=4,t.pipe(Object(y["a"])()).toPromise();case 4:t=e.sent;case 5:if(!(r in t.transfers)){e.next=7;break}return e.abrupt("return",t.transfers[r]);case 7:return e.t0=g["l"],e.t1=E["d"],e.next=11,n.get(r);case 11:return e.t2=e.sent,e.abrupt("return",(0,e.t0)(e.t1,e.t2));case 13:case"end":return e.stop()}}),e)}))),Q.apply(this,arguments)}},"5bbb":function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"c",(function(){return O})),n.d(t,"b",(function(){return j}));var r,a=n("2111"),o=n("24c6"),i=n("87b8"),c=n("0eb1"),s=n("2b5b"),u=n("ca14"),l=n("1b23"),f=n("0602"),p=n("438d");function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=a["v"]({urls:a["x"]([a["s"],a["d"](a["s"])])}),m=a["p"](a["j"]([a["v"]({matrixServerLookup:a["s"],revealTimeout:a["n"],settleTimeout:a["n"],expiryFactor:a["n"],httpTimeout:a["n"],discoveryRoom:a["x"]([a["s"],a["m"]]),pfsRoom:a["x"]([a["s"],a["m"]]),monitoringRoom:a["x"]([a["s"],a["m"]]),pfs:a["x"]([u["a"],a["s"],a["m"]]),pfsSafetyMargin:a["n"],pfsMaxPaths:a["n"],pfsMaxFee:Object(u["j"])(32),pfsIouTimeout:a["n"],matrixExcessRooms:a["n"],confirmationBlocks:a["n"],monitoringReward:a["x"]([a["m"],Object(u["j"])(32)]),logger:a["k"]((r={},y(r,"",null),y(r,"trace",null),y(r,"debug",null),y(r,"info",null),y(r,"warn",null),y(r,"error",null),r)),caps:a["x"]([a["m"],f["a"]]),fallbackIceServers:a["d"](h),rateToSvt:a["r"](a["s"],Object(u["j"])(32)),pollingInterval:a["n"],minimumAllowance:Object(u["j"])(32),autoSettle:a["e"]}),a["o"]({matrixServer:a["s"],subkey:a["e"]})])),v=a["p"](a["g"](a["o"](b(b({},m.type.types["0"].props),m.type.types["1"].props))));function O(e,t){var n,r=e.network,a=Object(l["c"])(r),c=1===r.chainId?"https://raw.githubusercontent.com/raiden-network/raiden-service-bundle/master/known_servers/known_servers-production-v1.2.0.json":"https://raw.githubusercontent.com/raiden-network/raiden-service-bundle/master/known_servers/known_servers-development-v1.2.0.json",u=null===(null===t||void 0===t?void 0:t.caps)?null:b((n={},y(n,s["a"].DELIVERY,0),y(n,s["a"].MEDIATE,0),y(n,s["a"].WEBRTC,1),y(n,s["a"].TO_DEVICE,1),n),null===t||void 0===t?void 0:t.caps);return b(b({matrixServerLookup:c,settleTimeout:500,revealTimeout:50,expiryFactor:1.1,httpTimeout:3e4,discoveryRoom:"raiden_".concat(a,"_discovery"),pfsRoom:"raiden_".concat(a,"_path_finding"),monitoringRoom:"raiden_".concat(a,"_monitoring"),pfs:"",matrixExcessRooms:3,pfsSafetyMargin:1,pfsMaxPaths:3,pfsMaxFee:Object(o["d"])("0.05"),pfsIouTimeout:2e5,confirmationBlocks:5,monitoringReward:Object(o["d"])("5"),logger:"info",fallbackIceServers:[{urls:"stun:stun.l.google.com:19302"}],rateToSvt:{},pollingInterval:5e3,minimumAllowance:i["a"],autoSettle:!1},t),{},{caps:u})}function j(e){var t,n=(t={_iter:void 0},y(t,Symbol.iterator,(function(){return this._iter=void 0,this})),y(t,"next",(function(){if(!this._iter){var t=5e3,n=6e4;e.pipe(Object(c["a"])()).subscribe((function(e){var r=e.pollingInterval,a=e.httpTimeout;t=r,n=2*a})),this._iter=Object(p["b"])(t,n)}return this._iter.next()})),t);return n}},"5c73":function(e,t,n){"use strict";n("12bc")},"60f8":function(e,t,n){e.exports=n.p+"img/transfer_eth_info.87f6409a.svg"},"631b":function(e,t,n){},6485:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e[e["LOW"]=0]="LOW",e[e["HIGH"]=1]="HIGH"}(r||(r={}))},"64ba":function(e,t,n){"use strict";n("1a92")},"65e1":function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"c",(function(){return O})),n.d(t,"b",(function(){return j}));var r=n("2111"),a=n("30c0"),o=n("bbdc"),i=n("5bbb"),c=n("f5be"),s=n("ca14"),u=n("9201"),l=n("b8ff"),f=n("ee57"),p=n("d011"),d=n("1a78");function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=r["p"](r["v"]({address:s["a"],chainId:r["n"],registry:s["a"],blockNumber:r["n"],config:i["a"],channels:r["p"](r["r"](u["c"],l["a"])),oldChannels:r["p"](r["r"](r["s"],l["a"])),tokens:r["p"](r["r"](r["s"],s["a"])),transport:r["p"](r["o"]({server:r["s"],setup:f["a"],rooms:r["p"](r["r"](r["s"],r["d"](r["s"])))})),transfers:r["p"](r["r"](r["s"],d["d"])),iou:r["p"](r["r"](r["s"],r["r"](r["s"],Object(s["h"])(p["a"])))),pendingTxs:r["q"](c["a"])}),"RaidenState"),v=m;function O(e){var t=e.network,n=e.address,r=e.contractsInfo,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return y({address:n,chainId:t.chainId,registry:r.TokenNetworkRegistry.address,blockNumber:r.TokenNetworkRegistry.block_number,channels:{},oldChannels:{},tokens:{},transport:{},transfers:{},iou:{},pendingTxs:[],config:{}},a)}var j=O({network:Object(o["a"])("unspecified"),address:a["a"],contractsInfo:{TokenNetworkRegistry:{address:a["a"],block_number:0},ServiceRegistry:{address:a["a"],block_number:0},UserDeposit:{address:a["a"],block_number:0},SecretRegistry:{address:a["a"],block_number:0},MonitoringService:{address:a["a"],block_number:0},OneToN:{address:a["a"],block_number:0}}})},"66bc":function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("blurred-overlay",{attrs:{show:e.visible,fullscreen:""}},[n("v-dialog",{attrs:{value:e.visible,width:"350","hide-overlay":"",dark:"",persistent:e.hideClose},on:{"click:outside":function(t){return e.close()}}},[n("v-card",{staticClass:"raiden-dialog",attrs:{"data-cy":"raiden_dialog"}},[e.hideClose?e._e():n("v-btn",{staticClass:"raiden-dialog__close",attrs:{icon:""},on:{click:function(t){return e.close()}}},[n("v-icon",[e._v("mdi-close")])],1),e._t("default")],2)],1)],1)},a=[],o=n("9ab4"),i=n("5cf9"),c=n("0a08");function s(e){return s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function b(e){var t=m();return function(){var n,r=v(e);if(t){var a=v(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){return!t||"object"!==s(t)&&"function"!==typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}var O=function(e){p(n,e);var t=b(n);function n(){return u(this,n),t.apply(this,arguments)}return f(n,[{key:"close",value:function(){return!0}}]),n}(i["e"]);Object(o["a"])([Object(i["d"])({required:!0,default:!1,type:Boolean})],O.prototype,"visible",void 0),Object(o["a"])([Object(i["d"])({required:!1,default:!1,type:Boolean})],O.prototype,"hideClose",void 0),Object(o["a"])([Object(i["b"])()],O.prototype,"close",null),O=Object(o["a"])([Object(i["a"])({components:{BlurredOverlay:c["a"]}})],O);var j=O,g=j,w=(n("64ba"),n("a6c2")),_=n("411c"),k=n.n(_),E=n("9c46"),T=n("d58c"),x=n("c56b"),A=n("b503"),S=Object(w["a"])(g,r,a,!1,null,"b117e868",null);t["a"]=S.exports;k()(S,{VBtn:E["a"],VCard:T["a"],VDialog:x["a"],VIcon:A["a"]})},"68e9":function(e,t,n){e.exports=n.p+"img/withdraw_tokens_info.95878cfb.svg"},"6af0":function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"info-overlay"},[r("div",{staticClass:"info-overlay__header"},[r("header-content",{attrs:{"disable-back-button":"","disable-info-button":""}})],1),r("div",{staticClass:"info-overlay__close-icon"},[r("v-icon",{attrs:{icon:""},on:{click:function(t){return e.closeOverlay()}}},[e._v(" mdi-close ")])],1),r("div",{staticClass:"info-overlay__image"},[r("img",{attrs:{src:n("d009")("./"+e.$route.meta.infoOverlay.headerImage)}})]),r("span",{staticClass:"info-overlay__title"},[e._v(e._s(e.$t(e.$route.meta.infoOverlay.header)))]),r("span",{staticClass:"info-overlay__body"},[e._v(e._s(e.$t(e.$route.meta.infoOverlay.body)))]),r("div",{staticClass:"info-overlay__button"},[r("action-button",{attrs:{enabled:"",text:e.$t("info-overlay.done")},on:{click:function(t){return e.closeOverlay()}}})],1)])},a=[],o=n("9ab4"),i=n("5cf9"),c=n("b592"),s=n("750b");function u(e){return u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),e}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}function b(e,t){return b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},b(e,t)}function y(e){var t=v();return function(){var n,r=O(e);if(t){var a=O(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){return!t||"object"!==u(t)&&"function"!==typeof t?m(e):t}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function O(e){return O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},O(e)}var j=function(e){d(n,e);var t=y(n);function n(){return l(this,n),t.apply(this,arguments)}return p(n,[{key:"closeOverlay",value:function(){}}]),n}(i["e"]);Object(o["a"])([Object(i["b"])()],j.prototype,"closeOverlay",null),j=Object(o["a"])([Object(i["a"])({components:{HeaderContent:c["a"],ActionButton:s["a"]}})],j);var g=j,w=g,_=(n("0c26"),n("a6c2")),k=n("411c"),E=n.n(k),T=n("b503"),x=Object(_["a"])(w,r,a,!1,null,"63817bdb",null);t["a"]=x.exports;E()(x,{VIcon:T["a"]})},"6c61":function(e,t,n){"use strict";n.d(t,"a",(function(){return bt}));var r=n("2bde"),a=n.n(r),o=n("30c0"),i=n("87b8"),c=n("d276");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,r=arguments.length>1?arguments[1]:void 0;for(var a in e){var o,i=e[a];if(i){var c=null!==(o=n[a])&&void 0!==o?o:t[a],s=i(c,r);s!==c&&(n=u(u({},n),{},l({},a,s)))}}return n}}var p=n("65e1"),d=n("f5be"),b=n("83ee"),y=n("1a78"),h=n("f799"),m=n("b8ff"),v=n("8120"),O=n("9201");function j(e){return j="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j(e)}function g(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=R(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function w(e,t){if(null==e)return{};var n,r,a=_(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function _(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}function k(e){var t=E(e,"string");return"symbol"===j(t)?t:String(t)}function E(e,t){if("object"!==j(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==j(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function T(e,t){return S(e)||A(e,t)||R(e,t)||x()}function x(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function A(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)if(n.push(i.value),t&&n.length===t)break}catch(s){a=!0,o=s}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return n}}function S(e){if(Array.isArray(e))return e}function P(e){return I(e)||D(e)||R(e)||N()}function N(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function R(e,t){if(e){if("string"===typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?C(e,t):void 0}}function D(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function I(e){if(Array.isArray(e))return C(e)}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){M(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B(e){if(null==e)throw new TypeError("Cannot destructure undefined")}var F=Object(c["d"])(p["b"].blockNumber).handle(h["newBlock"],(function(e,t){B(e);var n=t.payload;return n.blockNumber})),W=Object(c["d"])(p["b"].tokens).handle(h["tokenMonitored"],(function(e,t){var n=t.payload,r=n.token,a=n.tokenNetwork;return e[r]===a?e:L(L({},e),{},M({},r,a))}));function V(e,t){return e.filter((function(e){return e.type!==t.type||t.payload.txHash!==e.payload.txHash}))}var $=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p["b"].pendingTxs,t=arguments.length>1?arguments[1]:void 0;if(d["a"].is(t)){if(void 0===t.payload.confirmed)return[].concat(P(V(e,t)),[t]);var n=V(e,t);return n.length!==e.length?n:e}return e},H={address:o["a"],deposit:i["f"],withdraw:i["f"],locks:[],balanceProof:O["b"],pendingWithdraws:[],nextNonce:i["c"]};function q(e,t){var n,r,a=Object(v["d"])(t.meta),o=e.channels[a];if((null!==(n=null===o||void 0===o?void 0:o.openBlock)&&void 0!==n?n:0)>=t.payload.txBlock||(null!==(r=null===o||void 0===o?void 0:o.id)&&void 0!==r?r:0)>=t.payload.id||!t.payload.confirmed)return e;var i={_id:Object(v["e"])(L(L({},t.meta),{},{id:t.payload.id})),id:t.payload.id,state:m["b"].open,token:t.payload.token,tokenNetwork:t.meta.tokenNetwork,settleTimeout:t.payload.settleTimeout,isFirstParticipant:t.payload.isFirstParticipant,openBlock:t.payload.txBlock,own:L(L({},H),{},{address:e.address}),partner:L(L({},H),{},{address:t.meta.partner})};return L(L({},e),{},{channels:L(L({},e.channels),{},M({},a,i))})}function K(e,t){var n,r;if(!t.payload.confirmed)return e;var a=Object(v["d"])(t.meta),o=e.channels[a];if((null===(n=o)||void 0===n?void 0:n.state)!==m["b"].open||o.id!==t.payload.id)return e;var i=t.payload.participant===o.partner.address?"partner":"own",c=h["channelWithdrawn"].is(t)?["withdraw",t.payload.totalWithdraw,o[i].pendingWithdraws.filter((function(e){return e.total_withdraw.gt(t.payload.totalWithdraw)}))]:["deposit",t.payload.totalDeposit,o[i].pendingWithdraws],s=T(c,3),u=s[0],l=s[1],f=s[2];return l.lte(o[i][u])?e:(o=L(L({},o),{},M({},i,L(L({},o[i]),{},(r={},M(r,u,l),M(r,"pendingWithdraws",f),r)))),L(L({},e),{},{channels:L(L({},e.channels),{},M({},a,o))}))}function G(e,t){var n,r=Object(v["d"])(t.meta),a=e.channels[r];if((null===(n=a)||void 0===n?void 0:n.id)!==t.payload.id)return e;if(void 0===t.payload.confirmed&&a.state===m["b"].open)a=L(L({},a),{},{state:m["b"].closing});else{if("closeBlock"in a||!t.payload.confirmed)return e;a=L(L({},a),{},{state:m["b"].closed,closeBlock:t.payload.txBlock,closeParticipant:t.payload.participant})}return L(L({},e),{},{channels:L(L({},e.channels),{},M({},r,a))})}function X(e,t){var n=Object(v["d"])(t.meta),r=e.channels[n];if(!r)return e;if(h["channelClose"].request.is(t)&&r.state===m["b"].open)r=L(L({},r),{},{state:m["b"].closing});else if(h["channelSettle"].request.is(t)&&r.state===m["b"].settleable)r=L(L({},r),{},{state:m["b"].settling});else{if(!h["channelSettleable"].is(t)||r.state!==m["b"].closed)return e;r=L(L({},r),{},{state:m["b"].settleable})}return L(L({},e),{},{channels:L(L({},e.channels),{},M({},n,r))})}function Y(e,t){var n=Object(v["d"])(t.meta),r=e.channels[n];if((null===r||void 0===r?void 0:r.id)!==t.payload.id||!("closeBlock"in r))return e;if(void 0===t.payload.confirmed&&r.state!==m["b"].settling)return L(L({},e),{},{channels:L(L({},e.channels),{},M({},n,L(L({},r),{},{state:m["b"].settling})))});if(t.payload.confirmed){var a=e.channels,o=(a[n],w(a,[n].map(k)));return L(L({},e),{},{channels:o,oldChannels:L(L({},e.oldChannels),{},M({},Object(v["e"])(r),L(L({},r),{},{state:m["b"].settled,settleBlock:t.payload.txBlock})))})}return e}function Q(e,t,n){var r=!1,a=e.map((function(e){return e.secrethash!==t||e.registered||e.expiration.lte(n)?e:(r=!0,L(L({},e),{},{registered:!0}))}));return r?a:e}function z(e,t){if(!t.payload.confirmed)return e;var n,r=t.meta.direction===y["a"].SENT?"own":"partner",a=P(Object.keys(e.channels)),o=g(a);try{for(o.s();!(n=o.n()).done;){var i=n.value,c=e.channels[i],s=Q(c[r].locks,t.meta.secrethash,t.payload.txBlock);s!==c[r].locks&&(e=L(L({},e),{},{channels:L(L({},e.channels),{},M({},i,L(L({},c),{},M({},r,L(L({},c[r]),{},{locks:s})))))}))}}catch(u){o.e(u)}finally{o.f()}return e}var Z=Object(c["d"])(p["b"]).handle(h["channelOpen"].success,q).handle([h["channelDeposit"].success,h["channelWithdrawn"]],K).handle([h["channelClose"].request,h["channelSettleable"],h["channelSettle"].request],X).handle(h["channelClose"].success,G).handle(h["channelSettle"].success,Y).handle(b["transferSecretRegister"].success,z),J=f({blockNumber:F,tokens:W,pendingTxs:$},p["b"]),ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p["b"],t=arguments.length>1?arguments[1]:void 0;return[J,Z].reduce((function(e,n){return n(e,t)}),e)},te=ee,ne=n("d890");function re(e){return ce(e)||ie(e)||oe(e)||ae()}function ae(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function oe(e,t){if(e){if("string"===typeof e)return se(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?se(e,t):void 0}}function ie(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function ce(e){if(Array.isArray(e))return se(e)}function se(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(n),!0).forEach((function(t){fe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pe(e,t){if(null==e)return{};var n,r,a=de(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function de(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}var be,ye,he=Object(c["d"])(p["b"].transport).handle(ne["matrixSetup"],(function(e,t){e.rooms;var n=pe(e,["rooms"]);return le(le({},e.server!==t.payload.server?n:e),t.payload)})).handle(ne["matrixRoom"],(function(e,t){var n,r;return le(le({},e),{},{rooms:le(le({},e.rooms),{},fe({},t.meta.address,[t.payload.roomId].concat(re((null!==(n=null===(r=e.rooms)||void 0===r?void 0:r[t.meta.address])&&void 0!==n?n:[]).filter((function(e){return e!==t.payload.roomId}))))))})})).handle(ne["matrixRoomLeave"],(function(e,t){var n,r;return le(le({},e),{},{rooms:le(le({},e.rooms),{},fe({},t.meta.address,(null!==(n=null===(r=e.rooms)||void 0===r?void 0:r[t.meta.address])&&void 0!==n?n:[]).filter((function(e){return e!==t.payload.roomId}))))})})),me=f({transport:he},p["b"]),ve=me,Oe=n("ee9f"),je=n.n(Oe),ge=n("ca14"),we=n("7de2"),_e=n("59ec");function ke(e){return ke="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ke(e)}function Ee(e,t){if(null==e)return{};var n,r,a=Te(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Te(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}function xe(e){var t=Ae(e,"string");return"symbol"===ke(t)?t:String(t)}function Ae(e,t){if("object"!==ke(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ke(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Se(e){return De(e)||Re(e)||Ne(e)||Pe()}function Pe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ne(e,t){if(e){if("string"===typeof e)return Ie(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ie(e,t):void 0}}function Re(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function De(e){if(Array.isArray(e))return Ie(e)}function Ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ce(Object(n),!0).forEach((function(t){Le(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Le(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Me=(be={},Le(be,y["a"].SENT,"own"),Le(be,y["a"].RECEIVED,"partner"),be);function Be(e,t){var n,r=Object(_e["i"])(t.meta);if(!(r in e.transfers))return e;var a=e.transfers[r];return a.secret||(e=Ue(Ue({},e),{},{transfers:Ue(Ue({},e.transfers),{},Le({},r,Ue(Ue({},a),{},{secret:t.payload.secret})))})),b["transferSecretRegister"].success.is(t)&&t.payload.confirmed&&t.payload.txBlock!==(null===(n=a.secretRegistered)||void 0===n?void 0:n.txBlock)&&t.payload.txBlock<a.expiration&&(e=Ue(Ue({},e),{},{transfers:Ue(Ue({},e.transfers),{},Le({},r,Ue(Ue({},a),{},{secretRegistered:Object(ge["p"])(je()(["txHash","txBlock"],t.payload))})))})),e}function Fe(e,t){var n,r,a,o=t.payload.message,i=t.meta.secrethash,c=Object(_e["i"])(t.meta),s=o.token_network_address,u=t.payload.partner,l=Object(v["d"])({tokenNetwork:s,partner:u}),f=Me[t.meta.direction],p=e.channels[l],d=c in e.transfers,y=b["transferUnlock"].success.is(t)?"unlock":"expired";if(b["transferSigned"].is(t)&&d||!b["transferSigned"].is(t)&&(!d||y in e.transfers[c])||(null===(n=p)||void 0===n?void 0:n.state)!==m["b"].open||!o.nonce.eq(p[f].nextNonce))return e;switch(t.type){case b["transferSigned"].type:r=[].concat(Se(p[f].locks),[t.payload.message.lock]),a=Ue(Ue({_id:c,channel:Object(v["e"])(p)},t.meta),{},{transfer:Object(ge["p"])(t.payload.message),fee:t.payload.fee,expiration:t.payload.message.lock.expiration.toNumber(),partner:u,cleared:0});break;case b["transferUnlock"].success.type:case b["transferExpire"].success.type:r=p[f].locks.filter((function(e){return e.secrethash!==i})),a=Ue(Le({},y,Object(ge["p"])(t.payload.message)),e.transfers[c]);break}return p=Ue(Ue({},p),{},Le({},f,Ue(Ue({},p[f]),{},{locks:r,balanceProof:Object(we["e"])(o),nextNonce:p[f].nextNonce.add(1)}))),Ue(Ue({},e),{},{channels:Ue(Ue({},e.channels),{},Le({},l,p)),transfers:Ue(Ue({},e.transfers),{},Le({},c,a))})}var We=(ye={},Le(ye,b["transferSecretRequest"].type,"secretRequest"),Le(ye,b["transferSecretReveal"].type,"secretReveal"),Le(ye,b["transferProcessed"].type,"transferProcessed"),Le(ye,b["transferUnlockProcessed"].type,"unlockProcessed"),Le(ye,b["transferExpireProcessed"].type,"expiredProcessed"),ye);function Ve(e,t){var n=Object(_e["i"])(t.meta),r=We[t.type];return!(n in e.transfers)||!b["transferSecretRequest"].is(t)&&r in e.transfers[n]||(e=Ue(Ue({},e),{},{transfers:Ue(Ue({},e.transfers),{},Le({},n,Ue(Ue({},e.transfers[n]),{},Le({},r,Object(ge["p"])(t.payload.message)))))})),e}function $e(e,t){var n=Object(_e["i"])(t.meta);if(n in e.transfers){var r=e.transfers,a=(r[n],Ee(r,[n].map(xe)));e=Ue(Ue({},e),{},{transfers:a})}return e}function He(e,t){var n=Object(_e["i"])(t.meta);return n in e.transfers||(e=Ue(Ue({},e),{},{transfers:Ue(Ue({},e.transfers),{},Le({},n,Ue(Ue({},t.payload),{},{cleared:0})))})),e}function qe(e,t){if(!t.payload.confirmed)return e;for(var n=h["channelClose"].success.is(t)?"channelClosed":"channelSettled",r=Object(v["e"])(Ue({id:t.payload.id},t.meta)),a=0,o=Object.values(e.transfers);a<o.length;a++){var i=o[a];i.channel===r&&(e=Ue(Ue({},e),{},{transfers:Ue(Ue({},e.transfers),{},Le({},Object(_e["i"])(i),Ue(Ue({},i),{},Le({},n,Object(ge["p"])(je()(["txHash","txBlock"],t.payload))))))}))}return e}function Ke(e,t){var n,r=t.payload.message,a=Object(v["d"])(t.meta),o=e.channels[a],i=t.meta.direction===y["a"].RECEIVED!==b["withdrawMessage"].success.is(t)?"partner":"own";if((null===(n=o)||void 0===n?void 0:n.state)!==m["b"].open||!r.nonce.eq(o[i].nextNonce))return e;o=Ue(Ue({},o),{},Le({},i,Ue(Ue({},o[i]),{},{nextNonce:o[i].nextNonce.add(1)})));var c=t.meta.direction===y["a"].RECEIVED?"partner":"own",s=[].concat(Se(o[c].pendingWithdraws),[t.payload.message]);return o=Ue(Ue({},o),{},Le({},c,Ue(Ue({},o[c]),{},{pendingWithdraws:s}))),Ue(Ue({},e),{},{channels:Ue(Ue({},e.channels),{},Le({},a,o))})}function Ge(e,t){var n,r=Object(v["d"])(t.meta),a=e.channels[r];if((null===(n=a)||void 0===n?void 0:n.state)!==m["b"].open)return e;var o=t.meta.direction===y["a"].RECEIVED?"partner":"own",i=a[o].pendingWithdraws.filter((function(e){return!e.expiration.eq(t.meta.expiration)||!e.total_withdraw.eq(t.meta.totalWithdraw)}));return a=Ue(Ue({},a),{},Le({},o,Ue(Ue({},a[o]),{},{pendingWithdraws:i}))),Ue(Ue({},e),{},{channels:Ue(Ue({},e.channels),{},Le({},r,a))})}var Xe=Object(c["d"])(p["b"]).handle([b["transferSecret"],b["transferSecretRegister"].success],Be).handle([b["transferSigned"],b["transferUnlock"].success,b["transferExpire"].success],Fe).handle([b["transferProcessed"],b["transferUnlockProcessed"],b["transferExpireProcessed"],b["transferSecretRequest"],b["transferSecretReveal"]],Ve).handle(b["transferClear"],$e).handle(b["transferLoad"],He).handle([h["channelClose"].success,h["channelSettle"].success],qe).handle([b["withdrawMessage"].request,b["withdrawMessage"].success,b["withdrawExpire"].success],Ke).handle(b["withdrawCompleted"],Ge),Ye=Xe,Qe=n("eed9");function ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ze(Object(n),!0).forEach((function(t){Je(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ze(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Je(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var et=Object(c["d"])(p["b"].iou).handle(Qe["iouPersist"],(function(e,t){return Ze(Ze({},e),{},Je({},t.meta.tokenNetwork,Ze(Ze({},e[t.meta.tokenNetwork]),{},Je({},t.meta.serviceAddress,t.payload.iou))))})).handle(Qe["iouClear"],(function(e,t){return a()([t.meta.tokenNetwork,t.meta.serviceAddress],e)})),tt=f({iou:et},p["b"]),nt=tt;function rt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function at(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rt(Object(n),!0).forEach((function(t){ot(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ot(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function it(e,t){return ft(e)||lt(e,t)||st(e,t)||ct()}function ct(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function st(e,t){if(e){if("string"===typeof e)return ut(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ut(e,t):void 0}}function ut(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function lt(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)if(n.push(i.value),t&&n.length===t)break}catch(s){a=!0,o=s}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return n}}function ft(e){if(Array.isArray(e))return e}var pt=Object(c["d"])(p["b"]).handle(d["d"],(function(e,t){for(var n=t.payload,r=e.config,o=0,i=Object.entries(n);o<i.length;o++){var c=it(i[o],2),s=c[0],u=c[1];void 0!==u?r=at(at({},r),{},ot({},s,u)):s in r&&(r=a()(s,r))}return r===e.config?e:at(at({},e),{},{config:r})})),dt={configReducer:pt,channelsReducer:te,transportReducer:ve,transfersReducer:Ye,servicesReducer:nt},bt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p["b"],t=arguments.length>1?arguments[1]:void 0;return Object.values(dt).reduce((function(e,n){return n(e,t)}),e)}},"6cb9":function(e,t,n){e.exports=n.p+"img/transfer_info.1d9dd924.svg"},"71a0":function(e,t,n){"use strict";n("f265")},7460:function(e,t,n){"use strict";n("38d1")},"74e4":function(e,t,n){"use strict";n.d(t,"a",(function(){return se})),n.d(t,"d",(function(){return ue})),n.d(t,"g",(function(){return fe})),n.d(t,"c",(function(){return he})),n.d(t,"f",(function(){return ve})),n.d(t,"h",(function(){return _e})),n.d(t,"b",(function(){return Pe})),n.d(t,"e",(function(){return Re}));var r,a=n("36d8"),o=n.n(a),i=n("0255"),c=n("331d"),s=n("2023"),u=n("a92c"),l=n("a489"),f=n("ae8f"),p=n("258b"),d=n("4a9c"),b=n("231d"),y=n("2ac2"),h=n("459b"),m=n("c00b"),v=n("905c9"),O=n("111d"),j=n.n(O),g=n("1b87"),w=n.n(g),_=n("590d"),k=n("a914"),E=n("ee6c"),T=n("8120"),x=n("ca14");function A(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function S(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){A(o,r,a,i,c,"next",e)}function c(e){A(o,r,a,i,c,"throw",e)}i(void 0)}))}}function P(){return N.apply(this,arguments)}function N(){return N=S(o.a.mark((function e(){var t,a,i,c,s,u,l;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!r){e.next=2;break}return e.abrupt("return",r);case 2:if(!("JEST_WORKER_ID"in Object({VUE_APP_PFS:"https://pfs.demo001.env.raiden.network",VUE_APP_MATRIX_SERVER:"https://transport.demo001.env.raiden.network",VUE_APP_HUB:"hub.raiden.eth",VUE_APP_ALLOW_MAINNET:"false",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",BASE_URL:"/"}))){e.next=11;break}return e.next=5,Promise.all([n.e("chunk-56c8da20"),n.e("chunk-4be5e7a4")]).then(n.bind(null,"e9e3"));case 5:a=e.sent,i=a.default,_["a"].plugin(i),r="memory",e.next=26;break;case 11:if(null===(t=globalThis.location)||void 0===t||!t.href){e.next=20;break}return e.next=14,n.e("chunk-3eadbefa").then(n.bind(null,"65ab"));case 14:c=e.sent,s=c.default,_["a"].plugin(s),r="indexeddb",e.next=26;break;case 20:return e.next=22,Promise.all([n.e("chunk-56c8da20"),n.e("chunk-3730a74a")]).then(n.bind(null,"8b2c"));case 22:u=e.sent,l=u.default,_["a"].plugin(l),r="leveldb";case 26:return e.abrupt("return",r);case 27:case"end":return e.stop()}}),e)}))),N.apply(this,arguments)}var R={},D=R;function I(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=W(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}var C=o.a.mark(Re);function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){M(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B(e,t){return H(e)||$(e,t)||W(e,t)||F()}function F(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function W(e,t){if(e){if("string"===typeof e)return V(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?V(e,t):void 0}}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)if(n.push(i.value),t&&n.length===t)break}catch(s){a=!0,o=s}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return n}}function H(e){if(Array.isArray(e))return e}function q(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function K(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){q(o,r,a,i,c,"next",e)}function c(e){q(o,r,a,i,c,"throw",e)}i(void 0)}))}}function G(e){return function(){return new X(e.apply(this,arguments))}}function X(e){var t,n;function r(e,r){return new Promise((function(o,i){var c={key:e,arg:r,resolve:o,reject:i,next:null};n?n=n.next=c:(t=n=c,a(e,r))}))}function a(t,n){try{var r=e[t](n),i=r.value,c=i instanceof Q;Promise.resolve(c?i.wrapped:i).then((function(e){c?a("return"===t?"return":"next",e):o(r.done?"return":"normal",e)}),(function(e){a("throw",e)}))}catch(s){o("throw",s)}}function o(e,r){switch(e){case"return":t.resolve({value:r,done:!0});break;case"throw":t.reject(r);break;default:t.resolve({value:r,done:!1});break}t=t.next,t?a(t.key,t.arg):n=null}this._invoke=r,"function"!==typeof e.return&&(this.return=void 0)}function Y(e){return new Q(e)}function Q(e){this.wrapped=e}function z(e){var t;if("undefined"!==typeof Symbol){if(Symbol.asyncIterator&&(t=e[Symbol.asyncIterator],null!=t))return t.call(e);if(Symbol.iterator&&(t=e[Symbol.iterator],null!=t))return t.call(e)}throw new TypeError("Object is not async iterable")}function Z(e,t){var n={},r=!1;function a(n,a){return r=!0,a=new Promise((function(t){t(e[n](a))})),{done:!1,value:t(a)}}return"function"===typeof Symbol&&Symbol.iterator&&(n[Symbol.iterator]=function(){return this}),n.next=function(e){return r?(r=!1,e):a("next",e)},"function"===typeof e.throw&&(n.throw=function(e){if(r)throw r=!1,e;return a("throw",e)}),"function"===typeof e.return&&(n.return=function(e){return r?(r=!1,e):a("return",e)}),n}"function"===typeof Symbol&&Symbol.asyncIterator&&(X.prototype[Symbol.asyncIterator]=function(){return this}),X.prototype.next=function(e){return this._invoke("next",e)},X.prototype.throw=function(e){return this._invoke("throw",e)},X.prototype.return=function(e){return this._invoke("return",e)},_["a"].plugin(k["a"]);var J="state.",ee="channels.";function te(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e,r=e+"￰";return t?{startkey:r,endkey:n,descending:t}:{startkey:n,endkey:r}}function ne(e){return re.apply(this,arguments)}function re(){return re=K(o.a.mark((function e(t){var n,r,a;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=new Set,e.next=3,t.allDocs({startkey:"a",endkey:"z￰"});case 3:return r=e.sent,r.rows.forEach((function(e){var t=e.id;return n.add(t)})),a=new i["a"](!1),e.abrupt("return",Object.assign(t,{storageKeys:n,busy$:a}));case 7:case"end":return e.stop()}}),e)}))),re.apply(this,arguments)}function ae(e){return oe.apply(this,arguments)}function oe(){return oe=K(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=new this(t),e.next=3,n.info();case 3:if(r=e.sent,0!==r.doc_count||0!=r.update_seq){e.next=8;break}return e.next=7,n.destroy();case 7:return e.abrupt("return");case 8:return e.abrupt("return",ne(n));case 9:case"end":return e.stop()}}),e,this)}))),oe.apply(this,arguments)}function ie(e){return ce.apply(this,arguments)}function ce(){return ce=K(o.a.mark((function e(t){var n;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=new this(t),n.setMaxListeners(30),e.next=4,Promise.all([n.createIndex({index:{name:"byCleared",fields:["cleared","direction"]}}),n.createIndex({index:{name:"byPartner",fields:["direction","partner"]}}),n.createIndex({index:{name:"bySecrethash",fields:["secrethash"]}}),n.createIndex({index:{name:"byChannel",fields:["channel"]}})]);case 4:return e.abrupt("return",ne(n));case 5:case"end":return e.stop()}}),e,this)}))),ce.apply(this,arguments)}function se(e,t){return Object(c["a"])((function(){var n=e.changes(t);return Object(s["a"])(Object(u["a"])(n,"change"),Object(u["a"])(n,"error").pipe(Object(p["a"])((function(e){return Object(l["a"])(e)})))).pipe(Object(d["a"])(0),Object(b["a"])(Object(u["a"])(n,"complete")),Object(y["a"])((function(){return n.cancel()})))}))}function ue(e){return le.apply(this,arguments)}function le(){return le=K(o.a.mark((function e(t){var n,r,a,i,c,s,u,l,f,p,d,b,y,h,m,v,O,j;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.constructor.__defaults.log,r={channels:{},oldChannels:{},transfers:{}},e.next=4,t.allDocs(L(L({},te(J)),{},{include_docs:!0}));case 4:a=e.sent,i=I(a.rows);try{for(i.s();!(c=i.n()).done;)s=c.value,u=s.id,l=s.doc,r[u.substr(J.length)]=l.value}catch(o){i.e(o)}finally{i.f()}return e.next=9,t.allDocs(L(L({},te(ee)),{},{include_docs:!0}));case 9:f=e.sent,p=I(f.rows);try{for(p.s();!(d=p.n()).done;)b=d.value,y=b.id,h=b.doc,"settleBlock"in h?r.oldChannels[y]=L(L({},h),{},{_id:y.substr(ee.length)}):r.channels[Object(T["d"])(h)]=L(L({},h),{},{_id:y.substr(ee.length)})}catch(o){p.e(o)}finally{p.f()}return e.next=14,t.find({selector:{cleared:0,direction:{$exists:!0}}});case 14:m=e.sent,m.warning&&(null===n||void 0===n||n.warn(m.warning,"getRaidenState")),v=I(m.docs);try{for(v.s();!(O=v.n()).done;)j=O.value,r.transfers[j._id]=j}catch(o){v.e(o)}finally{v.f()}if(!("address"in r)){e.next=20;break}return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),le.apply(this,arguments)}function fe(e,t){return pe.apply(this,arguments)}function pe(){return pe=K(o.a.mark((function e(t,n){var r,a,i,c,s,u,l,f,p,d,b,y;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(r=[],a=0,i=Object.entries(n);a<i.length;a++)if(c=B(i[a],2),s=c[0],u=c[1],"channels"===s||"oldChannels"===s)for(l=0,f=Object.values(u);l<f.length;l++)p=f[l],r.push(L(L({},p),{},{_id:ee+p._id}));else if("transfers"===s)for(d=0,b=Object.values(u);d<b.length;d++)y=b[d],r.push(y);else r.push({_id:J+s,value:u});return e.next=4,t.bulkDocs(r);case 4:case"end":return e.stop()}}),e)}))),pe.apply(this,arguments)}function de(e){return Object.keys(e).map((function(e){return+e})).sort()}function be(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D;return null!==(e=Object(x["o"])(de(t)))&&void 0!==e?e:0}function ye(e){return+e.name.match(/_(\d+)$/)[1]}function he(){return me.apply(this,arguments)}function me(){return me=K(o.a.mark((function e(){var t,n=arguments;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=n.length>0&&void 0!==n[0]?n[0]:{log:j.a},t.log||(t.log=j.a),t.adapter){e.next=6;break}return e.next=5,P();case 5:t.adapter=e.sent;case 6:return e.abrupt("return",_["a"].defaults(t));case 7:case"end":return e.stop()}}),e)}))),me.apply(this,arguments)}function ve(e){return Oe.apply(this,arguments)}function Oe(){return Oe=K(o.a.mark((function e(t){var n,r,a,i,s,u,l,d,b,y,m,v,O,j=this,g=arguments;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=g.length>1&&void 0!==g[1]?g[1]:D,r=g.length>2&&void 0!==g[2]&&g[2],a=this.__defaults.log,i=de(n),s=0,l=i.length-1;case 6:if(!(l>=0)){e.next=18;break}return d=i[l],e.next=10,ae.call(this,"".concat(t,"_").concat(d));case 10:if(b=e.sent,!b){e.next=15;break}return s=d,u=b,e.abrupt("break",18);case 15:--l,e.next=6;break;case 18:if(u){e.next=22;break}return e.next=21,ae.call(this,"".concat(t,"_").concat(s));case 21:u=e.sent;case 22:if(u){e.next=27;break}return s=be(n),e.next=26,ie.call(this,"".concat(t,"_").concat(s));case 26:u=e.sent;case 27:y=I(i),e.prev=28,v=o.a.mark((function e(){var i,l,d;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=m.value,!(i<=s)){e.next=3;break}return e.abrupt("return","continue");case 3:return e.next=5,ie.call(j,"".concat(t,"_").concat(i));case 5:return l=e.sent,e.prev=6,d=/^[a-z]/i,e.next=10,se(u,{since:0,include_docs:!0,filter:function(e){var t=e._id;return d.test(t)}}).pipe(Object(h["a"])((function(e){return Object(c["a"])((function(){return n[i](e.doc,u)})).pipe(Object(p["a"])((function(e){return Object(f["a"])(e)})),Object(h["a"])(function(){var e=K(o.a.mark((function e(t){return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return"_rev"in t&&delete t["_rev"],e.abrupt("return",l.put(t));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}))).toPromise();case 10:e.next=17;break;case 12:throw e.prev=12,e.t0=e["catch"](6),null===a||void 0===a||a.error("Error migrating db",{from:s,to:i},e.t0),l.destroy(),e.t0;case 17:if(null===a||void 0===a||a.info("Migrated db",{name:t,from:s,to:i}),!r){e.next=23;break}return e.next=21,u.destroy();case 21:e.next=25;break;case 23:return e.next=25,u.close();case 25:s=i,u=l;case 27:case"end":return e.stop()}}),e,null,[[6,12]])})),y.s();case 31:if((m=y.n()).done){e.next=38;break}return e.delegateYield(v(),"t0",33);case 33:if(O=e.t0,"continue"!==O){e.next=36;break}return e.abrupt("continue",36);case 36:e.next=31;break;case 38:e.next=43;break;case 40:e.prev=40,e.t1=e["catch"](28),y.e(e.t1);case 43:return e.prev=43,y.f(),e.finish(43);case 46:return Object(E["d"])(ye(u)===be(n),"Not latest version"),e.abrupt("return",u);case 48:case"end":return e.stop()}}),e,this,[[28,40,43,46]])}))),Oe.apply(this,arguments)}function je(e){return ge.apply(this,arguments)}function ge(){return ge=K(o.a.mark((function e(t){return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=ye(t),e.next=3,t.get(J+"chainId");case 3:return e.t1=e.sent.value,e.next=6,t.get(J+"registry");case 6:return e.t2=e.sent.value,e.next=9,t.get(J+"address");case 9:return e.t3=e.sent.value,e.next=12,t.get(J+"blockNumber");case 12:return e.t4=e.sent.value,e.abrupt("return",{_id:"_meta",version:e.t0,network:e.t1,registry:e.t2,address:e.t3,blockNumber:e.t4});case 14:case"end":return e.stop()}}),e)}))),ge.apply(this,arguments)}function we(e){return"function"===typeof e[Symbol.asyncIterator]}function _e(e,t){return ke.apply(this,arguments)}function ke(){return ke=K(o.a.mark((function e(t,n){var r,a,i,c,s,u,l,f,p,d,b,y,h,m,v,O,j=arguments;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=j.length>2&&void 0!==j[2]?j[2]:D,a=j.length>3&&void 0!==j[3]&&j[3],i=this.__defaults.log,c=we(t)?t[Symbol.asyncIterator]():t[Symbol.iterator](),e.next=6,c.next();case 6:s=e.sent,Object(E["d"])(!s.done&&"_meta"===s.value._id,'first yielded value must be "_meta"'),u=s.value,l=be(r);case 10:if(!(l>=u.version)){e.next=28;break}return f="".concat(n,"_").concat(l),e.next=14,ae.call(this,f);case 14:if(p=e.sent,p){e.next=17;break}return e.abrupt("continue",25);case 17:return e.next=19,je(p);case 19:return d=e.sent,Object(E["d"])(u.version>=l&&u.blockNumber>=d.blockNumber,E["b"].RDN_STATE_MIGRATION),Object(E["d"])(u.address===d.address,[E["b"].RDN_STATE_ADDRESS_MISMATCH,{expected:d.address,received:u.address}],null===i||void 0===i?void 0:i.error),Object(E["d"])(u.registry===d.registry&&u.network===d.network,[E["b"].RDN_STATE_NETWORK_MISMATCH,{expectedRegistry:d.registry,receivedRegistry:u.registry,expectedNetwork:d.network,receivedNetwork:u.network}],null===i||void 0===i?void 0:i.error),e.next=25,p.destroy();case 25:--l,e.next=10;break;case 28:return b="".concat(n,"_").concat(u.version),e.next=31,ie.call(this,b);case 31:return y=e.sent,e.next=34,c.next();case 34:h=e.sent;case 35:if(h.done){e.next=45;break}return m=h.value,"_rev"in m&&delete m["_rev"],e.next=40,Promise.all([c.next(),y.put(m)]);case 40:v=e.sent,O=B(v,1),h=O[0],e.next=35;break;case 45:return null===i||void 0===i||i.warn("Replaced/loaded database",{name:n,meta:u}),e.next=48,y.close();case 48:return e.next=50,ve.call(this,n,r,a);case 50:return e.abrupt("return",e.sent);case 51:case"end":return e.stop()}}),e,this)}))),ke.apply(this,arguments)}function Ee(e){return e?e.slice(0,-1)+String.fromCharCode(e.slice(-1).charCodeAt(0)+1):""}function Te(e){return xe.apply(this,arguments)}function xe(){return xe=G(o.a.mark((function e(t){var n,r,a,i,c,s,u,l,f=arguments;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=f.length>1&&void 0!==f[1]?f[1]:{},r=n.batch,a=void 0===r?10:r,c=t.changes({since:"now",live:!0}),c.on("change",(function(e){var t=e.id;return i=t})),e.prev=3,e.next=6,je(t);case 6:s="a";case 7:return e.next=10,Y(t.allDocs({startkey:s,endkey:"￰",limit:a,include_docs:!0}));case 10:return u=e.sent,e.delegateYield(Z(z(u.rows.map((function(e){var t=e.doc;return w()(["_rev"],t)}))),Y),"t0",12);case 12:if(Object(E["d"])(!i,["Database changed while dumping",{key:i}]),l=Object(x["o"])(u.rows),!l){e.next=18;break}s=Ee(l.id),e.next=19;break;case 18:return e.abrupt("break",21);case 19:e.next=7;break;case 21:return e.prev=21,c.cancel(),e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[3,,21,24]])}))),xe.apply(this,arguments)}function Ae(e){return Se.apply(this,arguments)}function Se(){return Se=K(o.a.mark((function e(t){return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",ie.call(t.constructor,t.name));case 1:case"end":return e.stop()}}),e)}))),Se.apply(this,arguments)}function Pe(e,t){return Ne.apply(this,arguments)}function Ne(){return Ne=K(o.a.mark((function e(t,n){var r,a,i,c,s,u,l,f,p,d,b,y;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=t.constructor.__defaults.log,a=!1,i=10;case 3:if(!(i>0)){e.next=56;break}e.prev=4,c=[],s=!0,u=!1,e.prev=8,f=z(Te(t,n));case 10:return e.next=12,f.next();case 12:return p=e.sent,s=p.done,e.next=16,p.value;case 16:if(d=e.sent,s){e.next=23;break}b=d,c.push(b);case 20:s=!0,e.next=10;break;case 23:e.next=29;break;case 25:e.prev=25,e.t0=e["catch"](8),u=!0,l=e.t0;case 29:if(e.prev=29,e.prev=30,s||null==f.return){e.next=34;break}return e.next=34,f.return();case 34:if(e.prev=34,!u){e.next=37;break}throw l;case 37:return e.finish(34);case 38:return e.finish(29);case 39:if(!a){e.next=42;break}return e.next=42,t.close();case 42:return e.abrupt("return",c);case 45:if(e.prev=45,e.t1=e["catch"](4),null===e.t1||void 0===e.t1||null===(y=e.t1.message)||void 0===y||!y.includes("database is closed")){e.next=52;break}return a=!0,e.next=51,Ae(t);case 51:t=e.sent;case 52:null===r||void 0===r||r.warn("Restarting dump because",e.t1);case 53:--i,e.next=3;break;case 56:throw new Error("Could not dump database");case 57:case"end":return e.stop()}}),e,null,[[4,45],[8,25,29,39],[30,,34,38]])}))),Ne.apply(this,arguments)}function Re(e){var t,n,r,a,i,c,s,u,l,f,p,d,b;return o.a.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return t={_id:"_meta",version:0,network:e.chainId,registry:e.registry,address:e.address,blockNumber:e.blockNumber},o.next=3,t;case 3:n=0,r=Object.entries(e);case 4:if(!(n<r.length)){o.next=33;break}if(a=B(r[n],2),i=a[0],c=a[1],"channels"!==i&&"oldChannels"!==i){o.next=17;break}s=0,u=Object.values(c);case 8:if(!(s<u.length)){o.next=15;break}return l=u[s],o.next=12,L({_id:ee+Object(T["e"])(l)},l);case 12:s++,o.next=8;break;case 15:o.next=30;break;case 17:if("sent"!==i&&"received"!==i){o.next=28;break}f=0,p=Object.values(c);case 19:if(!(f<p.length)){o.next=26;break}return b=p[f],o.next=23,L(L(L(L(L({_id:"".concat(i,":").concat(b.transfer.lock.secrethash),direction:i,secrethash:b.transfer.lock.secrethash,expiration:m["a"].from(b.transfer.lock.expiration).toNumber(),channel:"".concat(b.transfer.token_network_address,"@").concat(b.partner,"#").concat(m["a"].from(b.transfer.channel_identifier).toString().padStart(9,"0")),cleared:0},null!==(d=b.secret)&&void 0!==d&&d.registerBlock?{secretRegistered:{txHash:v["a"],txBlock:b.secret.registerBlock,ts:1}}:{}),b),b.secret?{secret:b.secret.value}:{}),b.lockExpired?{expired:b.lockExpired}:{}),b.channelClosed?{channelSettled:b.channelClosed}:{});case 23:f++,o.next=19;break;case 26:o.next=30;break;case 28:return o.next=30,{_id:J+i,value:c};case 30:n++,o.next=4;break;case 33:case"end":return o.stop()}}),C)}},"750b":function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-row",{staticClass:"action-button",class:{sticky:e.sticky},attrs:{"no-gutters":"","align-content":"center",justify:"center"}},[n("v-col",{staticClass:"text-center",attrs:{cols:e.sticky?12:10}},[n("v-btn",{staticClass:"text-capitalize action-button__button",class:{sticky:e.sticky,"action-button__button--ghost":e.ghost,"action-button__button--full-width":e.fullWidth},attrs:{type:"submit",disabled:!e.enabled,loading:e.loading,"data-cy":"action_button",depressed:"",large:""},on:{click:function(t){return e.click()}},scopedSlots:e._u([e.syncing?{key:"loader",fn:function(){return[n("div",{staticClass:"action-button__syncing"},[n("span",[e._v(e._s(e.$t("home.connect-button-syncing")))]),n("v-progress-linear",{staticClass:"action-button__syncing__indicator",attrs:{indeterminate:"",rounded:""}})],1)]},proxy:!0}:null],null,!0)},[e._v(" "+e._s(e.text)+" "),e.arrow?n("v-icon",{attrs:{right:""}},[e._v("keyboard_arrow_right")]):e._e()],1)],1)],1)},a=[],o=n("9ab4"),i=n("5cf9");function c(e){return c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}function f(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function d(e){var t=h();return function(){var n,r=m(e);if(t){var a=m(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return b(this,n)}}function b(e,t){return!t||"object"!==c(t)&&"function"!==typeof t?y(e):t}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}var v=function(e){f(n,e);var t=d(n);function n(){return s(this,n),t.apply(this,arguments)}return l(n,[{key:"click",value:function(){return!0}}]),n}(i["e"]);Object(o["a"])([Object(i["d"])({required:!0,type:Boolean})],v.prototype,"enabled",void 0),Object(o["a"])([Object(i["d"])({required:!0})],v.prototype,"text",void 0),Object(o["a"])([Object(i["d"])({type:Boolean,default:!1})],v.prototype,"syncing",void 0),Object(o["a"])([Object(i["d"])({type:Boolean,default:!1})],v.prototype,"loading",void 0),Object(o["a"])([Object(i["d"])({type:Boolean,default:!1})],v.prototype,"sticky",void 0),Object(o["a"])([Object(i["d"])({type:Boolean,default:!1})],v.prototype,"arrow",void 0),Object(o["a"])([Object(i["d"])({type:Boolean,default:!1})],v.prototype,"ghost",void 0),Object(o["a"])([Object(i["d"])({type:Boolean,default:!1})],v.prototype,"fullWidth",void 0),Object(o["a"])([Object(i["b"])()],v.prototype,"click",null),v=Object(o["a"])([Object(i["a"])({})],v);var O=v,j=O,g=(n("9433"),n("a6c2")),w=n("411c"),_=n.n(w),k=n("9c46"),E=n("1fb1"),T=n("b503"),x=n("452d"),A=n("e614"),S=Object(g["a"])(j,r,a,!1,null,"60bdd846",null);t["a"]=S.exports;_()(S,{VBtn:k["a"],VCol:E["a"],VIcon:T["a"],VProgressLinear:x["a"],VRow:A["a"]})},"753f":function(e,t,n){"use strict";n("0d3e")},"77fd":function(e,t,n){"use strict";var r=n("9ab4"),a=n("5cf9");function o(e){return o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),e}function u(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function f(e){var t=b();return function(){var n,r=y(e);if(t){var a=y(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){return!t||"object"!==o(t)&&"function"!==typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}var h=function(e){u(n,e);var t=f(n);function n(){return i(this,n),t.apply(this,arguments)}return s(n,[{key:"$blockie",value:function(e){return e?this.$identicon.getIdenticon(e):this.$identicon.getIdenticon("0x000")}}]),n}(a["e"]);h=Object(r["a"])([a["a"]],h),t["a"]=h},"7de2":function(e,t,n){"use strict";n.d(t,"a",(function(){return E})),n.d(t,"b",(function(){return A})),n.d(t,"f",(function(){return R})),n.d(t,"e",(function(){return D})),n.d(t,"d",(function(){return I})),n.d(t,"c",(function(){return C})),n.d(t,"h",(function(){return U})),n.d(t,"g",(function(){return M}));var r,a=n("36d8"),o=n.n(a),i=n("6da0"),c=n("f211"),s=n("8379"),u=n("b97c"),l=n("905c9"),f=n("111d"),p=n.n(f),d=n("2b5b"),b=n("f2df"),y=n("ca14"),h=n("46f7"),m=n("5778"),v=n("8173");function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){k(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function w(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){g(o,r,a,i,c,"next",e)}function c(e){g(o,r,a,i,c,"throw",e)}i(void 0)}))}}function _(e){return _="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E,T=(r={},k(r,m["d"].DELIVERED,12),k(r,m["d"].PROCESSED,0),k(r,m["d"].SECRET_REQUEST,3),k(r,m["d"].SECRET_REVEAL,11),k(r,m["d"].LOCKED_TRANSFER,7),k(r,m["d"].UNLOCK,4),k(r,m["d"].LOCK_EXPIRED,13),k(r,m["d"].WITHDRAW_REQUEST,15),k(r,m["d"].WITHDRAW_CONFIRMATION,16),k(r,m["d"].WITHDRAW_EXPIRED,17),k(r,m["d"].PFS_CAPACITY_UPDATE,-1),k(r,m["d"].PFS_FEE_UPDATE,-1),k(r,m["d"].MONITOR_REQUEST,-1),r);function x(e){var t=e.routes.map((function(e){return Object(i["a"])(Object(c["encode"])(e.route))}));return Object(i["a"])(Object(c["encode"])(t))}function A(e){var t=e.transferredAmount,n=e.lockedAmount,r=e.locksroot;return t.isZero()&&n.isZero()&&(r===l["a"]||r===d["c"])?l["a"]:Object(i["a"])(Object(u["b"])([Object(h["a"])(t,32),Object(h["a"])(n,32),Object(h["a"])(r,32)]))}function S(e){switch(e.type){case m["d"].LOCKED_TRANSFER:var t=Object(u["b"])([Object(h["a"])(T[e.type],1),Object(h["a"])(e.message_identifier,8),Object(h["a"])(e.payment_identifier,8),Object(h["a"])(e.lock.expiration,32),Object(h["a"])(e.token,20),Object(h["a"])(e.recipient,20),Object(h["a"])(e.target,20),Object(h["a"])(e.initiator,20),Object(h["a"])(e.lock.secrethash,32),Object(h["a"])(e.lock.amount,32)]);return e.type===m["d"].LOCKED_TRANSFER&&(t=Object(u["b"])([t,x(e.metadata)])),Object(i["a"])(t);case m["d"].UNLOCK:return Object(i["a"])(Object(u["b"])([Object(h["a"])(T[e.type],1),Object(h["a"])(e.message_identifier,8),Object(h["a"])(e.payment_identifier,8),Object(h["a"])(e.secret,32)]));case m["d"].LOCK_EXPIRED:return Object(i["a"])(Object(u["b"])([Object(h["a"])(T[e.type],1),Object(h["a"])(e.message_identifier,8),Object(h["a"])(e.recipient,20),Object(h["a"])(e.secrethash,32)]))}}function P(e){var t;switch(e.type){case m["d"].DELIVERED:return Object(u["i"])(Object(u["b"])([Object(h["a"])(T[e.type],1),Object(h["a"])(0,3),Object(h["a"])(e.delivered_message_identifier,8)]));case m["d"].PROCESSED:return Object(u["i"])(Object(u["b"])([Object(h["a"])(T[e.type],1),Object(h["a"])(0,3),Object(h["a"])(e.message_identifier,8)]));case m["d"].LOCKED_TRANSFER:case m["d"].UNLOCK:case m["d"].LOCK_EXPIRED:var n=S(e),r=A({transferredAmount:e.transferred_amount,lockedAmount:e.locked_amount,locksroot:e.locksroot});return Object(u["i"])(Object(u["b"])([Object(h["a"])(e.token_network_address,20),Object(h["a"])(e.chain_id,32),Object(h["a"])(E.BALANCE_PROOF,32),Object(h["a"])(e.channel_identifier,32),Object(h["a"])(r,32),Object(h["a"])(e.nonce,32),Object(h["a"])(n,32)]));case m["d"].SECRET_REQUEST:return Object(u["i"])(Object(u["b"])([Object(h["a"])(T[e.type],1),Object(h["a"])(0,3),Object(h["a"])(e.message_identifier,8),Object(h["a"])(e.payment_identifier,8),Object(h["a"])(e.secrethash,32),Object(h["a"])(e.amount,32),Object(h["a"])(e.expiration,32)]));case m["d"].SECRET_REVEAL:return Object(u["i"])(Object(u["b"])([Object(h["a"])(T[e.type],1),Object(h["a"])(0,3),Object(h["a"])(e.message_identifier,8),Object(h["a"])(e.secret,32)]));case m["d"].WITHDRAW_REQUEST:case m["d"].WITHDRAW_CONFIRMATION:return Object(u["i"])(Object(u["b"])([Object(h["a"])(e.token_network_address,20),Object(h["a"])(e.chain_id,32),Object(h["a"])(E.WITHDRAW,32),Object(h["a"])(e.channel_identifier,32),Object(h["a"])(e.participant,20),Object(h["a"])(e.total_withdraw,32),Object(h["a"])(e.expiration,32)]));case m["d"].WITHDRAW_EXPIRED:return Object(u["i"])(Object(u["b"])([Object(h["a"])(T[e.type],1),Object(h["a"])(0,3),Object(h["a"])(e.nonce,32),Object(h["a"])(e.message_identifier,8),Object(h["a"])(e.token_network_address,20),Object(h["a"])(e.chain_id,32),Object(h["a"])(E.WITHDRAW,32),Object(h["a"])(e.channel_identifier,32),Object(h["a"])(e.participant,20),Object(h["a"])(e.total_withdraw,32),Object(h["a"])(e.expiration,32)]));case m["d"].PFS_CAPACITY_UPDATE:return Object(u["i"])(Object(u["b"])([Object(h["a"])(e.canonical_identifier.chain_identifier,32),Object(h["a"])(e.canonical_identifier.token_network_address,20),Object(h["a"])(e.canonical_identifier.channel_identifier,32),Object(h["a"])(e.updating_participant,20),Object(h["a"])(e.other_participant,20),Object(h["a"])(e.updating_nonce,8),Object(h["a"])(e.other_nonce,8),Object(h["a"])(e.updating_capacity,32),Object(h["a"])(e.other_capacity,32),Object(h["a"])(e.reveal_timeout,32)]));case m["d"].PFS_FEE_UPDATE:return Object(u["i"])(Object(u["b"])([Object(h["a"])(e.canonical_identifier.chain_identifier,32),Object(h["a"])(e.canonical_identifier.token_network_address,20),Object(h["a"])(e.canonical_identifier.channel_identifier,32),Object(h["a"])(e.updating_participant,20),Object(h["a"])(e.fee_schedule.cap_fees,1),Object(h["a"])(e.fee_schedule.flat,32),Object(h["a"])(e.fee_schedule.proportional,32),Object(c["encode"])(null!==(t=e.fee_schedule.imbalance_penalty)&&void 0!==t?t:"0x"),Object(h["a"])(e.timestamp,19)]));case m["d"].MONITOR_REQUEST:return Object(u["i"])(Object(u["b"])([Object(h["a"])(e.monitoring_service_contract_address,20),Object(h["a"])(e.balance_proof.chain_id,32),Object(h["a"])(E.MS_REWARD,32),Object(h["a"])(e.balance_proof.token_network_address,20),Object(h["a"])(e.non_closing_participant,20),Object(h["a"])(e.non_closing_signature,65),Object(h["a"])(e.reward_amount,32)]))}}function N(e){return y["g"].is(e.signature)}function R(e){return Object(s["b"])(Object(u["a"])(P(e)),e.signature)}function D(e){return{chainId:e.chain_id,tokenNetworkAddress:e.token_network_address,channelId:e.channel_identifier,nonce:e.nonce,transferredAmount:e.transferred_amount,lockedAmount:e.locked_amount,locksroot:e.locksroot,additionalHash:S(e),signature:e.signature}}function I(e){return"signature"in e?Object(h["c"])(Object(y["h"])(m["c"]).encode(e)):Object(h["c"])(m["c"].encode(e))}function C(e){var t=Object(h["b"])(e);return Object(b["a"])(t&&"object"===_(t)&&"type"in t&&Object.values(m["d"]).some((function(e){return e===t["type"]})),"Invalid message type: ".concat(null===t||void 0===t?void 0:t["type"])),"signature"in t?Object(y["l"])(Object(y["h"])(m["c"]),t):Object(y["l"])(m["c"],t)}function U(e,t){return L.apply(this,arguments)}function L(){return L=w(o.a.mark((function e(t,n){var r,a,i,c=arguments;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=c.length>2&&void 0!==c[2]?c[2]:{log:p.a},a=r.log,!N(n)){e.next=3;break}return e.abrupt("return",n);case 3:return a.debug('Signing message "'.concat(n.type,'"'),n),e.next=6,t.signMessage(Object(u["a"])(P(n)));case 6:return i=e.sent,e.abrupt("return",j(j({},n),{},{signature:i}));case 8:case"end":return e.stop()}}),e)}))),L.apply(this,arguments)}function M(e){return function(t){return v["messageReceived"].is(t)&&(Array.isArray(e)?e.some((function(e){return e.is(t.payload.message)})):e.is(t.payload.message))}}(function(e){e[e["BALANCE_PROOF"]=1]="BALANCE_PROOF",e[e["BALANCE_PROOF_UPDATE"]=2]="BALANCE_PROOF_UPDATE",e[e["WITHDRAW"]=3]="WITHDRAW",e[e["COOP_SETTLE"]=4]="COOP_SETTLE",e[e["IOU"]=5]="IOU",e[e["MS_REWARD"]=6]="MS_REWARD"})(E||(E={}))},8089:function(e,t,n){"use strict";n.d(t,"e",(function(){return ae})),n.d(t,"f",(function(){return ce})),n.d(t,"i",(function(){return se})),n.d(t,"k",(function(){return ue})),n.d(t,"b",(function(){return le})),n.d(t,"d",(function(){return fe})),n.d(t,"a",(function(){return pe})),n.d(t,"l",(function(){return be})),n.d(t,"j",(function(){return he})),n.d(t,"c",(function(){return me})),n.d(t,"h",(function(){return Oe})),n.d(t,"g",(function(){return we}));var r=n("36d8"),a=n.n(r),o=n("4fe5"),i=n("8379"),c=n("699d"),s=n("09d5"),u=n("87b8"),l=n("2023"),f=n("331d"),p=n("4a9c"),d=n("cefa"),b=n("7f4a"),y=n("dd00"),h=n("58be"),m=n("0eb1"),v=n("dd5b"),O=n("111d"),j=n.n(O),g=n("65e1"),w=n("f2df"),_=n("59ec"),k=n("1a78"),E=n("8120"),T=n("325b"),x=n("ca14"),A=n("1b23"),S=n("ee6c"),P=n("a0df"),N=n("31a7"),R=n("c998"),D=n("ee79"),I=n("b4cc"),C=n("0ff6"),U=n("4e0b"),L=n("1f0b"),M=n("de7d"),B=n("74e4"),F=n("46f7");function W(e,t){if(null==e)return{};var n,r,a=V(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function V(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}function $(e,t){return K(e)||q(e,t)||Y(e,t)||H()}function H(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function q(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)if(n.push(i.value),t&&n.length===t)break}catch(s){a=!0,o=s}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return n}}function K(e){if(Array.isArray(e))return e}function G(e){return z(e)||Q(e)||Y(e)||X()}function X(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Y(e,t){if(e){if("string"===typeof e)return Z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Z(e,t):void 0}}function Q(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function z(e){if(Array.isArray(e))return Z(e)}function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function J(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function ee(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){J(o,r,a,i,c,"next",e)}function c(e){J(o,r,a,i,c,"throw",e)}i(void 0)}))}}function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){re(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ae=function(e){switch(e.name){case"rinkeby":return ne(ne({},N.contracts),C.contracts);case"ropsten":return ne(ne({},P.contracts),I.contracts);case"goerli":return ne(ne({},R.contracts),U.contracts);case"homestead":return ne(ne({},D.contracts),L.contracts);default:throw new S["c"](S["b"].RDN_UNRECOGNIZED_NETWORK,{network:e.name})}};function oe(e,t,n){return ie.apply(this,arguments)}function ie(){return ie=ee(a.a.mark((function e(t,n,r){var o,u,l,f,p,d,b;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return l=null!==(o=null!==r&&void 0!==r?r:null===globalThis||void 0===globalThis||null===(u=globalThis.location)||void 0===u?void 0:u.origin)&&void 0!==o?o:"unknown",f="=== RAIDEN SUBKEY GENERATION ===\n\nNetwork: ".concat(Object(A["c"])(t).toUpperCase(),"\nRaiden dApp URL: ").concat(l,"\n\nWARNING: ensure this signature is being requested from Raiden dApp running at URL above by comparing it to your browser's url bar.\nSigning this message at any other address WILL give it FULL control of this subkey's funds, tokens and Raiden channels!"),e.next=4,n.signMessage(Object(c["f"])(f));case 4:return p=e.sent,d=Object(s["c"])(p),b=new i["a"](d,n.provider),e.abrupt("return",{signer:b,address:b.address});case 8:case"end":return e.stop()}}),e)}))),ie.apply(this,arguments)}var ce=function(){var e=ee(a.a.mark((function e(t,n,r,c){var s,u,l,f,p;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!o["a"].isSigner(t)){e.next=15;break}if(t.provider!==n){e.next=5;break}s=t,e.next=10;break;case 5:if(!(t instanceof i["a"])){e.next=9;break}s=t.connect(n),e.next=10;break;case 9:throw new S["c"](S["b"].RDN_SIGNER_NOT_CONNECTED,{account:t.toString(),provider:n.toString()});case 10:return e.next=12,s.getAddress();case 12:u=e.sent,e.next=38;break;case 15:if("number"!==typeof t){e.next=22;break}return s=n.getSigner(t),e.next=19,s.getAddress();case 19:u=e.sent,e.next=38;break;case 22:if(!x["a"].is(t)){e.next=32;break}return e.next=25,n.listAccounts();case 25:if(f=e.sent,f.includes(t)){e.next=28;break}throw new S["c"](S["b"].RDN_ACCOUNT_NOT_FOUND,{account:t,accounts:JSON.stringify(f)});case 28:s=n.getSigner(t),u=t,e.next=38;break;case 32:if(!x["e"].is(t)){e.next=37;break}s=new i["a"](t,n),u=s.address,e.next=38;break;case 37:throw new S["c"](S["b"].RDN_STRING_ACCOUNT_INVALID);case 38:if(!r){e.next=51;break}return l={signer:s,address:u},e.t0=oe,e.next=43,n.getNetwork();case 43:return e.t1=e.sent,e.t2=l.signer,e.t3=c,e.next=48,(0,e.t0)(e.t1,e.t2,e.t3);case 48:p=e.sent,s=p.signer,u=p.address;case 51:return e.abrupt("return",{signer:s,address:u,main:l});case 52:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}();function se(e,t){return Object(l["a"])(Object(B["a"])(t,{since:0,include_docs:!0,selector:{direction:{$in:Object.values(k["a"])}}}).pipe(Object(p["a"])("doc"),Object(d["a"])(x["n"]),Object(b["a"])((function(e){return Object(x["l"])(k["d"],e)}))),e.pipe(Object(T["e"])("transfers"),Object(T["c"])(),Object(p["a"])(1))).pipe(Object(b["a"])(_["h"]))}var ue=function(e){return Object.values(e).reduce((function(e,t){var n=Object(E["c"])(t),r=ne({state:t.state,id:t.id,token:t.token,tokenNetwork:t.tokenNetwork,settleTimeout:t.settleTimeout,openBlock:t.openBlock,closeBlock:"closeBlock"in t?t.closeBlock:void 0,partner:t.partner.address,balance:n.ownBalance,capacity:n.ownCapacity},n);return ne(ne({},e),{},re({},t.token,ne(ne({},e[t.token]),{},re({},t.partner.address,r))))}),{})};function le(e,t){var n=e.signer,r=e.address,a=e.main;return a&&!t?a:{signer:n,address:r}}function fe(e,t){return e.signer===t?e:e.connect(t)}function pe(e,t,n,r){return de.apply(this,arguments)}function de(){return de=ee(a.a.mark((function e(t,n,r,o){var i,c,s,u,l,f=arguments;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=f.length>4&&void 0!==f[4]?f[4]:{log:j.a},c=i.log,e.prev=1,e.next=4,(u=t.functions)[n].apply(u,G(r));case 4:s=e.sent,e.next=11;break;case 7:throw e.prev=7,e.t0=e["catch"](1),c.error("Error sending ".concat(n," tx"),e.t0),new S["c"](o,{error:e.t0.message});case 11:return c.debug("sent ".concat(n,' tx "').concat(s.hash,'" to "').concat(t.address,'"')),e.prev=12,e.next=15,s.wait();case 15:l=e.sent,Object(w["a"])(l.status,"tx status: ".concat(l.status)),e.next=23;break;case 19:throw e.prev=19,e.t1=e["catch"](12),c.error("Error mining ".concat(n," tx"),e.t1),new S["c"](o,{transactionHash:s.hash});case 23:return c.debug("".concat(n,' tx "').concat(s.hash,'" successfuly mined!')),e.abrupt("return",l);case 25:case"end":return e.stop()}}),e,null,[[1,7],[12,19]])}))),de.apply(this,arguments)}function be(e,t,n){return ye.apply(this,arguments)}function ye(){return ye=ee(a.a.mark((function e(t,n,r){var o,i,c,s,u;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=n.latest$,i=n.config$,c=n.provider,s=t.blockNumber,u=t.transactionHash,e.abrupt("return",o.pipe(Object(T["e"])("state","blockNumber"),Object(y["a"])(i),Object(d["a"])((function(e){var t=$(e,2),n=t[0],a=t[1].confirmationBlocks;return s+(null!==r&&void 0!==r?r:a)<=n})),Object(h["a"])((function(e){var t=$(e,2),n=t[0],a=t[1].confirmationBlocks;return Object(f["a"])((function(){return c.getTransactionReceipt(u)})).pipe(Object(b["a"])((function(e){if(null!==e&&void 0!==e&&e.confirmations&&e.confirmations>=(null!==r&&void 0!==r?r:a))return e.blockNumber;if(s+2*(null!==r&&void 0!==r?r:a)<n)throw new S["c"](S["b"].RDN_TRANSACTION_REORG,{transactionHash:u})})))})),Object(m["a"])(x["n"])).toPromise());case 4:case"end":return e.stop()}}),e)}))),ye.apply(this,arguments)}var he=function(e){var t=/^(?:https:\/\/)?[^\s\/$.?#&"']+\.[^\s\/$?#&"']+$/;return t.test(e)};function me(e,t){return ve.apply(this,arguments)}function ve(){return ve=ee(a.a.mark((function e(t,n){var r,o,i,c,s,u,l,f,b,y,h;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=M["h"].connect(n,t),e.next=3,o.msc_address();case 3:return i=e.sent,c=M["c"].connect(i,t),e.next=7,c.token_network_registry();case 7:return s=e.sent,u=M["f"].connect(s,t),e.next=11,u.secret_registry_address();case 11:return l=e.sent,e.next=14,c.service_registry();case 14:return f=e.sent,e.next=17,t.getBlockNumber();case 17:return b=e.sent,e.next=20,Object(A["b"])(t,ne(ne({},u.filters.TokenNetworkCreated(null,null)),{},{fromBlock:1,toBlock:b})).pipe(Object(p["a"])("blockNumber"),Object(d["a"])(x["n"]),Object(v["a"])(1)).toPromise();case 20:return y=e.sent,null!==(r=y)&&void 0!==r||(y=0),e.next=24,o.one_to_n_address();case 24:return h=e.sent,e.abrupt("return",{TokenNetworkRegistry:{address:s,block_number:y},ServiceRegistry:{address:f,block_number:y},UserDeposit:{address:n,block_number:y},SecretRegistry:{address:l,block_number:y},MonitoringService:{address:i,block_number:y},OneToN:{address:h,block_number:y}});case 26:case"end":return e.stop()}}),e)}))),ve.apply(this,arguments)}function Oe(e){return je.apply(this,arguments)}function je(){return je=ee(a.a.mark((function e(t){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t.pipe(Object(p["a"])("udcBalance"),Object(m["a"])((function(e){return!!e&&e.lt(u["a"])}))).toPromise());case 1:case"end":return e.stop()}}),e)}))),je.apply(this,arguments)}function ge(e,t){var n,r,a,o=t.address,i=t.network,c=t.contractsInfo,s=e[0];Object(w["a"])("_meta"===(null===s||void 0===s?void 0:s._id),S["b"].RDN_STATE_MIGRATION),Object(w["a"])(s.address===o,S["b"].RDN_STATE_ADDRESS_MISMATCH),Object(w["a"])(s.registry===c.TokenNetworkRegistry.address,S["b"].RDN_STATE_NETWORK_MISMATCH),Object(w["a"])(s.network===i.chainId,S["b"].RDN_STATE_NETWORK_MISMATCH),Object(w["a"])((null===(n=e.find((function(e){return"state.address"===e._id})))||void 0===n?void 0:n.value)===o,S["b"].RDN_STATE_ADDRESS_MISMATCH),Object(w["a"])((null===(r=e.find((function(e){return"state.chainId"===e._id})))||void 0===r?void 0:r.value)===i.chainId,S["b"].RDN_STATE_NETWORK_MISMATCH),Object(w["a"])((null===(a=e.find((function(e){return"state.registry"===e._id})))||void 0===a?void 0:a.value)===c.TokenNetworkRegistry.address,S["b"].RDN_STATE_NETWORK_MISMATCH)}function we(e){return _e.apply(this,arguments)}function _e(){return _e=ee(a.a.mark((function e(t){var n,r,o,i,c,s,u,l,f,p,d,b,y,h=arguments;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.address,r=t.network,o=t.contractsInfo,i=t.log,c=h.length>1&&void 0!==h[1]?h[1]:{},s=["raiden",Object(A["c"])(r),o.TokenNetworkRegistry.address,n].join("_"),l=!1,f=c.state,p=c.storage,c.state,d=W(c,["storage","state"]),f){e.next=11;break}return e.next=9,null===p||void 0===p?void 0:p.getItem(s);case 9:f=e.sent,f&&(l=!0);case 11:return e.next=13,Object(B["c"])(ne({log:i},d));case 13:if(b=e.sent,!f){e.next=24;break}return"string"===typeof f&&(f=Object(F["b"])(f)),Array.isArray(f)||(f=Array.from(Object(B["e"])(f))),ge(f,{address:n,network:r,contractsInfo:o}),e.next=20,B["h"].call(b,f,s);case 20:u=e.sent,l&&(null===c||void 0===c||c.storage.removeItem(s)),e.next=27;break;case 24:return e.next=26,B["f"].call(b,s);case 26:u=e.sent;case 27:return e.next=29,Object(B["d"])(u);case 29:if(y=e.sent,y){e.next=36;break}return y=Object(g["c"])({network:r,address:n,contractsInfo:o}),e.next=34,Object(B["g"])(u,y);case 34:e.next=37;break;case 36:y=Object(x["l"])(g["a"],y);case 37:return e.abrupt("return",{db:u,state:y});case 38:case"end":return e.stop()}}),e)}))),_e.apply(this,arguments)}},"80bf":function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e["DISCLAIMER"]="disclaimer",e["TRANSFER"]="transfer",e["TRANSFER_STEPS"]="transfer-steps",e["SELECT_TOKEN"]="select-token",e["SELECT_HUB"]="select-hub",e["HOME"]="home",e["CHANNELS"]="channels",e["OPEN_CHANNEL"]="open-channel",e["ACCOUNT_ROOT"]="account-root",e["ACCOUNT_BACKUP"]="account-backup",e["ACCOUNT_RAIDEN"]="account-raiden",e["ACCOUNT_SETTINGS"]="account-settings",e["ACCOUNT_WITHDRAWAL"]="account-withdrawal",e["ACCOUNT_UDC"]="account-udc",e["NOTIFICATIONS"]="notifications"}(r||(r={}))},8120:function(e,t,n){"use strict";n.d(t,"d",(function(){return C})),n.d(t,"e",(function(){return U})),n.d(t,"c",(function(){return L})),n.d(t,"b",(function(){return M})),n.d(t,"f",(function(){return B})),n.d(t,"a",(function(){return F}));var r=n("36d8"),a=n.n(r),o=n("3912"),i=n("34ba"),c=n("331d"),s=n("daae"),u=n("258b"),l=n("7f4a"),f=n("4a9c"),p=n("1c01"),d=n("231d"),b=n("cefa"),y=n("bd71"),h=n("87b8"),m=n("111d"),v=n.n(m),O=n("ca14"),j=n("ee6c"),g=n("325b"),w=n("5778");function _(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function k(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){_(o,r,a,i,c,"next",e)}function c(e){_(o,r,a,i,c,"throw",e)}i(void 0)}))}}function E(e,t){return A(e)||x(e,t)||N(e,t)||T()}function T(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function x(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)if(n.push(i.value),t&&n.length===t)break}catch(s){a=!0,o=s}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return n}}function A(e){if(Array.isArray(e))return e}function S(e){return D(e)||R(e)||N(e)||P()}function P(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function N(e,t){if(e){if("string"===typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?I(e,t):void 0}}function R(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function D(e){if(Array.isArray(e))return I(e)}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C(e){var t=e.tokenNetwork,n=e.partner,r="string"===typeof n?n:n.address;return"".concat(t,"@").concat(r)}function U(e){return"_id"in e&&e._id?e._id:"".concat(C(e),"#").concat(e.id.toString().padStart(9,"0"))}function L(e){var t=e.own.withdraw,n=e.partner.withdraw,r=e.own.balanceProof.transferredAmount,a=e.partner.balanceProof.transferredAmount,o=e.own.locks.filter((function(e){return e.registered})).reduce((function(e,t){return e.add(t.amount)}),h["f"]),i=e.partner.locks.filter((function(e){return e.registered})).reduce((function(e,t){return e.add(t.amount)}),h["f"]),c=r.add(o),s=a.add(i),u=e.own.balanceProof.lockedAmount.sub(o),l=e.partner.balanceProof.lockedAmount.sub(i),f=s.sub(c),p=c.sub(s),d=O["k"].apply(void 0,[t].concat(S(e.own.pendingWithdraws.filter((function(e){return e.type===w["d"].WITHDRAW_REQUEST})).map((function(e){return e.total_withdraw}))))),b=O["k"].apply(void 0,[n].concat(S(e.partner.pendingWithdraws.filter((function(e){return e.type===w["d"].WITHDRAW_REQUEST})).map((function(e){return e.total_withdraw}))))),y=e.own.deposit.sub(d).sub(u).add(f),m=e.partner.deposit.sub(b).sub(l).add(p),v=e.own.deposit.add(f).sub(u),j=v.sub(t),g=e.partner.deposit.add(p).sub(l),_=g.sub(n);return{ownDeposit:e.own.deposit,ownWithdraw:t,ownTransferred:r,ownLocked:u,ownBalance:f,ownCapacity:y,ownOnchainUnlocked:o,ownUnlocked:c,partnerDeposit:e.partner.deposit,partnerWithdraw:n,partnerTransferred:a,partnerLocked:l,partnerBalance:p,partnerCapacity:m,partnerOnchainUnlocked:i,partnerUnlocked:s,ownTotalWithdrawable:v,ownWithdrawable:j,partnerTotalWithdrawable:g,partnerWithdrawable:_}}function M(e,t,n){var r=n.log,a=n.provider;return function(n){return n.pipe(Object(s["a"])((function(t){return r.debug("sent ".concat(e,' tx "').concat(t.hash,'" to "').concat(t.to,'"'))})),Object(u["a"])((function(e){return Object(g["g"])((function(){return e.wait()}),a.pollingInterval,{onErrors:j["h"]}).pipe(Object(l["a"])((function(t){return[e,t]})))})),Object(l["a"])((function(n){var a,o,i,c=E(n,2),s=c[0],u=c[1];if(!u.status||!u.transactionHash||!u.blockNumber)throw new j["c"](t,{status:null!==(a=u.status)&&void 0!==a?a:null,transactionHash:null!==(o=u.transactionHash)&&void 0!==o?o:null,blockNumber:null!==(i=u.blockNumber)&&void 0!==i?i:null});return r.debug("".concat(e,' tx "').concat(u.transactionHash,'" successfuly mined!')),[s,u]})))}}function B(e){return e.pipe(Object(f["a"])("channels"),Object(g["c"])(),Object(f["a"])(1),Object(p["a"])(U,void 0,void 0,(function(){return new o["a"](1)})),Object(l["a"])((function(t){var n=t.key.split("#"),r=E(n,2),a=r[0],o=r[1],i=+o;return t.pipe(Object(d["a"])(e.pipe(Object(b["a"])((function(e){var t,n=e.channels;return(null===(t=n[a])||void 0===t?void 0:t.id)!==i})))))})))}function F(e,t,n){var r=E(e,3),o=r[0],s=r[1],l=r[2],p=arguments.length>3&&void 0!==arguments[3]?arguments[3]:j["b"].RDN_APPROVE_TRANSACTION_FAILED,d=arguments.length>4?arguments[4]:void 0,b=d.provider,m=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{log:v.a,minimumAllowance:h["f"]},g=m.log,w=m.minimumAllowance;if(Object(j["d"])(o.gte(l),[j["b"].RDN_INSUFFICIENT_BALANCE,{current:o.toString(),required:l.toString()}]),s.gte(l))return Object(i["a"])(!0);var _=Object(i["a"])(!0);return s.isZero()||(_=Object(c["a"])(k(a.a.mark((function e(){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t.approve(n,0));case 1:case"end":return e.stop()}}),e)})))).pipe(M("approve",p,{log:g,provider:b}),Object(y["a"])(!0))),_.pipe(Object(u["a"])(k(a.a.mark((function e(){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t.approve(n,Object(O["k"])(w,l)));case 1:case"end":return e.stop()}}),e)})))),M("approve",p,{log:g,provider:b}),Object(f["a"])(1))}},8173:function(e,t,n){"use strict";n.r(t),n.d(t,"messageSend",(function(){return c})),n.d(t,"messageGlobalSend",(function(){return s})),n.d(t,"messageReceived",(function(){return u}));var r=n("2111"),a=n("d276"),o=n("ca14"),i=n("5778"),c=Object(a["c"])(r["v"]({address:o["a"],msgId:r["s"]}),"message/send/request","message/send/success","message/send/failure",r["j"]([r["v"]({message:r["x"]([r["s"],Object(o["h"])(i["c"])])}),r["o"]({msgtype:r["s"]})]),r["x"]([r["w"],r["v"]({via:r["s"],tookMs:r["n"],retries:r["n"]})])),s=Object(a["b"])("message/global/send",r["v"]({message:r["x"]([r["s"],Object(o["h"])(i["c"])])}),r["v"]({roomName:r["s"]})),u=Object(a["b"])("message/received",r["j"]([r["v"]({text:r["s"],ts:r["n"]}),r["o"]({message:r["x"]([i["c"],Object(o["h"])(i["c"])]),userId:r["s"],roomId:r["s"],msgtype:r["s"]})]),r["v"]({address:o["a"]}))},"83ee":function(e,t,n){"use strict";n.r(t),n.d(t,"transfer",(function(){return f})),n.d(t,"transferSigned",(function(){return p})),n.d(t,"transferProcessed",(function(){return d})),n.d(t,"transferSecret",(function(){return b})),n.d(t,"transferSecretRegister",(function(){return y})),n.d(t,"transferSecretRequest",(function(){return h})),n.d(t,"transferSecretReveal",(function(){return m})),n.d(t,"transferUnlock",(function(){return v})),n.d(t,"transferUnlockProcessed",(function(){return O})),n.d(t,"transferExpire",(function(){return j})),n.d(t,"transferExpireProcessed",(function(){return g})),n.d(t,"transferClear",(function(){return w})),n.d(t,"transferLoad",(function(){return _})),n.d(t,"withdraw",(function(){return E})),n.d(t,"withdrawMessage",(function(){return T})),n.d(t,"withdrawExpire",(function(){return x})),n.d(t,"withdrawCompleted",(function(){return A}));var r=n("2111"),a=n("ca14"),o=n("d276"),i=n("9201"),c=n("5778"),s=n("d011"),u=n("1a78"),l=r["v"]({secrethash:a["c"],direction:u["b"]}),f=Object(o["c"])(l,"transfer/request","transfer/success","transfer/failure",r["j"]([r["v"]({tokenNetwork:a["a"],target:a["a"],value:Object(a["j"])(32),paths:s["e"],paymentId:Object(a["j"])(8)}),r["o"]({secret:a["f"],expiration:r["n"],initiator:a["a"]})]),r["o"]({balanceProof:Object(a["h"])(i["a"])})),p=Object(o["b"])("transfer/signed",r["v"]({message:Object(a["h"])(c["b"]),fee:Object(a["d"])(32),partner:a["a"]}),l),d=Object(o["b"])("transfer/processed",r["v"]({message:Object(a["h"])(c["e"])}),l),b=Object(o["b"])("transfer/secret",r["v"]({secret:a["f"]}),l),y=Object(o["c"])(l,"transfer/secret/register/request","transfer/secret/register/success","transfer/secret/register/failure",r["j"]([r["v"]({secret:a["f"]}),r["o"]({subkey:r["e"]})]),r["v"]({secret:a["f"],txHash:a["c"],txBlock:r["n"],confirmed:r["x"]([r["w"],r["e"]])})),h=Object(o["b"])("transfer/secret/request",r["v"]({message:Object(a["h"])(c["f"])}),l),m=Object(o["b"])("transfer/secret/reveal",r["v"]({message:Object(a["h"])(c["g"])}),l),v=Object(o["c"])(l,"transfer/unlock/request","transfer/unlock/success","transfer/unlock/failure",void 0,r["v"]({message:Object(a["h"])(c["h"]),partner:a["a"]})),O=Object(o["b"])("transfer/unlock/processed",r["v"]({message:Object(a["h"])(c["e"])}),l),j=Object(o["c"])(l,"transfer/expire/request","transfer/expire/success","transfer/expire/failure",void 0,r["v"]({message:Object(a["h"])(c["a"]),partner:a["a"]})),g=Object(o["b"])("transfer/expire/processed",r["v"]({message:Object(a["h"])(c["e"])}),l),w=Object(o["b"])("transfer/clear",r["w"],l),_=Object(o["b"])("transfer/load",u["d"],l),k=r["v"]({direction:u["b"],tokenNetwork:a["a"],partner:a["a"],totalWithdraw:Object(a["j"])(32),expiration:r["n"]}),E=Object(o["c"])(k,"withdraw/request","withdraw/success","withdraw/failure",r["w"],r["v"]({txHash:a["c"],txBlock:r["n"],confirmed:r["x"]([r["w"],r["e"]])})),T=Object(o["c"])(k,"withdraw/message/request","withdraw/message/success","withdraw/message/failure",r["v"]({message:Object(a["h"])(c["k"])}),r["v"]({message:Object(a["h"])(c["i"])})),x=Object(o["c"])(k,"withdraw/expire/request","withdraw/expire/success","withdraw/expire/failure",r["w"],r["v"]({message:Object(a["h"])(c["j"])})),A=Object(o["b"])("withdraw/completed",r["w"],k)},"87a2":function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r}));var r,a=function(){return{label:"",title:"",description:""}},o=function(){return{name:"",symbol:"",address:"",opening:0,open:0,closing:0,closed:0,settling:0,settled:0}},i={name:"",chainId:-1};(function(e){e[e["UNDEFINED"]=0]="UNDEFINED",e[e["NO_ACCOUNT"]=1]="NO_ACCOUNT",e[e["UNSUPPORTED_NETWORK"]=2]="UNSUPPORTED_NETWORK",e[e["INITIALIZATION_FAILED"]=3]="INITIALIZATION_FAILED",e[e["RDN_STATE_MIGRATION"]=4]="RDN_STATE_MIGRATION"})(r||(r={}))},"8aa9":function(e,t,n){"use strict";n.d(t,"b",(function(){return C})),n.d(t,"a",(function(){return B}));var r=n("36d8"),a=n.n(r),o=n("111d"),i=n.n(o),c=n("489c");function s(e){return f(e)||l(e)||m(e)||u()}function u(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function f(e){if(Array.isArray(e))return v(e)}function p(e,t){return y(e)||b(e,t)||m(e,t)||d()}function d(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function b(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)if(n.push(i.value),t&&n.length===t)break}catch(s){a=!0,o=s}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return n}}function y(e){if(Array.isArray(e))return e}function h(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=m(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function m(e,t){if(e){if("string"===typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function j(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){O(o,r,a,i,c,"next",e)}function c(e){O(o,r,a,i,c,"throw",e)}i(void 0)}))}}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k,E="logs",T=void 0;function x(e){var t=e.toString();return e.stack?e.stack.startsWith(t)?e.stack:"".concat(t,"\n").concat(e.stack):t}function A(e){var t,n,r,a;if("%c prev state"!==e[0]&&(null===(t=e[0])||void 0===t||null===(n=t.startsWith)||void 0===n||!n.call(t,"action %c"))&&"—— log end ——"!==e[0]){var o=null===(r=e[2])||void 0===r||null===(a=r.payload)||void 0===a?void 0:a.blockNumber;if(!o)return e=e.map((function(e){return e instanceof Error?x(e):(null===e||void 0===e?void 0:e.payload)instanceof Error?w(w({},e),{},{payload:x(e.payload)}):e})),"string"===typeof e[1]&&e[1].startsWith("color:")&&e.splice(1,1),e;T=o}}function S(e){if("string"===typeof e)return e;try{return JSON.stringify(e)}catch(t){try{return e.toString()}catch(t){return"<unserializable>"}}}function P(e){return N.apply(this,arguments)}function N(){return N=j(a.a.mark((function e(t){var n;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if((null===(n=k)||void 0===n?void 0:n.name)!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Object(c["a"])(t,1,{upgrade:function(e){var t=e.createObjectStore(E);t.createIndex("by-logger","logger"),t.createIndex("by-level","level")}});case 4:k=e.sent;case 5:case"end":return e.stop()}}),e)}))),N.apply(this,arguments)}var R=/^raiden:(0x[0-9a-f]{40})$/i;function D(e){return I.apply(this,arguments)}function I(){return I=j(a.a.mark((function e(t){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(R.test(t)){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,P(t);case 4:case"end":return e.stop()}}),e)}))),I.apply(this,arguments)}function C(){return U.apply(this,arguments)}function U(){return U=j(a.a.mark((function e(){var t,n,r,o,c=arguments;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=c.length>0&&void 0!==c[0]?c[0]:["matrix"],"undefined"===typeof k){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,P("raiden");case 5:for(n=function(){var e=o[r],t=e.methodFactory;e.methodFactory=function(e,n,r){var a=t(e,n,r),o=r.toString();return D(o),function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];a.apply(void 0,n);var i=A(n);i&&k.put(E,w({logger:o,level:e,message:i},T?{block:T}:{}),Date.now()).catch((function(){return k.put(E,w({logger:o,level:e,message:n.map(S)},T?{block:T}:{}),Date.now())}))}}},r=0,o=[i.a].concat(s(t.map(i.a.getLogger)));r<o.length;r++)n();case 7:case"end":return e.stop()}}),e)}))),U.apply(this,arguments)}var L=[[/("?access_?token"?\s*[=:]\s*)("?)\w+("?)/gi,"$1$2<redacted>$3"],[/("?secret"?\s*[=:]\s*)\[[^\]]+\]/gi,'$1["<redacted>"]'],[/("?secret"?\s*[=:]\s*)("?)\w+("?)/gi,"$1$2<redacted>$3"]];function M(e){var t,n=h(L);try{for(n.s();!(t=n.n()).done;){var r=p(t.value,2),a=r[0],o=r[1];e=e.replace(a,o)}}catch(i){n.e(i)}finally{n.f()}return e}function B(){return F.apply(this,arguments)}function F(){return F=j(a.a.mark((function e(){var t,n,r,o,i,c,s,u,l,f,p,d,b;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t="",e.next=3,k.transaction(E).store.openCursor();case 3:n=e.sent,r=Date.now(),o=!0;case 6:if(!n){e.next=20;break}return i=n.value,c=i.logger,s=i.level,u=i.message,l=i.block,f=u.map((function(e){return"string"===typeof e?e:JSON.stringify(e)})).join(" "),r=+n.key,p=new Date(n.key).toISOString(),d=l?" #".concat(l):"",b=void 0,c!==k.name||o?(b=" @ ".concat(c),o=!1):b="",t+="".concat(p).concat(d).concat(b," [").concat(s,"] \t=> ").concat(f,"\n"),e.next=17,n.continue();case 17:n=e.sent,e.next=6;break;case 20:return t=M(t),e.abrupt("return",[r,t]);case 22:case"end":return e.stop()}}),e)}))),F.apply(this,arguments)}},"8f83":function(e,t,n){e.exports=n.p+"img/info.1557b307.svg"},9201:function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return d}));var r=n("2111"),a=n("87b8"),o=n("30c0"),i=n("905c9"),c=n("2b5b"),s=n("ca14"),u=r["s"],l=(r["s"],r["j"]([r["v"]({amount:Object(s["j"])(32),expiration:Object(s["j"])(32),secrethash:s["c"]}),r["o"]({registered:r["l"](!0)})],"Lock")),f=r["p"](r["v"]({chainId:Object(s["j"])(32),tokenNetworkAddress:s["a"],channelId:Object(s["j"])(32),nonce:Object(s["j"])(8),transferredAmount:Object(s["j"])(32),lockedAmount:Object(s["j"])(32),locksroot:s["c"],additionalHash:s["c"]})),p=f,d={chainId:a["f"],tokenNetworkAddress:o["a"],channelId:a["f"],nonce:a["f"],transferredAmount:a["f"],lockedAmount:a["f"],locksroot:c["c"],additionalHash:i["a"],signature:c["f"]}},"932d":function(e,t,n){"use strict";n("0bc3")},9433:function(e,t,n){"use strict";n("ed43")},9445:function(e,t,n){"use strict";n("c28e")},9662:function(e,t,n){e.exports=n.p+"img/open_channel_info.7e9ea0d5.svg"},"9b19":function(e,t,n){e.exports=n.p+"img/logo.5c4b022d.svg"},a0df:function(e){e.exports=JSON.parse('{"contracts_version":null,"chain_id":3,"contracts":{"SecretRegistry":{"address":"0xC6CD0b14519DACA6c8784c1c35619Bda5F90f490","transaction_hash":"0xa344e1897011a18229421d25bb69968fad7c3e78da39c7d975d502d7efc183db","block_number":7931782,"gas_cost":247286,"constructor_arguments":[]},"TokenNetworkRegistry":{"address":"0xAe40f2c0a6c72498F330a1e4CCF1527D9F028443","transaction_hash":"0x111e0bacec7f113f78463923046d545516bb35bdccb813e9dcc03ca707cdbf1e","block_number":7931794,"gas_cost":4001594,"constructor_arguments":["0xC6CD0b14519DACA6c8784c1c35619Bda5F90f490",3,20,555428,1.157920892373162e+77]}},"token_networks":[{"token_network_address":"0x2FA965fE214570bab9D676B5DE7EAffd5b82fcAe","constructor_arguments":{"_token_address":"0x342d1D825B1c8790522E0B8999DB876ddEE82052","_secret_registry":"0xC6CD0b14519DACA6c8784c1c35619Bda5F90f490","_chain_id":3,"_settlement_timeout_min":20,"_settlement_timeout_max":555428,"_deprecation_executor":"0x062C12c01D0f17fC9eAa33940D994594d91a0182","_channel_participant_deposit_limit":1.157920892373162e+77,"_token_network_deposit_limit":1.157920892373162e+77}}]}')},a32b:function(e){e.exports=JSON.parse('{"PFS_EMPTY_URL":"A registered Pathfinding Service returned an empty service URL.","PFS_INVALID_URL":"A registered Pathfinding Service returned an invalid service URL.","PFS_INVALID_INFO":"Could not find any valid Pathfinding service. Client and PFS versions are possibly out-of-sync.","PFS_TOO_EXPENSIVE":"Pathfinding Service price higher than pfsMaxFee.","PFS_NO_ROUTES_FOUND":"No valid routes found.","PFS_ERROR_RESPONSE":"Pathfinding Service request returned an error","PFS_DISABLED":"Pathfinding Service is disabled and no direct route is available.","PFS_UNKNOWN_TOKEN_NETWORK":"No open channels on this token network.","PFS_TARGET_OFFLINE":"The requested target is offline.","PFS_TARGET_NO_RECEIVE":"The requested target doesn\'t receive transfers.","PFS_LAST_IOU_REQUEST_FAILED":"The request for the last IOU has failed.","PFS_IOU_SIGNATURE_MISMATCH":"The signature of the last IOU did not match.","PFS_NO_ROUTES_BETWEEN_NODES":"No route between nodes found.","CNL_INVALID_STATE":"Invalid channel state.","CNL_NO_OPEN_CHANNEL_FOUND":"No open channel has been found.","CNL_NO_OPEN_OR_CLOSING_CHANNEL_FOUND":"No open or closing channel has been found.","CNL_NO_SETTLEABLE_OR_SETTLING_CHANNEL_FOUND":"No settleable or settling channel has been found.","CNL_APPROVE_TRANSACTION_FAILED":"Token approve transaction reverted.","CNL_OPENCHANNEL_FAILED":"TokenNetwork.openChannel transaction reverted.","CNL_SETTOTALDEPOSIT_FAILED":"TokenNetwork.setTotalDeposit transaction reverted.","CNL_CLOSECHANNEL_FAILED":"TokenNetwork.closeChannel transaction reverted.","CNL_SETTLECHANNEL_INVALID_BALANCEHASH":"Could not find BalanceProof matching on-chain closing data. This client may have had its state cleared and can\'t settle.","CNL_SETTLECHANNEL_FAILED":"TokenNetwork.settleChannel transaction reverted.","CNL_UPDATE_NONCLOSING_BP_FAILED":"updateNonClosingBalanceProof transaction reverted.","CNL_ONCHAIN_UNLOCK_FAILED":"on-chain unlock transaction reverted.","CNL_WITHDRAW_TRANSACTION_FAILED":"Withdraw transaction has failed.","CNL_WITHDRAW_PARTNER_OFFLINE":"Channel partner isn\'t online.","CNL_WITHDRAW_EXPIRES_SOON":"Withdraw request expired or expires too soon.","CNL_WITHDRAW_EXPIRED":"Withdraw request expired.","CNL_WITHDRAW_AMOUNT_TOO_LOW":"Withdraw request contains an amount smaller than already withdrawn.","CNL_WITHDRAW_AMOUNT_TOO_HIGH":"Withdraw request contains an amount bigger than channel\'s liquidity.","XFER_EXPIRED":"Transfer expired.","XFER_CHANNEL_CLOSED_PREMATURELY":"Channel was closed before secret got reveiled or transfer unlocked.","XFER_REFUNDED":"Transfer has been refunded.","XFER_INVALID_SECRETREQUEST":"Invalid SecretRequest received","XFER_ALREADY_COMPLETED":"Not waiting for transfer, it\'s already completed.","XFER_REGISTERSECRET_TX_FAILED":"SecretRegistry.registerSecret transaction reverted","TRNS_NO_MATRIX_SERVERS":"Could not contact any Matrix servers.","TRNS_NO_VALID_USER":"Could not find a user with a valid signature.","TRNS_NO_SERVERNAME":"Could not get server name from Matrix server.","TRNS_MESSAGE_SIGNATURE_MISMATCH":"Unable to decode message due to signature mismatch.","RDN_GENERAL_ERROR":"An unknown error occured.","RDN_ASSERT_ERROR":"An unknown assertion failed.","RDN_MINT_FAILED":"Failed to mint tokens.","RDN_MINT_MAINNET":"Minting is only allowed on test networks.","RDN_APPROVE_TRANSACTION_FAILED":"Approve transaction has failed.","RDN_DEPOSIT_TRANSACTION_FAILED":"Deposit transaction has failed.","RDN_TRANSFER_ONCHAIN_BALANCE_FAILED":"Failed to transfer on-chain balance.","RDN_TRANSFER_ONCHAIN_TOKENS_FAILED":"Failed to transfer on-chain tokens.","RDN_UNRECOGNIZED_NETWORK":"No deploy info provided nor recognized network.","RDN_SIGNER_NOT_CONNECTED":"The signing account is not connected to the provider.","RDN_ACCOUNT_NOT_FOUND":"Account not found in provider.","RDN_STRING_ACCOUNT_INVALID":"String account must be either a 0x-encoded address or private key.","RDN_TRANSACTION_REORG":"Transaction has been mined but got removed by a reorg.","RDN_STATE_MIGRATION":"Could not replace stored state with older, provided state.","RDN_SUBKEY_NOT_SET":"Can\'t send tx from subkey if not set.","RDN_INSUFFICIENT_BALANCE":"Insufficient balance.","RDN_INSUFFICIENT_ALLOWANCE":"Requested allowance smaller than deposit.","RDN_NOT_A_TOKEN":"Not a token contract.","RDN_STATE_ADDRESS_MISMATCH":"Mismatch between provided account and loaded state.","RDN_STATE_NETWORK_MISMATCH":"Mismatch between network or registry address and loaded state","RDN_ALREADY_STARTED":"Already started or stopped!","RDN_UNKNOWN_TOKEN_NETWORK":"Unknown Tokennetwork","RDN_INVALID_SECRET":"Invalid provided secret.","RDN_INVALID_SECRETHASH":"Invalid provided secrethash.","RDN_SECRET_SECRETHASH_MISMATCH":"Provided secrethash must match the sha256 hash of provided secret.","RDN_UNKNOWN_TRANSFER":"Unknown transfer.","RDN_DATABASE_DELETED":"Database deleted!","DTA_NEGATIVE_NUMBER":"Encountered negative number while encoding to HEX string.","DTA_NUMBER_TOO_LARGE":"Encountered a number that is too large to be encoded.","DTA_ARRAY_LENGTH_DIFFERENCE":"Expected length of HEX string differs from integer array input.","DTA_UNENCODABLE_DATA":"Passed data is not a HEX string nor integer array.","DTA_NON_POSITIVE_NUMBER":"Number must be positive.","DTA_INVALID_ADDRESS":"Invalid address parameter.","DTA_INVALID_DEPOSIT":"Invalid deposit parameter.","DTA_INVALID_TIMEOUT":"Invalid timeout parameter.","DTA_INVALID_AMOUNT":"Invalid amount parameter.","DTA_INVALID_PAYMENT_ID":"Invalid payment identifier parameter.","DTA_INVALID_PATH":"Invalid path parameter.","DTA_INVALID_PFS":"Invalid path finding service parameter.","UDC_DEPOSIT_OUTDATED":"The UDC contains a target balance different than requested deposit","UDC_PLAN_WITHDRAW_FAILED":"An error occurred while planning to withdraw from the User Deposit contract.","UDC_PLAN_WITHDRAW_GT_ZERO":"The planned withdraw amount has to be greater than zero.","UDC_PLAN_WITHDRAW_EXCEEDS_AVAILABLE":"The planned withdraw amount exceeds the total amount available for withdrawing.","UDC_WITHDRAW_NO_BALANCE":"There is no balances left to withdraw from UDC.","UDC_WITHDRAW_FAILED":"An error occurred while withdrawing from the UDC."}')},a3d5:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("fbcd");function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}var c=function(){function e(){a(this,e)}return i(e,null,[{key:"toEth",value:function(e){return r["b"].formatEther(e)}},{key:"toUnits",value:function(e,t){var n=r["b"].formatUnits(e,t);return 0===t?n.split(".")[0]:n}},{key:"decimalsOverflow",value:function(e,t){var n;return n=e.indexOf(".")>0?e.split(".")[1]:"",n.length>t}},{key:"parse",value:function(e,t){return r["b"].parseUnits(e.endsWith(".")?e.substring(0,e.length-1):e,t)}}]),e}()},a520:function(e,t,n){},a752:function(e,t,n){"use strict";n("3f96")},b4cc:function(e){e.exports=JSON.parse('{"contracts_version":null,"chain_id":3,"contracts":{"ServiceRegistry":{"address":"0x3b47ae7d1B6B73341c7C9238669500DC3EE322c8","transaction_hash":"0x4d02a48e464d2b9d1e15f86e20b9bee240bac2919c0e6671ae3027106f2943b2","block_number":7931820,"gas_cost":1999628,"constructor_arguments":["0x78BaE89c310B2bc53981176a0bc95F6caf1C86d1","0x062C12c01D0f17fC9eAa33940D994594d91a0182",2e+21,6,5,17280000,1000,15552000]},"UserDeposit":{"address":"0x70e27B28Ce6BF060889D6606169B88519edf83E2","transaction_hash":"0x4d6606b19fed986698af1784c2aa37654d94dd32f273a9efc985286092ab02eb","block_number":7931832,"gas_cost":1530470,"constructor_arguments":["0x78BaE89c310B2bc53981176a0bc95F6caf1C86d1",1.157920892373162e+77]},"MonitoringService":{"address":"0xBf86C5d8cC05Ff64419d3cDe505509397869ef06","transaction_hash":"0xde25f2d4a4a7f594c139512a246c9ba006a5f0ce9cd801c3f3d8f6e625411584","block_number":7931856,"gas_cost":1949889,"constructor_arguments":["0x78BaE89c310B2bc53981176a0bc95F6caf1C86d1","0x3b47ae7d1B6B73341c7C9238669500DC3EE322c8","0x70e27B28Ce6BF060889D6606169B88519edf83E2","0xAe40f2c0a6c72498F330a1e4CCF1527D9F028443"]},"OneToN":{"address":"0xCC911b7292157A41170C103E6fE2fE10A3B504F5","transaction_hash":"0xafcf5f55b6bb9845f7ed95079c952fbd13e867e30277cc0455901072e38536b9","block_number":7931882,"gas_cost":1097785,"constructor_arguments":["0x70e27B28Ce6BF060889D6606169B88519edf83E2",3,"0x3b47ae7d1B6B73341c7C9238669500DC3EE322c8"]}}}')},b592:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"header-content"},[r("div",{staticClass:"header-content__back-button"},[e.canNavigateBack?r("v-btn",{attrs:{"data-cy":"header-content_back-button",height:"40px",width:"40px",icon:""},on:{click:function(t){return e.navigateBack()}}},[r("v-img",{attrs:{src:n("0dd2")}})],1):e._e()],1),r("div",{staticClass:"header-content__title"},[r("div",{staticClass:"header-content__title__route"},[r("span",{staticClass:"header-content__title__route__name"},[e._v(e._s(e.$route.meta.title))]),e.availableInfoOverlay&&!e.disableInfoButton?r("v-btn",{staticClass:"header-content__title__route__info",attrs:{icon:"",height:"20px",width:"20px"}},[r("v-img",{staticClass:"header-content__title__route__info__icon",attrs:{src:n("8f83")},on:{click:function(t){return e.showInfo()}}})],1):e._e()],1),e.showNetwork?r("span",{staticClass:"header-content__title__network"},[e._v(e._s(e.network))]):e._e()]),r("div",{staticClass:"header-content__items"},[e._t("default")],2)])},a=[],o=n("9ab4"),i=n("5cf9"),c=n("94ea");function s(e){return s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),e}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}function m(e){var t=j();return function(){var n,r=g(e);if(t){var a=g(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return v(this,n)}}function v(e,t){return!t||"object"!==s(t)&&"function"!==typeof t?O(e):t}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}var w=function(e){y(n,e);var t=m(n);function n(){return p(this,n),t.apply(this,arguments)}return b(n,[{key:"showInfo",value:function(){}},{key:"navigateBack",value:function(){}},{key:"availableInfoOverlay",get:function(){return!!this.$route.meta.infoOverlay}},{key:"canNavigateBack",get:function(){return this.isConnected&&!this.disableBackButton&&!this.$route.meta.cannotNavigateBack}}]),n}(i["e"]);Object(o["a"])([Object(i["d"])({type:Boolean,default:!1})],w.prototype,"disableBackButton",void 0),Object(o["a"])([Object(i["d"])({type:Boolean,default:!1})],w.prototype,"showNetwork",void 0),Object(o["a"])([Object(i["d"])({type:Boolean,default:!1})],w.prototype,"disableInfoButton",void 0),Object(o["a"])([Object(i["b"])()],w.prototype,"showInfo",null),Object(o["a"])([Object(i["b"])()],w.prototype,"navigateBack",null),w=Object(o["a"])([Object(i["a"])({computed:l({},Object(c["c"])(["network","isConnected"]))})],w);var _=w,k=_,E=(n("ce1a"),n("a6c2")),T=n("411c"),x=n.n(T),A=n("9c46"),S=n("1331"),P=Object(E["a"])(k,r,a,!1,null,"c002969a",null);t["a"]=P.exports;x()(P,{VBtn:A["a"],VImg:S["a"]})},b8ff:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return l}));var r,a=n("2111"),o=n("ca14"),i=n("0ba5"),c=n("9201");(function(e){e["open"]="open",e["closing"]="closing",e["closed"]="closed",e["settleable"]="settleable",e["settling"]="settling",e["settled"]="settled"})(r||(r={}));var s=a["p"](a["v"]({address:o["a"],deposit:Object(o["j"])(32),withdraw:Object(o["j"])(32),locks:a["q"](c["d"]),balanceProof:Object(o["h"])(c["a"]),pendingWithdraws:a["q"](a["x"]([Object(o["h"])(i["e"]),Object(o["h"])(i["c"]),Object(o["h"])(i["d"])])),nextNonce:Object(o["j"])(8)}),"ChannelEnd"),u=s,l=a["j"]([a["p"](a["v"]({_id:a["s"],id:a["n"],token:o["a"],tokenNetwork:o["a"],settleTimeout:a["n"],isFirstParticipant:a["e"],openBlock:a["n"],own:u,partner:u}),"Channel"),a["x"]([a["p"](a["v"]({state:a["x"]([a["l"](r.open),a["l"](r.closing)])}),"state[open|closing]"),a["j"]([a["p"](a["v"]({closeBlock:a["n"],closeParticipant:o["a"]}),"ChannelClosed"),a["x"]([a["p"](a["v"]({state:a["x"]([a["l"](r.closed),a["l"](r.settleable),a["l"](r.settling)])}),"state[closed|settleable|settling]"),a["p"](a["v"]({state:a["l"](r.settled),settleBlock:a["n"]}),"state[settled]")])])])])},bf6c:function(e){e.exports=JSON.parse('{"sdk":"0.15.0","contracts":"0.37.1"}')},c28e:function(e,t,n){},c998:function(e){e.exports=JSON.parse('{"contracts_version":null,"chain_id":5,"contracts":{"SecretRegistry":{"address":"0x9fC80eb1939d8147aB90BAC01AD585f3a71BeE7e","transaction_hash":"0x74e45a70fbfe991b9dcee98b248a8165c5cb1cbfe0a8e8b5cca07219e958bce9","block_number":2723613,"gas_cost":247286,"constructor_arguments":[]},"TokenNetworkRegistry":{"address":"0x5a5CF4A63022F61F1506D1A2398490c2e8dfbb98","transaction_hash":"0x229a818e87c41e5ca1818e7f102d02edb22018475706846071b2f0e7dc59eca6","block_number":2723614,"gas_cost":4001594,"constructor_arguments":["0x9fC80eb1939d8147aB90BAC01AD585f3a71BeE7e",5,20,555428,1.157920892373162e+77]}},"token_networks":[{"token_network_address":"0x812650FB6Acdf9dD47E631cBB5518B32FFD4D129","constructor_arguments":{"_token_address":"0xC563388e2e2fdD422166eD5E76971D11eD37A466","_secret_registry":"0x9fC80eb1939d8147aB90BAC01AD585f3a71BeE7e","_chain_id":5,"_settlement_timeout_min":20,"_settlement_timeout_max":555428,"_deprecation_executor":"0x062C12c01D0f17fC9eAa33940D994594d91a0182","_channel_participant_deposit_limit":1.157920892373162e+77,"_token_network_deposit_limit":1.157920892373162e+77}}]}')},ca14:function(e,t,n){"use strict";n.d(t,"l",(function(){return O})),n.d(t,"n",(function(){return j})),n.d(t,"b",(function(){return g})),n.d(t,"d",(function(){return _})),n.d(t,"j",(function(){return k})),n.d(t,"g",(function(){return E})),n.d(t,"c",(function(){return T})),n.d(t,"f",(function(){return x})),n.d(t,"e",(function(){return A})),n.d(t,"a",(function(){return P})),n.d(t,"i",(function(){return N})),n.d(t,"p",(function(){return R})),n.d(t,"q",(function(){return D})),n.d(t,"h",(function(){return I})),n.d(t,"m",(function(){return C})),n.d(t,"o",(function(){return U})),n.d(t,"k",(function(){return L}));var r=n("2111"),a=n("a91f"),o=n("c2c4"),i=n("c00b"),c=n("2d67"),s=n("b97c"),u=n("87b8"),l=n("427e"),f=n.n(l),p=n("ee6c");function d(e,t){if(null==e)return{};var n,r,a=b(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function b(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e){if(Object(a["isLeft"])(e))throw new Error(o["PathReporter"].report(e).join("\n"))}function O(e,t,n,r){try{var a=e.decode(t);return v(a),a.right}catch(o){throw null===r||void 0===r||r("__decode failed:",e,t),n?n instanceof Error?n:new p["c"](n):o}}function j(e){return null!=e}var g=new r["b"]("BigNumber",i["a"].isBigNumber,(function(e,t){try{return r["t"](i["a"].from(e))}catch(n){return r["h"](e,t)}}),(function(e){return e.toString()})),w=f()((function(e){return r["f"](r["s"],(function(t){return"string"===typeof t&&(e?Object(s["d"])(t)===e:Object(s["l"])(t))}),"HexString")})),_=f()((function(e){var t=e?u["f"].sub(u["d"].pow(8*e-1)):void 0,n=e?u["d"].pow(8*e-1):void 0;return r["f"](g,(function(e){return g.is(e)&&(!t||!n||e.gte(t)&&e.lt(n))}),"Int")})),k=f()((function(e){var t=e?u["f"]:void 0,n=e?u["d"].pow(8*e):void 0;return r["f"](g,(function(e){return g.is(e)&&(!t||!n||e.gte(t)&&e.lt(n))}),"UInt")})),E=w(65),T=w(32),x=w(32),A=w(32);function S(e){try{return Object(c["a"])(e)===e}catch(t){return!1}}var P=new r["a"]("Address",S,(function(e,t){try{return r["t"](Object(c["a"])(e))}catch(n){return r["h"](e,t)}}),r["i"],w(20),S),N=f()((function(e){return r["j"]([e,r["p"](r["v"]({ts:r["n"]}))])}));function R(e){return h(h({},e),{},{ts:Date.now()})}function D(e){e.ts;var t=d(e,["ts"]);return t}var I=f()((function(e){return r["j"]([e,r["p"](r["v"]({signature:E}))])})),C=f()((function(e){return new r["b"]("instanceOf(".concat(e.name,")"),(function(t){var n;return(null===t||void 0===t||null===(n=t.constructor)||void 0===n?void 0:n.name)===e.name}),(function(t,n){return t instanceof e?r["t"](t):r["h"](t,n)}),r["i"])}));function U(e){return e[e.length-1]}function L(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return e.lt(t)?t:e}))}},cd49:function(e,t,n){"use strict";n.r(t);var r=n("e832"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",{attrs:{dark:""}},[n("install-banner"),n("div",{attrs:{id:"application-wrapper"}},[n("router-view",{attrs:{name:"modal"}}),n("transition",{attrs:{name:"slide"}},[n("router-view",{attrs:{name:"notifications"}})],1),n("div",{attrs:{id:"application-content"}},[n("app-header"),n("v-main",[n("v-container",{staticClass:"application__container fill-height",attrs:{fluid:""}},[n("router-view")],1)],1)],1)],1),e.imprint?n("div",{staticClass:"policy"},[n("a",{attrs:{href:e.imprint,target:"_blank"}},[e._v(" "+e._s(e.$t("application.privacy-policy"))+" ")])]):e._e(),n("offline-snackbar"),n("update-snackbar"),n("receiving-ongoing-snackbar"),n("notification-snackbar")],1)},o=[],i=n("9ab4"),c=n("5cf9"),s=n("152b"),u=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"app-header"},[e.showInfoOverlay?r("info-overlay",{on:{"close-overlay":function(t){e.showInfoOverlay=!1}}}):e._e(),r("header-content",{staticClass:"app-header__content",attrs:{"show-network":!e.showTitleOnly},on:{"show-info":function(t){e.showInfoOverlay=!0},"navigate-back":function(t){return e.navigateBack()}}},[r("div",{staticClass:"app-header__content__icons"},[e.showTitleOnly?e._e():r("v-btn",{staticClass:"app-header__content__icons__notifications-button",attrs:{"data-cy":"app-header_content_icons_notifications-button",icon:"",height:"30px",width:"25px"},nativeOn:{click:function(t){return e.notificationPanel()}}},[e.newNotifications?r("v-badge",{attrs:{color:"notification",overlap:"",bordered:"",dot:""}},[r("v-img",{attrs:{height:"30px",width:"25px",src:n("db7b")}})],1):r("v-img",{attrs:{height:"30px",width:"25px",src:n("db7b")}})],1),e.isDisclaimerRoute?e._e():r("header-identicon",{staticClass:"app-header__content__icons__identicon",attrs:{"data-cy":"app-header_content_icons_identicon"},nativeOn:{click:function(t){return e.accountMenu()}}})],1)])],1)},l=[],f=n("94ea"),p=n("80bf"),d=n("6af0"),b=n("233e"),y=n("b592");function h(e){return h="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t,n){return t&&g(e.prototype,t),n&&g(e,n),e}function _(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}function k(e,t){return k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},k(e,t)}function E(e){var t=A();return function(){var n,r=S(e);if(t){var a=S(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return T(this,n)}}function T(e,t){return!t||"object"!==h(t)&&"function"!==typeof t?x(e):t}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function S(e){return S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},S(e)}var P=Object(f["a"])("notifications"),N=P.mapState,R=P.mapMutations,D=function(e){_(n,e);var t=E(n);function n(){var e;return j(this,n),e=t.apply(this,arguments),e.showInfoOverlay=!1,e}return w(n,[{key:"navigateBack",value:function(){this.onBackClicked()}},{key:"notificationPanel",value:function(){this.notificationsViewed(),this.navigateToNotifications(),this.showInfoOverlay=!1}},{key:"accountMenu",value:function(){this.navigateToAccount(),this.showInfoOverlay=!1}},{key:"isDisclaimerRoute",get:function(){return this.$route.name===p["a"].DISCLAIMER}},{key:"showTitleOnly",get:function(){return this.isDisclaimerRoute||!this.isConnected}}]),n}(Object(c["c"])(s["a"]));D=Object(i["a"])([Object(c["a"])({components:{InfoOverlay:d["a"],HeaderContent:y["a"],HeaderIdenticon:b["a"]},computed:v(v({},Object(f["c"])(["isConnected"])),N(["newNotifications"])),methods:v({},R(["notificationsViewed"]))})],D);var I=D,C=I,U=(n("1273"),n("a6c2")),L=n("411c"),M=n.n(L),B=n("4675"),F=n("9c46"),W=n("1331"),V=Object(U["a"])(C,u,l,!1,null,"50b80487",null),$=V.exports;M()(V,{VBadge:B["a"],VBtn:F["a"],VImg:W["a"]});var H=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.offline?n("span",[n("blurred-overlay",{attrs:{show:e.offline,fullscreen:!0}}),n("v-snackbar",{attrs:{timeout:-1,color:"error"},model:{value:e.offline,callback:function(t){e.offline=t},expression:"offline"}},[e._v(" "+e._s(e.$t("general.offline"))+" "),n("v-icon",[e._v("mdi-alert")])],1)],1):e._e()},q=[],K=n("0a08");function G(e){return G="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G(e)}function X(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Q(e,t,n){return t&&Y(e.prototype,t),n&&Y(e,n),e}function z(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Z(e,t)}function Z(e,t){return Z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Z(e,t)}function J(e){var t=ne();return function(){var n,r=re(e);if(t){var a=re(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ee(this,n)}}function ee(e,t){return!t||"object"!==G(t)&&"function"!==typeof t?te(e):t}function te(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ne(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function re(e){return re=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},re(e)}var ae=function(e){z(n,e);var t=J(n);function n(){var e;return X(this,n),e=t.apply(this,arguments),e.offline=!1,e}return Q(n,[{key:"handleOnline",value:function(){this.offline=!1}},{key:"handleOffline",value:function(){this.offline=!0}},{key:"mounted",value:function(){this.offline=!navigator.onLine,window.addEventListener("offline",this.handleOffline),window.addEventListener("online",this.handleOnline)}},{key:"beforeDestroy",value:function(){window.removeEventListener("offline",this.handleOffline),window.removeEventListener("online",this.handleOnline)}}]),n}(c["e"]);ae=Object(i["a"])([Object(c["a"])({components:{BlurredOverlay:K["a"]}})],ae);var oe=ae,ie=oe,ce=n("b503"),se=n("5dee"),ue=Object(U["a"])(ie,H,q,!1,null,null,null),le=ue.exports;M()(ue,{VIcon:ce["a"],VSnackbar:se["a"]});var fe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.visible?n("span",[n("blurred-overlay",{attrs:{show:e.blocking,fullscreen:!0}}),n("v-snackbar",{staticClass:"update-snackbar",attrs:{timeout:-1,color:"primary"},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[n("v-container",{staticClass:"d-flex align-center py-0"},[n("div",{staticClass:"update-snackbar__message"},[e._v(e._s(e.message))]),n("v-btn",{staticClass:"ml-5",attrs:{dark:"",text:"",loading:e.isUpdating},on:{click:e.update}},[e._v(" "+e._s(e.$t("update.update"))+" ")])],1)],1)],1):e._e()},pe=[],de=n("36d8"),be=n.n(de);function ye(e){return ye="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ye(e)}function he(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?he(Object(n),!0).forEach((function(t){ve(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):he(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ve(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oe(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function je(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Oe(o,r,a,i,c,"next",e)}function c(e){Oe(o,r,a,i,c,"throw",e)}i(void 0)}))}}function ge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function we(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _e(e,t,n){return t&&we(e.prototype,t),n&&we(e,n),e}function ke(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ee(e,t)}function Ee(e,t){return Ee=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ee(e,t)}function Te(e){var t=Se();return function(){var n,r=Pe(e);if(t){var a=Pe(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return xe(this,n)}}function xe(e,t){return!t||"object"!==ye(t)&&"function"!==typeof t?Ae(e):t}function Ae(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Se(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Pe(e){return Pe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Pe(e)}var Ne=function(e){ke(n,e);var t=Te(n);function n(){var e;return ge(this,n),e=t.apply(this,arguments),e.isUpdating=!1,e}return _e(n,[{key:"update",value:function(){var e=je(be.a.mark((function e(){return be.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.isUpdating=!0,!this.isConnected){e.next=4;break}return e.next=4,this.$raiden.disconnect();case 4:this.$serviceWorkerAssistant.update();case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"visible",get:function(){return this.versionUpdateAvailable||this.versionInfo.updateIsMandatory}},{key:"blocking",get:function(){return this.versionInfo.updateIsMandatory}},{key:"message",get:function(){if(this.visible){var e=this.versionInfo.updateIsMandatory?"mandatory":"optional";return this.$t("update.".concat(e))}return""}}]),n}(c["e"]);Ne=Object(i["a"])([Object(c["a"])({components:{BlurredOverlay:K["a"]},computed:me(me({},Object(f["e"])(["versionInfo"])),Object(f["c"])(["isConnected","versionUpdateAvailable"]))})],Ne);var Re=Ne,De=Re,Ie=(n("3a66"),n("f56c")),Ce=Object(U["a"])(De,fe,pe,!1,null,"f68aefe0",null),Ue=Ce.exports;M()(Ce,{VBtn:F["a"],VContainer:Ie["a"],VSnackbar:se["a"]});var Le=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.show?n("transition",{attrs:{name:"delay"}},[n("v-snackbar",{staticClass:"receiving-ongoing-snackbar",attrs:{timeout:"-1",color:"primary"},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[n("span",{staticClass:"receiving-ongoing-snackbar__warning"},[e._v(" "+e._s(e.$t("transfer.receiving-transfer-snackbar"))+" ")])])],1):e._e()},Me=[];function Be(e){return Be="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Be(e)}function Fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function We(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fe(Object(n),!0).forEach((function(t){Ve(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ve(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function He(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qe(e,t,n){return t&&He(e.prototype,t),n&&He(e,n),e}function Ke(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ge(e,t)}function Ge(e,t){return Ge=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ge(e,t)}function Xe(e){var t=ze();return function(){var n,r=Ze(e);if(t){var a=Ze(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Ye(this,n)}}function Ye(e,t){return!t||"object"!==Be(t)&&"function"!==typeof t?Qe(e):t}function Qe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ze(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Ze(e){return Ze=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ze(e)}var Je=function(e){Ke(n,e);var t=Xe(n);function n(){return $e(this,n),t.apply(this,arguments)}return qe(n,[{key:"pendingReceivedTransfers",get:function(){return Object.values(this.pendingTransfers).filter((function(e){return"received"===e.direction}))}},{key:"show",get:function(){return Object.keys(this.pendingReceivedTransfers).length>0}}]),n}(c["e"]);Je=Object(i["a"])([Object(c["a"])({computed:We({},Object(f["c"])(["pendingTransfers"]))})],Je);var et=Je,tt=et,nt=(n("9445"),Object(U["a"])(tt,Le,Me,!1,null,"ffd47b3e",null)),rt=nt.exports;M()(nt,{VSnackbar:se["a"]});var at=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.notification.display?r("v-snackbar",{staticClass:"notification-snackbar",attrs:{timeout:e.notification.duration,app:"",rounded:"","max-width":"550px",color:"primary"},on:{input:function(t){return e.setNotificationShown(e.notification.id)}},scopedSlots:e._u([{key:"action",fn:function(t){var n=t.attrs;return[r("v-btn",e._b({attrs:{icon:"",left:""},on:{click:function(t){return e.dismiss()}}},"v-btn",n,!1),[r("v-icon",[e._v("mdi-close")])],1)]}}],null,!1,1830794017),model:{value:e.notification.display,callback:function(t){e.$set(e.notification,"display",t)},expression:"notification.display"}},[r("v-row",{staticClass:"notification-snackbar__area",attrs:{"no-gutters":""},on:{click:e.open}},[r("v-col",{attrs:{cols:"2"}},[r("img",{attrs:{src:n("4cd4")}})]),r("v-col",{staticClass:"notification-snackbar__area__title"},[r("span",[e._v(" "+e._s(e.notification.title)+" ")])])],1)],1):e._e()},ot=[],it=n("6485"),ct=n("d8a5");function st(e){return st="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},st(e)}function ut(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ut(Object(n),!0).forEach((function(t){ft(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ut(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ft(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bt(e,t,n){return t&&dt(e.prototype,t),n&&dt(e,n),e}function yt(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ht(e,t)}function ht(e,t){return ht=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ht(e,t)}function mt(e){var t=jt();return function(){var n,r=gt(e);if(t){var a=gt(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return vt(this,n)}}function vt(e,t){return!t||"object"!==st(t)&&"function"!==typeof t?Ot(e):t}function Ot(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function gt(e){return gt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},gt(e)}var wt={id:-1,title:"",description:"",icon:"",display:!1,duration:5e3,importance:it["a"].LOW,context:ct["a"].NONE,received:new Date},_t=function(e){yt(n,e);var t=mt(n);function n(){var e;return pt(this,n),e=t.apply(this,arguments),e.notification=wt,e}return bt(n,[{key:"onQueueChange",value:function(){var e=this;if(!this.notification.display&&this.notificationQueue.length>0){var t=this.notificationQueue.shift();if(!t)return;this.$nextTick((function(){return e.notification=t}))}}},{key:"created",value:function(){this.notification=wt}},{key:"dismiss",value:function(){this.setNotificationShown(this.notification.id),this.notification=lt(lt({},this.notification),{},{display:!1})}},{key:"open",value:function(){this.navigateToNotifications(),this.dismiss()}}]),n}(Object(c["c"])(s["a"]));Object(i["a"])([Object(c["f"])("notificationQueue",{immediate:!0,deep:!0})],_t.prototype,"onQueueChange",null),_t=Object(i["a"])([Object(c["a"])({computed:lt({},Object(f["c"])("notifications",["notificationQueue"])),methods:lt({},Object(f["d"])("notifications",["setNotificationShown"]))})],_t);var kt=_t,Et=kt,Tt=(n("7460"),n("1fb1")),xt=n("e614"),At=Object(U["a"])(Et,at,ot,!1,null,"2834a27b",null),St=At.exports;M()(At,{VBtn:F["a"],VCol:Tt["a"],VIcon:ce["a"],VRow:xt["a"],VSnackbar:se["a"]});var Pt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.visible?n("v-banner",{staticClass:"install-banner",attrs:{color:"#1e1e1e","two-line":""},scopedSlots:e._u([{key:"actions",fn:function(t){var r=t.dismiss;return[n("v-btn",{staticClass:"install-banner__install-button",attrs:{dark:"",text:"",outlined:""},on:{click:e.install}},[e._v(" "+e._s(e.$t("install-banner.install"))+" ")]),n("v-btn",{staticClass:"install-banner__dismiss-button",attrs:{dark:"",text:"",outlined:""},on:{click:r}},[e._v(" "+e._s(e.$t("install-banner.dismiss"))+" ")])]}}],null,!1,3359785919)},[e.$vuetify.breakpoint.mobile?[e._v(" "+e._s(e.$t("install-banner.message-mobile"))+" ")]:[e._v(" "+e._s(e.$t("install-banner.message-desktop"))+" ")]],2):e._e()},Nt=[];function Rt(e){return Rt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rt(e)}function Dt(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function It(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Dt(o,r,a,i,c,"next",e)}function c(e){Dt(o,r,a,i,c,"throw",e)}i(void 0)}))}}function Ct(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ut(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Lt(e,t,n){return t&&Ut(e.prototype,t),n&&Ut(e,n),e}function Mt(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Bt(e,t)}function Bt(e,t){return Bt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Bt(e,t)}function Ft(e){var t=$t();return function(){var n,r=Ht(e);if(t){var a=Ht(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Wt(this,n)}}function Wt(e,t){return!t||"object"!==Rt(t)&&"function"!==typeof t?Vt(e):t}function Vt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Ht(e){return Ht=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ht(e)}var qt=function(e){Mt(n,e);var t=Ft(n);function n(){var e;return Ct(this,n),e=t.apply(this,arguments),e.visible=!1,e.installEvent=void 0,e}return Lt(n,[{key:"created",value:function(){window.addEventListener("beforeinstallprompt",this.onBeforeInstallPrompt)}},{key:"onBeforeInstallPrompt",value:function(e){e.preventDefault(),this.installEvent=e,this.visible=!0}},{key:"install",value:function(){var e=It(be.a.mark((function e(){return be.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.installEvent){e.next=2;break}return e.abrupt("return");case 2:return this.visible=!1,e.next=5,this.installEvent.prompt();case 5:this.installEvent=void 0;case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),n}(c["e"]);qt=Object(i["a"])([c["a"]],qt);var Kt=qt,Gt=Kt,Xt=n("1a6b"),Yt=Object(U["a"])(Gt,Pt,Nt,!1,null,null,null),Qt=Yt.exports;function zt(e){return zt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zt(e)}function Zt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function en(e,t,n){return t&&Jt(e.prototype,t),n&&Jt(e,n),e}function tn(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nn(e,t)}function nn(e,t){return nn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},nn(e,t)}function rn(e){var t=cn();return function(){var n,r=sn(e);if(t){var a=sn(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return an(this,n)}}function an(e,t){return!t||"object"!==zt(t)&&"function"!==typeof t?on(e):t}function on(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cn(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function sn(e){return sn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},sn(e)}M()(Yt,{VBanner:Xt["a"],VBtn:F["a"]});var un=function(e){tn(n,e);var t=rn(n);function n(){return Zt(this,n),t.apply(this,arguments)}return en(n,[{key:"destroyed",value:function(){this.$raiden.disconnect()}},{key:"imprint",get:function(){return"https://raiden.network/privacy.html"}}]),n}(Object(c["c"])(s["a"]));un=Object(i["a"])([Object(c["a"])({components:{AppHeader:$,OfflineSnackbar:le,UpdateSnackbar:Ue,NotificationSnackbar:St,ReceivingOngoingSnackbar:rt,InstallBanner:Qt}})],un);var ln=un,fn=ln,pn=(n("a752"),n("072b")),dn=n("e8f8"),bn=Object(U["a"])(fn,a,o,!1,null,"6444dfde",null),yn=bn.exports;M()(bn,{VApp:pn["a"],VContainer:Ie["a"],VMain:dn["a"]});var hn=n("d74d");hn["b"].registerHooks(["beforeRouteEnter","beforeRouteLeave","beforeRouteUpdate"]);n("0f75");var mn=n("4af9");function vn(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=On(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function On(e,t){if(e){if("string"===typeof e)return jn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jn(e,t):void 0}}function jn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gn(e,t,n){var r,a=vn(this.children);try{for(a.s();!(r=a.n()).done;){var o=r.value,i=o(e);if(null===i)return void n();if(void 0!==i)return void n(i)}}catch(c){a.e(c)}finally{a.f()}n({})}var wn=n("fbac"),_n=n("c38e"),kn=n.n(_n),En=n("0cb2"),Tn=n.n(En),xn=n("79e0"),An=n.n(xn),Sn=n("e6ee"),Pn=n.n(Sn),Nn=n("6298"),Rn=n.n(Nn),Dn=n("fe07"),In=n.n(Dn),Cn=n("605b"),Un=n.n(Cn),Ln=n("c217"),Mn=n.n(Ln),Bn=n("87a2"),Fn=n("f455");function Wn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wn(Object(n),!0).forEach((function(t){$n(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hn(e){return Xn(e)||Gn(e)||Kn(e)||qn()}function qn(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Kn(e,t){if(e){if("string"===typeof e)return Yn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Yn(e,t):void 0}}function Gn(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function Xn(e){if(Array.isArray(e))return Yn(e)}function Yn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Qn(e){var t=Object.values(e).map((function(e){return e.id}));return Math.max.apply(Math,Hn(t).concat([0]))+1}var zn={notificationDelete:function(e,t){var n=Vn({},e.notifications);delete n[t],e.notifications=n},notificationsViewed:function(e){e.newNotifications=!1},notificationAddOrReplace:function(e,t){var n,r,a,o,i,c,s=e.notifications,u=Object.values(s).filter((function(e){var n=e.txHash;return n&&n===t.txHash})),l=null!==(n=null===(r=u[0])||void 0===r?void 0:r.id)&&void 0!==n?n:Qn(s),f=null===(a=u[0])||void 0===a||!a.id,p=Vn(Vn({},t),{},{id:l,received:new Date,display:f,context:null!==(o=t.context)&&void 0!==o?o:ct["a"].NONE,importance:null!==(i=t.importance)&&void 0!==i?i:it["a"].LOW,duration:null!==(c=t.duration)&&void 0!==c?c:5e3});e.notifications=Vn(Vn({},s),{},$n({},p.id,p)),e.newNotifications=!0},setNotificationShown:function(e,t){e.notifications[t].display=!1},clear:function(e){e.notifications=[]}};function Zn(e){return nr(e)||tr(e)||er(e)||Jn()}function Jn(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function er(e,t){if(e){if("string"===typeof e)return rr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rr(e,t):void 0}}function tr(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function nr(e){if(Array.isArray(e))return rr(e)}function rr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ar,or={notifications:function(e){return Object.values(e.notifications).sort((function(e,t){return t.id-e.id}))},nextNotificationId:function(e){var t=e.notifications,n=Object.values(t).map((function(e){return e.id}));return Math.max.apply(Math,Zn(n).concat([0]))+1},notificationQueue:function(e){return Object.values(e.notifications).filter((function(e){return e.importance===it["a"].HIGH&&!0===e.display}))}},ir=function(){return{notifications:{},newNotifications:!1}},cr=ir(),sr=cr,ur={namespaced:!0,mutations:zn,state:sr,getters:or},lr={setTokenAddress:function(e,t){e.tokenAddress=t},setToken:function(e,t){e.token=t},setPlannedWithdrawal:function(e,t){e.plannedWithdrawal=t},clearPlannedWithdrawal:function(e){e.plannedWithdrawal=void 0}},fr=function(){return{tokenAddress:"",token:void 0,plannedWithdrawal:void 0}},pr=fr(),dr=pr,br={namespaced:!0,mutations:lr,state:dr};function yr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yr(Object(n),!0).forEach((function(t){mr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vr(e,t){return _r(e)||wr(e,t)||jr(e,t)||Or()}function Or(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function jr(e,t){if(e){if("string"===typeof e)return gr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gr(e,t):void 0}}function gr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wr(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)if(n.push(i.value),t&&n.length===t)break}catch(s){a=!0,o=s}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return n}}function _r(e){if(Array.isArray(e))return e}r["a"].use(f["b"]);var kr={loading:!0,blockNumber:0,defaultAccount:"",accountBalance:"0.0",raidenAccountBalance:"",providerDetected:!0,accessDenied:Bn["a"].UNDEFINED,channels:{},tokens:{},transfers:{},presences:{},network:Bn["b"],stateBackup:"",settings:{isFirstTimeConnect:!0,useRaidenAccount:!0},config:{},disclaimerAccepted:!1,stateBackupReminderDateMs:0,persistDisclaimerAcceptance:!1,versionInfo:{activeVersion:null!==(ar="0.15.0")&&void 0!==ar?ar:"0.0.0",availableVersion:void 0,updateIsMandatory:!1}};function Er(){return Pn()(kr)}var Tr=function(e,t){return e.balance&&t.balance&&(!e.balance.isZero()||!t.balance.isZero())},xr=new wn["a"]({reducer:function(e){return{settings:e.settings}},filter:function(e){return"updateSettings"==e.type},key:"raiden_dapp_settings"}),Ar=new wn["a"]({reducer:function(e){return{disclaimerAccepted:!!e.persistDisclaimerAcceptance&&e.disclaimerAccepted}},filter:function(e){return"acceptDisclaimer"===e.type},key:"disclaimer"}),Sr=new wn["a"]({reducer:function(e){return{stateBackupReminderDateMs:e.stateBackupReminderDateMs}},filter:function(e){return"updateStateBackupReminderDate"===e.type},key:"backupReminder"}),Pr={state:Er(),mutations:{noProvider:function(e){e.providerDetected=!1},accessDenied:function(e,t){e.accessDenied=t},account:function(e,t){e.defaultAccount=t},loadComplete:function(e){e.loading=!1},updateBlock:function(e,t){e.blockNumber=t},balance:function(e,t){e.accountBalance=t},raidenAccountBalance:function(e,t){e.raidenAccountBalance=t},updateChannels:function(e,t){e.channels=t},updateTokens:function(e,t){for(var n=0,r=Object.entries(t);n<r.length;n++){var a=vr(r[n],2),o=a[0],i=a[1];o in e.tokens&&In()(i,e.tokens[o])||(o in e.tokens?e.tokens[o]=hr(hr({},e.tokens[o]),i):e.tokens=hr(hr({},e.tokens),{},mr({},o,i)))}},updatePresence:function(e,t){e.presences=hr(hr({},e.presences),t)},network:function(e,t){e.network=t},reset:function(e){var t=e.settings,n=e.disclaimerAccepted,r=e.stateBackup,a=e.stateBackupReminderDateMs;Object.assign(e,hr(hr({},Er()),{},{settings:t,disclaimerAccepted:n,stateBackup:r,stateBackupReminderDateMs:a}))},updateTransfers:function(e,t){e.transfers=hr(hr({},e.transfers),{},mr({},t.key,t))},backupState:function(e,t){e.stateBackup=t},updateSettings:function(e,t){e.settings=t},updateConfig:function(e,t){e.config=t},acceptDisclaimer:function(e,t){e.disclaimerAccepted=!0,e.persistDisclaimerAcceptance=t},updateStateBackupReminderDate:function(e,t){e.stateBackupReminderDateMs=t},setAvailableVersion:function(e,t){Mn.a.validate(t)&&(e.versionInfo=hr(hr({},e.versionInfo),{},{availableVersion:t}))},setUpdateIsMandatory:function(e){e.versionInfo=hr(hr({},e.versionInfo),{},{updateIsMandatory:!0})}},actions:{},getters:{tokens:function(e){var t=function(e,t){return e.address=t.token,e[t.state]+=1,e};return kn()(An()(Tn()(e.channels),(function(e){return!Un()(e)})),(function(n){var r=Rn()(n,t,Object(Bn["d"])()),a=e.tokens[r.address];return a&&(r.name=a.name||"",r.symbol=a.symbol||""),r}))},allTokens:function(e){return Object.values(e.tokens).sort((function(e,t){return Tr(e,t)?t.balance.gt(e.balance)?1:-1:e.symbol&&t.symbol?e.symbol.localeCompare(t.symbol):0}))},channels:function(e){return function(t){var n=[],r=e.channels[t];return r&&!Un()(r)&&(n=Tn()(r)),n}},openChannels:function(e){return Object.keys(e.channels).length>0},token:function(e){return function(t){return t in e.tokens?e.tokens[t]:null}},network:function(e){return Object(Fn["g"])(e.network)},mainnet:function(e){return 1===e.network.chainId},channelWithBiggestCapacity:function(e,t){return function(e){var n=t.channels(e),r=n.filter((function(e){return e.state===Fn["b"].open})),a=r.sort((function(e,t){var n=e.capacity.sub(t.capacity);return n.lt(0)?1:n.gt(0)?-1:0}));return a[0]}},pendingTransfers:function(e){var t=e.transfers;return Object.keys(t).filter((function(e){var n=t[e].completed;return!n})).reduce((function(e,n){return e[n]=t[n],e}),{})},transfer:function(e){return function(t){return Object.values(e.transfers).find((function(e){return e.paymentId.eq(t)}))}},isConnected:function(e){return!e.loading&&!(!e.defaultAccount||""===e.defaultAccount)},usingRaidenAccount:function(e){return!!e.settings.useRaidenAccount},versionUpdateAvailable:function(e){var t=e.versionInfo,n=t.activeVersion,r=t.availableVersion;return!!n&&!!r&&Mn.a.compare(r,n,">")}},plugins:[xr.plugin,Ar.plugin,Sr.plugin],modules:{notifications:ur,userDepositContract:br}},Nr=new f["b"].Store(Pr);function Rr(e){var t=Nr.state.disclaimerAccepted,n=e.name===p["a"].DISCLAIMER;return t||n?!t&&n?null:t&&n?{name:p["a"].HOME}:void 0:{name:p["a"].DISCLAIMER,query:{redirectTo:e.fullPath}}}var Dr=[p["a"].ACCOUNT_ROOT,p["a"].ACCOUNT_BACKUP,p["a"].ACCOUNT_RAIDEN,p["a"].ACCOUNT_SETTINGS,p["a"].ACCOUNT_WITHDRAWAL,p["a"].ACCOUNT_UDC];function Ir(e){var t,n=Nr.getters.isConnected,r=Dr.includes(null!==(t=e.name)&&void 0!==t?t:""),a=e.name===p["a"].HOME;if(!r)return n||a?!n&&a?null:n&&a?{name:p["a"].TRANSFER}:void 0:{name:p["a"].HOME,query:{redirectTo:e.fullPath}}}function Cr(e,t,r){null===t.name?r({name:p["a"].HOME}):e.matched.length&&(e.matched[0].components.default=t.matched[0].components.default,e.matched[0].components.notifications=function(){return n.e("chunk-5926bc0a").then(n.bind(null,"c284"))}),r()}function Ur(e,t,r){null===t.name?r({name:p["a"].HOME}):e.matched.length&&(e.matched[0].components.default=t.matched[0].components.default,e.matched[0].components.modal=function(){return n.e("chunk-35d595fe").then(n.bind(null,"47f5"))}),r()}var Lr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"disclaimer",attrs:{"data-cy":"disclaimer"}},[n("div",{staticClass:"disclaimer__content"},[n("div",{staticClass:"disclaimer__content__paragraphs font-weight-light"},e._l(e.$t("disclaimer.paragraphs"),(function(t,r){return n("p",{key:r},[e._v(" "+e._s(t)+" ")])})),0),n("v-checkbox",{staticClass:"disclaimer__content__accept-checkbox",attrs:{"data-cy":"disclaimer_accept_checkbox",label:e.$t("disclaimer.accept-checkbox"),dense:"","hide-details":""},model:{value:e.checkedAccept,callback:function(t){e.checkedAccept=t},expression:"checkedAccept"}}),n("v-checkbox",{staticClass:"disclaimer__content__persist-checkbox",attrs:{"data-cy":"disclaimer_persist_checkbox",label:e.$t("disclaimer.persist-checkbox"),dense:"","hide-details":""},model:{value:e.checkedPersist,callback:function(t){e.checkedPersist=t},expression:"checkedPersist"}})],1),n("action-button",{staticClass:"disclaimer__accept-button",attrs:{text:e.$t("disclaimer.accept-button"),"data-cy":"disclaimer_accept_button",enabled:e.checkedAccept,sticky:""},on:{click:e.accept}})],1)},Mr=[],Br=n("750b");function Fr(e){return Fr="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fr(e)}function Wr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $r(e,t,n){return t&&Vr(e.prototype,t),n&&Vr(e,n),e}function Hr(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qr(e,t)}function qr(e,t){return qr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},qr(e,t)}function Kr(e){var t=Yr();return function(){var n,r=Qr(e);if(t){var a=Qr(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Gr(this,n)}}function Gr(e,t){return!t||"object"!==Fr(t)&&"function"!==typeof t?Xr(e):t}function Xr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yr(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Qr(e){return Qr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Qr(e)}var zr=function(e){Hr(n,e);var t=Kr(n);function n(){var e;return Wr(this,n),e=t.apply(this,arguments),e.checkedAccept=!1,e.checkedPersist=!1,e}return $r(n,[{key:"accept",value:function(){this.$store.commit("acceptDisclaimer",this.checkedPersist),this.$router.push(this.navigationTarget)}},{key:"navigationTarget",get:function(){var e=this.$route.query.redirectTo;return e?{path:e}:{name:p["a"].HOME}}}]),n}(c["e"]);zr=Object(i["a"])([Object(c["a"])({components:{ActionButton:Br["a"]}})],zr);var Zr=zr,Jr=Zr,ea=(n("0bd4"),n("0591")),ta=Object(U["a"])(Jr,Lr,Mr,!1,null,"43f6293e",null),na=ta.exports;M()(ta,{VCheckbox:ea["a"]});var ra=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{staticClass:"home",attrs:{fluid:"","data-cy":"home"}},[r("v-row",{attrs:{"no-gutters":""}},[r("v-col",{attrs:{cols:"12"}},[r("div",{staticClass:"home__logo-container"},[r("v-img",{staticClass:"home__logo-container__logo",attrs:{src:n("9b19"),"aspect-ratio":"1",contain:""}})],1)])],1),r("v-row",{attrs:{"no-gutters":""}},[r("v-col",{attrs:{cols:"12"}},[r("div",{staticClass:"home__app-welcome text-center"},[e._v(" "+e._s(e.$t("home.welcome"))+" ")])])],1),r("v-row",{attrs:{"no-gutters":""}},[r("v-col",{attrs:{cols:"12"}},[r("div",{staticClass:"home__disclaimer text-center font-weight-light"},[e._v(" "+e._s(e.$t("home.disclaimer"))+" ")]),r("i18n",{staticClass:"home__getting-started text-center font-weight-light",attrs:{path:"home.getting-started.description",tag:"div"}},[r("a",{attrs:{href:"https://github.com/raiden-network/light-client#getting-started",target:"_blank"}},[e._v(" "+e._s(e.$t("home.getting-started.link-name"))+" ")])]),e.accessDenied?r("no-access-message",{staticClass:"home__no-access",attrs:{reason:e.accessDenied}}):e._e()],1)],1),r("action-button",{staticClass:"home__connect-button",attrs:{"data-cy":"home_connect_button",text:e.$t("home.connect-button"),loading:e.connecting,syncing:"",enabled:!e.connecting,sticky:""},on:{click:e.connect}}),r("connect-dialog",{attrs:{connecting:e.connecting,visible:e.connectDialog,"has-provider":e.hasProvider},on:{connect:e.connect,close:function(t){e.connectDialog=!1}}})],1)},aa=[],oa=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("raiden-dialog",{staticClass:"connect",attrs:{visible:e.visible,"hide-close":e.hideClose},on:{close:e.close}},[n("v-card-title",[e._v(" "+e._s(e.$t("home.connect-dialog.title"))+" ")]),e.hasProvider?n("div",[n("div",{staticClass:"connect__button",attrs:{"data-cy":"connect_button"}},[n("action-button",{attrs:{text:e.$t("home.connect-dialog.raiden-account"),enabled:!e.connecting,loading:e.connecting},on:{click:function(t){return e.connect()}}})],1),n("p",{staticClass:"text-center connect__description"},[e._v(" "+e._s(e.$t("home.connect-dialog.description-raiden-account"))+" ")]),n("p",{staticClass:"text-center connect__description"},[e._v(" "+e._s(e.$t("home.connect-dialog.description-web3-account"))+" ")])]):e._e(),e.accessDenied?n("no-access-message",{attrs:{reason:e.accessDenied}}):e._e(),e.hasProvider?e._e():n("v-card-text",[n("div",{staticClass:"text-center"},[e._v(" "+e._s(e.$t("home.connect-dialog.no-provider"))+" ")])])],1)},ia=[],ca=n("66bc"),sa=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-alert",{staticClass:"no-access-message",attrs:{value:!0,color:"error",icon:"warning"}},[n("div",{staticClass:"font-weight-light no-access-message__message"},[e.networkUnsupported?n("span",[e._v(" "+e._s(e.$t("no-access.unsupported-network"))+" ")]):e._e(),e.initializationFailed?n("span",[e._v(" "+e._s(e.$t("no-access.sdk-initialization-failure"))+" ")]):e._e(),e.rdnStateMigration?n("span",[e._v(" "+e._s(e.$t("no-access.rdn-state-migration"))+" ")]):n("span",[e._v(e._s(e.$t("no-access.generic-error")))])])])},ua=[];function la(e){return la="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},la(e)}function fa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function da(e,t,n){return t&&pa(e.prototype,t),n&&pa(e,n),e}function ba(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ya(e,t)}function ya(e,t){return ya=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ya(e,t)}function ha(e){var t=Oa();return function(){var n,r=ja(e);if(t){var a=ja(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ma(this,n)}}function ma(e,t){return!t||"object"!==la(t)&&"function"!==typeof t?va(e):t}function va(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Oa(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function ja(e){return ja=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ja(e)}var ga=function(e){ba(n,e);var t=ha(n);function n(){return fa(this,n),t.apply(this,arguments)}return da(n,[{key:"networkUnsupported",get:function(){return this.reason===Bn["a"].UNSUPPORTED_NETWORK}},{key:"initializationFailed",get:function(){return this.reason===Bn["a"].INITIALIZATION_FAILED}},{key:"rdnStateMigration",get:function(){return this.reason===Bn["a"].RDN_STATE_MIGRATION}}]),n}(c["e"]);Object(i["a"])([Object(c["d"])({required:!0})],ga.prototype,"reason",void 0),ga=Object(i["a"])([Object(c["a"])({})],ga);var wa=ga,_a=wa,ka=(n("753f"),n("36c4")),Ea=Object(U["a"])(_a,sa,ua,!1,null,"7b92b083",null),Ta=Ea.exports;function xa(e){return xa="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xa(e)}function Aa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Sa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Aa(Object(n),!0).forEach((function(t){Pa(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Aa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Na(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ra(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Da(e,t,n){return t&&Ra(e.prototype,t),n&&Ra(e,n),e}function Ia(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ca(e,t)}function Ca(e,t){return Ca=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ca(e,t)}function Ua(e){var t=Ba();return function(){var n,r=Fa(e);if(t){var a=Fa(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return La(this,n)}}function La(e,t){return!t||"object"!==xa(t)&&"function"!==typeof t?Ma(e):t}function Ma(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ba(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Fa(e){return Fa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Fa(e)}M()(Ea,{VAlert:ka["a"]});var Wa=function(e){Ia(n,e);var t=Ua(n);function n(){var e;return Na(this,n),e=t.apply(this,arguments),e.hideClose=!1,e}return Da(n,[{key:"close",value:function(){return!0}},{key:"connect",value:function(){this.$store.commit("updateSettings",Sa(Sa({},this.$store.state.settings),{},{isFirstTimeConnect:!1}))}}]),n}(c["e"]);Object(i["a"])([Object(c["d"])({required:!0,type:Boolean,default:!1})],Wa.prototype,"visible",void 0),Object(i["a"])([Object(c["d"])({default:!1,required:!0,type:Boolean})],Wa.prototype,"connecting",void 0),Object(i["a"])([Object(c["d"])({required:!0})],Wa.prototype,"hasProvider",void 0),Object(i["a"])([Object(c["b"])()],Wa.prototype,"close",null),Object(i["a"])([Object(c["b"])()],Wa.prototype,"connect",null),Wa=Object(i["a"])([Object(c["a"])({components:{RaidenDialog:ca["a"],ActionButton:Br["a"],NoAccessMessage:Ta},computed:Object(f["e"])(["accessDenied"])})],Wa);var Va=Wa,$a=Va,Ha=(n("5c73"),n("e47e")),qa=Object(U["a"])($a,oa,ia,!1,null,"89daaee2",null),Ka=qa.exports;function Ga(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function Xa(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Ga(o,r,a,i,c,"next",e)}function c(e){Ga(o,r,a,i,c,"throw",e)}i(void 0)}))}}function Ya(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function za(e,t,n){return t&&Qa(e.prototype,t),n&&Qa(e,n),e}M()(qa,{VCardText:Ha["b"],VCardTitle:Ha["c"]});var Za=function(){function e(){Ya(this,e)}return za(e,null,[{key:"provider",value:function(){var e=Xa(be.a.mark((function e(t){var n;return be.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=null,!t){e.next=5;break}n=t.startsWith("http")?t:"https://".concat(t),e.next=13;break;case 5:if("undefined"===typeof window.ethereum){e.next=12;break}return window.ethereum.autoRefreshOnNetworkChange=!1,e.next=9,window.ethereum.request({method:"eth_requestAccounts"});case 9:n=window.ethereum,e.next=13;break;case 12:window.web3&&(n=window.web3.currentProvider);case 13:return n&&n.isMetaMask&&n.on("chainChanged",(function(){return window.location.replace(window.location.origin)})),e.abrupt("return",n);case 15:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}]),e}();function Ja(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function eo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ja(Object(n),!0).forEach((function(t){to(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ja(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function to(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function no(e,t){return co(e)||io(e,t)||ao(e,t)||ro()}function ro(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ao(e,t){if(e){if("string"===typeof e)return oo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oo(e,t):void 0}}function oo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function io(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)if(n.push(i.value),t&&n.length===t)break}catch(s){a=!0,o=s}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return n}}function co(e){if(Array.isArray(e))return e}function so(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function uo(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){so(o,r,a,i,c,"next",e)}function c(e){so(o,r,a,i,c,"throw",e)}i(void 0)}))}}function lo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function po(e,t,n){return t&&fo(e.prototype,t),n&&fo(e,n),e}Za.injectedWeb3Available=function(){return window.ethereum||window.web3};var bo=function(){function e(){lo(this,e)}return po(e,null,[{key:"contracts",value:function(){var e=uo(be.a.mark((function e(){var t,n,r,a,o,i,c,s,u,l,f;return be.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=Object({VUE_APP_PFS:"https://pfs.demo001.env.raiden.network",VUE_APP_MATRIX_SERVER:"https://transport.demo001.env.raiden.network",VUE_APP_HUB:"hub.raiden.eth",VUE_APP_ALLOW_MAINNET:"false",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",BASE_URL:"/"}),n=t.VUE_APP_DEPLOYMENT_INFO,r=t.VUE_APP_DEPLOYMENT_SERVICES_INFO,!n||!r){e.next=15;break}return e.next=4,Promise.all([fetch(n),fetch(r)]);case 4:return a=e.sent,o=no(a,2),i=o[0],c=o[1],e.next=10,Promise.all([i.json(),c.json()]);case 10:return s=e.sent,u=no(s,2),l=u[0],f=u[1],e.abrupt("return",eo(eo({},l.contracts),f.contracts));case 15:return e.abrupt("return",void 0);case 16:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"configuration",value:function(){var e=uo(be.a.mark((function e(){var t,n;return be.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=Object({VUE_APP_PFS:"https://pfs.demo001.env.raiden.network",VUE_APP_MATRIX_SERVER:"https://transport.demo001.env.raiden.network",VUE_APP_HUB:"hub.raiden.eth",VUE_APP_ALLOW_MAINNET:"false",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",BASE_URL:"/"}).VUE_APP_CONFIGURATION_URL||"./config.json",e.next=3,fetch(t);case 3:return n=e.sent,e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()}]),e}();function yo(e){return yo="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yo(e)}function ho(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ho(Object(n),!0).forEach((function(t){vo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ho(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oo(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function jo(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Oo(o,r,a,i,c,"next",e)}function c(e){Oo(o,r,a,i,c,"throw",e)}i(void 0)}))}}function go(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _o(e,t,n){return t&&wo(e.prototype,t),n&&wo(e,n),e}function ko(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Eo(e,t)}function Eo(e,t){return Eo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Eo(e,t)}function To(e){var t=So();return function(){var n,r=Po(e);if(t){var a=Po(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return xo(this,n)}}function xo(e,t){return!t||"object"!==yo(t)&&"function"!==typeof t?Ao(e):t}function Ao(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function So(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Po(e){return Po=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Po(e)}var No=function(e){ko(n,e);var t=To(n);function n(){var e;return go(this,n),e=t.apply(this,arguments),e.connectDialog=!1,e.connecting=!1,e.hasProvider=!1,e}return _o(n,[{key:"created",value:function(){var e=jo(be.a.mark((function e(){var t;return be.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!Za.injectedWeb3Available()){e.next=3;break}return this.hasProvider=!0,e.abrupt("return");case 3:return e.next=5,bo.configuration();case 5:t=e.sent,this.hasProvider=!!t.rpc_endpoint;case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"connect",value:function(){var e=jo(be.a.mark((function e(){var t,n,r,a;return be.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.settings,n=t.useRaidenAccount,r=t.isFirstTimeConnect,!r||!n){e.next=4;break}return this.connectDialog=!0,e.abrupt("return");case 4:return this.connectDialog=!1,this.connecting=!0,a=this.stateBackup,this.$store.commit("reset"),this.$store.commit("accessDenied",Bn["a"].UNDEFINED),e.next=11,this.$raiden.connect(a,!!n||void 0);case 11:this.connecting=!1,this.accessDenied||(this.connectDialog=!1,this.$router.push(this.navigationTarget));case 13:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"navigationTarget",get:function(){var e=this.$route.query.redirectTo;return e?{path:e}:{name:p["a"].TRANSFER}}}]),n}(c["e"]);No=Object(i["a"])([Object(c["a"])({computed:mo(mo({},Object(f["e"])(["loading","accessDenied","stateBackup","settings"])),Object(f["c"])(["isConnected","tokens"])),components:{ActionButton:Br["a"],ConnectDialog:Ka,NoAccessMessage:Ta}})],No);var Ro=No,Do=Ro,Io=(n("932d"),Object(U["a"])(Do,ra,aa,!1,null,"1b317282",null)),Co=Io.exports;M()(Io,{VCol:Tt["a"],VContainer:Ie["a"],VImg:W["a"],VRow:xt["a"]});var Uo=[{path:"/",name:p["a"].DISCLAIMER,meta:{title:"Disclaimer",cannotNavigateBack:!0},component:na},{path:"*",redirect:"/"},{path:"/home",name:p["a"].HOME,meta:{title:"Raiden dApp",cannotNavigateBack:!0},component:Co},{path:"/transfer/:token?",name:p["a"].TRANSFER,meta:{title:"Transfer",cannotNavigateBack:!0,infoOverlay:{headerImage:"transfer_info.svg",header:"info-overlay.transfer.header",body:"info-overlay.transfer.body"}},component:function(){return Promise.all([n.e("chunk-17a6e8db"),n.e("chunk-1b3da3cb"),n.e("chunk-1d947ee2"),n.e("chunk-71037595"),n.e("chunk-037118b4")]).then(n.bind(null,"ded4"))}},{path:"/transfer/:token/:target",name:p["a"].TRANSFER_STEPS,meta:{title:"Transfer",infoOverlay:{headerImage:"transfer_steps_info.svg",header:"info-overlay.transfer-steps.header",body:"info-overlay.transfer-steps.body"}},component:function(){return Promise.all([n.e("chunk-17a6e8db"),n.e("chunk-1b3da3cb"),n.e("chunk-1d947ee2"),n.e("chunk-01c7a70c")]).then(n.bind(null,"146c"))}},{path:"/connect",name:p["a"].SELECT_TOKEN,meta:{title:"Select Token"},component:function(){return Promise.all([n.e("chunk-17a6e8db"),n.e("chunk-df4d93b8")]).then(n.bind(null,"eb67"))}},{path:"/connect/:token",name:p["a"].SELECT_HUB,meta:{title:"Select Hub",infoOverlay:{headerImage:"select_hub_info.svg",header:"info-overlay.select-hub.header",body:"info-overlay.select-hub.body"}},component:function(){return Promise.all([n.e("chunk-1b3da3cb"),n.e("chunk-71037595"),n.e("chunk-e7f7fb88")]).then(n.bind(null,"5876"))}},{path:"/connect/:token/:partner",name:p["a"].OPEN_CHANNEL,meta:{title:"Open Channel",infoOverlay:{headerImage:"open_channel_info.svg",header:"info-overlay.open-channel.header",body:"info-overlay.open-channel.body"}},component:function(){return Promise.all([n.e("chunk-1b3da3cb"),n.e("chunk-1d947ee2"),n.e("chunk-b36a244c")]).then(n.bind(null,"9db2"))}},{path:"/channels/:token",name:p["a"].CHANNELS,meta:{title:"Channels",infoOverlay:{headerImage:"channels_info.svg",header:"info-overlay.channels.header",body:"info-overlay.channels.body"}},component:function(){return Promise.all([n.e("chunk-17a6e8db"),n.e("chunk-1b3da3cb"),n.e("chunk-1d947ee2"),n.e("chunk-2c58ae81")]).then(n.bind(null,"3a90"))}},{path:"/notifications",name:p["a"].NOTIFICATIONS,beforeEnter:Cr},{path:"/account",beforeEnter:Ur,children:[{path:"/",name:p["a"].ACCOUNT_ROOT,meta:{title:"Account"},component:function(){return Promise.all([n.e("chunk-17a6e8db"),n.e("chunk-2bf280f1")]).then(n.bind(null,"f18d"))}},{path:"backup",name:p["a"].ACCOUNT_BACKUP,meta:{title:"Backup State",infoOverlay:{headerImage:"backup_state_info.svg",header:"info-overlay.account-backup.header",body:"info-overlay.account-backup.body"}},component:function(){return Promise.all([n.e("chunk-17a6e8db"),n.e("chunk-0b5eed92")]).then(n.bind(null,"248bd"))}},{path:"raiden",name:p["a"].ACCOUNT_RAIDEN,meta:{title:"Raiden Account",infoOverlay:{headerImage:"transfer_eth_info.svg",header:"info-overlay.account-raiden.header",body:"info-overlay.account-raiden.body"}},component:function(){return Promise.all([n.e("chunk-1b3da3cb"),n.e("chunk-26feb7c8")]).then(n.bind(null,"9114"))}},{path:"settings",name:p["a"].ACCOUNT_SETTINGS,meta:{title:"Settings"},component:function(){return Promise.all([n.e("chunk-17a6e8db"),n.e("chunk-7d2ee13d")]).then(n.bind(null,"5d16"))}},{path:"withdrawal",name:p["a"].ACCOUNT_WITHDRAWAL,meta:{title:"Withdrawal",infoOverlay:{headerImage:"withdraw_tokens_info.svg",header:"info-overlay.account-withdrawal.header",body:"info-overlay.account-withdrawal.body"}},component:function(){return Promise.all([n.e("chunk-17a6e8db"),n.e("chunk-0b901f51")]).then(n.bind(null,"c917"))}},{path:"udc",name:p["a"].ACCOUNT_UDC,meta:{title:"UDC",infoOverlay:{headerImage:"udc_info.svg",header:"info-overlay.account-udc.header",body:"info-overlay.account-udc.body"}},component:function(){return Promise.all([n.e("chunk-1b3da3cb"),n.e("chunk-3ad51e9c")]).then(n.bind(null,"4c07"))}}]}];r["a"].use(mn["a"]);var Lo=new mn["a"]({base:"/",mode:"hash",routes:Uo});Lo.beforeEach(gn.bind({children:[Rr,Ir]}));var Mo=Lo,Bo=n("8aa9");hn["b"].registerHooks(["beforeRouteEnter","beforeRouteLeave","beforeRouteUpdate"]);var Fo=n("2726");function Wo(){var e=n("49f8"),t={};return e.keys().forEach((function(n){var r=n.match(/([A-Za-z0-9-_]+)\./i);if(r&&r.length>1){var a=r[1];t[a]=e(n)}})),t}r["a"].use(Fo["a"]);var Vo=new Fo["a"]({locale:"en",fallbackLocale:"en",messages:Wo()}),$o=n("fbcd"),Ho=n("cefa"),qo=n("58be"),Ko=n("573d"),Go=n.n(Ko),Xo=n("a3d5");function Yo(e){return Yo="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yo(e)}function Qo(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ai(e,t)}function zo(e){var t=ni();return function(){var n,r=oi(e);if(t){var a=oi(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Zo(this,n)}}function Zo(e,t){return!t||"object"!==Yo(t)&&"function"!==typeof t?Jo(e):t}function Jo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ei(e){var t="function"===typeof Map?new Map:void 0;return ei=function(e){if(null===e||!ri(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return ti(e,arguments,oi(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),ai(n,e)},ei(e)}function ti(e,t,n){return ti=ni()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var a=Function.bind.apply(e,r),o=new a;return n&&ai(o,n.prototype),o},ti.apply(null,arguments)}function ni(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function ri(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function ai(e,t){return ai=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ai(e,t)}function oi(e){return oi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},oi(e)}function ii(e,t){return ui(e)||si(e,t)||bi(e,t)||ci()}function ci(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function si(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)if(n.push(i.value),t&&n.length===t)break}catch(s){a=!0,o=s}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return n}}function ui(e){if(Array.isArray(e))return e}function li(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?li(Object(n),!0).forEach((function(t){pi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):li(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function di(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=bi(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function bi(e,t){if(e){if("string"===typeof e)return yi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yi(e,t):void 0}}function yi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function hi(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function mi(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){hi(o,r,a,i,c,"next",e)}function c(e){hi(o,r,a,i,c,"throw",e)}i(void 0)}))}}function vi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Oi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ji(e,t,n){return t&&Oi(e.prototype,t),n&&Oi(e,n),e}function gi(e){return void 0===e?Vo.t("notifications.tx-state-pending"):e?Vo.t("notifications.tx-state-confirmed"):""}var wi=function(){function e(t,n){var r=this;vi(this,e),this._userDepositTokenAddress="",this.disconnect=mi(be.a.mark((function e(){return be.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r.raiden.stop();case 2:case"end":return e.stop()}}),e)}))),this.getAccount=function(){return r.raiden.address},this.getMainAccount=function(){return r.raiden.mainAddress},this._raiden=void 0,this.store=t,this.router=n}return ji(e,[{key:"updateBalances",value:function(){var e=mi(be.a.mark((function e(){return be.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=this.store,e.next=3,this.getBalance();case 3:return e.t1=e.sent,e.t0.commit.call(e.t0,"balance",e.t1),e.t2=this.store,e.next=8,this.getBalance(this.raiden.address);case 8:e.t3=e.sent,e.t2.commit.call(e.t2,"raidenAccountBalance",e.t3);case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"fetchTokenList",value:function(){var e=mi(be.a.mark((function e(){var t,n,r,a,o,i;return be.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.getTokenList();case 2:t=e.sent,n=[],r={},a=di(t);try{for(a.s();!(o=a.n()).done;)i=o.value,n.push(i),r[i]={address:i}}catch(c){a.e(c)}finally{a.f()}return this.store.commit("updateTokens",r),e.next=10,this.fetchAndUpdateTokenData(n);case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"ensResolve",value:function(){var e=mi(be.a.mark((function e(t){return be.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.raiden.resolveName(t);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e["catch"](0),new _i(e.t0);case 9:case"end":return e.stop()}}),e,this,[[0,6]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"connect",value:function(){var t=mi(be.a.mark((function t(n,r){var a,o,i,c,s,u=this;return be.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,bo.configuration();case 3:return o=t.sent,t.next=6,Za.provider(o.rpc_endpoint);case 6:if(i=t.sent,i){t.next=11;break}this.store.commit("noProvider"),t.next=50;break;case 11:if("string"===typeof i||!("networkVersion"in i)||"1"!==i.networkVersion){t.next=13;break}throw new Fn["f"](Fn["c"].RDN_UNRECOGNIZED_NETWORK);case 13:return t.next=15,e.createRaiden(i,null===o||void 0===o?void 0:o.private_key,n,r);case 15:return a=t.sent,this._raiden=a,this._configuration=o,this.usingSubkey=null!==r&&void 0!==r&&r,c=this.getAccount(),this.store.commit("account",c),t.next=23,a.userDepositTokenAddress();case 23:return this._userDepositTokenAddress=t.sent,this.store.commit("userDepositContract/setTokenAddress",this._userDepositTokenAddress),t.next=27,this.monitorPreSetTokens();case 27:return a.events$.pipe(Object(Ho["a"])((function(e){return"block/new"===e.type}))).subscribe((function(e){return u.store.commit("updateBlock",e.payload.blockNumber)})),a.events$.pipe(Object(Ho["a"])((function(e){return"block/new"===e.type})),Object(qo["a"])((function(){return u.updateUserDepositContractToken()}))).subscribe(),a.events$.pipe(Object(Ho["a"])((function(e){return"raiden/shutdown"===e.type}))).subscribe((function(){u.store.commit("reset"),u.router.push({name:p["a"].HOME})})),a.config$.subscribe(function(){var e=mi(be.a.mark((function e(t){var n;return be.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(u.store.commit("updateConfig",t),null!==(n=t.caps)&&void 0!==n&&n[Fn["a"].RECEIVE]){e.next=4;break}return e.next=4,u.notifyNoReceive();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),a.events$.subscribe(function(){var e=mi(be.a.mark((function e(t){var n;return be.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("token/monitored"!==t.type){e.next=5;break}u.store.commit("updateTokens",pi({},t.payload.token,{address:t.payload.token})),u.fetchAndUpdateTokenData([t.payload.token]),e.next=47;break;case 5:if("matrix/presence/success"!==t.type){e.next=9;break}u.store.commit("updatePresence",pi({},t.meta.address,t.payload.available)),e.next=47;break;case 9:if("ms/balanceProof/sent"!==t.type){e.next=16;break}if(t.payload.confirmed){e.next=12;break}return e.abrupt("return");case 12:return e.next=14,u.notifyBalanceProofSend(t.payload.monitoringService,t.payload.partner,t.payload.reward,t.payload.txHash);case 14:e.next=47;break;case 16:if("udc/withdrawn"!==t.type){e.next=23;break}if(t.payload.confirmed){e.next=19;break}return e.abrupt("return");case 19:return e.next=21,u.notifyWithdrawal(t.meta.amount,t.payload.withdrawal);case 21:e.next=47;break;case 23:if("udc/withdraw/failure"!==t.type){e.next=28;break}return e.next=26,u.notifyWithdrawalFailure(null===(n=t.payload)||void 0===n?void 0:n.code,t.meta.amount,t.payload.message);case 26:e.next=47;break;case 28:if("channel/settle/success"!==t.type){e.next=34;break}if(!t.payload.confirmed){e.next=32;break}return e.next=32,u.notifyChannelSettleSuccess(t.meta.partner);case 32:e.next=47;break;case 34:if("channel/settle/failure"!==t.type){e.next=39;break}return e.next=37,u.notifyChannelSettleFailure(t.meta.partner);case 37:e.next=47;break;case 39:if("channel/open/success"!==t.type){e.next=44;break}return e.next=42,u.notifyChannelOpenSuccess(t.payload.txBlock,t.payload.txHash,t.payload.confirmed,t.meta.partner);case 42:e.next=47;break;case 44:if("channel/open/failed"!==t.type){e.next=47;break}return e.next=47,u.notifyChannelOpenFailed(t.payload.message);case 47:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),a.events$.subscribe((function(e){u.updatePlannedUserDepositWithdrawals(e)})),a.channels$.subscribe((function(e){u.store.commit("updateChannels",e)})),a.transfers$.subscribe((function(e){u.store.commit("updateTransfers",e)})),this.store.commit("network",a.network),window.addEventListener("beforeunload",(function(e){return e.preventDefault(),""})),t.next=39,a.start();case 39:return t.t0=this.store,t.next=42,this.getBalance();case 42:if(t.t1=t.sent,t.t0.commit.call(t.t0,"balance",t.t1),!r){t.next=50;break}return t.t2=this.store,t.next=48,this.getBalance(a.address);case 48:t.t3=t.sent,t.t2.commit.call(t.t2,"raidenAccountBalance",t.t3);case 50:t.next=56;break;case 52:t.prev=52,t.t4=t["catch"](0),s=t.t4.message&&t.t4.message.indexOf("No deploy info provided")>-1?Bn["a"].UNSUPPORTED_NETWORK:t.t4.message&&t.t4.message.indexOf("Could not replace stored state")>-1?Bn["a"].RDN_STATE_MIGRATION:t.t4 instanceof ki?Bn["a"].INITIALIZATION_FAILED:Bn["a"].NO_ACCOUNT,this.store.commit("accessDenied",s);case 56:this.store.commit("loadComplete");case 57:case"end":return t.stop()}}),t,this,[[0,52]])})));function n(e,n){return t.apply(this,arguments)}return n}()},{key:"notifyNoReceive",value:function(){var e=mi(be.a.mark((function e(){return be.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.store.commit("notifications/notificationAddOrReplace",{icon:Vo.t("notifications.no-receive.icon"),title:Vo.t("notifications.no-receive.title"),description:Vo.t("notifications.no-receive.description"),importance:it["a"].HIGH,context:ct["a"].WARNING});case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"monitorPreSetTokens",value:function(){var e=mi(be.a.mark((function e(){var t,n,r,a,o,i,c;return be.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=this.raiden.network.chainId,null!==(t=this._configuration)&&void 0!==t&&null!==(n=t.per_network)&&void 0!==n&&n[r]){e.next=3;break}return e.abrupt("return");case 3:a=this._configuration.per_network[r],o=di(a.monitored),e.prev=5,o.s();case 7:if((i=o.n()).done){e.next=13;break}return c=i.value,e.next=11,this.raiden.monitorToken(c);case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e["catch"](5),o.e(e.t0);case 18:return e.prev=18,o.f(),e.finish(18);case 21:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"notifyWithdrawalFailure",value:function(){var e=mi(be.a.mark((function e(t,n,r){var a,o,i,c,s,u;return be.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(["UDC_PLAN_WITHDRAW_GT_ZERO","UDC_PLAN_WITHDRAW_EXCEEDS_AVAILABLE","UDC_PLAN_WITHDRAW_FAILED"].indexOf(t)>=0)){e.next=2;break}return e.abrupt("return");case 2:o=this.store.state.userDepositContract.token,i=null!==(a=o.decimals)&&void 0!==a?a:18,c=Xo["a"].toUnits(n,i),s="string"===typeof t?Vo.t("notifications.withdrawal.failure.descriptions.".concat(t),{amount:c,symbol:o.symbol}):void 0,u=s||Vo.t("notifications.withdrawal.failure.description",{amount:c,symbol:o.symbol,message:r}),this.store.commit("notifications/notificationAddOrReplace",{title:Vo.t("notifications.withdrawal.failure.title"),description:u,context:ct["a"].ERROR,importance:it["a"].HIGH});case 8:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"notifyWithdrawal",value:function(){var e=mi(be.a.mark((function e(t,n){var r,a,o,i,c,s;return be.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=this.store.state.userDepositContract.token,o=null!==(r=a.decimals)&&void 0!==r?r:18,i=Xo["a"].toUnits(t,o),c=Xo["a"].toUnits(n,o),s={icon:Vo.t("notifications.withdrawn.icon"),title:Vo.t("notifications.withdrawn.title"),description:Vo.t("notifications.withdrawn.description",{plannedAmount:i,withdrawnAmount:c,symbol:a.symbol}),context:ct["a"].INFO,importance:it["a"].HIGH},this.usingSubkey&&(s=fi(fi({},s),{},{link:Vo.t("notifications.withdrawn.link"),dappRoute:p["a"].ACCOUNT_WITHDRAWAL})),this.store.commit("notifications/notificationAddOrReplace",s);case 7:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"notifyBalanceProofSend",value:function(){var e=mi(be.a.mark((function e(t,n,r,a){var o,i,c,s;return be.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:i=this.store.state.userDepositContract.token,c=null!==(o=i.decimals)&&void 0!==o?o:18,s=Xo["a"].toUnits(r,c),this.store.commit("notifications/notificationAddOrReplace",{title:Vo.t("notifications.ms-balance-proof.title"),description:Vo.t("notifications.ms-balance-proof.description",{monitoringService:t,partner:n,reward:s,symbol:i.symbol,txHash:a}),context:ct["a"].INFO,importance:it["a"].HIGH});case 4:case"end":return e.stop()}}),e,this)})));function t(t,n,r,a){return e.apply(this,arguments)}return t}()},{key:"notifyChannelSettleSuccess",value:function(){var e=mi(be.a.mark((function e(t){var n;return be.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=Vo.t("notifications.settlement.success.description",{partner:t}),this.store.commit("notifications/notificationAddOrReplace",{title:Vo.t("notifications.settlement.success.title"),description:n,icon:Vo.t("notifications.settlement.icon"),context:ct["a"].NONE,importance:it["a"].HIGH});case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"notifyChannelSettleFailure",value:function(){var e=mi(be.a.mark((function e(t){return be.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.store.commit("notifications/notificationAddOrReplace",{title:Vo.t("notifications.settlement.failure.title"),description:Vo.t("notifications.settlement.failure.description",{partner:t}),icon:Vo.t("notifications.settlement.icon"),context:ct["a"].NONE,importance:it["a"].HIGH});case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"notifyChannelOpenSuccess",value:function(){var e=mi(be.a.mark((function e(t,n,r,a){var o,i,c,s,u,l,f,p,d,b;return be.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:c=null!==(o=null===(i=this.store.state.config)||void 0===i?void 0:i.confirmationBlocks)&&void 0!==o?o:0,s=t+c,u=Vo.t("notifications.channel-open.icon"),l="",f="",void 0===r||!0===r?(l=Vo.t("notifications.channel-open.success.title"),p=gi(r),f=Vo.t("notifications.channel-open.success.description",{partner:a,state:p})):(d=Vo.t("notifications.tx-reorged-failure-reason"),l=Vo.t("notifications.channel-open.failure.title"),f=Vo.t("notifications.channel-open.failure.description",{reason:d})),b={title:l,description:f,icon:u,txHash:n,txConfirmationBlock:s,importance:it["a"].HIGH},this.store.commit("notifications/notificationAddOrReplace",b);case 8:case"end":return e.stop()}}),e,this)})));function t(t,n,r,a){return e.apply(this,arguments)}return t}()},{key:"notifyChannelOpenFailed",value:function(){var e=mi(be.a.mark((function e(t){return be.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.store.commit("notifications/notificationAddOrReplace",{title:Vo.t("notifications.channel-open.failure.title"),description:Vo.t("notifications.channel-open.failure.description",{reason:t}),icon:Vo.t("notifications.channel-open.icon"),importance:it["a"].HIGH});case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"updatePlannedUserDepositWithdrawals",value:function(){var e=mi(be.a.mark((function e(t){return be.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:"udc/withdraw/success"===t.type?!1===t.payload.confirmed?this.store.commit("userDepositContract/clearPlannedWithdrawal"):this.store.commit("userDepositContract/setPlannedWithdrawal",{txHash:t.payload.txHash,txBlock:t.payload.txBlock,amount:t.meta.amount,withdrawBlock:t.payload.block,confirmed:t.payload.confirmed}):"udc/withdrawn"===t.type&&t.payload.confirmed&&this.store.commit("userDepositContract/clearPlannedWithdrawal");case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getBalance",value:function(){var e=mi(be.a.mark((function e(t){var n;return be.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.getBalance(t);case 2:return n=e.sent,e.abrupt("return",Xo["a"].toEth(n));case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getToken",value:function(){var e=mi(be.a.mark((function e(t){var n,r,a,o,i,c,s,u;return be.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=this.raiden,e.prev=1,e.next=4,Promise.all([n.getTokenBalance(t),n.getTokenInfo(t)]);case 4:return r=e.sent,a=ii(r,2),o=a[0],i=a[1],c=i.decimals,s=i.symbol,u=i.name,e.abrupt("return",{name:u,symbol:s,balance:o,decimals:c,address:t});case 14:return e.prev=14,e.t0=e["catch"](1),e.abrupt("return",null);case 17:case"end":return e.stop()}}),e,this,[[1,14]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"openChannel",value:function(){var e=mi(be.a.mark((function e(t,n,r,a){var o,i;return be.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=function(e,t){a&&a({current:e,total:t})},i=this.raiden,o(1,3),e.next=5,i.openChannel(t,n,{deposit:r},(function(e){return e.type===Fn["d"].OPENED?o(2,3):""}));case 5:case"end":return e.stop()}}),e,this)})));function t(t,n,r,a){return e.apply(this,arguments)}return t}()},{key:"closeChannel",value:function(){var e=mi(be.a.mark((function e(t,n){return be.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.closeChannel(t,n);case 2:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"deposit",value:function(){var e=mi(be.a.mark((function e(t,n,r){return be.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.depositChannel(t,n,r);case 2:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"withdraw",value:function(){var e=mi(be.a.mark((function e(t,n,r){return be.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.withdrawChannel(t,n,r);case 2:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"settleChannel",value:function(){var e=mi(be.a.mark((function e(t,n){return be.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.settleChannel(t,n);case 2:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"updateUserDepositContractToken",value:function(){var e=mi(be.a.mark((function e(){var t;return be.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getToken(this._userDepositTokenAddress);case 2:t=e.sent,this.store.commit("userDepositContract/setToken",t);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"fetchAndUpdateTokenData",value:function(){var e=mi(be.a.mark((function e(){var t,n,r=this,a=arguments;return be.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=a.length>0&&void 0!==a[0]?a[0]:Object.values(this.store.state.tokens).map((function(e){return e.address})),t.length){e.next=3;break}return e.abrupt("return");case 3:return n=function(){var e=mi(be.a.mark((function e(t){return be.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",r.getToken(t).then((function(e){e&&r.store.commit("updateTokens",pi({},e.address,e))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.next=6,Go()(6,t,n);case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"transfer",value:function(){var e=mi(be.a.mark((function e(t,n,r,a,o){var i;return be.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.transfer(t,n,r,{paymentId:o,paths:a});case 2:return i=e.sent,e.next=5,this.raiden.waitTransfer(i);case 5:case"end":return e.stop()}}),e,this)})));function t(t,n,r,a,o){return e.apply(this,arguments)}return t}()},{key:"findRoutes",value:function(){var e=mi(be.a.mark((function e(t,n,r,a){return be.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.findRoutes(t,n,r,{pfs:a});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t,n,r,a){return e.apply(this,arguments)}return t}()},{key:"fetchServices",value:function(){var e=mi(be.a.mark((function e(){return be.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.findPFS();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"directRoute",value:function(){var e=mi(be.a.mark((function e(t,n,r){return be.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.directRoute(t,n,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"mint",value:function(){var e=mi(be.a.mark((function e(t,n){return be.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.mint(t,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"depositToUDC",value:function(){var e=mi(be.a.mark((function e(t,n){return be.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.depositToUDC(t,(function(e){return e.type===Fn["d"].APPROVED?n():null}));case 2:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"planUdcWithdraw",value:function(){var e=mi(be.a.mark((function e(t){return be.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.raiden.planUdcWithdraw(t));case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getUDCCapacity",value:function(){var e=mi(be.a.mark((function e(){return be.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.raiden.getUDCCapacity());case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getAvailability",value:function(){var e=mi(be.a.mark((function e(t){var n,r;return be.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.raiden.getAvailability(t);case 3:return n=e.sent,r=n.available,e.abrupt("return",r);case 8:e.prev=8,e.t0=e["catch"](0),this.store.commit("updatePresence",pi({},t,!1));case 11:return e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,this,[[0,8]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getState",value:function(){var e=mi(be.a.mark((function e(){return be.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this._raiden.stop(),e.abrupt("return",this._raiden.dumpDatabase());case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"transferToRaidenAccount",value:function(){var e=mi(be.a.mark((function e(t){return be.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.transferOnchainBalance(this.raiden.address,$o["b"].parseEther(t));case 2:return e.next=4,this.updateBalances();case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"transferToMainAccount",value:function(){var e=mi(be.a.mark((function e(t){var n;return be.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=this.raiden.mainAddress,!n){e.next=6;break}return e.next=4,this.raiden.transferOnchainBalance(n,$o["b"].parseEther(t),{subkey:!0});case 4:return e.next=6,this.updateBalances();case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"transferOnChainTokens",value:function(){var e=mi(be.a.mark((function e(t,n){var r;return be.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=this.raiden.mainAddress,r){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,this.raiden.transferOnchainTokens(t,r,n,{subkey:!0});case 5:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"getRaidenAccountBalances",value:function(){var e=mi(be.a.mark((function e(){var t,n,r,a,o,i,c,s=this;return be.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.raiden,t.mainAddress){e.next=3;break}return e.abrupt("return",[]);case 3:return e.next=5,t.getTokenList();case 5:return n=e.sent,r={},a=function(){var e=mi(be.a.mark((function e(n){return be.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t.getTokenBalance(n,t.address).then((function(e){e.gt($o["a"].Zero)&&(r[n]={address:n,balance:e})})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.next=10,Go()(6,n,a);case 10:if(o={},Object.keys(r).forEach((function(e){var t=s.store.state.tokens[e];t&&(o[e]=fi(fi({},t),r[e]),delete r[e])})),i=function(){var e=mi(be.a.mark((function e(n){return be.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t.getTokenInfo(n).then((function(e){o[n]=fi(fi({},e),r[n])})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c=Object.keys(r),!(c.length>0)){e.next=17;break}return e.next=17,Go()(6,c,i);case 17:return e.abrupt("return",Object.values(o));case 18:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"monitorToken",value:function(){var e=mi(be.a.mark((function e(t){return be.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.monitorToken(t);case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getTokenBalance",value:function(){var e=mi(be.a.mark((function e(t,n){var r;return be.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.getTokenBalance(t,n);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"getSuggestedPartners",value:function(){var e=mi(be.a.mark((function e(t){return be.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.suggestPartners(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"raiden",get:function(){if(void 0===this._raiden)throw new Error("Raiden instance was not initialized");return this._raiden}},{key:"monitoringReward",get:function(){return this.raiden.config.monitoringReward}}],[{key:"createRaiden",value:function(){var e=mi(be.a.mark((function e(t){var n,r,a,o,i=arguments;return be.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:0,r=i.length>2?i[2]:void 0,a=i.length>3?i[3]:void 0,e.prev=3,e.next=6,bo.contracts();case 6:return o=e.sent,e.next=9,Fn["e"].create(t,n,{storage:window.localStorage,state:r},o,fi(fi(fi(fi({pfsSafetyMargin:1.1,pfs:"https://pfs.demo001.env.raiden.network",matrixServer:"https://transport.demo001.env.raiden.network",matrixServerLookup:Object({VUE_APP_PFS:"https://pfs.demo001.env.raiden.network",VUE_APP_MATRIX_SERVER:"https://transport.demo001.env.raiden.network",VUE_APP_HUB:"hub.raiden.eth",VUE_APP_ALLOW_MAINNET:"false",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",BASE_URL:"/"}).VUE_APP_MATRIX_LIST_URL},Object({VUE_APP_PFS:"https://pfs.demo001.env.raiden.network",VUE_APP_MATRIX_SERVER:"https://transport.demo001.env.raiden.network",VUE_APP_HUB:"hub.raiden.eth",VUE_APP_ALLOW_MAINNET:"false",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",BASE_URL:"/"}).VUE_APP_REVEAL_TIMEOUT&&+Object({VUE_APP_PFS:"https://pfs.demo001.env.raiden.network",VUE_APP_MATRIX_SERVER:"https://transport.demo001.env.raiden.network",VUE_APP_HUB:"hub.raiden.eth",VUE_APP_ALLOW_MAINNET:"false",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",BASE_URL:"/"}).VUE_APP_REVEAL_TIMEOUT?{revealTimeout:+Object({VUE_APP_PFS:"https://pfs.demo001.env.raiden.network",VUE_APP_MATRIX_SERVER:"https://transport.demo001.env.raiden.network",VUE_APP_HUB:"hub.raiden.eth",VUE_APP_ALLOW_MAINNET:"false",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",BASE_URL:"/"}).VUE_APP_REVEAL_TIMEOUT}:void 0),Object({VUE_APP_PFS:"https://pfs.demo001.env.raiden.network",VUE_APP_MATRIX_SERVER:"https://transport.demo001.env.raiden.network",VUE_APP_HUB:"hub.raiden.eth",VUE_APP_ALLOW_MAINNET:"false",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",BASE_URL:"/"}).VUE_APP_SETTLE_TIMEOUT&&+Object({VUE_APP_PFS:"https://pfs.demo001.env.raiden.network",VUE_APP_MATRIX_SERVER:"https://transport.demo001.env.raiden.network",VUE_APP_HUB:"hub.raiden.eth",VUE_APP_ALLOW_MAINNET:"false",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",BASE_URL:"/"}).VUE_APP_SETTLE_TIMEOUT?{settleTimeout:+Object({VUE_APP_PFS:"https://pfs.demo001.env.raiden.network",VUE_APP_MATRIX_SERVER:"https://transport.demo001.env.raiden.network",VUE_APP_HUB:"hub.raiden.eth",VUE_APP_ALLOW_MAINNET:"false",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",BASE_URL:"/"}).VUE_APP_SETTLE_TIMEOUT}:void 0),Object({VUE_APP_PFS:"https://pfs.demo001.env.raiden.network",VUE_APP_MATRIX_SERVER:"https://transport.demo001.env.raiden.network",VUE_APP_HUB:"hub.raiden.eth",VUE_APP_ALLOW_MAINNET:"false",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",BASE_URL:"/"}).VUE_APP_CONFIRMATION_BLOCKS&&+Object({VUE_APP_PFS:"https://pfs.demo001.env.raiden.network",VUE_APP_MATRIX_SERVER:"https://transport.demo001.env.raiden.network",VUE_APP_HUB:"hub.raiden.eth",VUE_APP_ALLOW_MAINNET:"false",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",BASE_URL:"/"}).VUE_APP_CONFIRMATION_BLOCKS?{confirmationBlocks:+Object({VUE_APP_PFS:"https://pfs.demo001.env.raiden.network",VUE_APP_MATRIX_SERVER:"https://transport.demo001.env.raiden.network",VUE_APP_HUB:"hub.raiden.eth",VUE_APP_ALLOW_MAINNET:"false",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",BASE_URL:"/"}).VUE_APP_CONFIRMATION_BLOCKS}:void 0),Object({VUE_APP_PFS:"https://pfs.demo001.env.raiden.network",VUE_APP_MATRIX_SERVER:"https://transport.demo001.env.raiden.network",VUE_APP_HUB:"hub.raiden.eth",VUE_APP_ALLOW_MAINNET:"false",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",BASE_URL:"/"}).VUE_APP_EXPIRY_FACTOR&&+Object({VUE_APP_PFS:"https://pfs.demo001.env.raiden.network",VUE_APP_MATRIX_SERVER:"https://transport.demo001.env.raiden.network",VUE_APP_HUB:"hub.raiden.eth",VUE_APP_ALLOW_MAINNET:"false",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",BASE_URL:"/"}).VUE_APP_EXPIRY_FACTOR?{expiryFactor:+Object({VUE_APP_PFS:"https://pfs.demo001.env.raiden.network",VUE_APP_MATRIX_SERVER:"https://transport.demo001.env.raiden.network",VUE_APP_HUB:"hub.raiden.eth",VUE_APP_ALLOW_MAINNET:"false",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",BASE_URL:"/"}).VUE_APP_EXPIRY_FACTOR}:void 0),a,Object({VUE_APP_PFS:"https://pfs.demo001.env.raiden.network",VUE_APP_MATRIX_SERVER:"https://transport.demo001.env.raiden.network",VUE_APP_HUB:"hub.raiden.eth",VUE_APP_ALLOW_MAINNET:"false",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",BASE_URL:"/"}).VUE_APP_SUBKEY_ORIGIN_URL);case 9:return e.abrupt("return",e.sent);case 12:throw e.prev=12,e.t0=e["catch"](3),new ki(e.t0);case 15:case"end":return e.stop()}}),e,null,[[3,12]])})));function t(t){return e.apply(this,arguments)}return t}()}]),e}(),_i=function(e){Qo(n,e);var t=zo(n);function n(){return vi(this,n),t.apply(this,arguments)}return n}(ei(Error)),ki=function(e){Qo(n,e);var t=zo(n);function n(){return vi(this,n),t.apply(this,arguments)}return n}(ei(Error));function Ei(e,t){e.prototype.$raiden=new wi(Nr,Mo)}var Ti=n("b7e6"),xi=n.n(Ti);function Ai(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Si(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pi(e,t,n){return t&&Si(e.prototype,t),n&&Si(e,n),e}var Ni=function(){function e(){Ai(this,e),this.cache={}}return Pi(e,[{key:"getIdenticon",value:function(e){var t=this.cache[e];if(t)return t;var n=xi()(e);return this.cache[e]=n,n}}]),e}();function Ri(e,t){e.prototype.$identicon=new Ni}n("8935"),n("8b61"),n("4fa6");var Di=n("8d28");r["a"].use(Di["a"]);var Ii,Ci,Ui,Li=new Di["a"]({icons:{iconfont:"mdi"},theme:{options:{customProperties:!0},dark:!0,themes:{dark:{notification:"#ea6464",primary:"#28A5C8",secondary:"#0A6E87",pending:"#fdd327",success:"#1dc512",failed:"#ea6464"}}}}),Mi=n("47c8"),Bi=n.n(Mi);function Fi(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function Wi(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Fi(o,r,a,i,c,"next",e)}function c(e){Fi(o,r,a,i,c,"throw",e)}i(void 0)}))}}function Vi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(function(e){e["INSTALLATION_ERROR"]="installation_error",e["RELOAD_WINDOW"]="reload_window",e["CACHE_IS_INVALID"]="cache_is_invalid"})(Ii||(Ii={})),function(e){e["UPDATE"]="update",e["VERIFY_CACHE"]="verify_cache"}(Ci||(Ci={}));var $i,Hi=(null!==(Ui="/")&&void 0!==Ui?Ui:"/")+"version.json",qi=function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:36e5,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e4;Vi(this,e),this.store=t,this.update=function(){var e;navigator.serviceWorker&&(null===(e=navigator.serviceWorker.controller)||void 0===e||e.postMessage(Ci.UPDATE))},this.onMessage=function(e){if(e.data)switch(e.data){case Ii.INSTALLATION_ERROR:case Ii.CACHE_IS_INVALID:n.setUpdateIsMandatory();break;case Ii.RELOAD_WINDOW:n.reloadWindow();break;default:break}},this.updateAvailableVersion=Wi(be.a.mark((function e(){var t,r,a;return be.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(Hi);case 3:return t=e.sent,e.next=6,t.json();case 6:if(r=e.sent,a=r.version.version,!Mn.a.validate(a)){e.next=12;break}n.store.commit("setAvailableVersion",a),e.next=13;break;case 12:throw new Error("Maleformed version string: ".concat(a));case 13:e.next=18;break;case 15:e.prev=15,e.t0=e["catch"](0),console.warn("Failed to get (a valid) version: ".concat(e.t0.message));case 18:case"end":return e.stop()}}),e,null,[[0,15]])}))),this.verifyCacheValidity=function(){var e;null===(e=navigator.serviceWorker.controller)||void 0===e||e.postMessage(Ci.VERIFY_CACHE)},this.reloadWindow=function(){window.location.reload()},this.setUpdateIsMandatory=function(){n.store.commit("setUpdateIsMandatory")},navigator.serviceWorker&&(navigator.serviceWorker.addEventListener("message",this.onMessage),this.updateAvailableVersion(),setInterval(this.updateAvailableVersion,r),setInterval(this.verifyCacheValidity,a))};function Ki(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function Gi(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Ki(o,r,a,i,c,"next",e)}function c(e){Ki(o,r,a,i,c,"throw",e)}i(void 0)}))}}var Xi=Bi.a.join(null!==($i="/")&&void 0!==$i?$i:"/","service-worker.js");function Yi(){var e=!!navigator.serviceWorker.controller;e||navigator.serviceWorker.register(Xi)}function Qi(e,t){return zi.apply(this,arguments)}function zi(){return zi=Gi(be.a.mark((function e(t,n){var r,a;return be.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.prototype.$serviceWorkerAssistant=new qi(Nr),r="serviceWorker"in navigator,a=!0,r&&a&&(window.onload=Yi);case 4:case"end":return e.stop()}}),e)}))),zi.apply(this,arguments)}r["a"].config.productionTip=!1,Object(Bo["b"])(),r["a"].use(Ei),r["a"].use(Ri),r["a"].use(Qi),new r["a"]({vuetify:Li,router:Mo,store:Nr,i18n:Vo,render:function(e){return e(yn)}}).$mount("#app")},ce1a:function(e,t,n){"use strict";n("2175")},d009:function(e,t,n){var r={"./backup_state_info.svg":"1924","./channels_info.svg":"18cb","./open_channel_info.svg":"9662","./select_hub_info.svg":"f496","./transfer_eth_info.svg":"60f8","./transfer_info.svg":"6cb9","./transfer_steps_info.svg":"fb60","./udc_info.svg":"d43a","./withdraw_tokens_info.svg":"68e9"};function a(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id="d009"},d011:function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return u})),n.d(t,"f",(function(){return f}));var r=n("2111"),a=n("ca14"),o=r["p"](r["j"]([r["v"]({result:r["d"](r["p"](r["v"]({path:r["q"](a["a"]),estimated_fee:Object(a["d"])(32)})))}),r["o"]({feedback_token:r["s"]})])),i=r["d"](r["p"](r["v"]({path:r["q"](a["a"]),fee:Object(a["d"])(32)}))),c=r["p"](r["v"]({address:a["a"],url:r["s"],rtt:r["n"],price:Object(a["j"])(32),token:a["a"]})),s=r["p"](r["v"]({sender:a["a"],receiver:a["a"],amount:Object(a["j"])(32),expiration_block:Object(a["j"])(32),one_to_n_address:a["a"],chain_id:Object(a["j"])(32)})),u=r["p"](r["v"]({last_iou:Object(a["h"])(s)})),l=r["p"](r["v"]({address:a["a"],capacity:Object(a["j"])(32),centrality:r["x"]([r["n"],r["s"]]),score:r["x"]([r["n"],r["s"]]),uptime:r["x"]([r["n"],r["s"]])}),"SuggestedPartner"),f=r["d"](l,"SuggestedPartners")},d0dd:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return Ce}));var r=n("36d8"),a=n.n(r),o=(n("40b2"),n("2b89")),i=n("f45b"),c=n("c00b"),s=n("30c0"),u=n("87b8"),l=n("7276"),f=n("06f1"),p=n("1ed4"),d=n("384a"),b=n("7ff5"),y=n.n(b),h=n("427e"),m=n.n(h),v=n("8730"),O=n.n(v),j=n("ea1b"),g=n.n(j),w=n("3912"),_=n("516a"),k=n("34ba"),E=n("2023"),T=n("331d"),x=n("dae3"),A=n("ae8f"),S=n("a489"),P=n("ebf5"),N=n("7f4a"),R=n("cefa"),D=n("0eb1"),I=n("94e7"),C=n("258b"),U=n("4a9c"),L=n("459b"),M=n("7225"),B=n("423d"),F=n("8509"),W=n("111d"),V=n.n(W),$=n("de7d"),H=n("bf6c"),q=n("05eb"),K=n("2b5b"),G=n("5bbb"),X=n("b8ff"),Y=n("1a78"),Q=n("6c61"),z=n("50e7"),Z=n("f5be"),J=n("f2df"),ee=n("f799"),te=n("8120"),ne=n("d890"),re=n("83ee"),ae=n("59ec"),oe=n("eed9"),ie=n("d011"),ce=n("358d"),se=n("ca14"),ue=n("d276"),le=n("325b"),fe=n("8089"),pe=n("ee6c"),de=n("74e4"),be=n("db2c5"),ye=n("46f7"),he=n("1b23");function me(e){return je(e)||Oe(e)||Te(e)||ve()}function ve(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Oe(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function je(e){if(Array.isArray(e))return xe(e)}function ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function we(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ge(Object(n),!0).forEach((function(t){_e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ke(e,t){return Se(e)||Ae(e,t)||Te(e,t)||Ee()}function Ee(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Te(e,t){if(e){if("string"===typeof e)return xe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xe(e,t):void 0}}function xe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ae(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)if(n.push(i.value),t&&n.length===t)break}catch(s){a=!0,o=s}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return n}}function Se(e){if(Array.isArray(e))return e}function Pe(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function Ne(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Pe(o,r,a,i,c,"next",e)}function c(e){Pe(o,r,a,i,c,"throw",e)}i(void 0)}))}}function Re(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function De(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ie(e,t,n){return t&&De(e.prototype,t),n&&De(e,n),e}var Ce=function(){function t(e,n,r,o,i,c){var s,u,b,h,v,O=this,j=i.db,g=i.state,E=i.config;Re(this,t);var T=g.address;this.resolveName=e.resolveName.bind(e),this.log=V.a.getLogger("raiden:".concat(T));var x=Object(G["c"])({network:n},E);e.resetEventsBlock(g.blockNumber+1);var A=new w["a"](1);this.state$=A.pipe(Object(le["e"])("state")),this.action$=A.pipe(Object(le["e"])("action"),Object(P["a"])(1)),this.blockTime$=A.pipe(Object(le["e"])("blockTime")),this.channels$=this.state$.pipe(Object(le["e"])("channels"),Object(N["a"])(fe["k"])),this.transfers$=Object(fe["i"])(this.state$,j),this.events$=this.action$.pipe(Object(R["a"])(Object(ue["e"])(Z["b"]))),this.getTokenInfo=m()(function(){var e=Ne(a.a.mark((function e(t){var n,r,o,i,c,s,u;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return Object(J["a"])(se["a"].is(t),[pe["b"].DTA_INVALID_ADDRESS,{token:t}],this.log.info),n=this.deps.getTokenContract(t),e.next=4,Promise.all([n.callStatic.totalSupply(),n.callStatic.decimals(),n.callStatic.name().catch(y()(void 0)),n.callStatic.symbol().catch(y()(void 0))]);case 4:return r=e.sent,o=ke(r,4),i=o[0],c=o[1],s=o[2],u=o[3],Object(J["a"])(i&&null!=c,pe["b"].RDN_NOT_A_TOKEN,this.log.info),e.abrupt("return",{totalSupply:i,decimals:c,name:s,symbol:u});case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()),this.deps={latest$:A,config$:A.pipe(Object(le["e"])("config")),matrix$:new _["a"],provider:e,network:n,signer:r,address:T,log:this.log,defaultConfig:x,contractsInfo:o,registryContract:$["f"].connect(o.TokenNetworkRegistry.address,null!==(s=null===c||void 0===c?void 0:c.signer)&&void 0!==s?s:r),getTokenNetworkContract:m()((function(e){var t;return $["g"].connect(e,null!==(t=null===c||void 0===c?void 0:c.signer)&&void 0!==t?t:r)})),getTokenContract:m()((function(e){var t;return $["b"].connect(e,null!==(t=null===c||void 0===c?void 0:c.signer)&&void 0!==t?t:r)})),serviceRegistryContract:$["e"].connect(o.ServiceRegistry.address,null!==(u=null===c||void 0===c?void 0:c.signer)&&void 0!==u?u:r),userDepositContract:$["h"].connect(o.UserDeposit.address,null!==(b=null===c||void 0===c?void 0:c.signer)&&void 0!==b?b:r),secretRegistryContract:$["d"].connect(o.SecretRegistry.address,null!==(h=null===c||void 0===c?void 0:c.signer)&&void 0!==h?h:r),monitoringServiceContract:$["c"].connect(o.MonitoringService.address,null!==(v=null===c||void 0===c?void 0:c.signer)&&void 0!==v?v:r),main:c,db:j,init$:new w["a"]},this.userDepositTokenAddress=m()(Ne(a.a.mark((function e(){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,O.deps.userDepositContract.callStatic.token();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))));var S=Object(p["createLogger"])({predicate:function(){return O.log.getLevel()<=V.a.levels.INFO},logger:this.log,level:{prevState:!1,action:"info",error:"error",nextState:"debug"}});this.config$=this.deps.config$,this.config$.subscribe((function(e){return O.config=e})),this.epicMiddleware=Object(f["a"])({dependencies:this.deps});var I=Object(be["a"])(j);this.store=Object(l["createStore"])(Q["a"],g,Object(d["composeWithDevTools"])(Object(l["applyMiddleware"])(S,I,this.epicMiddleware))),this.synced=this.action$.pipe(Object(D["a"])(Object(ue["e"])([Z["g"],Z["e"]])),Object(N["a"])((function(e){if(Z["e"].is(e)){if(Object.values(K["e"]).some((function(t){return t===e.payload.reason})))return;throw e.payload}return e.payload}))).toPromise(),Object(z["a"])(Object(k["a"])(Object(Z["d"])({})),Object(k["a"])(this.store.getState()),this.deps).subscribe((function(e){return O.deps.latest$.next(e)}))}return Ie(t,[{key:"start",value:function(){var n=Ne(a.a.mark((function n(){var r,o=this;return a.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return Object(J["a"])(this.epicMiddleware,pe["b"].RDN_ALREADY_STARTED,this.log.info),this.log.info("Starting Raiden Light-Client",{prevBlockNumber:this.state.blockNumber,address:this.address,TokenNetworkRegistry:this.deps.contractsInfo.TokenNetworkRegistry.address,network:{name:this.deps.network.name,chainId:this.deps.network.chainId},"raiden-ts":t.version,"raiden-contracts":t.contractVersion,config:this.config,versions:null===(r=e)||void 0===r?void 0:r.versions}),this.deps.latest$.subscribe({complete:function(){return o.epicMiddleware=null}}),this.epicMiddleware.run(z["b"]),this.epicMiddleware=void 0,this.store.dispatch(Object(Z["f"])()),n.next=8,this.synced;case 8:case"end":return n.stop()}}),n,this)})));function r(){return n.apply(this,arguments)}return r}()},{key:"stop",value:function(){var e=Ne(a.a.mark((function e(){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.started&&this.store.dispatch(Object(Z["e"])({reason:K["e"].STOP})),void 0===this.started){e.next=4;break}return e.next=4,this.deps.db.busy$.toPromise();case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getBlockNumber",value:function(){var e=Ne(a.a.mark((function e(){var t;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.deps.provider.blockNumber,!(t&&t>=this.deps.contractsInfo.TokenNetworkRegistry.block_number)){e.next=5;break}return e.abrupt("return",t);case 5:return e.next=7,this.deps.provider.getBlockNumber();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"updateConfig",value:function(e){this.store.dispatch(Object(Z["d"])(Object(se["l"])(G["a"],e)))}},{key:"dumpDatabase",value:function(){var e=Ne(a.a.mark((function e(){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(void 0===this.started){e.next=3;break}return e.next=3,this.deps.db.busy$.toPromise();case 3:return e.abrupt("return",Object(de["b"])(this.deps.db));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getBalance",value:function(e){var t;return e=null!==(t=e)&&void 0!==t?t:Object(fe["b"])(this.deps,this.config.subkey).address,Object(J["a"])(se["a"].is(e),[pe["b"].DTA_INVALID_ADDRESS,{address:e}],this.log.info),this.deps.provider.getBalance(e)}},{key:"getTokenBalance",value:function(){var e=Ne(a.a.mark((function e(t,n){var r,o;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=null!==(r=n)&&void 0!==r?r:Object(fe["b"])(this.deps,this.config.subkey).address,Object(J["a"])(se["a"].is(n),[pe["b"].DTA_INVALID_ADDRESS,{address:n}],this.log.info),Object(J["a"])(se["a"].is(t),[pe["b"].DTA_INVALID_ADDRESS,{token:t}],this.log.info),o=this.deps.getTokenContract(t),e.abrupt("return",o.callStatic.balanceOf(n));case 5:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"getTokenList",value:function(){var e=Ne(a.a.mark((function e(){var t=this;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=he["b"],e.t1=this.deps.provider,e.t2=we,e.t3=we({},this.deps.registryContract.filters.TokenNetworkCreated(null,null)),e.t4={},e.t5=this.deps.contractsInfo.TokenNetworkRegistry.block_number,e.next=8,this.getBlockNumber();case 8:return e.t6=e.sent,e.t7={fromBlock:e.t5,toBlock:e.t6},e.t8=(0,e.t2)(e.t3,e.t4,e.t7),e.next=13,(0,e.t0)(e.t1,e.t8).pipe(Object(N["a"])((function(e){return t.deps.registryContract.interface.parseLog(e)})),Object(R["a"])((function(e){return!!e.args.token_address})),Object(N["a"])((function(e){return e.args.token_address})),Object(I["a"])()).toPromise();case 13:return e.abrupt("return",e.sent);case 14:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"monitorToken",value:function(){var e=Ne(a.a.mark((function e(t){var n;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(Object(J["a"])(se["a"].is(t),[pe["b"].DTA_INVALID_ADDRESS,{token:t}],this.log.info),n=this.state.tokens[t],!n){e.next=4;break}return e.abrupt("return",n);case 4:return e.next=6,this.deps.registryContract.token_to_token_networks(t);case 6:return n=e.sent,Object(J["a"])(n&&n!==s["a"],pe["b"].RDN_UNKNOWN_TOKEN_NETWORK,this.log.info),this.store.dispatch(Object(ee["tokenMonitored"])({token:t,tokenNetwork:n,fromBlock:this.deps.contractsInfo.TokenNetworkRegistry.block_number})),e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"openChannel",value:function(){var e=Ne(a.a.mark((function e(t,n){var r,o,i,c,s,u,l,f,p,d,b=arguments;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=b.length>2&&void 0!==b[2]?b[2]:{},o=b.length>3?b[3]:void 0,Object(J["a"])(se["a"].is(t),[pe["b"].DTA_INVALID_ADDRESS,{token:t}],this.log.info),Object(J["a"])(se["a"].is(n),[pe["b"].DTA_INVALID_ADDRESS,{partner:n}],this.log.info),e.next=6,this.monitorToken(t);case 6:return i=e.sent,Object(J["a"])(!r.subkey||this.deps.main,pe["b"].RDN_SUBKEY_NOT_SET,this.log.info),c=r.settleTimeout?Object(se["l"])(Object(se["j"])(4),r.settleTimeout,pe["b"].DTA_INVALID_TIMEOUT,this.log.info).toNumber():void 0,s=r.deposit?Object(se["l"])(Object(se["j"])(32),r.deposit,pe["b"].DTA_INVALID_DEPOSIT,this.log.info):void 0,u={tokenNetwork:i,partner:n},l=Object(ue["a"])(ee["channelOpen"],u,this.action$,!0).then((function(e){var t=e.txHash;return t})),null!==s&&void 0!==s&&s.gt(0)&&(f=Object(ue["a"])(ee["channelDeposit"],u,this.action$,!0).then((function(e){var t=e.txHash;return t}))),this.store.dispatch(ee["channelOpen"].request(we(we({},r),{},{settleTimeout:c,deposit:s}),u)),e.next=16,l;case 16:return p=e.sent,null===o||void 0===o||o({type:q["a"].OPENED,payload:{txHash:p}}),e.next=20,this.state$.pipe(Object(le["e"])("channels",Object(te["d"])({tokenNetwork:i,partner:n}),"state"),Object(D["a"])((function(e){return e===X["b"].open}))).toPromise();case 20:if(null===o||void 0===o||o({type:q["a"].CONFIRMED,payload:{txHash:p}}),!f){e.next=26;break}return e.next=24,f;case 24:d=e.sent,null===o||void 0===o||o({type:q["a"].DEPOSITED,payload:{txHash:d}});case 26:return e.abrupt("return",p);case 27:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"depositChannel",value:function(){var e=Ne(a.a.mark((function e(t,n,r){var o,i,c,s,u,l,f,p=arguments;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=p.length>3&&void 0!==p[3]?p[3]:{},i=o.subkey,Object(J["a"])(se["a"].is(t),[pe["b"].DTA_INVALID_ADDRESS,{token:t}],this.log.info),Object(J["a"])(se["a"].is(n),[pe["b"].DTA_INVALID_ADDRESS,{partner:n}],this.log.info),c=this.state,s=c.tokens[t],Object(J["a"])(s,pe["b"].RDN_UNKNOWN_TOKEN_NETWORK,this.log.info),Object(J["a"])(!i||this.deps.main,pe["b"].RDN_SUBKEY_NOT_SET,this.log.info),u=Object(se["l"])(Object(se["j"])(32),r,pe["b"].DTA_INVALID_DEPOSIT,this.log.info),l={tokenNetwork:s,partner:n},f=Object(ue["a"])(ee["channelDeposit"],l,this.action$,!0).then((function(e){var t=e.txHash;return t})),this.store.dispatch(ee["channelDeposit"].request({deposit:u,subkey:i},l)),e.abrupt("return",f);case 12:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"closeChannel",value:function(){var e=Ne(a.a.mark((function e(t,n){var r,o,i,c,s,u,l=arguments;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=l.length>2&&void 0!==l[2]?l[2]:{},o=r.subkey,Object(J["a"])(se["a"].is(t),[pe["b"].DTA_INVALID_ADDRESS,{token:t}],this.log.info),Object(J["a"])(se["a"].is(n),[pe["b"].DTA_INVALID_ADDRESS,{partner:n}],this.log.info),i=this.state,c=i.tokens[t],Object(J["a"])(c,pe["b"].RDN_UNKNOWN_TOKEN_NETWORK,this.log.info),Object(J["a"])(!o||this.deps.main,pe["b"].RDN_SUBKEY_NOT_SET,this.log.info),s={tokenNetwork:c,partner:n},u=Object(ue["a"])(ee["channelClose"],s,this.action$,!0).then((function(e){var t=e.txHash;return t})),this.store.dispatch(ee["channelClose"].request(o?{subkey:o}:void 0,s)),e.abrupt("return",u);case 11:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"settleChannel",value:function(){var e=Ne(a.a.mark((function e(t,n){var r,o,i,c,s,u,l=arguments;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=l.length>2&&void 0!==l[2]?l[2]:{},o=r.subkey,Object(J["a"])(se["a"].is(t),[pe["b"].DTA_INVALID_ADDRESS,{token:t}],this.log.info),Object(J["a"])(se["a"].is(n),[pe["b"].DTA_INVALID_ADDRESS,{partner:n}],this.log.info),i=this.state,c=i.tokens[t],Object(J["a"])(c,pe["b"].RDN_UNKNOWN_TOKEN_NETWORK,this.log.info),Object(J["a"])(!o||this.deps.main,pe["b"].RDN_SUBKEY_NOT_SET,this.log.info),s={tokenNetwork:c,partner:n},u=Object(ue["a"])(ee["channelSettle"],s,this.action$,!0).then((function(e){var t=e.txHash;return t})),this.store.dispatch(ee["channelSettle"].request(o?{subkey:o}:void 0,s)),e.abrupt("return",u);case 11:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"getAvailability",value:function(){var e=Ne(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return Object(J["a"])(se["a"].is(t),[pe["b"].DTA_INVALID_ADDRESS,{address:t}],this.log.info),n={address:t},r=Object(ue["a"])(ne["matrixPresence"],n,this.action$),this.store.dispatch(ne["matrixPresence"].request(void 0,n)),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"transfer",value:function(){var e=Ne(a.a.mark((function e(t,n,r){var o,i,c,s,u,l,f,p,d,b,y=this,h=arguments;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=h.length>3&&void 0!==h[3]?h[3]:{},Object(J["a"])(se["a"].is(t),[pe["b"].DTA_INVALID_ADDRESS,{token:t}],this.log.info),Object(J["a"])(se["a"].is(n),[pe["b"].DTA_INVALID_ADDRESS,{target:n}],this.log.info),i=this.state.tokens[t],Object(J["a"])(i,pe["b"].RDN_UNKNOWN_TOKEN_NETWORK,this.log.info),c=Object(se["l"])(Object(se["j"])(32),r,pe["b"].DTA_INVALID_AMOUNT,this.log.info),s=void 0!==o.paymentId?Object(se["l"])(Object(se["j"])(8),o.paymentId,pe["b"].DTA_INVALID_PAYMENT_ID,this.log.info):Object(ae["f"])(),u=o.paths?Object(se["l"])(ie["e"],o.paths,pe["b"].DTA_INVALID_PATH,this.log.info):void 0,l=o.pfs?Object(se["l"])(ie["c"],o.pfs,pe["b"].DTA_INVALID_PFS,this.log.info):void 0,f=o.lockTimeout?this.state.blockNumber+o.lockTimeout:void 0,Object(J["a"])(void 0===o.secret||se["f"].is(o.secret),pe["b"].RDN_INVALID_SECRET,this.log.info),Object(J["a"])(void 0===o.secrethash||se["c"].is(o.secrethash),pe["b"].RDN_INVALID_SECRETHASH,this.log.info),p=o.secret?o.secret:o.secrethash?void 0:Object(ae["g"])(),d=o.secrethash||Object(ae["c"])(p),Object(J["a"])(!p||Object(ae["c"])(p)===d,pe["b"].RDN_SECRET_SECRETHASH_MISMATCH,this.log.info),b={tokenNetwork:i,target:n,value:c},e.abrupt("return",Object(E["a"])(this.action$.pipe(Object(D["a"])(Object(ue["g"])(oe["pathFind"],b)),Object(N["a"])((function(e){if(oe["pathFind"].failure.is(e))throw e.payload;return e.payload.paths}))),Object(T["a"])((function(){return y.store.dispatch(oe["pathFind"].request({paths:u,pfs:l},b)),x["a"]}))).pipe(Object(C["a"])((function(e){return Object(E["a"])(y.action$.pipe(Object(R["a"])(Object(ue["e"])([re["transferSigned"],re["transfer"].failure])),Object(D["a"])((function(e){return e.meta.direction===Y["a"].SENT&&e.meta.secrethash===d})),Object(N["a"])((function(e){if(re["transfer"].failure.is(e))throw e.payload;return Object(ae["i"])(e.meta)}))),Object(T["a"])((function(){return y.store.dispatch(re["transfer"].request({tokenNetwork:i,target:n,value:c,paths:e,paymentId:s,secret:p,expiration:f},{secrethash:d,direction:Y["a"].SENT})),x["a"]})))}))).toPromise());case 17:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"waitTransfer",value:function(){var e=Ne(a.a.mark((function e(t){var n,r,o,i,c,s,u;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=Object(ae["j"])(t),o=r.direction,i=r.secrethash,c=this.state.transfers[t],c){e.next=14;break}return e.prev=3,e.t0=se["l"],e.t1=Y["d"],e.next=8,this.deps.db.get(t);case 8:e.t2=e.sent,c=(0,e.t0)(e.t1,e.t2),e.next=14;break;case 12:e.prev=12,e.t3=e["catch"](3);case 14:if(Object(J["a"])(c,pe["b"].RDN_UNKNOWN_TRANSFER,this.log.info),s=Object(ae["h"])(c),!s.completed){e.next=22;break}if(!s.success){e.next=21;break}return e.abrupt("return",s);case 21:throw new pe["c"](pe["b"].XFER_ALREADY_COMPLETED,{status:s.status});case 22:return e.next=24,Object(ue["a"])(re["transfer"],{secrethash:i,direction:o},this.action$);case 24:return e.next=26,this.state$.pipe(Object(U["a"])("transfers",t),Object(D["a"])((function(e){return!!e.unlockProcessed}))).toPromise();case 26:return u=e.sent,this.log.info("Transfer successful",{key:t,partner:u.partner,initiator:u.transfer.initiator,target:u.transfer.target,fee:u.fee.toString(),lockAmount:u.transfer.lock.amount.toString(),targetReceived:null===(n=u.secretRequest)||void 0===n?void 0:n.amount.toString(),transferTime:u.unlockProcessed.ts-u.transfer.ts}),e.abrupt("return",Object(ae["h"])(u));case 29:case"end":return e.stop()}}),e,this,[[3,12]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"findRoutes",value:function(){var e=Ne(a.a.mark((function e(t,n,r){var o,i,c,s,u,l,f=arguments;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=f.length>3&&void 0!==f[3]?f[3]:{},Object(J["a"])(se["a"].is(t),[pe["b"].DTA_INVALID_ADDRESS,{token:t}],this.log.info),Object(J["a"])(se["a"].is(n),[pe["b"].DTA_INVALID_ADDRESS,{target:n}],this.log.info),i=this.state.tokens[t],Object(J["a"])(i,pe["b"].RDN_UNKNOWN_TOKEN_NETWORK,this.log.info),c=Object(se["l"])(Object(se["j"])(32),r),s=o.pfs?Object(se["l"])(ie["c"],o.pfs):void 0,u={tokenNetwork:i,target:n,value:c},l=Object(ue["a"])(oe["pathFind"],u,this.action$).then((function(e){var t=e.paths;return t})),this.store.dispatch(oe["pathFind"].request({pfs:s},u)),e.abrupt("return",l);case 11:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"directRoute",value:function(){var e=Ne(a.a.mark((function e(t,n,r){var o,i,c,s;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return Object(J["a"])(se["a"].is(t),[pe["b"].DTA_INVALID_ADDRESS,{token:t}],this.log.info),Object(J["a"])(se["a"].is(n),[pe["b"].DTA_INVALID_ADDRESS,{target:n}],this.log.info),o=this.state.tokens[t],Object(J["a"])(o,pe["b"].RDN_UNKNOWN_TOKEN_NETWORK,this.log.info),i=Object(se["l"])(Object(se["j"])(32),r),c={tokenNetwork:o,target:n,value:i},s=Object(ue["a"])(oe["pathFind"],c,this.action$).then((function(e){var t=e.paths;return t}),(function(){})),this.store.dispatch(oe["pathFind"].request({pfs:null},c)),e.abrupt("return",s);case 9:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"findPFS",value:function(){var e=Ne(a.a.mark((function e(){var t=this;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return Object(J["a"])(null!==this.config.pfs,pe["b"].PFS_DISABLED,this.log.info),e.abrupt("return",(this.config.pfs?Object(k["a"])([this.config.pfs]):this.deps.latest$.pipe(Object(le["e"])("pfsList"),Object(D["a"])((function(e){return e.length>0})))).pipe(Object(C["a"])((function(e){return Object(ce["d"])(e,t.deps)}))).toPromise());case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"mint",value:function(){var e=Ne(a.a.mark((function e(t,n){var r,o,i,c,s,u,l,f,p,d,b=arguments;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=b.length>2&&void 0!==b[2]?b[2]:{},o=r.subkey,i=r.to,Object(J["a"])(se["a"].is(t),[pe["b"].DTA_INVALID_ADDRESS,{token:t}],this.log.info),Object(J["a"])(!o||this.deps.main,pe["b"].RDN_SUBKEY_NOT_SET,this.log.info),Object(J["a"])(1!==this.deps.network.chainId,pe["b"].RDN_MINT_MAINNET,this.log.info),c=Object(fe["b"])(this.deps,null!==o&&void 0!==o?o:this.config.subkey),s=c.signer,u=c.address,l=$["a"].connect(t,s),f=null!==i&&void 0!==i?i:u,Object(J["a"])(se["a"].is(f),[pe["b"].DTA_INVALID_ADDRESS,{beneficiary:f}],this.log.info),p=Object(se["l"])(Object(se["j"])(32),n,pe["b"].DTA_INVALID_AMOUNT),e.next=11,Object(fe["a"])(l,"mintFor",[p,f],pe["b"].RDN_MINT_FAILED,{log:this.log});case 11:return d=e.sent,e.next=14,Object(fe["l"])(d,this.deps,1);case 14:return e.abrupt("return",d.transactionHash);case 15:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"getUDCCapacity",value:function(){var e=Ne(a.a.mark((function e(){var t,n,r;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(fe["h"])(this.deps.latest$);case 2:return t=e.sent,n=this.state.blockNumber,r=Object.values(this.state.iou).reduce((function(e,t){return[].concat(me(e),me(Object.values(t).filter((function(e){return e.expiration_block.gte(n)}))))}),[]).reduce((function(e,t){return e.add(t.amount)}),u["f"]),e.abrupt("return",t.sub(r));case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"depositToUDC",value:function(){var e=Ne(a.a.mark((function e(t,n){var r,o,i,c,s,l,f,p,d=arguments;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=d.length>2&&void 0!==d[2]?d[2]:{},o=r.subkey,Object(J["a"])(!o||this.deps.main,pe["b"].RDN_SUBKEY_NOT_SET,this.log.info),i=Object(se["l"])(Object(se["j"])(32),t,pe["b"].DTA_INVALID_DEPOSIT,this.log.info),Object(J["a"])(i.gt(u["f"]),pe["b"].DTA_NON_POSITIVE_NUMBER,this.log.info),e.next=6,this.deps.userDepositContract.callStatic.total_deposit(this.address);case 6:return c=e.sent,s={totalDeposit:c.add(i)},l=Object(ue["a"])(oe["udcDeposit"],s,this.action$,!1).then((function(e){return e.txHash})),this.store.dispatch(oe["udcDeposit"].request({deposit:i,subkey:o},s)),e.next=12,l;case 12:return f=e.sent,null===n||void 0===n||n({type:q["a"].DEPOSITED,payload:{txHash:f}}),p=Object(ue["a"])(oe["udcDeposit"],s,this.action$,!0).then((function(e){return e.txHash})),e.next=17,p;case 17:return f=e.sent,null===n||void 0===n||n({type:q["a"].CONFIRMED,payload:{txHash:f}}),e.abrupt("return",f);case 20:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"transferOnchainBalance",value:function(){var e=Ne(a.a.mark((function e(t){var n,r,o,i,s,l,f,p,d,b,y,h,m,v,O=arguments;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=O.length>1&&void 0!==O[1]?O[1]:u["a"],r=O.length>2&&void 0!==O[2]?O[2]:{},o=r.subkey,i=r.gasPrice,Object(J["a"])(se["a"].is(t),[pe["b"].DTA_INVALID_ADDRESS,{to:t}],this.log.info),Object(J["a"])(!o||this.deps.main,pe["b"].RDN_SUBKEY_NOT_SET,this.log.info),s=Object(fe["b"])(this.deps,null!==o&&void 0!==o?o:this.config.subkey),l=s.signer,f=s.address,!i){e.next=9;break}e.t0=c["a"].from(i),e.next=12;break;case 9:return e.next=11,this.deps.provider.getGasPrice();case 11:e.t0=e.sent;case 12:return p=e.t0,d=c["a"].from(21e3),e.next=16,this.getBalance(f);case 16:return b=e.sent,y=b.sub(p.mul(d)),Object(J["a"])(y.gt(u["f"]),[pe["b"].RDN_INSUFFICIENT_BALANCE,{transferable:y.toString()}],this.log.info),h=y.lte(n)?y:c["a"].from(n),e.next=22,l.sendTransaction({to:t,value:h,gasPrice:p,gasLimit:d});case 22:return m=e.sent,e.next=25,m.wait();case 25:return v=e.sent,Object(J["a"])(v.status,pe["b"].RDN_TRANSFER_ONCHAIN_BALANCE_FAILED,this.log.info),e.abrupt("return",m.hash);case 28:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"transferOnchainTokens",value:function(){var e=Ne(a.a.mark((function e(t,n){var r,o,i,s,l,f,p,d,b,y,h=arguments;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=h.length>2&&void 0!==h[2]?h[2]:u["a"],o=h.length>3&&void 0!==h[3]?h[3]:{},i=o.subkey,Object(J["a"])(se["a"].is(t),[pe["b"].DTA_INVALID_ADDRESS,{token:t}],this.log.info),Object(J["a"])(se["a"].is(n),[pe["b"].DTA_INVALID_ADDRESS,{to:n}],this.log.info),Object(J["a"])(!i||this.deps.main,pe["b"].RDN_SUBKEY_NOT_SET,this.log.info),s=Object(fe["b"])(this.deps,null!==i&&void 0!==i?i:this.config.subkey),l=s.signer,f=s.address,p=Object(fe["d"])(this.deps.getTokenContract(t),l),e.next=9,this.getTokenBalance(t,f);case 9:return d=e.sent,b=d.lte(r)?d:c["a"].from(r),e.next=13,Object(fe["a"])(p,"transfer",[n,b],pe["b"].RDN_TRANSFER_ONCHAIN_TOKENS_FAILED,{log:this.log});case 13:return y=e.sent,e.abrupt("return",y.transactionHash);case 15:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"planUdcWithdraw",value:function(){var e=Ne(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={amount:Object(se["l"])(Object(se["j"])(32),t,pe["b"].DTA_INVALID_AMOUNT,this.log.error)},r=Object(ue["a"])(oe["udcWithdraw"],n,this.action$,!0).then((function(e){var t=e.txHash;return t})),this.store.dispatch(oe["udcWithdraw"].request(void 0,n)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"withdrawChannel",value:function(){var e=Ne(a.a.mark((function e(t,n,r){var o,i,c,s,u,l,f,p,d,b;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return Object(J["a"])(se["a"].is(t),[pe["b"].DTA_INVALID_ADDRESS,{token:t}],this.log.info),Object(J["a"])(se["a"].is(n),[pe["b"].DTA_INVALID_ADDRESS,{partner:n}],this.log.info),o=this.state.tokens[t],Object(J["a"])(o,pe["b"].RDN_UNKNOWN_TOKEN_NETWORK,this.log.info),i=this.state.channels[Object(te["d"])({tokenNetwork:o,partner:n})],Object(J["a"])((null===i||void 0===i?void 0:i.state)===X["b"].open,pe["b"].CNL_NO_OPEN_CHANNEL_FOUND,this.log.error),c=Object(te["c"])(i),s=c.ownWithdrawable,u=c.ownWithdraw,l=Object(se["l"])(Object(se["j"])(32),null!==r&&void 0!==r?r:s,pe["b"].DTA_INVALID_AMOUNT,this.log.info),f=u.add(l),p=this.state.blockNumber+2*this.config.revealTimeout,d={direction:Y["a"].SENT,tokenNetwork:o,partner:n,totalWithdraw:f,expiration:p},b=Object(ue["a"])(re["withdraw"],d,this.action$,!0).then((function(e){var t=e.txHash;return t})),this.store.dispatch(re["withdraw"].request(void 0,d)),e.abrupt("return",b);case 14:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"suggestPartners",value:function(){var e=Ne(a.a.mark((function e(t){var n,r,o,i,c=this,s=arguments;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=s.length>1&&void 0!==s[1]?s[1]:{},Object(J["a"])(se["a"].is(t),[pe["b"].DTA_INVALID_ADDRESS,{token:t}],this.log.info),r=this.state.tokens[t],Object(J["a"])(r,pe["b"].RDN_UNKNOWN_TOKEN_NETWORK,this.log.info),!n.pfs){e.next=8;break}e.t0=[Object(se["l"])(ie["c"],n.pfs)],e.next=11;break;case 8:return e.next=10,this.findPFS();case 10:e.t0=e.sent;case 11:return o=e.t0,e.abrupt("return",Object(A["a"])(o).pipe(Object(L["a"])((function(e){return Object(F["a"])("".concat(e.url,"/api/v1/").concat(r,"/suggest_partner"),{method:"GET",headers:{"Content-Type":"application/json"}}).pipe(Object(M["a"])(c.config.httpTimeout),Object(C["a"])(function(){var e=Ne(a.a.mark((function e(t){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t.text());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(N["a"])((function(e){var t=Object(se["l"])(ie["f"],Object(ye["b"])(e));if(!t.length)throw i=[],new Error("PFS returned no suggested partners");return t})),Object(B["a"])((function(t){return c.log.info("Could not fetch PFS suggested partners",e,t),i||(i=t),x["a"]})))})),Object(D["a"])(),Object(B["a"])((function(e){return Array.isArray(i)?Object(k["a"])(i):Object(S["a"])(null!==(t=i)&&void 0!==t?t:e);var t}))).toPromise());case 13:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"started",get:function(){if(!this.epicMiddleware)return void 0===this.epicMiddleware}},{key:"state",get:function(){return this.store.getState()}},{key:"address",get:function(){return this.deps.address}},{key:"mainAddress",get:function(){var e;return null===(e=this.deps.main)||void 0===e?void 0:e.address}},{key:"network",get:function(){return this.deps.network}},{key:"contractsInfo",get:function(){return this.deps.contractsInfo}}],[{key:"create",value:function(){var e=Ne(a.a.mark((function e(t,n,r,c,s,u,l){var f,p,d,b,y,h,m,v,j,w,_;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return f="string"===typeof t?new o["a"](t):t instanceof o["a"]?t:new i["a"](t),e.next=3,f.getNetwork();case 3:if(p=e.sent,c){e.next=8;break}d=Object(fe["e"])(p),e.next=16;break;case 8:if("string"!==typeof c){e.next=15;break}return Object(J["a"])(se["a"].is(c),[pe["b"].DTA_INVALID_ADDRESS,{contractsOrUserDepositAddress:c}]),e.next=12,Object(fe["c"])(f,c);case 12:d=e.sent,e.next=16;break;case 15:d=c;case 16:return e.next=18,Object(fe["f"])(n,f,u,l);case 18:return b=e.sent,y=b.signer,h=b.address,m=b.main,e.next=24,Object(fe["g"])({network:p,contractsInfo:d,address:h,log:V.a.getLogger("raiden:".concat(h))},r);case 24:return v=e.sent,j=v.state,w=v.db,Object(J["a"])(h===j.address,[pe["b"].RDN_STATE_ADDRESS_MISMATCH,{account:h,state:j.address}]),Object(J["a"])(p.chainId===j.chainId&&d.TokenNetworkRegistry.address===j.registry,[pe["b"].RDN_STATE_NETWORK_MISMATCH,{network:p.chainId,contracts:d.TokenNetworkRegistry.address,stateNetwork:j.chainId,stateRegistry:j.registry}]),_=s&&Object(se["l"])(G["a"],g()(s,O.a)),e.abrupt("return",new this(f,p,y,d,{db:w,state:j,config:_},m));case 31:case"end":return e.stop()}}),e,this)})));function t(t,n,r,a,o,i,c){return e.apply(this,arguments)}return t}()},{key:"version",get:function(){return H.sdk}},{key:"contractVersion",get:function(){return H.contracts}}]),t}()}).call(this,n("6fc9"))},d276:function(e,t,n){"use strict";n.d(t,"e",(function(){return E})),n.d(t,"b",(function(){return T})),n.d(t,"c",(function(){return x})),n.d(t,"g",(function(){return S})),n.d(t,"f",(function(){return P})),n.d(t,"a",(function(){return N})),n.d(t,"d",(function(){return D}));var r=n("36d8"),a=n.n(r),o=n("2111"),i=n("53b1"),c=n.n(i),s=n("cefa"),u=n("0eb1"),l=n("7f4a"),f=n("f2df"),p=n("ee6c"),d=n("ca14");function b(e){return v(e)||m(e)||h(e)||y()}function y(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(e,t){if(e){if("string"===typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(e,t):void 0}}function m(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function v(e){if(Array.isArray(e))return O(e)}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function j(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function g(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){j(o,r,a,i,c,"next",e)}function c(e){j(o,r,a,i,c,"throw",e)}i(void 0)}))}}function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){k(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e){var t=Array.isArray(e)?e:[e];function n(e){return null!=e&&t.some((function(t){return t.is(e)}))}return(arguments.length<=1?0:arguments.length-1)>0?n(arguments.length<=1?void 0:arguments[1]):n}function T(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],a=t[1],i=t[2],c=t[3],s=o["v"](_(_(_({type:o["l"](r)},a?{payload:a}:null),i?{meta:i}:null),c?{error:o["l"](c)}:null)),u=function(e){return(null===e||void 0===e?void 0:e["type"])===r},l=_({codec:s,type:r,is:u},void 0!==c?{error:c}:null),f=function(e,t){return _(_(_({type:r},a?{payload:e}:null),i?{meta:t}:null),void 0!==c?{error:c}:null)};return Object.assign(f,l)}function x(e,t,n,r,a,i){var c=!(arguments.length<=6)&&arguments.length-6?arguments.length<=6?void 0:arguments[6]:o["c"],s=T(t,a,e),u=T(n,i,e),l=T(r,c,e,!0);return{request:s,success:u,failure:l}}function A(e){var t=function(t){return c()(t.meta,e,(function(e,t){return d["b"].is(e)&&d["b"].is(t)?e.eq(t):void 0}))};return!(arguments.length<=1)&&arguments.length-1?t(arguments.length<=1?void 0:arguments[1]):t}function S(e,t){var n=function(n){return E([e.success,e.failure],n)&&A(t,n)};return!(arguments.length<=2)&&arguments.length-2?n(arguments.length<=2?void 0:arguments[2]):n}function P(e,t){function n(e){var t;return"boolean"===typeof(null===e||void 0===e||null===(t=e["payload"])||void 0===t?void 0:t["confirmed"])}var r=function(r){return S(e,t,r)&&(e.failure.is(r)||n(r))};return!(arguments.length<=2)&&arguments.length-2?r(arguments.length<=2?void 0:arguments[2]):r}function N(e,t,n,r){return R.apply(this,arguments)}function R(){return R=g(a.a.mark((function e(t,n,r,o){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",r.pipe(Object(s["a"])(o?P(t,n):S(t,n)),Object(u["a"])((function(e){return void 0===o||!t.success.is(e)||"confirmed"in e.payload})),Object(l["a"])((function(e){var n;if(t.failure.is(e))throw e.payload;if(!1===(null===(n=e.payload)||void 0===n?void 0:n.confirmed))throw new p["c"](p["b"].RDN_TRANSACTION_REORG,{transactionHash:e.payload.txHash});return e.payload}))).toPromise());case 1:case"end":return e.stop()}}),e)}))),R.apply(this,arguments)}function D(e){function t(n){var r=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,r=arguments.length>1?arguments[1]:void 0;return r.type in n&&n[r.type][0].is(r)?n[r.type][1](t,r):t};function a(e,r){var a=Array.isArray(e)?e:[e];return Object(f["a"])(!a.some((function(e){return e.type in n})),"Already handled"),t(Object.assign.apply(Object,[{},n].concat(b(a.map((function(e){return k({},e.type,[e,r])}))))))}return Object.assign(r,{handle:a})}return t({})}},d43a:function(e,t,n){e.exports=n.p+"img/udc_info.92f96cdc.svg"},d890:function(e,t,n){"use strict";n.r(t),n.d(t,"matrixSetup",(function(){return s})),n.d(t,"matrixPresence",(function(){return u})),n.d(t,"matrixRoom",(function(){return l})),n.d(t,"matrixRoomLeave",(function(){return f})),n.d(t,"rtcChannel",(function(){return p}));var r=n("2111"),a=n("d276"),o=n("ca14"),i=n("ee57"),c=r["v"]({address:o["a"]}),s=Object(a["b"])("matrix/setup",r["v"]({server:r["s"],setup:i["a"]})),u=Object(a["c"])(c,"matrix/presence/request","matrix/presence/success","matrix/presence/failure",void 0,r["j"]([r["v"]({userId:r["s"],available:r["e"],ts:r["n"]}),r["o"]({caps:r["r"](r["s"],r["c"])})])),l=Object(a["b"])("matrix/room",r["v"]({roomId:r["s"]}),c),f=Object(a["b"])("matrix/room/leave",r["v"]({roomId:r["s"]}),c),p=Object(a["b"])("rtc/channel",r["x"]([r["w"],Object(o["m"])(RTCDataChannel)]),c)},d8a5:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e["NONE"]="none",e["INFO"]="info",e["WARNING"]="warning",e["ERROR"]="error"}(r||(r={}))},db2c5:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var r=n("36d8"),a=n.n(r),o=n("605b"),i=n.n(o),c=n("ee6c");function s(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=b(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){return m(e)||h(e,t)||b(e,t)||d()}function d(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function b(e,t){if(e){if("string"===typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)if(n.push(i.value),t&&n.length===t)break}catch(s){a=!0,o=s}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return n}}function m(e){if(Array.isArray(e))return e}function v(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function O(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){v(o,r,a,i,c,"next",e)}function c(e){v(o,r,a,i,c,"throw",e)}i(void 0)}))}}function j(e){var t={},n=function(){var n=O(a.a.mark((function n(){var r;return a.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.info();case 2:Object(c["d"])(!e.__opts.versionchanged,c["b"].RDN_DATABASE_DELETED),r=a.a.mark((function n(){var r,o,i,c,u,f,d,b;return a.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=t,t={},o=Object.keys(r),n.next=5,e.allDocs({keys:o});case 5:return i=n.sent,c=function(e){var t=i.rows.find((function(t){return t.id===e}));return null!==t&&void 0!==t&&t.value.deleted?{_rev:t.value.rev,deleted:!1}:t&&!("error"in t)?{_rev:t.value.rev}:void 0},n.next=9,e.bulkDocs(Object.entries(r).map((function(e){var t=p(e,2),n=t[0],r=t[1];return l(l({},r),{},{_id:n},c(n))})));case 9:u=n.sent,f=s(u);try{for(f.s();!(d=f.n()).done;)b=d.value,"error"in b&&b.error&&b.id&&!(b.id in t)&&(t[b.id]=r[b.id])}catch(a){f.e(a)}finally{f.f()}case 12:case"end":return n.stop()}}),n)}));case 4:if(i()(t)){n.next=8;break}return n.delegateYield(r(),"t0",6);case 6:n.next=4;break;case 8:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return function(r){return function(a){return function(o){var i=r.getState(),c=a(o),s=r.getState();if(s===i)return c;for(var u in s){var f=u;if(s[f]!==i[f])if("channels"===f||"oldChannels"===f){for(var p in s[f])if(s[f][p]!==i[f][p]){var d="channels.".concat(s[f][p]._id);e.storageKeys.add(d),t[d]=s[f][p]}}else if("transfers"===f){for(var b in s.transfers)s.transfers[b]!==i.transfers[b]&&(e.storageKeys.add(b),t[b]=s.transfers[b]);for(var y in i.transfers)y in s.transfers||(t[y]=l(l({},i.transfers[y]),{},{cleared:Date.now()}))}else{var h="state.".concat(f);e.storageKeys.add(h),t[h]={value:s[f]}}}return e.busy$.value||(e.busy$.next(!0),n().then((function(){return e.busy$.next(!1)}),(function(t){return e.busy$.error(t)}))),c}}}}},db7b:function(e,t,n){e.exports=n.p+"img/notifications.9b9982fe.svg"},de7d:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return w})),n.d(t,"e",(function(){return x})),n.d(t,"g",(function(){return R})),n.d(t,"f",(function(){return L})),n.d(t,"h",(function(){return V}));var r=n("bf95");function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}var c=function(){function e(){a(this,e)}return i(e,null,[{key:"connect",value:function(e,t){return new r["a"](e,s,t)}}]),e}(),s=[{inputs:[{internalType:"uint256",name:"initial_supply",type:"uint256"},{internalType:"uint8",name:"decimal_units",type:"uint8"},{internalType:"string",name:"token_name",type:"string"},{internalType:"string",name:"token_symbol",type:"string"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_owner",type:"address"},{indexed:!0,internalType:"address",name:"_spender",type:"address"},{indexed:!1,internalType:"uint256",name:"_value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_to",type:"address"},{indexed:!0,internalType:"uint256",name:"_num",type:"uint256"}],name:"Minted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_from",type:"address"},{indexed:!0,internalType:"address",name:"_to",type:"address"},{indexed:!1,internalType:"uint256",name:"_value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[],name:"_decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"address",name:"_spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"remaining",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_spender",type:"address"},{internalType:"uint256",name:"_value",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"balance",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"balances",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"decimals",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"num",type:"uint256"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"num",type:"uint256"},{internalType:"address",name:"target",type:"address"}],name:"mintFor",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"multiplier",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner_address",outputs:[{internalType:"address payable",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"supply",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_value",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_from",type:"address"},{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"transferFunds",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"version",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}];function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}var p=function(){function e(){u(this,e)}return f(e,null,[{key:"connect",value:function(e,t){return new r["a"](e,d,t)}}]),e}(),d=[{inputs:[{internalType:"uint256",name:"_initialAmount",type:"uint256"},{internalType:"uint8",name:"_decimalUnits",type:"uint8"},{internalType:"string",name:"_tokenName",type:"string"},{internalType:"string",name:"_tokenSymbol",type:"string"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_owner",type:"address"},{indexed:!0,internalType:"address",name:"_spender",type:"address"},{indexed:!1,internalType:"uint256",name:"_value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_from",type:"address"},{indexed:!0,internalType:"address",name:"_to",type:"address"},{indexed:!1,internalType:"uint256",name:"_value",type:"uint256"}],name:"Transfer",type:"event"},{stateMutability:"nonpayable",type:"fallback"},{inputs:[],name:"_decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"address",name:"_spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"remaining",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_spender",type:"address"},{internalType:"uint256",name:"_value",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_spender",type:"address"},{internalType:"uint256",name:"_value",type:"uint256"},{internalType:"bytes",name:"_extraData",type:"bytes"}],name:"approveAndCall",outputs:[{internalType:"bool",name:"success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"balance",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"balances",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"decimals",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"supply",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_value",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_from",type:"address"},{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"version",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}];function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t,n){return t&&y(e.prototype,t),n&&y(e,n),e}var m=function(){function e(){b(this,e)}return h(e,null,[{key:"connect",value:function(e,t){return new r["a"](e,v,t)}}]),e}(),v=[{inputs:[{internalType:"address",name:"_token_address",type:"address"},{internalType:"address",name:"_service_registry_address",type:"address"},{internalType:"address",name:"_udc_address",type:"address"},{internalType:"address",name:"_token_network_registry_address",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"token_network_address",type:"address"},{indexed:!1,internalType:"uint256",name:"channel_identifier",type:"uint256"},{indexed:!1,internalType:"uint256",name:"reward_amount",type:"uint256"},{indexed:!0,internalType:"uint256",name:"nonce",type:"uint256"},{indexed:!0,internalType:"address",name:"ms_address",type:"address"},{indexed:!0,internalType:"address",name:"raiden_node_address",type:"address"}],name:"NewBalanceProofReceived",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"ms_address",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!0,internalType:"bytes32",name:"reward_identifier",type:"bytes32"}],name:"RewardClaimed",type:"event"},{inputs:[{internalType:"uint256",name:"channel_identifier",type:"uint256"},{internalType:"address",name:"token_network_address",type:"address"},{internalType:"address",name:"closing_participant",type:"address"},{internalType:"address",name:"non_closing_participant",type:"address"}],name:"claimReward",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"contract_address",type:"address"}],name:"contractExists",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"closed_at_block",type:"uint256"},{internalType:"uint256",name:"settle_timeout",type:"uint256"},{internalType:"address",name:"participant1",type:"address"},{internalType:"address",name:"participant2",type:"address"},{internalType:"address",name:"monitoring_service_address",type:"address"}],name:"firstBlockAllowedToMonitor",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"closing_participant",type:"address"},{internalType:"address",name:"non_closing_participant",type:"address"},{internalType:"bytes32",name:"balance_hash",type:"bytes32"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"bytes32",name:"additional_hash",type:"bytes32"},{internalType:"bytes",name:"closing_signature",type:"bytes"},{internalType:"bytes",name:"non_closing_signature",type:"bytes"},{internalType:"uint256",name:"reward_amount",type:"uint256"},{internalType:"address",name:"token_network_address",type:"address"},{internalType:"bytes",name:"reward_proof_signature",type:"bytes"}],name:"monitor",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"service_registry",outputs:[{internalType:"contract ServiceRegistry",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"token",outputs:[{internalType:"contract Token",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"token_network_registry",outputs:[{internalType:"contract TokenNetworkRegistry",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"user_deposit",outputs:[{internalType:"contract UserDeposit",name:"",type:"address"}],stateMutability:"view",type:"function"}];function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t,n){return t&&j(e.prototype,t),n&&j(e,n),e}var w=function(){function e(){O(this,e)}return g(e,null,[{key:"connect",value:function(e,t){return new r["a"](e,_,t)}}]),e}(),_=[{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"secrethash",type:"bytes32"},{indexed:!1,internalType:"bytes32",name:"secret",type:"bytes32"}],name:"SecretRevealed",type:"event"},{inputs:[{internalType:"bytes32",name:"secrethash",type:"bytes32"}],name:"getSecretRevealBlockHeight",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"secret",type:"bytes32"}],name:"registerSecret",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32[]",name:"secrets",type:"bytes32[]"}],name:"registerSecretBatch",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}];function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function T(e,t,n){return t&&E(e.prototype,t),n&&E(e,n),e}var x=function(){function e(){k(this,e)}return T(e,null,[{key:"connect",value:function(e,t){return new r["a"](e,A,t)}}]),e}(),A=[{inputs:[{internalType:"address",name:"_token_for_registration",type:"address"},{internalType:"address",name:"_controller",type:"address"},{internalType:"uint256",name:"_initial_price",type:"uint256"},{internalType:"uint256",name:"_price_bump_numerator",type:"uint256"},{internalType:"uint256",name:"_price_bump_denominator",type:"uint256"},{internalType:"uint256",name:"_decay_constant",type:"uint256"},{internalType:"uint256",name:"_min_price",type:"uint256"},{internalType:"uint256",name:"_registration_duration",type:"uint256"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"service",type:"address"},{indexed:!1,internalType:"uint256",name:"valid_till",type:"uint256"},{indexed:!1,internalType:"uint256",name:"deposit_amount",type:"uint256"},{indexed:!1,internalType:"contract Deposit",name:"deposit_contract",type:"address"}],name:"RegisteredService",type:"event"},{inputs:[{internalType:"uint256",name:"_price_bump_numerator",type:"uint256"},{internalType:"uint256",name:"_price_bump_denominator",type:"uint256"},{internalType:"uint256",name:"_decay_constant",type:"uint256"},{internalType:"uint256",name:"_min_price",type:"uint256"},{internalType:"uint256",name:"_registration_duration",type:"uint256"}],name:"changeParameters",outputs:[{internalType:"bool",name:"_success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"contract_address",type:"address"}],name:"contractExists",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"controller",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"currentPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decay_constant",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_set_price",type:"uint256"},{internalType:"uint256",name:"_seconds_passed",type:"uint256"}],name:"decayedPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_limit_amount",type:"uint256"}],name:"deposit",outputs:[{internalType:"bool",name:"_success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"deprecated",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"everMadeDepositsLen",outputs:[{internalType:"uint256",name:"_len",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"ever_made_deposits",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_address",type:"address"}],name:"hasValidRegistration",outputs:[{internalType:"bool",name:"_has_registration",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"min_price",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"price_bump_denominator",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"price_bump_numerator",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"registration_duration",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"service_valid_till",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"setDeprecationSwitch",outputs:[{internalType:"bool",name:"_success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"new_url",type:"string"}],name:"setURL",outputs:[{internalType:"bool",name:"_success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"set_price",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"set_price_at",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"token",outputs:[{internalType:"contract Token",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"urls",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}];function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function N(e,t,n){return t&&P(e.prototype,t),n&&P(e,n),e}var R=function(){function e(){S(this,e)}return N(e,null,[{key:"connect",value:function(e,t){return new r["a"](e,D,t)}}]),e}(),D=[{inputs:[{internalType:"address",name:"_token_address",type:"address"},{internalType:"address",name:"_secret_registry",type:"address"},{internalType:"uint256",name:"_chain_id",type:"uint256"},{internalType:"uint256",name:"_settlement_timeout_min",type:"uint256"},{internalType:"uint256",name:"_settlement_timeout_max",type:"uint256"},{internalType:"address",name:"_deprecation_executor",type:"address"},{internalType:"uint256",name:"_channel_participant_deposit_limit",type:"uint256"},{internalType:"uint256",name:"_token_network_deposit_limit",type:"uint256"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"channel_identifier",type:"uint256"},{indexed:!0,internalType:"address",name:"closing_participant",type:"address"},{indexed:!0,internalType:"uint256",name:"nonce",type:"uint256"},{indexed:!1,internalType:"bytes32",name:"balance_hash",type:"bytes32"}],name:"ChannelClosed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"channel_identifier",type:"uint256"},{indexed:!0,internalType:"address",name:"participant",type:"address"},{indexed:!1,internalType:"uint256",name:"total_deposit",type:"uint256"}],name:"ChannelNewDeposit",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"channel_identifier",type:"uint256"},{indexed:!0,internalType:"address",name:"participant1",type:"address"},{indexed:!0,internalType:"address",name:"participant2",type:"address"},{indexed:!1,internalType:"uint256",name:"settle_timeout",type:"uint256"}],name:"ChannelOpened",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"channel_identifier",type:"uint256"},{indexed:!1,internalType:"uint256",name:"participant1_amount",type:"uint256"},{indexed:!1,internalType:"bytes32",name:"participant1_locksroot",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"participant2_amount",type:"uint256"},{indexed:!1,internalType:"bytes32",name:"participant2_locksroot",type:"bytes32"}],name:"ChannelSettled",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"channel_identifier",type:"uint256"},{indexed:!0,internalType:"address",name:"receiver",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"bytes32",name:"locksroot",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"unlocked_amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"returned_tokens",type:"uint256"}],name:"ChannelUnlocked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"channel_identifier",type:"uint256"},{indexed:!0,internalType:"address",name:"participant",type:"address"},{indexed:!1,internalType:"uint256",name:"total_withdraw",type:"uint256"}],name:"ChannelWithdraw",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bool",name:"new_value",type:"bool"}],name:"DeprecationSwitch",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"channel_identifier",type:"uint256"},{indexed:!0,internalType:"address",name:"closing_participant",type:"address"},{indexed:!0,internalType:"uint256",name:"nonce",type:"uint256"},{indexed:!1,internalType:"bytes32",name:"balance_hash",type:"bytes32"}],name:"NonClosingBalanceProofUpdated",type:"event"},{inputs:[],name:"MAX_SAFE_UINT256",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"chain_id",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"channel_counter",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"channel_participant_deposit_limit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"channels",outputs:[{internalType:"uint256",name:"settle_block_number",type:"uint256"},{internalType:"enum TokenNetwork.ChannelState",name:"state",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"channel_identifier",type:"uint256"},{internalType:"address",name:"non_closing_participant",type:"address"},{internalType:"address",name:"closing_participant",type:"address"},{internalType:"bytes32",name:"balance_hash",type:"bytes32"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"bytes32",name:"additional_hash",type:"bytes32"},{internalType:"bytes",name:"non_closing_signature",type:"bytes"},{internalType:"bytes",name:"closing_signature",type:"bytes"}],name:"closeChannel",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"contract_address",type:"address"}],name:"contractExists",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"deprecate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"deprecation_executor",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"participant",type:"address"},{internalType:"address",name:"partner",type:"address"}],name:"getChannelIdentifier",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"channel_identifier",type:"uint256"},{internalType:"address",name:"participant1",type:"address"},{internalType:"address",name:"participant2",type:"address"}],name:"getChannelInfo",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"enum TokenNetwork.ChannelState",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"channel_identifier",type:"uint256"},{internalType:"address",name:"participant",type:"address"},{internalType:"address",name:"partner",type:"address"}],name:"getChannelParticipantInfo",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bool",name:"",type:"bool"},{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"participant",type:"address"},{internalType:"address",name:"partner",type:"address"}],name:"getParticipantsHash",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"channel_identifier",type:"uint256"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"receiver",type:"address"}],name:"getUnlockIdentifier",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"participant1",type:"address"},{internalType:"address",name:"participant2",type:"address"},{internalType:"uint256",name:"settle_timeout",type:"uint256"}],name:"openChannel",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"participants_hash_to_channel_identifier",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"safety_deprecation_switch",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"secret_registry",outputs:[{internalType:"contract SecretRegistry",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"channel_identifier",type:"uint256"},{internalType:"address",name:"participant",type:"address"},{internalType:"uint256",name:"total_deposit",type:"uint256"},{internalType:"address",name:"partner",type:"address"}],name:"setTotalDeposit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"channel_identifier",type:"uint256"},{internalType:"address",name:"participant",type:"address"},{internalType:"uint256",name:"total_withdraw",type:"uint256"},{internalType:"uint256",name:"expiration_block",type:"uint256"},{internalType:"bytes",name:"participant_signature",type:"bytes"},{internalType:"bytes",name:"partner_signature",type:"bytes"}],name:"setTotalWithdraw",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"channel_identifier",type:"uint256"},{internalType:"address",name:"participant1",type:"address"},{internalType:"uint256",name:"participant1_transferred_amount",type:"uint256"},{internalType:"uint256",name:"participant1_locked_amount",type:"uint256"},{internalType:"bytes32",name:"participant1_locksroot",type:"bytes32"},{internalType:"address",name:"participant2",type:"address"},{internalType:"uint256",name:"participant2_transferred_amount",type:"uint256"},{internalType:"uint256",name:"participant2_locked_amount",type:"uint256"},{internalType:"bytes32",name:"participant2_locksroot",type:"bytes32"}],name:"settleChannel",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"channel_identifier",type:"uint256"},{components:[{internalType:"address",name:"participant",type:"address"},{internalType:"uint256",name:"transferred_amount",type:"uint256"},{internalType:"uint256",name:"locked_amount",type:"uint256"},{internalType:"bytes32",name:"locksroot",type:"bytes32"}],internalType:"struct TokenNetwork.SettleInput",name:"participant1_settlement",type:"tuple"},{components:[{internalType:"address",name:"participant",type:"address"},{internalType:"uint256",name:"transferred_amount",type:"uint256"},{internalType:"uint256",name:"locked_amount",type:"uint256"},{internalType:"bytes32",name:"locksroot",type:"bytes32"}],internalType:"struct TokenNetwork.SettleInput",name:"participant2_settlement",type:"tuple"}],name:"settleChannel2",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"settlement_timeout_max",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"settlement_timeout_min",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"signature_prefix",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"token",outputs:[{internalType:"contract Token",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"token_network_deposit_limit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"channel_identifier",type:"uint256"},{internalType:"address",name:"receiver",type:"address"},{internalType:"address",name:"sender",type:"address"},{internalType:"bytes",name:"locks",type:"bytes"}],name:"unlock",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"channel_identifier",type:"uint256"},{internalType:"address",name:"closing_participant",type:"address"},{internalType:"address",name:"non_closing_participant",type:"address"},{internalType:"bytes32",name:"balance_hash",type:"bytes32"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"bytes32",name:"additional_hash",type:"bytes32"},{internalType:"bytes",name:"closing_signature",type:"bytes"},{internalType:"bytes",name:"non_closing_signature",type:"bytes"}],name:"updateNonClosingBalanceProof",outputs:[],stateMutability:"nonpayable",type:"function"}];function I(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function U(e,t,n){return t&&C(e.prototype,t),n&&C(e,n),e}var L=function(){function e(){I(this,e)}return U(e,null,[{key:"connect",value:function(e,t){return new r["a"](e,M,t)}}]),e}(),M=[{inputs:[{internalType:"address",name:"_secret_registry_address",type:"address"},{internalType:"uint256",name:"_chain_id",type:"uint256"},{internalType:"uint256",name:"_settlement_timeout_min",type:"uint256"},{internalType:"uint256",name:"_settlement_timeout_max",type:"uint256"},{internalType:"uint256",name:"_max_token_networks",type:"uint256"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"token_address",type:"address"},{indexed:!0,internalType:"address",name:"token_network_address",type:"address"}],name:"TokenNetworkCreated",type:"event"},{inputs:[],name:"chain_id",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"contract_address",type:"address"}],name:"contractExists",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_token_address",type:"address"},{internalType:"uint256",name:"_channel_participant_deposit_limit",type:"uint256"},{internalType:"uint256",name:"_token_network_deposit_limit",type:"uint256"}],name:"createERC20TokenNetwork",outputs:[{internalType:"address",name:"token_network_address",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"deprecation_executor",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"max_token_networks",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"secret_registry_address",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"settlement_timeout_max",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"settlement_timeout_min",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"token_network_created",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"token_to_token_networks",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}];function B(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function W(e,t,n){return t&&F(e.prototype,t),n&&F(e,n),e}var V=function(){function e(){B(this,e)}return W(e,null,[{key:"connect",value:function(e,t){return new r["a"](e,$,t)}}]),e}(),$=[{inputs:[{internalType:"address",name:"_token_address",type:"address"},{internalType:"uint256",name:"_whole_balance_limit",type:"uint256"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!1,internalType:"uint256",name:"newBalance",type:"uint256"}],name:"BalanceReduced",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"withdrawer",type:"address"},{indexed:!1,internalType:"uint256",name:"plannedBalance",type:"uint256"}],name:"WithdrawPlanned",type:"event"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"balances",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"contract_address",type:"address"}],name:"contractExists",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"beneficiary",type:"address"},{internalType:"uint256",name:"new_total_deposit",type:"uint256"}],name:"deposit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"effectiveBalance",outputs:[{internalType:"uint256",name:"remaining_balance",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_msc_address",type:"address"},{internalType:"address",name:"_one_to_n_address",type:"address"}],name:"init",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"msc_address",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"one_to_n_address",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"planWithdraw",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"token",outputs:[{internalType:"contract Token",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"total_deposit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"receiver",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"whole_balance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"whole_balance_limit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdraw_delay",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"withdraw_plans",outputs:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"withdraw_block",type:"uint256"}],stateMutability:"view",type:"function"}]},ed43:function(e,t,n){},edd4:function(e){e.exports=JSON.parse('{"disclaimer":{"paragraphs":["This is a Beta version of experimental open source software released as a test version under an MIT license and may contain errors and/or bugs. No guarantee or representation whatsoever is made regarding its suitability (or its use) for any purpose or regarding its compliance with any applicable laws and regulations. Use of the software is at your own risk and discretion and by using the software you warrant and represent that you have read this disclaimer, understand its contents, assume all risk related thereto and hereby release, waive, discharge and covenant not to hold liable Brainbot Labs Establishment or any of its officers, employees or affiliates from and for any direct or indirect damage resulting from the the software or the use thereof. Such to the extent as permissible by applicable laws and regulations."," Privacy warning: Please be aware, that by using the Raiden Client, among others your Ethereum address, channels, channel deposits, settlements and the Ethereum address of your channel counterparty will be stored on the Ethereum chain, i.e. on servers of Ethereum node operators and ergo are to a certain extent publicly available. The same might also be stored on systems of parties running Raiden nodes connected to the same token network. Data present in the Ethereum chain is very unlikely to be able to be changed, removed or deleted from the public arena."," Also be aware, that data on individual Raiden token transfers will be made available via the Matrix protocol to the recipient, intermediating nodes of a specific transfer as well as to the Matrix server operators, see Raiden Transport Specification."],"accept-checkbox":"I have read, understood and hereby accept the above disclaimer and privacy warning","persist-checkbox":"Don\'t display this message on start up","accept-button":"Accept"},"info-overlay":{"done":"Close","transfer":{"header":"About Transfer","body":"Enter a recipient address and a token amount to make a transfer. You need to have an open channel with the recipient or with a hub that is connected to the recipient."},"transfer-steps":{"header":"About Direct and Mediated Transfers","body":"A direct transfer will be possible if you have an open channel with the recipient. In any other case, the PFS will try to find the best way to route your transfer to the recipient."},"select-hub":{"header":"About Selecting a Hub","body":"A Hub is a well-connected node. You can connect to a hub or to any other node. Make sure you have enough service tokens to pay for the monitoring and pathfinding service as well as a balance of your selected token."},"open-channel":{"header":"About Opening a Channel","body":"Opening a channel will connect you to your selected hub or node. You need to choose an amount to deposit in the channel. Later you can transfer small amounts of this deposit to any recipient in the network."},"channels":{"header":"About Channels","body":"This is an overview of all your open channels for the selected token. You can choose to close and settle any channel to withdraw your tokens."},"account-backup":{"header":"About Backing Up the State","body":"Your state is stored in the browser. You should continuously keep a backup of your state by downloading the latest JSON file and storing it somewhere safe."},"account-raiden":{"header":"About Transferring ETH","body":"You need ETH on your Raiden Account to withdraw your tokens. You can add ETH by transferring it from your main account."},"account-withdrawal":{"header":"About Withdrawing Tokens","body":"Withdraw tokens from your Raiden account back to your main account."},"account-udc":{"header":"About UDC","body":"Your User Deposit Contract stores the utility tokens necessary for paying the Pathfinding and Monitoring Service."}},"home":{"welcome":"Welcome to the Raiden dApp","connect-button":"Connect","connect-button-syncing":"Syncing","disclaimer":"The Raiden dApp is a reference implementation of the Raiden Light Client SDK. It is work in progress and can only be used on Ethereum testnets.","getting-started":{"description":"Read the {0} for detailed information on how to use the Raiden dApp.","link-name":"getting started guide"},"connect-dialog":{"title":"Connect","raiden-account":"Generate Account & Key","description-raiden-account":"A Raiden Account will be generated.","description-web3-account":"You can use your Web3 account directly by enabling it in the settings menu.","no-provider":"No Web3 provider detected, please install e.g. MetaMask."}},"notifications":{"no-notifications":"No notifications","clear":"Clear","block-count-progress":"Blocks until confirmation: ","tx-reorged-failure-reason":"The transaction could not get confirmed due to a reorg of the blockchain!","tx-state-confirmed":"confirmed","tx-state-pending":"not confirmed yet","backup-state":{"icon":"notification_state_backup","title":"Backup your state!","description":"Backup your state to not risk losing funds","link":"Click here to go to the backup state menu"},"ms-balance-proof":{"title":"Balance proof submitted","description":"A monitoring service successfully submitted a balance proof for a channel claiming a reward of {reward} {symbol}. Service: {monitoringService}, Partner: {partner}, Transaction: {txHash}"},"no-receive":{"icon":"notification_receive","title":"Receiving transfers disabled","description":"Check configuration and/or UDC balance"},"withdrawal":{"success":{"title":"User Deposit Withdraw Planned","description":"A planned withdrawal of {amount} {symbol} was successfully completed withdrawing {withdrawal} {symbol}"},"failure":{"title":"User Deposit Withdrawal","description":"The planned withdrawal of {amount} {symbol} failed: {message}","descriptions":{"UDC_WITHDRAW_NO_BALANCE":"We could not complete the withdrawal of {amount} {symbol} because there was not enough balance.","UDC_WITHDRAW_FAILED":"We could not complete the withdrawal of {amount} {symbol} because the transaction failed."}}},"withdrawn":{"icon":"notification_withdrawn","title":"User Deposit Tokens Withdrawn","description":"{withdrawnAmount} {symbol} ({plannedAmount} planned) have been withdrawn from the user deposit contract.","link":"Click here to transfer them to your main acccount."},"settlement":{"icon":"notification_settle","success":{"title":"Channel Settlement","description":"Channel with {partner} was settled."},"failure":{"title":"Channel Settlement","description":"Channel settlement with {partner} failed."}},"channel-open":{"icon":"notification_channels","success":{"title":"Channel Open","description":"Open channel with {partner} is {state}."},"failure":{"title":"Channel Open Failure","description":"{reason}"}}},"general":{"buttons":{"cancel":"Cancel","transfer":"Transfer","continue":"Continue","confirm":"Confirm"},"offline":"Please connect to the internet.","raiden-account":"Raiden Account","main-account":"Main Account"},"account-content":{"account-details":"Account Details","address":"Address:","account":{"main":"Main ETH:","raiden":"Raiden ETH:"},"menu-items":{"settings":{"title":"Settings","subtitle":"Change how you interact with the dApp"},"backup-state":{"title":"Backup State","subtitle":"Download or upload your state"},"report-bugs":{"title":"Download Logs","subtitle":"Download your logs"},"raiden-account":{"title":"Transfer ETH","subtitle":"Transfer ETH between main and Raiden account"},"withdrawal":{"title":"Withdraw Tokens","subtitle":"Transfer tokens from your Raiden account to your main account"},"udc":{"title":"Manage UDC Tokens","subtitle":"Transfer tokens from or to your User Deposit Contract"}}},"withdrawal":{"title":"Transfer tokens to your main Ethereum account.","navigation-link-title":"For service tokens, make sure you withdrew them at the UDC screen first.","dialog":{"title":"Withdraw {0}","body":"You are about to withdraw {0} from your Raiden account.","progress":"Withdrawing...","button":"Confirm","no-eth":"Your Raiden account does not have sufficient ETH to withdraw."},"blockie-alt":"Token address blockie","no-tokens":"The Raiden account has no tokens"},"udc":{"balance":"User Deposit Contract Balance","balance-too-low":"Balance is too low for services. Deposit at least {minAmount} {tokenSymbol} to enable receiving.","withdrawal-header":"Withdrawal in progress","withdrawal":"Withdrawal","deposit":"Deposit","asterisk":"*","withdrawal-footnote":"Actual withdrawal amount might vary","withdrawal-planned":"The withdrawal from the user deposit has been planned. You will get notified when the withdrawal is complete.","information":{"no-withdrawal-in-progress":"No withdrawal in progress","pending-message":"Blocks remaining...","ready-message":"Ready・Tokens get claimed automatically"}},"backup-state":{"description":"The state holds all account information except the private key. You can backup your state to make sure the dApp is kept in sync when switching between browsers.","disabled-download":"Downloading the state is only possible when connected to the dApp","disabled-upload":"Uploading the state is only possible when the dApp is disconnected","download":"Download State","download-warning":"Downloading the state will force the dApp to shut down","download-button":"Download","upload":"Upload State and Connect","upload-drag-and-drop":"Drag and drop state file","upload-divider":"or","upload-button":"Browse files","upload-error":"Only one state file in valid JSON format can be uploaded"},"raiden-account":{"in-progress":"Transfer in progress","transfer-from-main-account":"Transfer ETH from Main Account to Raiden Account","transfer-from-raiden-account":"Transfer ETH from Raiden Account to Main Account"},"update":{"optional":"A new version is available.","mandatory":"Something happened to the local cached version. Perhaps the browser storage got cleared. You must update to get the app working again. You will not lose your current state.","update":"Update"},"address-input":{"input":{"placeholder":"Address / ENS name"},"blockie-alt":"Selected token address blockie","error":{"invalid-address":"Enter a valid address or ENS name","no-checksum":"Please enter an address in checksum format. You can convert your address on https://ethsum.netlify.com","empty":"Enter an address or ENS name","ens-resolve-failed":"Please enter a resolvable ENS name","invalid-excluded-address":"Please enter a different address or ENS name. You can\'t use your own address or the address of the token network.","channel-not-open":"Please enter a hub address you have an open channel with.","target-offline":"Target is offline."}},"amount-input":{"input":{"hint":"Please enter an amount"},"error":{"empty":"Please enter an amount","too-many-decimals":"Please use only up to {decimals} decimals for this token","not-enough-funds":"Your maximum usable amount is {funds} {symbol}","zero":"Enter an amount larger than zero","invalid":"Please enter a valid amount"}},"address-display":{"copy":"Click to copy","copied":"Copied!"},"app-header":{"currency":"ETH"},"channel-actions":{"deposit":"Deposit","withdraw":"Withdraw","close":"Close","settle":"Settle"},"channel-deposit":{"buttons":{"confirm":"Deposit"},"input":{"label":"Amount"}},"channel-withdraw":{"buttons":{"confirm":"Withdraw"},"input":{"label":"Amount"},"dialog":{"label":"Withdraw","title":"Withdrawing Tokens","description":"Sign the transaction in MetaMask and close this dialogue to continue using the dApp."},"done":{"label":"Done","title":"Withdraw Successful","description":"Your tokens have been successfully withdrawn."}},"find-routes":{"hops":"Hops","price":"Price","sub-title":"Route(s) provided by {subdomain} including number of hops and estimated fee","error":{"title":"Oops, something went wrong"}},"stepper":{"steps":{"open":{"title":"Open","description":"You can deposit more tokens \\n or close the channel."},"closed":{"title":"Closed","description":"Please wait until your channel is settleable. \\nthis may take some time."},"settleable":{"title":"Settleable","description":"Settle your channel to transfer \\n your tokens back to your account."}}},"channels":{"open":{"header":"Open"},"closed":{"header":"Closed"},"settleable":{"header":"Settleable"},"snackbar-close":"Close","token-info":"{symbol} | {name}","title":"Channels on"},"channel-list":{"channel":{"blockie_alt":"Partner address blockie","state":"Capacity: {value} | State: {state}","close_dialog":{"title":"Close Channel","description":"Are you sure you want to close this channel? This action cannot be undone."},"settle_dialog":{"title":"Settle Channel","description":"Are you sure you want to settle the channel with hub {partner} for token {token}?"}},"messages":{"close":{"success":"Channel closed successfully","failure":"Channel close failed"},"deposit":{"success":"Deposit was successful","failure":"Deposit failed"},"withdraw":{"success":"Withdraw was successful","failure":"Withdraw failed"},"settle":{"success":"Channel settle was successful","failure":"Channel settle failed"}}},"confirmation":{"buttons":{"cancel":"Cancel","close":"Close","settle":"Settle"}},"confirmation-dialog":{"buttons":{"cancel":"Cancel","confirm":"Confirm"}},"error-screen":{"title":"Error"},"no-access":{"unsupported-network":"The current network is unsupported. Please choose a different network.","sdk-initialization-failure":"SDK initialization failed. Please check the console for more information.","rdn-state-migration":"Cannot replace state with older uploaded state.","generic-error":"A valid account could not be detected. Please make sure that your provider is unlocked and accessible."},"tokens":{"connected":{"header":"Connected Tokens"},"connect-new":"Connect new token","disconnect-dialog":{"header":"Disconnect token","confirmation-message":"This action will close all channels for the {symbol} token! {address}"},"leave-progress":{"label":"Disconnect","title":"Disconnecting from the token network","description":"Closing the channels"},"leave-done":{"label":"Done","title":"Disconnected from the token network","description":"All your channels were successfully closed"}},"application":{"privacy-policy":"Privacy Policy, Disclaimer & Imprint"},"udc-deposit-dialog":{"title":"Deposit to UDC","button":"Mint and deposit","button-main":"Deposit","uniswap-url-title":"Click here to purchase RDN","uniswap-url":"https://app.uniswap.org/#/swap?inputCurrency=ETH&outputCurrency={rdnToken}&exactAmount=10&exactField=outPUT&recipient={mainAccountAddress}","available-utility-token":"Available {utilityTokenSymbol} to deposit: {utilityTokenBalance}","available-eth":"Available ETH for on-chain transaction: {balance} {currency}","error":"The mint and deposit operation failed.","error-main":"The deposit operation failed.","progress":{"mint":"Minting {currency} tokens","approve":"Allow UDC to access {currency} tokens","deposit":"Deposit {currency} tokens to the UDC"}},"transfer":{"receiving-transfer-snackbar":"Receiving transfer, do not close browser.","capacity-label":"Capacity","recipient-label":"Recipient","amount-label":"Amount","amount-placeholder":"Amount","error":{"button":"Dismiss","title":"Token transfer unsuccessful","deposit-title":"Deposit failed, please try again."},"transfer-menus":{"change-token-title":"Change Token","deposit-button":"Deposit","channel-button":"Channels","no-channels":"No open channels"},"transfer-inputs":{"title":"Transfer"},"no-channels-dialog":{"title":"No connected tokens and open channels","button":"Connect new token"},"steps":{"request-route":{"title":"Request Route","tooltip":"Mint and deposit {token} to the User Deposit Contract to pay for PFS requests","tooltip-main":"Deposit {token} to the User Deposit Contract to pay for PFS requests","udc-description":"Balance to pay the Pathfinding Service","udc-description-low-balance":"Your {token} token balance is too low to pay for the Pathfinding Service. Use the button above to mint and deposit more tokens.","in-progress":"Paying for the route request","searching-for-route":"Searching for route...","done":"Route request payment complete"},"select-route":{"title":"Select Route"},"confirm-transfer":{"title":"Confirm Transfer","total-amount":"Total Amount"},"call-to-action":{"1":{"default":"Transfer Route Request","amount":"Confirm PFS Fee of {amount} {symbol}"},"2":{"default":"Confirm Mediation Fees","amount":"Confirm Mediation Fee of {amount} {symbol}"},"3":{"amount":"Transfer {amount} {symbol}"}},"transfer":{"title":"Transferring Tokens"},"done":{"title":"Send Successful","description":"Your transfer was successful."},"deposit":{"label":"Deposit","title":"Depositing Tokens","description":"Sign the transaction in MetaMask and close this dialogue to continue using the dApp."},"deposit-done":{"label":"Done","title":"Deposit Successful","description":"Your tokens have been successfully deposited."},"summary":{"headline":"Summary","route-request":"Route Request","pfs":"Pathfinding Service","service-fee":"Service Fee","mediated-transfer":"Mediated Transfer","direct-transfer":"Direct Transfer","target":"Target","transfer-amount":"Transfer Amount","total-amount":"Total Amount","mediation-fee":"Mediation Fee","identifier":"Identifier","footnotes":{"one":"1","direct-transfer":"Route request and selection skipped, because you are performing a direct transfer.","route-selection-skipped":"Automatically skipped route selection, because there was only a single route with zero fees."}}}},"transfer-history":{"title":"History","sent-title":"Sent to","sent-symbol":"-","received-title":"Received from","received-symbol":"+","pending-transfer":"PENDING","successful-transfer":"CONFIRMED","failed-transfer":"FAILED"},"select-token":{"header":"Available Tokens"},"select-hub":{"select-button":"Select Hub","service-token-tooltip":"Mint and deposit {token} to the User Deposit Contract to pay for the Monitoring Service.","service-token-tooltip-main":"Deposit {token} to the User Deposit Contract to pay for the Monitoring Service.","service-token-description":"balance for monitoring service"},"hub-list":{"header":"Current top 3 suggested hubs (best first)","error":"Error: List of hubs cannot be fetched from the Pathfinding Service.","no-results":"In this token network, the Pathfinding Service does not find a node which is online. Try again later.","select-button":"Select"},"open-channel":{"error":{"title":"Ops, something went wrong","button":"Dismiss","deposit-failed":"Could not deposit to the channel.","open-failed":"Channel open failed."},"open-button":"Open Channel","hub":"Hub","steps":{"open":{"label":"Open","title":"Opening a new channel","description":"Please do not close the browser and confirm the transaction with MetaMask."},"transfer":{"label":"Transfer","title":"Transferring tokens to the network and deposit into the channel","description":"Please do not close the browser and confirm two (2) transactions with MetaMask."},"deposit":{"label":"Deposit","title":"Not implemented - split title above, when done","description":"Not implemented - split description above, when done"},"done":{"label":"Done","title":"New Channel opened","description":"A new channel was successfully opened. You can now start making transfers."}},"confirmation":"Channel opening is in progress, are you sure you want to leave?"},"token-information":{"title":"Token","description":"{symbol} | {name}","balance":"Balance"},"pathfinding-services":{"title":"Select Pathfinding Service","rtt":"{time} ms","headers":{"host":"Pathfinding Service","rtt":"Ping","price":"Price"}},"mint-dialog":{"title":"Mint {symbol}","description":"If you continue, you will get prompted by MetaMask to sign off a minting transaction. In order to mint tokens, you need test net ETH in your wallet."},"error-message":{"problem":"Problem:","solution":"Solution:"},"errors":{"RDN_GENERAL_ERROR":{"title":"An error occurred","problem":"We do not know this error, sorry.","solution":["Please help us and report the issue","Click on your identicon in the top right corner","Click on Report Bugs / Download logs","File a new issue on https://github.com/raiden-network/light-client","Upload logs to the issue"]},"RDN_MINT_FAILED":{"title":"Could not mint token","problem":"It looks like the Light Client does not support minting out-of-the-box for this token contract.","solution":"You may try to mint manually via MetaMask and Etherscan. You can find a step-by-step guide on https://github.com/raiden-network/light-client#minting-manually."},"PFS_UNKNOWN_TOKEN_NETWORK":{"title":"No open channels","problem":"You don\'t seem to have open channels on this token network.","solution":["Hit the ← button in the top left","Click on the current token network","Select Connect new token","Select the token you want to transfer","Proceed with the flow to open a new channel"]},"PFS_INVALID_INFO":{"title":"Couldn\'t understand Pathfinding Service","problem":"The Light Client has received a response from the Pathfinding Service that it couldn\'t understand. It\'s possible that the current Light Client version is out-of-sync with the Pathfinding Service.","solution":["Update the dApp by reloading the page","Attempt a new transfer","If the problem persists, please help us and report the issue","Click on your identicon in the top right corner","Click on Report Bugs / Download logs","File a new issue on https://github.com/raiden-network/light-client","Upload logs to the issue"]},"PFS_NO_ROUTES_FOUND":{"title":"No routes found","problem":"Pathfinding Service wasn\'t able to find a route in the Raiden Network to perform your transfer.","solution":"Make sure that you either have a direct channel with the target or that both of you are connected to a well-connected hub."},"PFS_ERROR_RESPONSE":{"title":"Pathfinding replied with an error","problem":"While communicating with the Pathfinding Service, you have received an error response that we don\'t actively handle yet.","solution":["Simply retry your last action","If the problem persists, please help us and report the issue","Click on your identicon in the top right corner","Click on Report Bugs / Download logs","File a new issue on https://github.com/raiden-network/light-client","Upload logs to the issue"]},"PFS_DISABLED":{"title":"Pathfinding Service disabled","problem":"You tried to find a route in the Raiden Network but Pathfinding was either disabled in your configuration or you did not select a valid Pathfinding Service.","solution":"Try to restart the Light Client by reloading the page and attempt a new transfer."},"PFS_TARGET_OFFLINE":{"title":"Target address is offline","problem":"You are trying to send tokens to an offline target.","solution":"Hit the ← button and verify that the address is online or choose a different target address."},"PFS_LAST_IOU_REQUEST_FAILED":{"title":"Error while depositing tokens for Pathfinding Service","problem":"While trying to deposit tokens for route requests, the Pathfinding Service returned an error.","solution":["This should happen very rarely, please retry to deposit","If the problem persists, please help us and report the issue","Click on your identicon in the top right corner","Click on Report Bugs / Download logs","File a new issue on https://github.com/raiden-network/light-client","Upload logs to the issue"]},"PFS_IOU_SIGNATURE_MISMATCH":{"title":"Error while depositing tokens for Pathfinding Service","problem":"While trying to deposit tokens for route requests, the Pathfinding Service encountered mismatching signatures.","solution":["This should happen very rarely, please retry to deposit","If the problem persists, please help us and report the issue","Click on your identicon in the top right corner","Click on Report Bugs / Download logs","File a new issue on https://github.com/raiden-network/light-client","Upload logs to the issue"]},"PFS_NO_ROUTES_BETWEEN_NODES":{"title":"No route between you and your target","problem":"The Pathfinding Service was not able to find a usable route between you and the target you want to transfer tokens to.","solution":["Hit the ← button in the top left","Click on the current token network","Select Connect new token","Select the token you want to transfer","Connect with a more popular hub, e.g. hub.raiden.eth. That way, Pathfinding Service is more likely to find a route between you and the target","Retry your transfer"]}},"versions":{"sdk":"Raiden SDK: {version}","contracts":"Raiden Contracts: {version}"},"scan":{"permission":{"title":"Grant Camera Access","description":"In order to scan QR codes, you will need to allow camera access."}},"progress-steps":{"transfer":{"PENDING":"Transfer sent","RECEIVED":"Transfer acknowledged by partner","REFUNDED":"Transfer refunded","CLOSED":"Channel closed early","REVEALED":"Secret revealed to target","UNLOCKING":"Unlock sent to partner","EXPIRING":"Lock expired","UNLOCKED":"Unlock acknowledged","EXPIRED":"Lock expired acknowledged","REQUESTED":"Secret requested by target","REGISTERED":"Secret registered on-chain"}},"settings":{"raiden-account":{"title":"Use Raiden Account","description":"By default the dApp uses a generated Raiden account to sign messages. Disable the Raiden account to use your Web3 provider account. All messages will then have to be signed manually."}},"token-list":{"item":{"blockie-alt":"Token address blockie","information-template":"{symbol} | {name}"}},"install-banner":{"install":"Install","dismiss":"Dismiss","message-mobile":"Add the Raiden dApp to your Home screen","message-desktop":"Install the Raiden dApp on your desktop"}}')},ee57:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("2111"),a=r["p"](r["v"]({userId:r["s"],accessToken:r["s"],deviceId:r["s"],displayName:r["s"]}))},ee6c:function(e,t,n){"use strict";n.d(t,"b",(function(){return U})),n.d(t,"g",(function(){return M})),n.d(t,"h",(function(){return B})),n.d(t,"f",(function(){return $})),n.d(t,"e",(function(){return H})),n.d(t,"c",(function(){return q})),n.d(t,"d",(function(){return K})),n.d(t,"a",(function(){return X}));var r=n("2111"),a=n("a91f"),o=n("98aa"),i=n("5a9d"),c=n.n(i),s=n("a32b");function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){return p="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t,n){return t&&b(e.prototype,t),n&&b(e,n),e}function h(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}function m(e){var t=w();return function(){var n,r=E(e);if(t){var a=E(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return v(this,n)}}function v(e,t){return!t||"object"!==p(t)&&"function"!==typeof t?O(e):t}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e){var t="function"===typeof Map?new Map:void 0;return j=function(e){if(null===e||!_(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return g(e,arguments,E(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),k(n,e)},j(e)}function g(e,t,n){return g=w()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var a=Function.bind.apply(e,r),o=new a;return n&&k(o,n.prototype),o},g.apply(null,arguments)}function w(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function k(e,t){return k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},k(e,t)}function E(e){return E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},E(e)}function T(e){return S(e)||A(e)||R(e)||x()}function x(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function A(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function S(e){if(Array.isArray(e))return D(e)}function P(e,t){return C(e)||I(e,t)||R(e,t)||N()}function N(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function R(e,t){if(e){if("string"===typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?D(e,t):void 0}}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function I(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)if(n.push(i.value),t&&n.length===t)break}catch(s){a=!0,o=s}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return n}}function C(e){if(Array.isArray(e))return e}var U=s,L=r["r"](r["s"],r["x"]([r["s"],r["n"],r["e"],r["m"]]));function M(e,t){var n=function e(t,n){var r,a;return a="string"===typeof t?(null===n||void 0===n?void 0:n.name)===t||(null===n||void 0===n||null===(r=n.message)||void 0===r?void 0:r.includes(t)):"number"===typeof t?(null===n||void 0===n?void 0:n.httpStatus)===t:Object.entries(t).every((function(e){var t=P(e,2),r=t[0],a=t[1];return(null===n||void 0===n?void 0:n[r])===a})),!a&&n&&"error"in n&&(a=e(t,n.error)),a},r=Array.isArray(e)?function(t){return e.some((function(e){return n(e,t)}))}:function(t){return n(e,t)};return arguments.length<2?r:r(t)}var B=["invalid response","missing response",{code:"TIMEOUT"},{code:"SERVER_ERROR"},{code:"NETWORK_ERROR"},{code:"ENOTFOUND"},429,500,502,503],F=["always failing transaction","cannot estimate gas",{code:"UNPREDICTABLE_GAS_LIMIT"}],W=["replacement fee too low","gas price supplied is too low","nonce is too low","nonce has already been used","already known","Transaction with the same hash was already imported"],V=["execution failed due to an exception","transaction failed","execution reverted"],$=[].concat(F,W,B),H=[].concat(T($),V),q=function(e){h(n,e);var t=m(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return d(this,n),r=t.call(this,e),r.details=a,r.name="RaidenError",Object.setPrototypeOf(O(r),n.prototype),r}return y(n,[{key:"code",get:function(){var e,t=this;return null!==(e=c()(U,(function(e){return e===t.message})))&&void 0!==e?e:"RDN_GENERAL_ERROR"}}]),n}(j(Error));function K(e,t,n){if(!e)throw null===n||void 0===n||n("__assertion failed:",e,t),t instanceof Error?t:"function"===typeof t?t(e):Array.isArray(t)?g(q,T(t)):new q(null!==t&&void 0!==t?t:U.RDN_ASSERT_ERROR,{condition:e})}var G=r["j"]([r["v"]({name:r["s"]}),r["o"]({message:r["s"],stack:r["s"],details:L})]),X=new r["b"]("Error",(function(e){return"object"===p(e)&&!!e&&"name"in e&&"message"in e}),(function(e){return Object(o["pipe"])(G.decode(e),Object(a["map"])((function(e){return"details"in e?Object.assign(new q(e.message,e.details),{name:e.name,stack:e.stack}):Object.assign(new Error(e.message),{name:e.name,stack:e.stack})})))}),(function(e){return l({name:e.name,message:e.message,stack:e.stack},"details"in e?{details:e.details}:{})}))},ee79:function(e){e.exports=JSON.parse('{"contracts_version":null,"chain_id":1,"contracts":{"SecretRegistry":{"address":"0x70f0c29b946E63803BD0Be796E17E47138668A68","transaction_hash":"0xa5a2672315e336dde3b43f3c09a4d0dbc7a59a4fe84f0506ea3abb5025bf94fb","block_number":10095755,"gas_cost":247286,"constructor_arguments":[]},"TokenNetworkRegistry":{"address":"0x6d07A2ef8De5d7D48337510BCEb9FEEa5424b20c","transaction_hash":"0xfde25a57b5ce0c8fcb748d5ff5ba8464cfce022d6eea72b6374b07c1b5f27b14","block_number":10095771,"gas_cost":4001210,"constructor_arguments":["0x70f0c29b946E63803BD0Be796E17E47138668A68",1,100,500,2]}},"token_networks":[{"token_network_address":"0x5b606943b36F3569E00EC4178A9f83eea8730184","constructor_arguments":{"_token_address":"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2","_secret_registry":"0x70f0c29b946E63803BD0Be796E17E47138668A68","_chain_id":1,"_settlement_timeout_min":100,"_settlement_timeout_max":500,"_deprecation_executor":"0xbBF11c2f66E1887681C902095CEfB1018C854c0f","_channel_participant_deposit_limit":4683182690956770000,"_token_network_deposit_limit":4.68318269095677e+21}},{"token_network_address":"0xEA92bD481e54BBB9Bb6C927970a54E82eE26c6B4","constructor_arguments":{"_token_address":"0x6B175474E89094C44Da98b954EedeAC495271d0F","_secret_registry":"0x70f0c29b946E63803BD0Be796E17E47138668A68","_chain_id":1,"_settlement_timeout_min":100,"_settlement_timeout_max":500,"_deprecation_executor":"0xbBF11c2f66E1887681C902095CEfB1018C854c0f","_channel_participant_deposit_limit":1e+21,"_token_network_deposit_limit":1e+24}}]}')},eed9:function(e,t,n){"use strict";n.r(t),n.d(t,"pathFind",(function(){return u})),n.d(t,"pfsListUpdated",(function(){return l})),n.d(t,"iouPersist",(function(){return f})),n.d(t,"iouClear",(function(){return p})),n.d(t,"udcDeposit",(function(){return d})),n.d(t,"udcWithdraw",(function(){return y})),n.d(t,"udcWithdrawn",(function(){return h})),n.d(t,"msBalanceProofSent",(function(){return m}));var r=n("2111"),a=n("d276"),o=n("ca14"),i=n("d011"),c=r["v"]({tokenNetwork:o["a"],target:o["a"],value:Object(o["j"])(32)}),s=r["v"]({tokenNetwork:o["a"],serviceAddress:o["a"]}),u=Object(a["c"])(c,"path/find/request","path/find/success","path/find/failure",r["o"]({paths:i["e"],pfs:r["x"]([i["c"],r["m"]])}),r["v"]({paths:i["e"]})),l=Object(a["b"])("pfs/list/updated",r["v"]({pfsList:r["q"](o["a"])})),f=Object(a["b"])("iou/persist",r["v"]({iou:Object(o["h"])(i["a"])}),s),p=Object(a["b"])("iou/clear",void 0,s),d=Object(a["c"])(r["v"]({totalDeposit:Object(o["j"])(32)}),"udc/deposit/request","udc/deposit/success","udc/deposit/failure",r["j"]([r["v"]({deposit:Object(o["j"])(32)}),r["o"]({subkey:r["e"]})]),r["x"]([r["v"]({balance:Object(o["j"])(32)}),r["v"]({balance:Object(o["j"])(32),txHash:o["c"],txBlock:r["n"],confirmed:r["x"]([r["w"],r["e"]])})])),b=r["v"]({amount:Object(o["j"])(32)}),y=Object(a["c"])(b,"udc/withdraw/request","udc/withdraw/success","udc/withdraw/failure",r["w"],r["j"]([r["v"]({block:r["n"]}),r["o"]({txHash:o["c"],txBlock:r["n"],confirmed:r["x"]([r["w"],r["e"]])})])),h=Object(a["b"])("udc/withdrawn",r["v"]({withdrawal:Object(o["j"])(32),txHash:o["c"],txBlock:r["n"],confirmed:r["x"]([r["w"],r["e"]])}),b),m=Object(a["b"])("ms/balanceProof/sent",r["v"]({tokenNetwork:o["a"],partner:o["a"],id:r["n"],reward:Object(o["j"])(32),nonce:Object(o["j"])(8),monitoringService:o["a"],txHash:o["c"],txBlock:r["n"],confirmed:r["x"]([r["w"],r["e"]])}))},f265:function(e,t,n){},f2df:function(e,t,n){"use strict";var r=n("ee6c");n.d(t,"a",(function(){return r["d"]}))},f455:function(e,t,n){"use strict";var r=n("d0dd");n.d(t,"e",(function(){return r["a"]}));n("65e1"),n("1a78");var a=n("b8ff");n.d(t,"b",(function(){return a["b"]}));n("5bbb");var o=n("2b5b");n.d(t,"a",(function(){return o["a"]}));var i=n("05eb");n.d(t,"d",(function(){return i["a"]}));n("ca14");var c=n("ee6c");n.d(t,"c",(function(){return c["b"]})),n.d(t,"f",(function(){return c["c"]}));var s=n("1b23");n.d(t,"g",(function(){return s["c"]}))},f496:function(e,t,n){e.exports=n.p+"img/select_hub_info.32d32b20.svg"},f5be:function(e,t,n){"use strict";n.d(t,"e",(function(){return E})),n.d(t,"d",(function(){return T})),n.d(t,"c",(function(){return x})),n.d(t,"f",(function(){return A})),n.d(t,"g",(function(){return S})),n.d(t,"b",(function(){return N})),n.d(t,"a",(function(){return I}));var r=n("2111"),a=n("a91f"),o=n("0128"),i=n.n(o),c=n("d2a5"),s=n.n(c),u=n("6298"),l=n.n(u),f=n("2b5b"),p=n("5bbb"),d=n("d276"),b=n("ee6c"),y=n("ca14"),h=n("f799"),m=n("d890"),v=n("8173"),O=n("83ee"),j=n("eed9"),g=n("0602");function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){k(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E=Object(d["b"])("raiden/shutdown",r["v"]({reason:r["x"]([r["l"](f["e"].STOP),r["l"](f["e"].ACCOUNT_CHANGED),r["l"](f["e"].NETWORK_CHANGED),b["a"]])})),T=Object(d["b"])("raiden/config/update",p["a"]),x=Object(d["b"])("raiden/config/caps",r["v"]({caps:r["x"]([g["a"],r["m"]])})),A=Object(d["b"])("raiden/started"),S=Object(d["b"])("raiden/synced",r["v"]({tookMs:r["n"],initialBlock:r["n"],currentBlock:r["n"]})),P=_(_(_(_(_({raidenShutdown:E,raidenConfigUpdate:T},h),m),v),O),j),N=[P.raidenShutdown,P.newBlock,P.matrixPresence.success,P.tokenMonitored,P.udcWithdraw.success,P.udcWithdraw.failure,P.udcWithdrawn,P.msBalanceProofSent,P.channelSettle.success,P.channelSettle.failure,P.channelOpen.success,P.channelOpen.failure],R=l()(P,(function(e,t){return _(_({},e),"type"in t?k({},t.type,t):i()(t,s()("type")))}),{}),D=r["p"](r["v"]({type:r["s"],payload:r["p"](r["v"]({txHash:y["c"],txBlock:r["n"],confirmed:r["x"]([r["w"],r["e"]])}))})),I=new r["b"]("ConfirmableAction",D.is,(function(e,t){return a["either"].chain(D.validate(e,t),(function(e){var n=e.type;return n in R?R[n].codec.validate(e,t):r["h"](e,t)}))}),(function(e){return R[e.type].codec.encode(e)}))},f799:function(e,t,n){"use strict";n.r(t),n.d(t,"newBlock",(function(){return s})),n.d(t,"blockTime",(function(){return u})),n.d(t,"blockStale",(function(){return l})),n.d(t,"tokenMonitored",(function(){return f})),n.d(t,"channelOpen",(function(){return p})),n.d(t,"channelMonitored",(function(){return d})),n.d(t,"channelDeposit",(function(){return b})),n.d(t,"channelWithdrawn",(function(){return y})),n.d(t,"channelClose",(function(){return h})),n.d(t,"channelSettleable",(function(){return m})),n.d(t,"channelSettle",(function(){return v}));var r=n("2111"),a=n("d276"),o=n("ca14"),i=n("9201"),c=r["v"]({tokenNetwork:o["a"],partner:o["a"]}),s=Object(a["b"])("block/new",r["v"]({blockNumber:r["n"]})),u=Object(a["b"])("block/time",r["v"]({blockTime:r["n"]})),l=Object(a["b"])("block/stale",r["v"]({stale:r["e"]})),f=Object(a["b"])("token/monitored",r["j"]([r["v"]({token:o["a"],tokenNetwork:o["a"]}),r["o"]({fromBlock:r["n"],toBlock:r["n"]})])),p=Object(a["c"])(c,"channel/open/request","channel/open/success","channel/open/failed",r["o"]({settleTimeout:r["n"],subkey:r["e"],deposit:Object(o["j"])(32)}),r["v"]({id:r["n"],token:o["a"],settleTimeout:r["n"],isFirstParticipant:r["e"],txHash:o["c"],txBlock:r["n"],confirmed:r["x"]([r["w"],r["e"]])})),d=Object(a["b"])("channel/monitored",r["v"]({id:r["n"]}),c),b=Object(a["c"])(c,"channel/deposit/request","channel/deposit/success","channel/deposit/failure",r["j"]([r["v"]({deposit:Object(o["j"])(32)}),r["o"]({subkey:r["e"],waitOpen:r["l"](!0)})]),r["v"]({id:r["n"],participant:o["a"],totalDeposit:Object(o["j"])(32),txHash:o["c"],txBlock:r["n"],confirmed:r["x"]([r["w"],r["e"]])})),y=Object(a["b"])("channel/withdraw/success",r["v"]({id:r["n"],participant:o["a"],totalWithdraw:Object(o["j"])(32),txHash:o["c"],txBlock:r["n"],confirmed:r["x"]([r["w"],r["e"]])}),c),h=Object(a["c"])(c,"channel/close/request","channel/close/success","channel/close/failure",r["x"]([r["o"]({subkey:r["e"]}),r["w"]]),r["v"]({id:r["n"],participant:o["a"],txHash:o["c"],txBlock:r["n"],confirmed:r["x"]([r["w"],r["e"]])})),m=Object(a["b"])("channel/settleable",r["v"]({settleableBlock:r["n"]}),c),v=Object(a["c"])(c,"channel/settle/request","channel/settle/success","channel/settle/failure",r["x"]([r["o"]({subkey:r["e"]}),r["w"]]),r["j"]([r["v"]({id:r["n"],txHash:o["c"],txBlock:r["n"],confirmed:r["x"]([r["w"],r["e"]])}),r["o"]({locks:r["q"](i["d"])})]))},fb60:function(e,t,n){e.exports=n.p+"img/transfer_steps_info.1dbe6e75.svg"}});