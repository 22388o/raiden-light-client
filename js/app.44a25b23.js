(function(e){function t(t){for(var r,a,c=t[0],u=t[1],s=t[2],l=0,f=[];l<c.length;l++)a=c[l],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&f.push(o[a][0]),o[a]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);p&&p(t);while(f.length)f.shift()();return i.push.apply(i,s||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,a=1;a<n.length;a++){var c=n[a];0!==o[c]&&(r=!1)}r&&(i.splice(t--,1),e=u(u.s=n[0]))}return e}var r={},a={app:0},o={app:0},i=[];function c(e){return u.p+"js/"+({}[e]||e)+"."+{"chunk-04c2b6fd":"720c3c0c","chunk-27ac4652":"ad89027f","chunk-42809e5a":"3e2658db","chunk-4bec154f":"64bc0598","chunk-59dffb81":"e447750b","chunk-61ac107b":"6f36899d","chunk-8fd06258":"5824b5ee","chunk-7dc38c0e":"cbb7075f","chunk-4171b9d9":"1fef56cd","chunk-5ce170fe":"0d9b59e7","chunk-89f7f25c":"193a5503","chunk-82932f58":"e93b185a","chunk-2d0abce7":"c8dfca8e","chunk-2f161406":"114f2e46","chunk-3cb28422":"4c946985","chunk-3eadbefa":"a0a29adf","chunk-4c8285c4":"d7d01271","chunk-740f429e":"e1504474","chunk-8c002adc":"e2b76d45","chunk-2d0ac3da":"576e5a7a","chunk-60216f0b":"6116b304","chunk-110e9004":"4962095e","chunk-a0bacd38":"3b21f762","chunk-7fab0987":"9067a5e9","chunk-f5e06b08":"74dee961","chunk-999b6682":"a44bc297"}[e]+".js"}function u(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.e=function(e){var t=[],n={"chunk-04c2b6fd":1,"chunk-27ac4652":1,"chunk-42809e5a":1,"chunk-4bec154f":1,"chunk-59dffb81":1,"chunk-61ac107b":1,"chunk-8fd06258":1,"chunk-7dc38c0e":1,"chunk-4171b9d9":1,"chunk-5ce170fe":1,"chunk-89f7f25c":1,"chunk-82932f58":1,"chunk-3cb28422":1,"chunk-4c8285c4":1,"chunk-8c002adc":1,"chunk-60216f0b":1,"chunk-110e9004":1,"chunk-a0bacd38":1,"chunk-7fab0987":1,"chunk-f5e06b08":1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=new Promise((function(t,n){for(var r="css/"+({}[e]||e)+"."+{"chunk-04c2b6fd":"e3de1d99","chunk-27ac4652":"2dd41938","chunk-42809e5a":"a54beb52","chunk-4bec154f":"c2ddea70","chunk-59dffb81":"0d131f4c","chunk-61ac107b":"bc445982","chunk-8fd06258":"5bf7e430","chunk-7dc38c0e":"304786bf","chunk-4171b9d9":"f3822fe8","chunk-5ce170fe":"d9060989","chunk-89f7f25c":"cb20acdf","chunk-82932f58":"109e69b0","chunk-2d0abce7":"31d6cfe0","chunk-2f161406":"31d6cfe0","chunk-3cb28422":"7ccdb903","chunk-3eadbefa":"31d6cfe0","chunk-4c8285c4":"19ae8dd6","chunk-740f429e":"31d6cfe0","chunk-8c002adc":"2b42d129","chunk-2d0ac3da":"31d6cfe0","chunk-60216f0b":"c96b4989","chunk-110e9004":"1716592d","chunk-a0bacd38":"ccfed8f2","chunk-7fab0987":"60cf6241","chunk-f5e06b08":"161126bb","chunk-999b6682":"31d6cfe0"}[e]+".css",o=u.p+r,i=document.getElementsByTagName("link"),c=0;c<i.length;c++){var s=i[c],l=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(l===r||l===o))return t()}var f=document.getElementsByTagName("style");for(c=0;c<f.length;c++){s=f[c],l=s.getAttribute("data-href");if(l===r||l===o)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var r=t&&t.target&&t.target.src||o,i=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=r,delete a[e],p.parentNode.removeChild(p),n(i)},p.href=o;var d=document.getElementsByTagName("head")[0];d.appendChild(p)})).then((function(){a[e]=0})));var r=o[e];if(0!==r)if(r)t.push(r[2]);else{var i=new Promise((function(t,n){r=o[e]=[t,n]}));t.push(r[2]=i);var s,l=document.createElement("script");l.charset="utf-8",l.timeout=120,u.nc&&l.setAttribute("nonce",u.nc),l.src=c(e);var f=new Error;s=function(t){l.onerror=l.onload=null,clearTimeout(p);var n=o[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;f.message="Loading chunk "+e+" failed.\n("+r+": "+a+")",f.name="ChunkLoadError",f.type=r,f.request=a,n[1](f)}o[e]=void 0}};var p=setTimeout((function(){s({type:"timeout",target:l})}),12e4);l.onerror=l.onload=s,document.head.appendChild(l)}return Promise.all(t)},u.m=e,u.c=r,u.d=function(e,t,n){u.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},u.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,t){if(1&t&&(e=u(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)u.d(n,r,function(t){return e[t]}.bind(null,r));return n},u.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return u.d(t,"a",t),t},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.p="/",u.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var f=0;f<s.length;f++)t(s[f]);var p=l;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"0144":function(e,t,n){},"0527":function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"spinner my-4",class:{"spinner--blocking":!e.inline}},[n("div",{staticClass:"spinner__circle",style:e.style})])},a=[],o=n("6dbe"),i=n("5cf9");function c(e){return c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function f(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function d(e){var t=h();return function(){var n,r=m(e);if(t){var a=m(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return b(this,n)}}function b(e,t){return!t||"object"!==c(t)&&"function"!==typeof t?y(e):t}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}var v=function(e){f(n,e);var t=d(n);function n(){return u(this,n),t.apply(this,arguments)}return l(n,[{key:"style",get:function(){return{width:"".concat(this.size,"px"),height:"".concat(this.size,"px"),borderWidth:"".concat(this.width,"px")}}}]),n}(i["g"]);Object(o["b"])([Object(i["e"])({type:Boolean,default:!1})],v.prototype,"inline",void 0),Object(o["b"])([Object(i["e"])({type:Number,default:120})],v.prototype,"size",void 0),Object(o["b"])([Object(i["e"])({type:Number,default:7})],v.prototype,"width",void 0),v=Object(o["b"])([Object(i["a"])({})],v);var O=v,g=O,j=(n("9008"),n("a6c2")),w=Object(j["a"])(g,r,a,!1,null,"87f44b60",null);t["a"]=w.exports},"05eb":function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e["OPENED"]="OPENED",e["APPROVED"]="APPROVED",e["DEPOSITED"]="DEPOSITED",e["CONFIRMED"]="CONFIRMED"}(r||(r={}))},"0602":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return c}));var r=n("2111"),a=r["n"]({userId:r["r"]}),o=r["w"]([r["r"],r["m"],r["d"],r["l"]],"CapsPrimitive"),i=r["w"]([o,r["c"](o)],"CapsValue"),c=r["o"](r["q"](r["r"],i),"Caps")},"0731":function(e,t,n){},"0862":function(e,t,n){"use strict";n.d(t,"a",(function(){return j})),n.d(t,"f",(function(){return w})),n.d(t,"e",(function(){return _})),n.d(t,"b",(function(){return k})),n.d(t,"c",(function(){return E})),n.d(t,"d",(function(){return T}));var r=n("2d67"),a=n("393f"),o=n("996a"),i=n("5e25"),c=n("c49c"),u=n("2b5b"),s=n("46f7"),l=n("d890");function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t){return O(e)||v(e,t)||h(e,t)||y()}function y(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(e,t){if(e){if("string"===typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function O(e){if(Array.isArray(e))return e}var g=/^@(0x[0-9a-f]{40})[.:]/i;function j(e){var t;try{var n=g.exec(e);n&&(t=Object(r["a"])(n[1]))}catch(a){}return t}function w(e){for(var t=new URL("mxc://raiden.network/cap"),n=function(e,n){return t.searchParams.append(e,n)},r=0,a=Object.entries(e);r<a.length;r++){var o=b(a[r],2),i=o[0],c=o[1];Array.isArray(c)?c.forEach(n.bind(null,i)):n(i,c)}return t.href}function _(e){if(e){var t={};try{var n=new URL(e);return n.searchParams.forEach((function(e,n){var r=e;if(/^\d+$/.test(e))r=Object(s["b"])(e);else{var a=e.toLowerCase();"none"===a||"null"===a?r=null:"false"===a?r=!1:"true"===a&&(r=!0)}if(n in t){var o=t[n];Array.isArray(o)||(t[n]=o=[o]),o.push(r)}else t[n]=r})),t}catch(r){}}}function k(e,t){var n;return null!==(n=null===e||void 0===e?void 0:e[t])&&void 0!==n?n:u["b"][t]}function E(){var e=new Set;return Object(a["a"])(Object(o["a"])(l["matrixPresence"].success.is),Object(i["a"])((function(e,t){return k(t.payload.caps,u["a"].DELIVERY)?e.delete(t.meta.address):e.add(t.meta.address),e}),e),Object(c["a"])(e))}function T(){var e={};return Object(a["a"])(Object(o["a"])(l["matrixPresence"].success.is),Object(i["a"])((function(e,t){return p(p({},e),{},d({},t.payload.userId,t))}),e),Object(c["a"])(e))}},"0933":function(e,t,n){"use strict";n("0144")},"0a08":function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.show?n("div",{staticClass:"blurred-overlay",class:{fullscreen:e.fullscreen}},[e._t("default")],2):e._e()},a=[],o=n("6dbe"),i=n("5cf9");function c(e){return c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function f(e){var t=b();return function(){var n,r=y(e);if(t){var a=y(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){return!t||"object"!==c(t)&&"function"!==typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}var h=function(e){s(n,e);var t=f(n);function n(){return u(this,n),t.apply(this,arguments)}return n}(i["g"]);Object(o["b"])([Object(i["e"])({type:Boolean,required:!0})],h.prototype,"show",void 0),Object(o["b"])([Object(i["e"])({required:!1,default:!1,type:Boolean})],h.prototype,"fullscreen",void 0),h=Object(o["b"])([Object(i["a"])({})],h);var m=h,v=m,O=(n("ef8c"),n("a6c2")),g=Object(O["a"])(v,r,a,!1,null,"de732a60",null);t["a"]=g.exports},"0ba5":function(e,t,n){"use strict";var r=n("5778");n.d(t,"a",(function(){return r["e"]})),n.d(t,"b",(function(){return r["g"]})),n.d(t,"c",(function(){return r["k"]})),n.d(t,"d",(function(){return r["l"]})),n.d(t,"e",(function(){return r["m"]}));var a=n("7de2");n.d(t,"f",(function(){return a["e"]})),n.d(t,"g",(function(){return a["g"]}))},"0dd2":function(e,t,n){e.exports=n.p+"img/back_arrow.268247fb.svg"},"0f05":function(e,t,n){},"0f75":function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n("7fcc"),a=n.n(r),o=n("c010"),i=n.n(o),c=n("e832"),u=n("a3d5");function s(e,t){return b(e)||d(e,t)||f(e,t)||l()}function l(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(e,t){if(e){if("string"===typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function b(e){if(Array.isArray(e))return e}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t,n){return t&&h(e.prototype,t),n&&h(e,n),e}var v=function(){function e(){y(this,e)}return m(e,null,[{key:"truncate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12;if(!e)return"";var n="...";if(e.length<=t)return e;var r=Math.floor(t/2);return e.substr(0,r)+n+e.substr(e.length-r)}},{key:"decimals",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return parseFloat(e).toFixed(t)}},{key:"upper",value:function(e){return e?e.toLocaleUpperCase():""}},{key:"displayFormat",value:function(t,n){var r=u["a"].toUnits(t,null!==n&&void 0!==n?n:18),a=parseFloat(r);return 0===a?0===n?"0":"0.0":a<1e-6?"<0.000001":e.formatValue(r,n)}},{key:"formatValue",value:function(e,t){var n=i()(e,"."),r=s(n,2),a=r[0],o=r[1];if(o&&o.length>6){var c=o.substring(0,6);return"≈".concat(a,".").concat(c)}return 0===t?a:e}},{key:"capitalizeFirst",value:function(e){return a()(e)}},{key:"upperCase",value:function(e){return e.toUpperCase()}}]),e}();v.toUnits=function(e,t){return u["a"].toUnits(e,null!==t&&void 0!==t?t:18)},v.formatDate=function(e){return"".concat(new Intl.DateTimeFormat("en-US").format(e)," ").concat(e.toLocaleTimeString("en-US"))},c["a"].filter("truncate",v.truncate),c["a"].filter("decimals",v.decimals),c["a"].filter("upper",v.upper),c["a"].filter("displayFormat",v.displayFormat),c["a"].filter("capitalizeFirst",v.capitalizeFirst),c["a"].filter("upperCase",v.upperCase),c["a"].filter("toUnits",v.toUnits),c["a"].filter("formatDate",v.formatDate)},"0ff6":function(e){e.exports=JSON.parse('{"contracts_version":null,"chain_id":4,"contracts":{"ServiceRegistry":{"address":"0xe44921f1F63B6369A1Ef0Ae497b2620D68C40f3C","transaction_hash":"0xd9d8ac1821c2f4ac47af6f44e3c2e6da49fae8acac936e851dd21833e86684f9","block_number":6515467,"gas_cost":1999628,"constructor_arguments":["0x2488C9445b405E0fbbD60e89813f8b8652973737","0x062C12c01D0f17fC9eAa33940D994594d91a0182",2e+21,6,5,17280000,1000,15552000]},"UserDeposit":{"address":"0x9d87E6E25029dAa79E064Db04f3Dc1a785025FcE","transaction_hash":"0xfdefb83579530c6bc54f732a9d15a8c8e8bff3f88e85b6fbbcb1ffc55f8ff0de","block_number":6515468,"gas_cost":1530470,"constructor_arguments":["0x2488C9445b405E0fbbD60e89813f8b8652973737",1.157920892373162e+77]},"MonitoringService":{"address":"0x9D5fF7860dcFc1EB6bCF230D911Fe0df0f8C0e31","transaction_hash":"0x21fbe2880e3168989a1f53cec9e83e765e00aa0f43eded08612caefc7359ba9b","block_number":6515469,"gas_cost":1949901,"constructor_arguments":["0x2488C9445b405E0fbbD60e89813f8b8652973737","0xe44921f1F63B6369A1Ef0Ae497b2620D68C40f3C","0x9d87E6E25029dAa79E064Db04f3Dc1a785025FcE","0xC1e1F66c196738E6E38728Cac797E658631C8580"]},"OneToN":{"address":"0xd392CE4c8A44d3D22c24a2812EF7c11e27F3E194","transaction_hash":"0xb41df6abc165200fe335d23008ef82e6febb948984fc6df3d35d473fcd439af7","block_number":6515470,"gas_cost":1097797,"constructor_arguments":["0x9d87E6E25029dAa79E064Db04f3Dc1a785025FcE",4,"0xe44921f1F63B6369A1Ef0Ae497b2620D68C40f3C"]}}}')},1:function(e,t){},10:function(e,t){},11:function(e,t){},12:function(e,t){},1218:function(e,t,n){},13:function(e,t){},"152b":function(e,t,n){"use strict";var r=n("6dbe"),a=n("5cf9"),o=n("80bf");function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}function l(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function p(e){var t=y();return function(){var n,r=h(e);if(t){var a=h(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){return!t||"object"!==i(t)&&"function"!==typeof t?b(e):t}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}var m=function(e){l(n,e);var t=p(n);function n(){return c(this,n),t.apply(this,arguments)}return s(n,[{key:"navigateToSelectHub",value:function(e){this.$router.push({name:o["a"].SELECT_HUB,params:{token:e}})}},{key:"navigateToHome",value:function(){this.$router.push({name:o["a"].HOME})}},{key:"navigateToTransfer",value:function(e){this.$router.push({name:o["a"].TRANSFER,params:{token:e}})}},{key:"navigateToOpenChannel",value:function(e,t){this.$router.push({name:o["a"].OPEN_CHANNEL,params:{token:e,partner:t}})}},{key:"navigateToChannels",value:function(e){this.$router.push({name:o["a"].CHANNELS,params:{token:e}})}},{key:"navigateToSelectTransferTarget",value:function(e,t,n){var r={name:o["a"].TRANSFER,params:{token:e},query:{}};t&&n&&(r.query={target:t,amount:n}),this.$router.push(r)}},{key:"navigateToTokenSelect",value:function(){this.$router.push({name:o["a"].SELECT_TOKEN})}},{key:"navigateToTransferSteps",value:function(e,t,n){this.$router.push({name:o["a"].TRANSFER_STEPS,params:{token:e,target:t},query:{amount:n}})}},{key:"navigateToNotifications",value:function(){this.$router.push({name:o["a"].NOTIFICATIONS})}},{key:"navigateToAccount",value:function(){this.$router.push({name:o["a"].ACCOUNT_ROOT})}},{key:"navigateToBackupState",value:function(){this.$router.push({name:o["a"].ACCOUNT_BACKUP})}},{key:"navigateToRaidenAccountTransfer",value:function(){this.$router.push({name:o["a"].ACCOUNT_RAIDEN})}},{key:"navigateToSettings",value:function(){this.$router.push({name:o["a"].ACCOUNT_SETTINGS})}},{key:"navigateToWithdrawal",value:function(){this.$router.push({name:o["a"].ACCOUNT_WITHDRAWAL})}},{key:"navigateToUDC",value:function(){this.$router.push({name:o["a"].ACCOUNT_UDC})}},{key:"onModalBackClicked",value:function(){this.$router.go(-1)}},{key:"onBackClicked",value:function(){switch(this.$route.name){case o["a"].TRANSFER_STEPS:this.navigateToSelectTransferTarget(this.$route.params.token,this.$route.params.target,this.$route.params.amount);break;case o["a"].CHANNELS:this.navigateToTransfer(this.$route.params.token);break;case o["a"].SELECT_TOKEN:case o["a"].SELECT_HUB:case o["a"].OPEN_CHANNEL:this.$router.go(-1);break;default:break}}}]),n}(a["g"]);m=Object(r["b"])([a["a"]],m),t["a"]=m},"18cb":function(e,t,n){e.exports=n.p+"img/channels_info.76c17597.svg"},1924:function(e,t,n){e.exports=n.p+"img/backup_state_info.0f9ae539.svg"},"1a78":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return l})),n.d(t,"e",(function(){return p})),n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return d}));var r,a=n("2111"),o=n("48a3"),i=n.n(o),c=n("5778"),u=n("ca14"),s={SENT:"sent",RECEIVED:"received"},l=a["j"](i()(s)),f=a["o"](a["i"]([a["u"]({_id:a["r"],channel:a["r"],direction:l,secrethash:u["c"],expiration:a["m"],transfer:Object(u["k"])(Object(u["j"])(c["c"])),fee:Object(u["e"])(32),partner:u["a"],cleared:a["m"]},"TransferStateBase"),a["n"]({secret:u["h"],secretRegistered:Object(u["k"])(a["u"]({txHash:u["c"],txBlock:a["m"]})),transferProcessed:Object(u["k"])(Object(u["j"])(c["g"])),channelClosed:Object(u["k"])(a["u"]({txHash:u["c"],txBlock:a["m"]})),channelSettled:Object(u["k"])(a["u"]({txHash:u["c"],txBlock:a["m"]})),secretRequest:Object(u["k"])(Object(u["j"])(c["h"])),secretReveal:Object(u["k"])(Object(u["j"])(c["i"])),unlock:Object(u["k"])(Object(u["j"])(c["j"])),expired:Object(u["k"])(Object(u["j"])(c["b"])),unlockProcessed:Object(u["k"])(Object(u["j"])(c["g"])),expiredProcessed:Object(u["k"])(Object(u["j"])(c["g"]))},"TransferStateOpts")])),p=f;(function(e){e["pending"]="PENDING",e["received"]="RECEIVED",e["closed"]="CLOSED",e["requested"]="REQUESTED",e["revealed"]="REVEALED",e["registered"]="REGISTERED",e["unlocking"]="UNLOCKING",e["expiring"]="EXPIRING",e["unlocked"]="UNLOCKED",e["expired"]="EXPIRED"})(r||(r={}));var d=a["i"]([a["u"]({secret:u["h"],amount:Object(u["l"])(32)}),a["n"]({payment_identifier:Object(u["l"])(8)})])},"1b23":function(e,t,n){"use strict";n.d(t,"b",(function(){return F})),n.d(t,"a",(function(){return W})),n.d(t,"d",(function(){return V})),n.d(t,"c",(function(){return $}));var r=n("36d8"),a=n.n(r),o=n("b97c"),i=n("1e78"),c=n("f068"),u=n("cd9d"),s=n("a669"),l=n("758f"),f=n("f541"),p=n("1319"),d=n("dd89"),b=n("c0bf"),y=n("1981"),h=n("26cb"),m=n("a083"),v=n("5e25a"),O=n("33ca"),g=n("f6ea"),j=n("db91"),w=n("009f"),_=n("2b5b"),k=n("325b");function E(e){return A(e)||S(e)||N(e)||T()}function T(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function S(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function A(e){if(Array.isArray(e))return R(e)}function x(e,t){return D(e)||I(e,t)||N(e,t)||P()}function P(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function N(e,t){if(e){if("string"===typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?R(e,t):void 0}}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function I(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function D(e){if(Array.isArray(e))return e}function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){U(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function B(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){M(o,r,a,i,c,"next",e)}function c(e){M(o,r,a,i,c,"throw",e)}i(void 0)}))}}function F(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e5,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e3,l=t.fromBlock,f=t.toBlock;return Object(c["a"])((function(){var O=l,g=n,j=3;return Object(c["a"])(B(a.a.mark((function n(){return a.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",e.send("eth_getLogs",[L(L({},t),{},{fromBlock:Object(o["g"])(O),toBlock:Object(o["g"])(Math.min(O+g-1,f))})]));case 1:case"end":return n.stop()}}),n)})))).pipe(Object(p["a"])((function(t){return t.forEach((function(e){null==e.removed&&(e.removed=!1)})),i["a"].arrayOf(e.formatter.filterLog.bind(e.formatter))(t)})),Object(d["a"])({complete:function(){return O+=g},error:function(){g=Math.round(g/2),g<r&&(g=r,j--)}}),Object(b["a"])((function(e){return Object(u["a"])(e)})),Object(y["a"])((function(t){if(j>=0)return Object(s["a"])(e.pollingInterval).pipe(Object(h["a"])());throw t})),Object(m["a"])((function(e){return e.pipe(Object(v["a"])((function(){return O<=f})))})))}))}function W(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.fromBlock,a=n.confirmations,o=n.blockNumber$,i=n.onPastCompleted;if("string"===typeof t||Array.isArray(t))return Object(l["a"])((function(n){return e.on(t,n)}),(function(n){return e.removeListener(t,n)}));var c=a?"number"===typeof a?Object(f["a"])(a):a:Object(f["a"])(_["c"]),u=[],s=Date.now();return c.pipe(Object(O["a"])(),Object(k["f"])((function(t){if(!r){var n=e._lastBlockNumber,a=e.blockNumber;n=n&&n>0?n:a&&a>0?a:t+1,r=n-t}return u.splice(0,u.length,r),null!==o&&void 0!==o?o:W(e,"block")}),g["a"]),Object(j["a"])(Math.ceil(e.pollingInterval/10)),Object(w["a"])((function(n){var r=x(n,2),a=r[0],o=r[1];return F(e,L(L({},t),{},{fromBlock:u[0],toBlock:o})).pipe(Object(d["a"])({next:function(e){if(e.blockNumber&&!(e.blockNumber+a>o)){var t=e.blockNumber+1,n=u.findIndex((function(e){return e>t}));n&&(n<0&&(n=u.length),u.splice(0,n,t))}},complete:function(){while(u.length>=2*a)u.shift();i&&s&&(s=0,i(Date.now()-s)),u.push(o+1)}}))})))}function V(e){return function(t){var n=e.interface.parseLog(t),r=L(L(L({},t),n),{},{removeListener:function(){},getBlock:function(){return e.provider.getBlock(t.blockHash)},getTransaction:function(){return e.provider.getTransaction(t.transactionHash)},getTransactionReceipt:function(){return e.provider.getTransactionReceipt(t.transactionHash)}});return[].concat(E(n.args),[r])}}function $(e){return"unknown"===e.name?e.chainId.toString():"homestead"===e.name?"mainnet":e.name}},"1f0b":function(e){e.exports=JSON.parse('{"contracts_version":null,"chain_id":1,"contracts":{"ServiceRegistry":{"address":"0xa80aEc9eebD8058A1468e563C025999590F32C08","transaction_hash":"0x5aea719cdc67247db8f24da779a3cf817daab629ad2f743bf4c6b0b067339804","block_number":10095929,"gas_cost":1999694,"constructor_arguments":["0x255Aa6DF07540Cb5d3d297f0D0D4D84cb52bc8e6","0xbBF11c2f66E1887681C902095CEfB1018C854c0f",8.420485356775965e+21,5,4,2836573,842048535677596500000,15552000]},"UserDeposit":{"address":"0x1c62fF66aF8aaD410065E02338F5bFbbe23e1f10","transaction_hash":"0xa810cc5afd8eef2f056fe8d9895b32b81927d76643d8965aaa40d2e24d63dc97","block_number":10095932,"gas_cost":1530140,"constructor_arguments":["0x255Aa6DF07540Cb5d3d297f0D0D4D84cb52bc8e6",8.420485356775965e+23]},"MonitoringService":{"address":"0x727DDdBD042d891180A252C7A20634a696A16925","transaction_hash":"0x8404ad70bd1a42ad0bf27c41d720a78ebdc0a8c23621f479ca1f700773ddfc03","block_number":10095941,"gas_cost":1949835,"constructor_arguments":["0x255Aa6DF07540Cb5d3d297f0D0D4D84cb52bc8e6","0xa80aEc9eebD8058A1468e563C025999590F32C08","0x1c62fF66aF8aaD410065E02338F5bFbbe23e1f10","0x6d07A2ef8De5d7D48337510BCEb9FEEa5424b20c"]},"OneToN":{"address":"0x960f01E9E219E1c8564784a050fD1cA51651592D","transaction_hash":"0xd775a9e8b2baa0005d84cc9d0ff5efa627163e80b05d53712a5b19b44b552836","block_number":10095943,"gas_cost":1097785,"constructor_arguments":["0x1c62fF66aF8aaD410065E02338F5bFbbe23e1f10",1,"0xa80aEc9eebD8058A1468e563C025999590F32C08"]}}}')},2:function(e,t){},"233e":function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"header-identicon"},[n("v-img",{class:{"header-identicon__blockie":e.defaultAccount,"header-identicon__blockie header-identicon__blockie__grayscale":!e.defaultAccount},attrs:{src:e.$blockie(e.defaultAccount),contain:"","aspect-ratio":"1"}})],1)},a=[],o=n("6dbe"),i=n("5cf9"),c=n("94ea"),u=n("77fd");function s(e){return s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}function y(e,t){return y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},y(e,t)}function h(e){var t=O();return function(){var n,r=g(e);if(t){var a=g(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return m(this,n)}}function m(e,t){return!t||"object"!==s(t)&&"function"!==typeof t?v(e):t}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}var j=function(e){b(n,e);var t=h(n);function n(){return d(this,n),t.apply(this,arguments)}return n}(Object(i["c"])(u["a"]));j=Object(o["b"])([Object(i["a"])({computed:f({},Object(c["e"])(["defaultAccount"]))})],j);var w=j,_=w,k=(n("43fd"),n("a6c2")),E=n("411c"),T=n.n(E),S=n("1331"),A=Object(k["a"])(_,r,a,!1,null,"d302227a",null);t["a"]=A.exports;T()(A,{VImg:S["a"]})},"2b5b":function(e,t,n){"use strict";n.d(t,"h",(function(){return l})),n.d(t,"e",(function(){return f})),n.d(t,"g",(function(){return u})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return p})),n.d(t,"f",(function(){return d})),n.d(t,"i",(function(){return b})),n.d(t,"c",(function(){return y})),n.d(t,"d",(function(){return h}));var r,a=n("b97c"),o=n("6da0"),i=n("24c6");function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u,s,l=Object(a["h"])([],65),f=Object(o["a"])([]);(function(e){e["STOP"]="raidenStopped",e["ACCOUNT_CHANGED"]="providerAccountChanged",e["NETWORK_CHANGED"]="providerNetworkChanged"})(u||(u={})),function(e){e["DELIVERY"]="Delivery",e["RECEIVE"]="Receive",e["MEDIATE"]="Mediate",e["WEBRTC"]="webRTC",e["TO_DEVICE"]="toDevice",e["IMMUTABLE_METADATA"]="immutableMetadata"}(s||(s={}));var p=(r={},c(r,s.DELIVERY,1),c(r,s.RECEIVE,1),c(r,s.MEDIATE,1),c(r,s.WEBRTC,0),c(r,s.TO_DEVICE,1),c(r,s.IMMUTABLE_METADATA,0),r),d="RAIDEN",b=100,y=5,h=Object(i["d"])("80")},"2fca":function(e,t,n){"use strict";n.d(t,"a",(function(){return P})),n.d(t,"b",(function(){return N}));var r=n("36d8"),a=n.n(r);function o(e){return o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}function c(e){var t=p();return function(){var n,r=y(e);if(t){var a=y(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){return!t||"object"!==o(t)&&"function"!==typeof t?s(e):t}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e){var t="function"===typeof Map?new Map:void 0;return l=function(e){if(null===e||!d(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return f(e,arguments,y(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),b(n,e)},l(e)}function f(e,t,n){return f=p()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var a=Function.bind.apply(e,r),o=new a;return n&&b(o,n.prototype),o},f.apply(null,arguments)}function p(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function d(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function b(e,t){return b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},b(e,t)}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e,t){return k(e)||_(e,t)||j(e,t)||g()}function g(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function j(e,t){if(e){if("string"===typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w(e,t):void 0}}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function k(e){if(Array.isArray(e))return e}function E(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function T(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){E(o,r,a,i,c,"next",e)}function c(e){E(o,r,a,i,c,"throw",e)}i(void 0)}))}}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e,t,n){return t&&A(e.prototype,t),n&&A(e,n),e}var P=function(){function e(){S(this,e)}return x(e,null,[{key:"contracts",value:function(){var e=T(a.a.mark((function e(){var t,n,r,o,i,c,u,s,l,f,p;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,t=Object({VUE_APP_ALLOW_MAINNET:"true",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",VUE_APP_TERMS:"https://github.com/raiden-network/light-client/blob/master/TERMS.md",VUE_APP_CONFIGURATION_URL:"config.production.json",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",VUE_APP_SERVICE_WORKER_DISABLED:"false",BASE_URL:"/"}),n=t.VUE_APP_DEPLOYMENT_INFO,r=t.VUE_APP_DEPLOYMENT_SERVICES_INFO,!n||!r){e.next=16;break}return e.next=5,Promise.all([fetch(n),fetch(r)]);case 5:return o=e.sent,i=O(o,2),c=i[0],u=i[1],e.next=11,Promise.all([c.json(),u.json()]);case 11:return s=e.sent,l=O(s,2),f=l[0],p=l[1],e.abrupt("return",m(m({},f.contracts),p.contracts));case 16:return e.abrupt("return",void 0);case 19:throw e.prev=19,e.t0=e["catch"](0),new N(e.t0);case 22:case"end":return e.stop()}}),e,null,[[0,19]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"configuration",value:function(){var e=T(a.a.mark((function e(){var t,n;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t="config.production.json",e.next=3,fetch(t);case 3:return n=e.sent,e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()}]),e}(),N=function(e){i(n,e);var t=c(n);function n(){return S(this,n),t.apply(this,arguments)}return n}(l(Error))},3:function(e,t){},"31a7":function(e){e.exports=JSON.parse('{"contracts_version":null,"chain_id":4,"contracts":{"SecretRegistry":{"address":"0x84df710E901299486F120B06e85b9f22AF913387","transaction_hash":"0x3bf1a9f9f03720a51c593d466c007a65d69c1ca197ac4b572ba9d689773936d3","block_number":6515460,"gas_cost":247286,"constructor_arguments":[]},"TokenNetworkRegistry":{"address":"0xC1e1F66c196738E6E38728Cac797E658631C8580","transaction_hash":"0x0072b99e7cac9134c5769044c9d7d4bafa32cad2a95afaaa3c10b30a8493ddb7","block_number":6515461,"gas_cost":4001594,"constructor_arguments":["0x84df710E901299486F120B06e85b9f22AF913387",4,20,555428,1.157920892373162e+77]}},"token_networks":[{"token_network_address":"0x5CEd7CfC56B4249296108B00DbA70b1b903371D8","constructor_arguments":{"_token_address":"0xD7bB0F9D05766c0149C1A3BE14c634310C4B7719","_secret_registry":"0x84df710E901299486F120B06e85b9f22AF913387","_chain_id":4,"_settlement_timeout_min":20,"_settlement_timeout_max":555428,"_deprecation_executor":"0x062C12c01D0f17fC9eAa33940D994594d91a0182","_channel_participant_deposit_limit":1.157920892373162e+77,"_token_network_deposit_limit":1.157920892373162e+77}}]}')},"325b":function(e,t,n){"use strict";n.d(t,"h",(function(){return K})),n.d(t,"d",(function(){return G})),n.d(t,"i",(function(){return Y})),n.d(t,"k",(function(){return Q})),n.d(t,"j",(function(){return z})),n.d(t,"l",(function(){return J})),n.d(t,"b",(function(){return Z})),n.d(t,"e",(function(){return ee})),n.d(t,"m",(function(){return te})),n.d(t,"f",(function(){return ne})),n.d(t,"a",(function(){return re})),n.d(t,"c",(function(){return ae})),n.d(t,"g",(function(){return oe}));var r=n("393f"),a=n("a669"),o=n("f068"),i=n("cd9d"),c=n("b2c5"),u=n("56a6"),s=n("c8e4"),l=n("7a7d"),f=n("c32d"),p=n("0146"),d=n("d495"),b=n("9c65"),y=n("33ca"),h=n("c0bf"),m=n("5e25"),v=n("996a"),O=n("a083"),g=n("1319"),j=n("5e25a"),w=n("f6ea"),_=n("33b9"),k=n("dd89"),E=n("aaf7"),T=n("26cb"),S=n("5b2c"),A=n("625f"),x=n("73cb"),P=n("4a12"),N=(n("a157"),n("1981")),R=n("b7ab"),I=n("fd2c"),D=n("d276"),C=n("ee6c"),L=n("ca14");function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){B(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F(e,t){return q(e)||H(e,t)||V(e,t)||W()}function W(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function V(e,t){if(e){if("string"===typeof e)return $(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$(e,t):void 0}}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function H(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function q(e){if(Array.isArray(e))return e}var K=function(){return Object(r["a"])(b["a"].apply(void 0,arguments),Object(y["a"])())};function G(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e,t){return e===t};return Object(r["a"])(Object(y["a"])(),Object(h["a"])((function(e){return Object.entries(e)})),Object(m["a"])((function(t,n){var r=t.acc,a=F(n,2),o=a[0],i=a[1];return e(r[o],i)?{acc:r}:{acc:M(M({},r),{},B({},o,i)),changed:[o,i]}}),{acc:{}}),Object(b["a"])("changed"),Object(v["a"])(L["p"]))}function Y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e4;return Object(r["a"])(Object(O["a"])((function(e){return e.pipe(Object(g["a"])((function(){if("number"===typeof t)return t;var e=t.next();return e.done?-1:e.value})),Object(j["a"])((function(e){return e>=0})),Object(w["a"])((function(e){return Object(a["a"])(e)})))})),Object(_["a"])(e))}function X(e){return Symbol.iterator in e}function Q(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r.log&&(r=M(M({},r),{},{log:r.log.bind(null,"retryWhile")})),function(c){return Object(o["a"])((function(){return t=void 0,n=Object(C["i"])(r),Object(i["a"])(c).pipe(Object(k["a"])((function(){t=void 0,n=Object(C["i"])(r)})),Object(E["a"])((function(r){return r.pipe(Object(h["a"])((function(r){var o;if("number"===typeof e)o=e;else{t||(t=X(e)?e[Symbol.iterator]():e);var i=t.next();o=i.done?-1:i.value}if(o<=0||!n(r))throw r;return Object(a["a"])(o)})))})))}))}}function z(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Object(o["a"])(e).pipe(Q.apply(void 0,n))}function J(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n){var r=new c["a"];return e.pipe(Object(g["a"])((function(e){return t?!e:!!e})),Object(y["a"])(),Object(_["a"])(r),Object(w["a"])((function(e){return e?n.pipe(Object(k["a"])({complete:function(){return r.next(!0)}})):u["a"]})))}}function Z(e,t){return function(n){return e=e.pipe(Object(T["a"])(),Object(S["a"])(null)),void 0!==t&&(e=e.pipe(Object(A["a"])(t))),n.pipe(Object(_["a"])(e))}}function ee(e){return Object(r["a"])(Object(x["a"])(void 0,null),Object(h["a"])(e))}function te(e){return function(t){return Object(s["a"])(Object(a["a"])(e).pipe(Object(P["a"])(Object(l["a"])((function(){return new Error("timeout waiting first")})))),t)}}function ne(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h["a"];return Object(r["a"])(t((function(t,n){return Object(i["a"])(e(t,n)).pipe(Object(g["a"])((function(e){return[t,e]})))})))}function re(e){for(var t,n=arguments.length,a=new Array(n>1?n-1:0),o=1;o<n;o++)a[o-1]=arguments[o];e.log&&a.length&&(e=M(M({},e),{},{log:(t=e.log).bind.apply(t,[null].concat(a))}));var i=Object(C["i"])(e);return Object(r["a"])(Object(N["a"])((function(e){if(!i(e))throw e;return u["a"]})))}function ae(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(e){return e};return function(a){return Object(o["a"])((function(){var i=new c["a"],u=new Map,s=Object(o["a"])((function(){return t((function(t){var o=r(t),c=u.get(o);if(c)return c;var s=new f["a"](1),l=a.pipe(Object(v["a"])(Object(D["g"])(e,t.meta)),Object(g["a"])((function(t){if(e.failure.is(t))throw t.payload;return t})),Object(j["a"])((function(e){return n&&"confirmed"in e.payload&&void 0===e.payload.confirmed}),!0)).subscribe(s);i.next(t);var p=s.pipe(Object(R["a"])((function(){l.unsubscribe(),u.delete(o)})));return u.set(o,p),p}))})).pipe(Object(R["a"])((function(){return i.complete()})));return Object(p["a"])(i,s)}))}}function oe(e,t){return function(n){var r=Object(d["a"])(n.pipe(Object(I["a"])()),e),a=F(r,2),o=a[0],i=a[1];return Object(p["a"])(t(o),i)}}},3501:function(e){e.exports=JSON.parse('{"contracts_version":null,"chain_id":5,"contracts":{"SecretRegistry":{"address":"0xC7657aB35Dc19dA658ab160F0913737f650d0642","transaction_hash":"0xe5ae2292f4f0d395ce1b35ef589bdf620bdd2d0cbfe9036265459da9f04f8e2c","block_number":4422370,"gas_cost":247286,"constructor_arguments":[]},"TokenNetworkRegistry":{"address":"0xE7871B43Dfe09EaeC25DA8961484bBcA4C133987","transaction_hash":"0x64e896cc8359817c73ad8f4d4de312307ef5d9ac7151cede184978360e61110c","block_number":4422372,"gas_cost":4001594,"constructor_arguments":["0xC7657aB35Dc19dA658ab160F0913737f650d0642",5,20,555428,1.157920892373162e+77]}},"token_networks":[{"token_network_address":"0xfe3704dBFeca9A970E634f4b6D383f78AE979417","constructor_arguments":{"_token_address":"0xC563388e2e2fdD422166eD5E76971D11eD37A466","_secret_registry":"0xC7657aB35Dc19dA658ab160F0913737f650d0642","_chain_id":5,"_settlement_timeout_min":20,"_settlement_timeout_max":555428,"_deprecation_executor":"0x062C12c01D0f17fC9eAa33940D994594d91a0182","_channel_participant_deposit_limit":1.157920892373162e+77,"_token_network_deposit_limit":1.157920892373162e+77}}]}')},"358d":function(e,t,n){"use strict";n.d(t,"a",(function(){return F})),n.d(t,"d",(function(){return W})),n.d(t,"e",(function(){return $})),n.d(t,"f",(function(){return H})),n.d(t,"b",(function(){return q})),n.d(t,"c",(function(){return K})),n.d(t,"g",(function(){return G}));var r=n("36d8"),a=n.n(r),o=n("b97c"),i=n("2111"),c=n("427e"),u=n.n(c),s=n("523d"),l=n.n(s),f=n("cea7"),p=n("cd9d"),d=n("f068"),b=n("56a6"),y=n("b62a"),h=n("c0bf"),m=n("1981"),v=n("d5a4"),O=n("1319"),g=n("5778"),j=n("7de2"),w=n("46f7"),_=n("ee6c"),k=n("9a49"),E=n("325b"),T=n("ca14"),S=["errors"];function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N(e,t){if(null==e)return{};var n,r,a=R(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function R(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}function I(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function D(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){I(o,r,a,i,c,"next",e)}function c(e){I(o,r,a,i,c,"throw",e)}i(void 0)}))}}var C=u()(function(){var e=D(a.a.mark((function e(t,n){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(f["a"])(Object(E["j"])(D(a.a.mark((function e(){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t.callStatic.token());case 1:case"end":return e.stop()}}),e)}))),n,{onErrors:_["h"]})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),L=u()(function(){var e=D(a.a.mark((function e(t,n){var r,o;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=n.serviceRegistryContract,o=t,!T["a"].is(t)){e.next=6;break}return e.next=5,r.callStatic.urls(t);case 5:o=e.sent;case 6:return e.abrupt("return",M(o));case 7:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()),U=/^(?:https:\/\/)?[^\s\/$.?#&"']+\.[^\s\/$?#&"']+$/;function M(e){return Object(_["d"])(e,_["b"].PFS_EMPTY_URL),Object(_["d"])(U.test(e),[_["b"].PFS_INVALID_URL,{url:e}]),e.match(/^https?:\/\//)||(e="https://".concat(e)),e}var B=new k["a"](32),F=i["o"](i["i"]([i["u"]({error_code:i["m"],errors:i["r"]}),i["n"]({error_details:i["q"](i["r"],i["x"])})]));function W(e,t){return V.apply(this,arguments)}function V(){return V=D(a.a.mark((function e(t,n){var r,o,c,u,s,l,p,d,b,y,h,m,v;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=n.serviceRegistryContract,o=n.network,c=n.contractsInfo,u=n.provider,s=n.config$,e.next=3,Object(f["a"])(s);case 3:return l=e.sent,p=l.pfsMaxFee,d=i["u"]({message:i["r"],network_info:i["u"]({chain_id:i["k"](o.chainId),token_network_registry_address:i["k"](c.TokenNetworkRegistry.address)}),operator:i["r"],payment_address:T["a"],price_info:Object(T["l"])(32),version:i["r"]}),e.next=8,L(t,{serviceRegistryContract:r});case 8:return b=e.sent,y=Date.now(),e.next=12,fetch(b+"/api/v1/info",{mode:"cors"});case 12:return h=e.sent,e.next=15,h.text();case 15:return m=e.sent,Object(_["d"])(h.ok,[_["b"].PFS_ERROR_RESPONSE,{text:m}]),v=Object(T["n"])(d,Object(w["b"])(m)),Object(_["d"])(v.price_info.lte(p),[_["b"].PFS_TOO_EXPENSIVE,{price:v.price_info.toString()}]),B.set(b,Promise.resolve(v.payment_address)),e.t0=v.payment_address,e.t1=b,e.t2=Date.now()-y,e.t3=v.price_info,e.next=26,C(r,u.pollingInterval);case 26:return e.t4=e.sent,e.abrupt("return",{address:e.t0,url:e.t1,rtt:e.t2,price:e.t3,token:e.t4});case 28:case"end":return e.stop()}}),e)}))),V.apply(this,arguments)}var $=Object.assign(function(){var e=D(a.a.mark((function e(t,n){var r;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=M(t),r=B.get(t),r||(r=W(t,n).then((function(e){var t=e.address;return t})),B.set(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}(),{cache:B});function H(e,t){var n=t.log;return Object(p["a"])(e).pipe(Object(h["a"])((function(e){return Object(d["a"])(D(a.a.mark((function n(){return a.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",W(e,t));case 1:case"end":return n.stop()}}),n)})))).pipe(Object(m["a"])((function(t){return n.warn('Error trying to fetch PFS info for "'.concat(e,'" - ignoring:'),t),b["a"]})))}),5),Object(v["a"])(),Object(O["a"])((function(t){return Object(_["d"])(t.length||!e.length,_["b"].PFS_INVALID_INFO),l()(t,"url").sort((function(e,t){var n=e.price.sub(t.price);return n.lt(0)?-1:n.gt(0)?1:e.rtt-t.rtt}))})))}function q(e,t,n){var r=n.serviceRegistryContract;return Object(d["a"])(D(a.a.mark((function e(){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",L(t,{serviceRegistryContract:r}));case 1:case"end":return e.stop()}}),e)})))).pipe(Object(h["a"])((function(t){return Object(y["a"])("".concat(t,"/api/v1/address/").concat(e,"/metadata"))})),Object(h["a"])(function(){var e=D(a.a.mark((function e(t){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t.json());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(O["a"])((function(t){try{var r=Object(T["n"])(g["a"],t),a=Object(j["h"])(r,e,n);return Object(_["d"])(a,["Invalid metadata signature",{peer:e,presence:r}]),Object(_["d"])(a.payload.caps,["Invalid capabilities format",r.capabilities]),a}catch(u){try{var o=Object(T["n"])(F,t),i=o.errors,c=N(o,S);u=new _["c"](i,c)}catch(s){}throw u}})))}function K(e){return Object(o["b"])([Object(w["a"])(e.one_to_n_address,20),Object(w["a"])(e.chain_id,32),Object(w["a"])(j["a"].IOU,32),Object(w["a"])(e.sender,20),Object(w["a"])(e.receiver,20),Object(w["a"])(e.amount,32),Object(w["a"])(e.expiration_block,32)])}function G(e,t){return Y.apply(this,arguments)}function Y(){return Y=D(a.a.mark((function e(t,n){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t.signMessage(K(n)).then((function(e){return x(x({},n),{},{signature:e})})));case 1:case"end":return e.stop()}}),e)}))),Y.apply(this,arguments)}},"38b1":function(e,t,n){},"3b50":function(e,t,n){},4:function(e,t){},"40b2":function(e,t,n){"use strict";n("5919"),n("823d");var r=n("111d"),a=n.n(r),o=r["methodFactory"];Object.defineProperty(a.a,"methodFactory",{enumerable:!0,configurable:!0,get:function(){return o},set:function(e){e.allowOverwrite&&(o=e)}});var i=n("178d"),c=Object(i["getRequest"])();Object(i["request"])((function(e,t){var n=c(e,t),r=n.abort.bind(n);return Object.assign(n,{abort:function(){r(),t(new Error("aborted!"))}})}))},"438d":function(e,t,n){"use strict";n.d(t,"b",(function(){return j})),n.d(t,"a",(function(){return w})),n.d(t,"d",(function(){return _})),n.d(t,"c",(function(){return k}));var r=n("36d8"),a=n.n(r),o=n("0146"),i=n("f541"),c=n("f068"),u=n("996a"),s=n("f39b"),l=n("26cb"),f=n("8173"),p=n("d276"),d=n("325b"),b=["userId"];function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t){if(null==e)return{};var n,r,a=O(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function O(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}var g=a.a.mark(j);function j(){var e,t,n,r,o=arguments;return a.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:e=o.length>0&&void 0!==o[0]?o[0]:1e3,t=o.length>1&&void 0!==o[1]?o[1]:6e4,n=o.length>2&&void 0!==o[2]?o[2]:1.4,r=e;case 4:return a.next=7,r;case 7:r=Math.min(t,Math.ceil(r*n)),a.next=4;break;case 10:case"end":return a.stop()}}),g)}function w(e,t,n){return Object(o["a"])(e.pipe(Object(u["a"])(n),Object(s["a"])(1),Object(l["a"])()),Object(i["a"])(t))}function _(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3e4,a=!0;return Object(c["a"])((function(){if(a)a=!1;else if(e.payload.userId){var n=e.payload,r=(n.userId,v(n,b));e=h(h({},e),{},{payload:r})}return w(t,e,Object(p["g"])(f["messageSend"],e.meta))})).pipe(Object(d["i"])(n,r),Object(d["b"])(t))}function k(e,t){return function(n){return n.type===e&&(!t||n.expiration.eq(t.expiration)&&n.total_withdraw.eq("totalWithdraw"in t?t.totalWithdraw:t.total_withdraw))}}},"43fd":function(e,t,n){"use strict";n("7419")},"46f7":function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return b}));var r=n("c00b"),a=n("b97c"),o=n("87b8"),i=n("699d"),c=n("e64d"),u=n.n(c),s=n("ee6c"),l=n("ca14");function f(e,t){var n;if("boolean"===typeof e?e=e?o["e"]:o["h"]:"number"===typeof e&&(e=r["a"].from(e)),"string"!==typeof e||Object(a["l"])(e)||(e=Object(i["f"])(e)),Object(a["k"])(e)&&(e=Object(a["i"])(e)),l["b"].is(e)){if(e.lt(0))throw new s["c"](s["b"].DTA_NEGATIVE_NUMBER);if(e.gte(o["f"].pow(8*t)))throw new s["c"](s["b"].DTA_NUMBER_TOO_LARGE);n=Object(a["h"])(Object(a["i"])(e),t)}else{if("string"!==typeof e)throw new s["c"](s["b"].DTA_UNENCODABLE_DATA);if(Object(a["d"])(e)!==t)throw new s["c"](s["b"].DTA_ARRAY_LENGTH_DIFFERENCE);n=e}return n}var p=u()({storeAsString:!0}),d=p.parse,b=p.stringify},"49f8":function(e,t,n){var r={"./en.json":"edd4"};function a(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id="49f8"},"4c29":function(e){e.exports=JSON.parse('{"contracts_version":null,"chain_id":5,"contracts":{"ServiceRegistry":{"address":"0x273bb54f21E23CeA5312bE2623ED97C25CBd6F0D","transaction_hash":"0xb55df847157286ac359952aa9bca2082c62c000bfd299a98ff95fd54c04930d4","block_number":4422373,"gas_cost":1999628,"constructor_arguments":["0x5Fc523e13fBAc2140F056AD7A96De2cC0C4Cc63A","0x062C12c01D0f17fC9eAa33940D994594d91a0182",2e+21,6,5,17280000,1000,15552000]},"UserDeposit":{"address":"0xD145252daB9323F9Acb70295d6a0589c611F225d","transaction_hash":"0x22526107c5e8174e1fe8a3da3b42499a14fc4088b8b236d85ff057b39a32e1e0","block_number":4422374,"gas_cost":1530470,"constructor_arguments":["0x5Fc523e13fBAc2140F056AD7A96De2cC0C4Cc63A",1.157920892373162e+77]},"MonitoringService":{"address":"0x1eF1F851689b6494f4eE6563c1979B5b018be51d","transaction_hash":"0x1894e9b205f09d8cbfc570b7b99f3915133c21157299c95e3b2cdbae01713c8b","block_number":4422375,"gas_cost":1949901,"constructor_arguments":["0x5Fc523e13fBAc2140F056AD7A96De2cC0C4Cc63A","0x273bb54f21E23CeA5312bE2623ED97C25CBd6F0D","0xD145252daB9323F9Acb70295d6a0589c611F225d","0xE7871B43Dfe09EaeC25DA8961484bBcA4C133987"]},"OneToN":{"address":"0x8483c719F8Cd8ed8c8855Be3B2779AF8ef914D47","transaction_hash":"0x666b9d83f683062949520516617db045a565085f7f076effda62d31fea927f4d","block_number":4422376,"gas_cost":1097797,"constructor_arguments":["0xD145252daB9323F9Acb70295d6a0589c611F225d",5,"0x273bb54f21E23CeA5312bE2623ED97C25CBd6F0D"]}}}')},"4cd4":function(e,t,n){e.exports=n.p+"img/notification_block.ad9b07ff.svg"},5:function(e,t){},"50e7":function(e,t,n){"use strict";n.d(t,"b",(function(){return ls})),n.d(t,"a",(function(){return ps}));var r={};n.r(r),n.d(r,"initEpic",(function(){return he})),n.d(r,"initNewBlockEpic",(function(){return me})),n.d(r,"blockTimeEpic",(function(){return ve})),n.d(r,"blockStaleEpic",(function(){return Oe})),n.d(r,"blockGasPriceEpic",(function(){return ge})),n.d(r,"confirmationEpic",(function(){return we})),n.d(r,"channelCloseEpic",(function(){return Me})),n.d(r,"channelUpdateEpic",(function(){return Be})),n.d(r,"channelDepositEpic",(function(){return nt})),n.d(r,"initTokensRegistryEpic",(function(){return At})),n.d(r,"initMonitorProviderEpic",(function(){return xt})),n.d(r,"channelEventsEpic",(function(){return Dt})),n.d(r,"channelMonitoredEpic",(function(){return Ct})),n.d(r,"channelOpenEpic",(function(){return Ht})),n.d(r,"channelSettleableEpic",(function(){return an})),n.d(r,"channelAutoSettleEpic",(function(){return on})),n.d(r,"channelSettleEpic",(function(){return cn})),n.d(r,"channelUnlockEpic",(function(){return un}));var a={};n.r(a),n.d(a,"dbErrorsEpic",(function(){return ln}));var o={};n.r(o),n.d(o,"msMonitorRequestEpic",(function(){return En})),n.d(o,"msMonitorNewBPEpic",(function(){return Tn})),n.d(o,"pfsRequestEpic",(function(){return Rr})),n.d(o,"pfsCapacityUpdateEpic",(function(){return Ir})),n.d(o,"pfsFeeUpdateEpic",(function(){return Dr})),n.d(o,"pfsServiceRegistryMonitorEpic",(function(){return Cr})),n.d(o,"monitorUdcBalanceEpic",(function(){return Gr})),n.d(o,"udcDepositEpic",(function(){return Xr})),n.d(o,"udcWithdrawPlanRequestEpic",(function(){return Qr})),n.d(o,"udcAutoWithdrawEpic",(function(){return zr})),n.d(o,"udcWithdrawEpic",(function(){return Jr}));var i={};n.r(i),n.d(i,"transferMediateEpic",(function(){return pa})),n.d(i,"transferAutoExpireEpic",(function(){return Oa})),n.d(i,"initQueuePendingEnvelopeMessagesEpic",(function(){return Ca})),n.d(i,"initQueuePendingReceivedEpic",(function(){return La})),n.d(i,"transferRequestResolveEpic",(function(){return Ua})),n.d(i,"transferClearCompletedEpic",(function(){return Ba})),n.d(i,"transferGenerateAndSignEnvelopeMessageEpic",(function(){return ko})),n.d(i,"transferProcessedReceivedEpic",(function(){return No})),n.d(i,"transferProcessedSendEpic",(function(){return Ro})),n.d(i,"transferRetryMessageEpic",(function(){return Bo})),n.d(i,"transferSecretRequestedEpic",(function(){return zo})),n.d(i,"transferSecretRevealEpic",(function(){return Zo})),n.d(i,"transferSecretRevealedEpic",(function(){return ei})),n.d(i,"transferRequestUnlockEpic",(function(){return ti})),n.d(i,"monitorSecretRegistryEpic",(function(){return ni})),n.d(i,"transferSuccessOnSecretRegisteredEpic",(function(){return ri})),n.d(i,"transferAutoRegisterEpic",(function(){return ai})),n.d(i,"transferSecretRegisterEpic",(function(){return oi})),n.d(i,"initWithdrawMessagesEpic",(function(){return vi})),n.d(i,"withdrawSendRequestMessageEpic",(function(){return Oi})),n.d(i,"withdrawSendTxEpic",(function(){return gi})),n.d(i,"withdrawMessageProcessedEpic",(function(){return ji})),n.d(i,"autoWithdrawExpireEpic",(function(){return wi})),n.d(i,"withdrawSendExpireMessageEpic",(function(){return _i}));var c={};n.r(c),n.d(c,"initMatrixEpic",(function(){return qi})),n.d(c,"matrixShutdownEpic",(function(){return Ki})),n.d(c,"matrixMessageSendEpic",(function(){return Oc})),n.d(c,"matrixMessageServiceSendEpic",(function(){return jc})),n.d(c,"matrixMessageReceivedEpic",(function(){return wc})),n.d(c,"deliveredEpic",(function(){return _c})),n.d(c,"matrixMonitorPresenceEpic",(function(){return Mc})),n.d(c,"matrixMonitorChannelPresenceEpic",(function(){return Bc})),n.d(c,"matrixUpdateCapsEpic",(function(){return Fc})),n.d(c,"matrixLeaveUnknownRoomsEpic",(function(){return Qc})),n.d(c,"rtcConnectionManagerEpic",(function(){return Vu}));var u=n("36d8"),s=n.n(u),l=n("c00b"),f=n("87b8"),p=n("5832"),d=n("2bde"),b=n.n(d),y=n("fe07"),h=n.n(y),m=n("0529"),v=n.n(m),O=n("50b8"),g=n("0146"),j=n("91e0"),w=n("cd9d"),_=n("f541"),k=n("a669"),E=n("2ac6"),T=n("1319"),S=n("33ca"),A=n("dd89"),x=n("26cb"),P=n("996a"),N=n("c49c"),R=n("9c65"),I=n("f39b"),D=n("c0bf"),C=n("5e25"),L=n("5e25a"),U=n("33b9"),M=n("1981"),B=n("b7ab"),F=n("b211"),W=n("1a3a"),V=n("ef4a"),$=n("f5be"),H=n("f799"),q=n("7ff5"),K=n.n(q),G=n("f068"),Y=n("56a6"),X=n("5b2c"),Q=n("db91"),z=n("009f"),J=n("f6ea"),Z=n("15e7"),ee=n("a157"),te=n("1b23"),ne=n("325b"),re=n("ca14");function ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(n),!0).forEach((function(t){ie(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ce(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function ue(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){ce(o,r,a,i,c,"next",e)}function c(e){ce(o,r,a,i,c,"throw",e)}i(void 0)}))}}function se(e,t){return be(e)||de(e,t)||fe(e,t)||le()}function le(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function fe(e,t){if(e){if("string"===typeof e)return pe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pe(e,t):void 0}}function pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function de(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function be(e){if(Array.isArray(e))return e}function ye(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function he(e,t,n){ye(e);var r=n.init$;return t.pipe(Object(V["a"])(),Object(D["a"])((function(e){var n=e.blockNumber,a=Date.now();return r.pipe(Object(D["a"])((function(e){return Object(E["a"])(Object(_["a"])(1),e.pipe(Object(x["a"])(),Object(X["a"])(-1)))})),Object(C["a"])((function(e,t){return e+t}),0),Object(Q["a"])(10),Object(V["a"])((function(e){return 0===e})),Object(F["a"])(t),Object(T["a"])((function(e){var t=se(e,2),r=t[1].blockNumber;return Object($["g"])({tookMs:Date.now()-a,initialBlock:n,currentBlock:r})})))})),Object(ne["b"])(t),Object(B["a"])((function(){return r.complete()})))}function me(e,t,n){ye(t);var r=n.provider,a=n.init$;return Object(ne["j"])((function(){return r.getBlockNumber()}),r.pollingInterval).pipe(Object(D["a"])((function(e){return a.pipe(Object(ne["e"])((function(){return Object(te["a"])(r,"block")})),Object(N["a"])(e))})),Object(T["a"])((function(e){return Object(H["newBlock"])({blockNumber:e})})),Object(ne["b"])(e))}function ve(e,t,n){ye(t);var r=n.provider,a=20,o=[-a,0],i=function(e){return Object(G["a"])(ue(s.a.mark((function t(){return s.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",r.getBlock(e).then((function(t){var n=t.timestamp;return[e,1e3*n]})));case 1:case"end":return t.stop()}}),t)}))))};return e.pipe(Object(P["a"])(H["newBlock"].is),Object(R["a"])("payload","blockNumber"),Object(P["a"])((function(e){return e>=o[0]+a})),Object(z["a"])((function(e){var t=o[0]>0?Object(_["a"])(o):i(Math.max(1,e-a)),n=i(e);return Object(O["a"])([t,n]).pipe(Object(D["a"])(s.a.mark((function e(t){var n,r,a,i;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=se(t,2),r=n[0],a=n[1],i=(a[1]-r[1])/(a[0]-r[0]),i===o[2]){e.next=5;break}return e.next=5,i;case 5:o=[a[0],a[1],i];case 6:case"end":return e.stop()}}),e)}))),Object(M["a"])(K()(Y["a"])))})),Object(T["a"])((function(e){return Object(H["blockTime"])({blockTime:e})})))}function Oe(e,t,n){ye(e);var r=n.latest$,a=n.config$;return t.pipe(Object(ne["h"])("blockNumber"),Object(F["a"])(r,a),Object(T["a"])((function(e){var t=se(e,3),n=t[1].blockTime,r=t[2].httpTimeout;return Math.max(3*n,2*r)})),Object(J["a"])((function(e){return Object(E["a"])(Object(_["a"])(!1),Object(k["a"])(e).pipe(Object(Z["a"])(!0),Object(ne["b"])(t)))})),Object(S["a"])(),Object(T["a"])((function(e){return Object(H["blockStale"])({stale:e})})))}function ge(e,t,n){ye(e);var r=n.provider,a=n.config$;return t.pipe(Object(ne["h"])("blockNumber"),Object(F["a"])(a),Object(z["a"])((function(e){var t=se(e,2),n=t[1].gasPriceFactor;return Object(G["a"])(ue(s.a.mark((function e(){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",r.getGasPrice());case 1:case"end":return e.stop()}}),e)})))).pipe(Object(T["a"])((function(e){return e.mul(Math.round(1e6*n)).div(1e6)})),Object(T["a"])((function(e){return e.gte(1e9)?e:1e9})),Object(T["a"])((function(e){return Object(re["n"])(Object(re["l"])(32),e)})),Object(M["a"])(K()(Y["a"])))})),Object(S["a"])((function(e,t){return e.sub(t).abs().lt(e.div(100))})),Object(T["a"])((function(e){return Object(H["blockGasprice"])({gasPrice:e})})))}function je(e,t,n,r){return Object(ne["j"])((function(){return t.getTransactionReceipt(e.payload.txHash)}),t.pollingInterval).pipe(Object(T["a"])((function(t){var a;return void 0!==(null===t||void 0===t?void 0:t.confirmations)&&t.confirmations>=r&&t.status?oe(oe({},e),{},{payload:oe(oe({},e.payload),{},{txBlock:null!==(a=t.blockNumber)&&void 0!==a?a:e.payload.txBlock,confirmed:!0})}):e.payload.txBlock+2*r<n?oe(oe({},e),{},{payload:oe(oe({},e.payload),{},{confirmed:!1})}):void 0})),Object(P["a"])(re["p"]))}function we(e,t,n){ye(e);var r=n.config$,a=n.provider,o=n.latest$;return Object(O["a"])([t.pipe(Object(ne["h"])("blockNumber")),t.pipe(Object(R["a"])("pendingTxs")),r.pipe(Object(ne["h"])("confirmationBlocks"),Object(ne["b"])(t))]).pipe(Object(P["a"])((function(e){var t=se(e,2),n=t[1];return n.length>0})),Object(z["a"])((function(e){var t=se(e,3),n=t[0],r=t[1],i=t[2];return Object(w["a"])(r).pipe(Object(P["a"])((function(e){return e.payload.txBlock+i<n})),Object(ee["a"])((function(e){return je(e,a,n,i).pipe(Object(U["a"])(o.pipe(Object(P["a"])((function(t){var n=t.state;return!n.pendingTxs.some((function(t){return t.type===e.type&&t.payload.txHash===e.payload.txHash}))})))))})))})))}var _e=n("b97c"),ke=n("5bbb"),Ee=n("8089"),Te=n("7de2"),Se=n("d276"),Ae=n("46f7"),xe=n("ee6c"),Pe=n("b8ff"),Ne=n("8120");function Re(e,t){return Ue(e)||Le(e,t)||De(e,t)||Ie()}function Ie(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function De(e,t){if(e){if("string"===typeof e)return Ce(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ce(e,t):void 0}}function Ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Le(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function Ue(e){if(Array.isArray(e))return e}function Me(e,t,n){var r=n.log,a=n.signer,o=n.address,i=n.main,c=n.provider,u=n.network,s=n.getTokenNetworkContract,l=n.config$,f=n.latest$;return e.pipe(Object(P["a"])(Object(Se["e"])(H["channelClose"].request)),Object(F["a"])(t,l,f),Object(D["a"])((function(t){var n,f,p=Re(t,4),d=p[0],b=p[1],y=p[2].subkey,h=p[3].gasPrice,m=d.meta,v=m.tokenNetwork,O=m.partner,g=Object(Ee["b"])({signer:a,address:o,main:i},null!==(n=null===(f=d.payload)||void 0===f?void 0:f.subkey)&&void 0!==n?n:y),j=g.signer,k=Object(Ee["d"])(s(v),j),E=b.channels[Object(Ne["d"])(d.meta)];if((null===E||void 0===E?void 0:E.state)!==Pe["b"].open&&(null===E||void 0===E?void 0:E.state)!==Pe["b"].closing){var T=new xe["c"](xe["b"].CNL_NO_OPEN_OR_CLOSING_CHANNEL_FOUND,d.meta);return Object(_["a"])(H["channelClose"].failure(T,d.meta))}var S=E.partner.balanceProof,A=Object(Te["b"])(S),N=S.nonce,R=S.additionalHash,I=S.signature,C=Object(_e["b"])([Object(Ae["a"])(v,20),Object(Ae["a"])(u.chainId,32),Object(Ae["a"])(Te["a"].BALANCE_PROOF,32),Object(Ae["a"])(E.id,32),Object(Ae["a"])(A,32),Object(Ae["a"])(N,32),Object(Ae["a"])(R,32),Object(Ae["a"])(I,65)]);return Object(w["a"])(a.signMessage(C)).pipe(Object(D["a"])((function(t){return Object(G["a"])((function(){return k.closeChannel(E.id,O,o,A,N,R,I,t,{gasPrice:h})})).pipe(Object(Ne["b"])("closeChannel",xe["b"].CNL_CLOSECHANNEL_FAILED,{log:r,provider:c}),Object(ne["k"])(Object(ke["b"])(l),{onErrors:xe["e"],log:r.info}),Object(U["a"])(e.pipe(Object(P["a"])(H["channelClose"].success.is),Object(P["a"])((function(e){return e.meta.tokenNetwork===v&&e.meta.partner===O})))))})),Object(x["a"])(),Object(M["a"])((function(e){return Object(_["a"])(H["channelClose"].failure(e,d.meta))})))})))}function Be(e,t,n){var r=n.log,a=n.signer,o=n.address,i=n.main,c=n.provider,u=n.network,s=n.getTokenNetworkContract,l=n.config$,p=n.latest$;return e.pipe(Object(P["a"])(Object(Se["e"])(H["channelClose"].success)),Object(P["a"])((function(e){return!!e.payload.confirmed})),Object(W["a"])((function(){return e.pipe(Object(P["a"])(H["newBlock"].is))})),Object(F["a"])(t,l,p),Object(P["a"])((function(e){var t=Re(e,2),n=t[0],r=t[1],a=r.channels[Object(Ne["d"])(n.meta)];return(null===a||void 0===a?void 0:a.state)===Pe["b"].closed&&a.id===n.payload.id&&a.partner.balanceProof.transferredAmount.add(a.partner.balanceProof.lockedAmount).gt(f["h"])&&a.closeParticipant!==o})),Object(D["a"])((function(e){var t=Re(e,4),n=t[0],f=t[1],p=t[2].subkey,d=t[3].gasPrice,b=n.meta,y=b.tokenNetwork,h=b.partner,m=Object(Ee["b"])({signer:a,address:o,main:i},p),v=m.signer,O=Object(Ee["d"])(s(y),v),g=f.channels[Object(Ne["d"])(n.meta)],j=Object(Te["b"])(g.partner.balanceProof),_=g.partner.balanceProof.nonce,k=g.partner.balanceProof.additionalHash,E=g.partner.balanceProof.signature,T=Object(_e["b"])([Object(Ae["a"])(y,20),Object(Ae["a"])(u.chainId,32),Object(Ae["a"])(Te["a"].BALANCE_PROOF_UPDATE,32),Object(Ae["a"])(g.id,32),Object(Ae["a"])(j,32),Object(Ae["a"])(_,32),Object(Ae["a"])(k,32),Object(Ae["a"])(E,65)]);return Object(w["a"])(a.signMessage(T)).pipe(Object(D["a"])((function(e){return Object(G["a"])((function(){return O.updateNonClosingBalanceProof(g.id,h,o,j,_,k,E,e,{gasPrice:d})})).pipe(Object(Ne["b"])("updateNonClosingBalanceProof",xe["b"].CNL_UPDATE_NONCLOSING_BP_FAILED,{log:r,provider:c}),Object(ne["k"])(Object(ke["b"])(l),{onErrors:xe["e"],log:r.info}))})),Object(x["a"])(),Object(M["a"])((function(e){return r.error("Error updating non-closing balance-proof, ignoring",e),Y["a"]})))})))}var Fe=n("5a9d"),We=n.n(Fe),Ve=n("c32d"),$e=n("4a12"),He=n("c1c6"),qe=n("ed34");function Ke(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function Ge(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function Ye(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Ge(o,r,a,i,c,"next",e)}function c(e){Ge(o,r,a,i,c,"throw",e)}i(void 0)}))}}function Xe(e,t){return et(e)||Ze(e,t)||ze(e,t)||Qe()}function Qe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ze(e,t){if(e){if("string"===typeof e)return Je(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Je(e,t):void 0}}function Je(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ze(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function et(e){if(Array.isArray(e))return e}function tt(e,t,n,r,a){var o=Xe(e,2),i=o[0],c=o[1],u=Xe(t,3),l=u[0],f=u[1],p=u[2],d=a.log,b=a.provider,y=a.config$,h=a.latest$;return Object(G["a"])((function(){return Promise.all([i.callStatic.balanceOf(l),i.callStatic.allowance(l,c.address)])})).pipe(Object(F["a"])(y,h),Object(D["a"])((function(e){var t=Xe(e,3),r=Xe(t[0],2),o=r[0],u=r[1],s=t[1].minimumAllowance,l=t[2].gasPrice;return Object(Ne["a"])([o,u,n],i,c.address,xe["b"].CNL_APPROVE_TRANSACTION_FAILED,a,{minimumAllowance:s,gasPrice:l})})),Object($e["a"])(r),Object(I["a"])(1),Object(D["a"])(function(){var e=Ye(s.a.mark((function e(t){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",c.callStatic.getChannelParticipantInfo(t,f,p).then((function(e){var n=e[0];return[t,n]})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(F["a"])(h),Object(D["a"])(function(){var e=Ye(s.a.mark((function e(t){var r,a,o,i,u;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=Xe(t,2),a=Xe(r[0],2),o=a[0],i=a[1],u=r[1].gasPrice,e.abrupt("return",c.setTotalDeposit(o,f,i.add(n),p,{gasPrice:u}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(Ne["b"])("setTotalDeposit",xe["b"].CNL_SETTOTALDEPOSIT_FAILED,{log:d,provider:b}),Object(ne["k"])(Object(ke["b"])(y),{onErrors:xe["e"],log:d.info}))}function nt(e,t,n){Ke(t);var r=n.signer,a=n.address,o=n.main,i=n.getTokenContract,c=n.getTokenNetworkContract,u=n.config$,s=n.latest$;return e.pipe(Object(P["a"])(Object(Se["e"])(H["channelDeposit"].request)),Object(He["a"])((function(e){return e.meta.tokenNetwork})),Object(D["a"])((function(t){return t.pipe(Object(ee["a"])((function(t){return Object(O["a"])([s,u]).pipe(Object(V["a"])(),Object(D["a"])((function(u){var l,f=Xe(u,2),p=f[0].state,d=f[1].subkey;Object(xe["d"])(t.payload.deposit.gt(0),xe["b"].DTA_INVALID_DEPOSIT);var b,y=t.meta,h=y.tokenNetwork,m=y.partner,v=We()(p.tokens,(function(e){return e===h})),O=p.channels[Object(Ne["d"])(t.meta)];if(v&&!O&&t.payload.waitOpen)b=Object(g["a"])(e.pipe(Object(P["a"])(H["channelOpen"].failure.is),Object(P["a"])((function(e){return e.meta.tokenNetwork===t.meta.tokenNetwork&&e.meta.partner===t.meta.partner})),Object(T["a"])((function(){throw new xe["c"](xe["b"].CNL_NO_OPEN_CHANNEL_FOUND,t.meta)}))),s.pipe(Object(R["a"])("state","channels",Object(Ne["d"])(t.meta)),Object(P["a"])(re["p"])));else{if((null===O||void 0===O?void 0:O.state)!==Pe["b"].open)throw new xe["c"](xe["b"].CNL_NO_OPEN_CHANNEL_FOUND);b=Object(_["a"])(O)}var j=Object(Ee["b"])({signer:r,address:a,main:o},null!==(l=t.payload.subkey)&&void 0!==l?l:d),w=j.signer,k=j.address,E=Object(Ee["d"])(i(v),w),S=Object(Ee["d"])(c(h),w);return b.pipe(Object(R["a"])("id"),Object(qe["a"])((function(e){return tt([E,S],[k,a,m],t.payload.deposit,e,n)}),{connector:function(){return new Ve["a"](1)}}),Object(x["a"])())})),Object(M["a"])((function(e){return Object(_["a"])(H["channelDeposit"].failure(e,t.meta))})))})))})))}var rt=n("f9e5"),at=n("3638"),ot=n("605b"),it=n.n(ot),ct=n("02ce"),ut=n.n(ct),st=n("277b"),lt=n("d5a4"),ft=n("12d1"),pt=n("cea4"),dt=n("2b5b");function bt(e){return mt(e)||ht(e)||_t(e)||yt()}function yt(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ht(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function mt(e){if(Array.isArray(e))return kt(e)}function vt(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function Ot(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){vt(o,r,a,i,c,"next",e)}function c(e){vt(o,r,a,i,c,"throw",e)}i(void 0)}))}}function gt(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function jt(e,t){return Tt(e)||Et(e,t)||_t(e,t)||wt()}function wt(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _t(e,t){if(e){if("string"===typeof e)return kt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kt(e,t):void 0}}function kt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Et(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function Tt(e){if(Array.isArray(e))return e}function St(e){var t=e.address,n=e.provider,r=e.registryContract,a=e.contractsInfo,o=e.getTokenNetworkContract,i=rt["b"].encode(["address"],[t]);return Object(te["b"])(n,Object.assign(r.filters.TokenNetworkCreated(null,null),{fromBlock:a.TokenNetworkRegistry.block_number,toBlock:n.blockNumber})).pipe(Object(T["a"])(Object(te["d"])(r)),Object(P["a"])((function(e){var t=jt(e,2),n=t[1];return!!n})),Object(lt["a"])(),Object(D["a"])((function(e){var t=Object(w["a"])(e.splice(0,2).map((function(e){var t=jt(e,3),n=t[0],r=t[1],a=t[2];return Object(H["tokenMonitored"])({token:n,tokenNetwork:r,fromBlock:a.blockNumber})}))),r=Y["a"];if(e.length){var a=e[0][2].blockNumber,c=new Map(e.map((function(e){var t=jt(e,3),n=t[0],r=t[1],a=t[2];return[r,[n,a]]}))),u=Array.from(c.keys()),s=o(u[0]),l=Pt(s),f=l.openTopic;r=Object(g["a"])(Object(te["b"])(n,{address:u,topics:[f,null,i],fromBlock:a,toBlock:n.blockNumber}),Object(te["b"])(n,{address:u,topics:[f,null,null,i],fromBlock:a,toBlock:n.blockNumber})).pipe(Object(ft["a"])((function(e){return e.address})),Object(P["a"])((function(e){return c.has(e.address)})),Object(T["a"])((function(e){return Object(H["tokenMonitored"])({token:c.get(e.address)[0],tokenNetwork:e.address,fromBlock:e.blockNumber})})))}return Object(g["a"])(t,r)})))}function At(e,t,n){return e.pipe(Object(P["a"])(H["newBlock"].is),Object(I["a"])(1),Object(F["a"])(t),Object(D["a"])((function(e){var t,r=jt(e,2),a=r[1],o=new st["a"];return n.init$.next(o),t=it()(a.tokens)?St(n):Object(w["a"])(Object.entries(a.tokens).map((function(e){var t=jt(e,2),n=t[0],r=t[1];return Object(H["tokenMonitored"])({token:n,tokenNetwork:r})}))),t.pipe(Object(B["a"])((function(){return o.complete()})))})))}function xt(e,t,n){var r;gt(t);var a,o=n.address,i=n.main,c=n.network,u=n.provider,l=null!==(r=null===i||void 0===i?void 0:i.address)&&void 0!==r?r:o;return Object(k["a"])(0,u.pollingInterval).pipe(Object(ne["b"])(e),Object(z["a"])(Ot(s.a.mark((function e(){var t,n,r,o,i;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([!1===a?Promise.resolve(null):u.listAccounts(),u.getNetwork()]);case 3:if(t=e.sent,n=jt(t,2),r=n[0],o=n[1],Object(xe["d"])(o.chainId===c.chainId,"network changed"),void 0===a&&(a=null===r||void 0===r?void 0:r.includes(l)),!a||!r||r.includes(l)){e.next=11;break}return e.abrupt("return",Object($["e"])({reason:dt["g"].ACCOUNT_CHANGED}));case 11:e.next=20;break;case 13:if(e.prev=13,e.t0=e["catch"](0),null===e.t0||void 0===e.t0||null===(i=e.t0.message)||void 0===i||!i.includes("network changed")){e.next=17;break}return e.abrupt("return",Object($["e"])({reason:dt["g"].NETWORK_CHANGED}));case 17:if(!Object(xe["g"])(xe["h"],e.t0)){e.next=19;break}return e.abrupt("return");case 19:throw e.t0;case 20:case"end":return e.stop()}}),e,null,[[0,13]])})))),Object(P["a"])(re["p"]))}function Pt(e){return{openTopic:at["b"].getEventTopic(e.interface.getEvent("ChannelOpened")),depositTopic:at["b"].getEventTopic(e.interface.getEvent("ChannelNewDeposit")),withdrawTopic:at["b"].getEventTopic(e.interface.getEvent("ChannelWithdraw")),closedTopic:at["b"].getEventTopic(e.interface.getEvent("ChannelClosed")),settledTopic:at["b"].getEventTopic(e.interface.getEvent("ChannelSettled"))}}function Nt(e,t){var n=jt(e,2),r=n[0],a=n[1],o=t.address,i=t.latest$,c=t.getTokenNetworkContract,u=c(a),s=Pt(u),l=s.openTopic,f=s.depositTopic,p=s.withdrawTopic,d=s.closedTopic,b=s.settledTopic;return function(e){return e.pipe(Object(F["a"])(i),Object(T["a"])((function(e){var t,n,i=jt(e,2),c=i[0],u=i[1],s=u.state,y=u.config,h=c[0].toNumber(),m=Object.values(s.channels).find((function(e){return e.tokenNetwork===a&&e.id===h})),v=Object(re["q"])(c),O=null===(t=v.topics)||void 0===t?void 0:t[0],g=v.transactionHash,j=v.blockNumber,w=j+y.confirmationBlocks<=s.blockNumber||void 0;switch(O){case l:var _=jt(c,4),k=_[1],E=_[2],T=_[3];if((o===k||o===E)&&(!m||h>m.id)){var S=o==k?E:k;n=H["channelOpen"].success({id:h,token:r,settleTimeout:T.toNumber(),isFirstParticipant:o===k,txHash:g,txBlock:j,confirmed:w},{tokenNetwork:a,partner:S})}break;case f:var A=jt(c,3),x=A[1],P=A[2];(null===m||void 0===m?void 0:m.id)===h&&P.gt(m[x===m.partner.address?"partner":"own"].deposit)&&(n=H["channelDeposit"].success({id:h,participant:x,totalDeposit:P,txHash:g,txBlock:j,confirmed:w},{tokenNetwork:a,partner:m.partner.address}));break;case p:var N=jt(c,3),R=N[1],I=N[2];(null===m||void 0===m?void 0:m.id)===h&&I.gt(m[R===m.partner.address?"partner":"own"].withdraw)&&(n=Object(H["channelWithdrawn"])({id:h,participant:R,totalWithdraw:I,txHash:g,txBlock:j,confirmed:w},{tokenNetwork:a,partner:m.partner.address}));break;case d:if((null===m||void 0===m?void 0:m.id)===h&&!("closeBlock"in m)){var D=jt(c,2),C=D[1];n=H["channelClose"].success({id:h,participant:C,txHash:g,txBlock:j,confirmed:w},{tokenNetwork:a,partner:m.partner.address})}break;case b:(null===m||void 0===m?void 0:m.id)===h&&(n=H["channelSettle"].success({id:h,txHash:g,txBlock:j,confirmed:w,locks:m.partner.locks},{tokenNetwork:a,partner:m.partner.address}));break}return n})),Object(P["a"])(re["p"]))}}function Rt(e,t,n){var r=jt(e,2),a=r[0],o=r[1],i=jt(t,2),c=i[0],u=i[1],s=n.address,l=n.provider,f=n.latest$,p=n.getTokenNetworkContract,d=p(u),b=Pt(d),y=b.openTopic;return Object(g["a"])(Object(te["b"])(l,Object.assign(d.filters.ChannelOpened(null,s,null,null),{fromBlock:a,toBlock:o})),Object(te["b"])(l,Object.assign(d.filters.ChannelOpened(null,null,s,null),{fromBlock:a,toBlock:o}))).pipe(Object(T["a"])(Object(te["d"])(d)),Object(lt["a"])(),Object(F["a"])(f),Object(D["a"])((function(e){var t=jt(e,2),n=t[0],r=t[1].state,i=n.filter((function(e){var t=jt(e,3),n=t[0],a=t[1],o=t[2],i=s===a?o:a,c=n.toNumber(),l=Object(Ne["d"])({tokenNetwork:u,partner:i});return!(Object(Ne["e"])({id:c,tokenNetwork:u,partner:i})in r.oldChannels||l in r.channels&&c<r.channels[l].id)})),c=[].concat(bt(i),bt(Object.values(r.channels).filter((function(e){return e.tokenNetwork===u})).map((function(e){return[e.id]})))).map((function(e){var t=jt(e,1),n=t[0];return rt["b"].encode(["uint256"],[n])}));if(0===c.length)return Y["a"];var f={address:u,topics:[Object.values(Pt(d)).filter((function(e){return e!==y})),c]};return Object(te["b"])(l,Object.assign(f,{fromBlock:a,toBlock:o})).pipe(Object(T["a"])(Object(te["d"])(d)),Object(lt["a"])(),Object(D["a"])((function(e){var t=[].concat(bt(i),bt(e));return Object(w["a"])(ut()(t,[function(e){return Object(re["q"])(e).blockNumber},function(e){return Object(re["q"])(e).transactionIndex}]))})))})),Nt([c,u],n))}function It(e,t,n){var r=jt(t,2),a=r[0],o=r[1],i=n.provider,c=n.getTokenNetworkContract,u=n.config$,s=n.latest$,l=c(o),f=s.pipe(Object(ne["h"])("state","blockNumber")),p={address:o,topics:[Object.values(Pt(l))]};return Object(te["a"])(i,p,{fromBlock:e,blockNumber$:f,confirmations:u.pipe(Object(R["a"])("confirmationBlocks"))}).pipe(Object(T["a"])(Object(te["d"])(l)),Nt([a,o],n))}function Dt(e,t,n){gt(t);var r=n.provider._lastBlockNumber;return e.pipe(Object(P["a"])(H["newBlock"].is),Object(R["a"])("payload","blockNumber"),Object(pt["a"])(1,void 0,(function(t){return e.pipe(Object(P["a"])(H["tokenMonitored"].is),Object(ft["a"])((function(e){return e.payload.tokenNetwork})),Object(F["a"])(n.config$),Object(D["a"])((function(e){var a,o=jt(e,2),i=o[0],c=o[1].confirmationBlocks,u=i.payload,s=u.token,l=u.tokenNetwork,f=null!==(a=i.payload.fromBlock)&&void 0!==a?a:r-c,p=new st["a"];return n.init$.next(p),t.pipe(Object(V["a"])(),Object(D["a"])((function(e){return Object(g["a"])(Rt([f,e],[s,l],n).pipe(Object(B["a"])((function(){p.next(!0),p.complete()}))),It(e+1,[s,l],n).pipe(Object(W["a"])((function(){return p}))))})))})))})),Object(ne["b"])(e))}function Ct(e,t){return gt(e),t.pipe(Ne["f"],Object(D["a"])((function(e){return e.pipe(Object(V["a"])(),Object(T["a"])((function(e){return Object(H["channelMonitored"])({id:e.id},{tokenNetwork:e.tokenNetwork,partner:e.partner.address})})))})))}function Lt(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function Ut(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Lt(o,r,a,i,c,"next",e)}function c(e){Lt(o,r,a,i,c,"throw",e)}i(void 0)}))}}function Mt(e,t){return $t(e)||Vt(e,t)||Ft(e,t)||Bt()}function Bt(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ft(e,t){if(e){if("string"===typeof e)return Wt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Wt(e,t):void 0}}function Wt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Vt(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function $t(e){if(Array.isArray(e))return e}function Ht(e,t,n){var r=n.log,a=n.signer,o=n.address,i=n.main,c=n.provider,u=n.getTokenNetworkContract,l=n.config$,f=n.latest$;return e.pipe(Object(P["a"])(Object(Se["e"])(H["channelOpen"].request)),Object(F["a"])(t,l,f),Object(D["a"])((function(t){var n,f,p,d=Mt(t,4),b=d[0],y=d[1],h=d[2],m=h.settleTimeout,v=h.subkey,O=d[3].gasPrice,g=b.meta,j=g.tokenNetwork,w=g.partner,k=null===(n=y.channels[Object(Ne["d"])(b.meta)])||void 0===n?void 0:n.state;if(k)return Object(_["a"])(H["channelOpen"].failure(new xe["c"](xe["b"].CNL_INVALID_STATE,{state:k}),b.meta));var T=Object(Ee["b"])({signer:a,address:o,main:i},null!==(f=b.payload.subkey)&&void 0!==f?f:v),S=T.signer,A=Object(Ee["d"])(u(j),S),N=Y["a"];return null!==(p=b.payload.deposit)&&void 0!==p&&p.gt(0)&&(N=Object(_["a"])(H["channelDeposit"].request({deposit:b.payload.deposit,subkey:b.payload.subkey,waitOpen:!0},b.meta))),Object(E["a"])(N,Object(G["a"])(Ut(s.a.mark((function e(){var t;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",A.openChannel(o,w,null!==(t=b.payload.settleTimeout)&&void 0!==t?t:m,{gasPrice:O}));case 1:case"end":return e.stop()}}),e)})))).pipe(Object(Ne["b"])("openChannel",xe["b"].CNL_OPENCHANNEL_FAILED,{log:r,provider:c}),Object(ne["k"])(Object(ke["b"])(l),{onErrors:xe["e"],log:r.info}),Object(U["a"])(e.pipe(Object(P["a"])(H["channelOpen"].success.is),Object(P["a"])((function(e){return e.meta.tokenNetwork===j&&e.meta.partner===w})))),Object(x["a"])(),Object(M["a"])((function(e){return Object(_["a"])(H["channelOpen"].failure(e,b.meta))}))))})))}var qt=n("1a78"),Kt=n("59ec");function Gt(e){return Qt(e)||Xt(e)||en(e)||Yt()}function Yt(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Xt(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Qt(e){if(Array.isArray(e))return tn(e)}function zt(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function Jt(e,t){return rn(e)||nn(e,t)||en(e,t)||Zt()}function Zt(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function en(e,t){if(e){if("string"===typeof e)return tn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tn(e,t):void 0}}function tn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function nn(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function rn(e){if(Array.isArray(e))return e}function an(e,t){return e.pipe(Object(P["a"])(H["newBlock"].is),Object(R["a"])("payload","blockNumber"),Object(F["a"])(t),Object(D["a"])(s.a.mark((function e(t){var n,r,a,o,i,c;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=Jt(t,2),r=n[0],a=n[1],o=0,i=Object.values(a.channels);case 2:if(!(o<i.length)){e.next=10;break}if(c=i[o],!(c.state===Pe["b"].closed&&r>=c.closeBlock+c.settleTimeout)){e.next=7;break}return e.next=7,Object(H["channelSettleable"])({settleableBlock:r},{tokenNetwork:c.tokenNetwork,partner:c.partner.address});case 7:o++,e.next=2;break;case 10:case"end":return e.stop()}}),e)}))))}function on(e,t,n){zt(e);var r=n.config$;return t.pipe(Ne["f"],Object(D["a"])((function(e){return e.pipe(Object(P["a"])((function(e){return e.state===Pe["b"].settleable})),Object(I["a"])(1),Object(F["a"])(r),Object(W["a"])((function(e){var n=Jt(e,2),r=n[0],a=n[1].confirmationBlocks,o=r.closeBlock+r.settleTimeout+Math.round(a*(1+Math.random()));return t.pipe(Object(R["a"])("blockNumber"),Object(P["a"])((function(e){return o<=e})),Object(I["a"])(1))})),Object(F["a"])(t),Object(P["a"])((function(e){var t,n=Jt(e,2),r=Jt(n[0],1),a=r[0],o=n[1];return(null===(t=o.channels[Object(Ne["d"])(a)])||void 0===t?void 0:t.state)===Pe["b"].settleable})),Object(T["a"])((function(e){var t=Jt(e,1),n=Jt(t[0],1),r=n[0];return H["channelSettle"].request(void 0,{tokenNetwork:r.tokenNetwork,partner:r.partner.address})})))})),Object(ne["l"])(r.pipe(Object(R["a"])("autoSettle"),Object(ne["b"])(t))))}function cn(e,t,n){var r=n.log,a=n.signer,o=n.address,i=n.main,c=n.provider,u=n.getTokenNetworkContract,s=n.config$,l=n.latest$,f=n.db;return e.pipe(Object(P["a"])(Object(Se["e"])(H["channelSettle"].request)),Object(F["a"])(t,s),Object(D["a"])((function(t){var n,p,d=Jt(t,3),b=d[0],y=d[1],h=d[2].subkey,m=b.meta,v=m.tokenNetwork,g=m.partner,j=Object(Ee["b"])({signer:a,address:o,main:i},null!==(n=null===(p=b.payload)||void 0===p?void 0:p.subkey)&&void 0!==n?n:h),w=j.signer,k=Object(Ee["d"])(u(v),w),E=y.channels[Object(Ne["d"])(b.meta)],S=[Pe["b"].settleable,Pe["b"].settling];if(!S.includes(null===E||void 0===E?void 0:E.state)){var A=new xe["c"](xe["b"].CNL_NO_SETTLEABLE_OR_SETTLING_CHANNEL_FOUND,b.meta);return Object(_["a"])(H["channelSettle"].failure(A,b.meta))}return Object(G["a"])((function(){return Promise.all([k.callStatic.getChannelParticipantInfo(E.id,o,g),k.callStatic.getChannelParticipantInfo(E.id,g,o)])})).pipe(Object(ne["k"])(Object(ke["b"])(s),{onErrors:xe["h"]}),Object(D["a"])((function(t){var n,a,i=Jt(t,2),u=i[0][3],p=i[1][3];return n=u===Object(Te["b"])(E.own.balanceProof)?Object(_["a"])(E.own.balanceProof):Object(Kt["c"])(f,E,qt["a"].SENT,u).pipe(Object(M["a"])((function(){throw new xe["c"](xe["b"].CNL_SETTLE_INVALID_BALANCEHASH,{address:o,ownBalanceHash:u})}))),a=p===Object(Te["b"])(E.partner.balanceProof)?Object(_["a"])(E.partner.balanceProof):Object(Kt["c"])(f,E,qt["a"].RECEIVED,p).pipe(Object(M["a"])((function(){throw new xe["c"](xe["b"].CNL_SETTLE_INVALID_BALANCEHASH,{address:o,partnerBalanceHash:p})}))),Object(O["a"])([n,a]).pipe(Object(T["a"])((function(e){var t=Jt(e,2),n=t[0],r=t[1];return r.transferredAmount.add(r.lockedAmount).lt(n.transferredAmount.add(n.lockedAmount))?[[g,r],[o,n]]:[[o,n],[g,r]]})),Object(F["a"])(l),Object(D["a"])((function(t){var n=Jt(t,2),a=Jt(n[0],2),o=a[0],i=a[1],u=n[1].gasPrice;return Object(G["a"])((function(){return k.settleChannel(E.id,o[0],o[1].transferredAmount,o[1].lockedAmount,o[1].locksroot,i[0],i[1].transferredAmount,i[1].lockedAmount,i[1].locksroot,{gasPrice:u})})).pipe(Object(Ne["b"])("settleChannel",xe["b"].CNL_SETTLE_FAILED,{log:r,provider:c}),Object(ne["k"])(Object(ke["b"])(s),{onErrors:xe["e"],log:r.info}),Object(U["a"])(e.pipe(Object(P["a"])(H["channelSettle"].success.is),Object(P["a"])((function(e){return e.meta.tokenNetwork===v&&e.meta.partner===g})))))})))})),Object(x["a"])(),Object(M["a"])((function(e){return Object(_["a"])(H["channelSettle"].failure(e,b.meta))})))})))}function un(e,t,n){var r=n.log,a=n.signer,o=n.address,i=n.main,c=n.provider,u=n.getTokenNetworkContract,s=n.config$,l=n.latest$;return e.pipe(Object(P["a"])(Object(Se["e"])(H["channelSettle"].success)),Object(P["a"])((function(e){var t;return!(!e.payload.confirmed||null===(t=e.payload.locks)||void 0===t||!t.length)})),Object(F["a"])(t,s,l),Object(P["a"])((function(e){var t,n=Jt(e,2),r=n[0],a=n[1];return(null===(t=a.channels[Object(Ne["d"])(r.meta)])||void 0===t?void 0:t.id)!==r.payload.id})),Object(D["a"])((function(e){var t=Jt(e,4),n=t[0],l=t[2].subkey,f=t[3].gasPrice,p=n.meta,d=p.tokenNetwork,b=p.partner,y=Object(Ee["d"])(u(d),Object(Ee["b"])({signer:a,address:o,main:i},l).signer),h=Object(_e["b"])(n.payload.locks.reduce((function(e,t){return[].concat(Gt(e),[Object(Ae["a"])(t.expiration,32),Object(Ae["a"])(t.amount,32),t.secrethash])}),[]));return Object(G["a"])((function(){return y.unlock(n.payload.id,o,b,h,{gasPrice:f})})).pipe(Object(Ne["b"])("unlock",xe["b"].CNL_ONCHAIN_UNLOCK_FAILED,{log:r,provider:c}),Object(ne["k"])(Object(ke["b"])(s),{onErrors:xe["e"],log:r.info}),Object(x["a"])(),Object(M["a"])((function(e){return r.error("Error unlocking pending locks on-chain, ignoring",e),Y["a"]})))})))}function sn(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function ln(e,t,n){sn(t);var r=n.db;return r.busy$.pipe(Object(x["a"])(),Object(ne["b"])(e))}var fn=n("eed9"),pn=n("f82a"),dn=n("789d"),bn=n("8173"),yn=n("5778"),hn=n("d011");function mn(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function vn(e,t){return _n(e)||wn(e,t)||gn(e,t)||On()}function On(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function gn(e,t){if(e){if("string"===typeof e)return jn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jn(e,t):void 0}}function jn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wn(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function _n(e){if(Array.isArray(e))return e}function kn(e){var t=e.address,n=e.log,r=e.network,a=e.signer,o=e.contractsInfo,i=e.latest$,c=e.config$;return function(e){var u=vn(e,2),s=u[1],p=Object(Ne["c"])(s),d=p.partnerUnlocked;return d.isZero()?Y["a"]:Object(O["a"])([i,c]).pipe(Object(P["a"])((function(e){var t,n=vn(e,2),r=n[0].udcDeposit,a=n[1],o=a.monitoringReward,i=a.rateToSvt;return!(null===o||void 0===o||!o.gt(f["h"]))&&r.balance.gte(o)&&d.mul(null!==(t=i[s.token])&&void 0!==t?t:f["b"]).div(f["g"]).gt(o)})),Object(I["a"])(1),Object(D["a"])((function(e){var i=vn(e,2),c=i[1].monitoringReward,u=s.partner.balanceProof,f=Object(Te["b"])(u),p=Object(_e["b"])([Object(Ae["a"])(s.tokenNetwork,20),Object(Ae["a"])(r.chainId,32),Object(Ae["a"])(Te["a"].BALANCE_PROOF_UPDATE,32),Object(Ae["a"])(s.id,32),Object(Ae["a"])(f,32),Object(Ae["a"])(u.nonce,32),Object(Ae["a"])(u.additionalHash,32),Object(Ae["a"])(u.signature,65)]),d=Object(Kt["g"])().toString();return Object(w["a"])(a.signMessage(p)).pipe(Object(D["a"])((function(e){return Object(Te["g"])(a,{type:yn["e"].MONITOR_REQUEST,balance_proof:{chain_id:u.chainId,token_network_address:u.tokenNetworkAddress,channel_identifier:l["a"].from(s.id),nonce:u.nonce,balance_hash:f,additional_hash:u.additionalHash,signature:u.signature},non_closing_participant:t,non_closing_signature:e,monitoring_service_contract_address:o.MonitoringService.address,reward_amount:c},{log:n})})),Object(T["a"])((function(e){return bn["messageServiceSend"].request({message:e},{service:hn["g"].MS,msgId:d})})))})),Object(M["a"])((function(e){return n.error("Error trying to generate & sign MonitorRequest",e),Y["a"]})))}}function En(e,t,n){return mn(e),t.pipe(Ne["f"],Object(F["a"])(n.config$),Object(D["a"])((function(e){var t=vn(e,2),r=t[0],a=t[1].httpTimeout;return r.pipe(Object(S["a"])((function(e,t){return t.partner.balanceProof.transferredAmount.eq(e.partner.balanceProof.transferredAmount)&&t.partner.balanceProof.lockedAmount.eq(e.partner.balanceProof.lockedAmount)&&t.partner.locks===e.partner.locks})),Object(pn["a"])(),Object(dn["a"])((function(e){var t=vn(e,2),n=t[0],r=t[1];return r.partner.locks.length>n.partner.locks.length?Object(k["a"])(a):Object(_["a"])(1)})),Object(J["a"])(kn(n)))})))}function Tn(e,t,n){var r=n.provider,a=n.monitoringServiceContract,o=n.address,i=n.config$,c=n.init$,u=new st["a"];return c.next(u),Object(te["a"])(r,a.filters.NewBalanceProofReceived(null,null,null,null,null,o),{confirmations:i.pipe(Object(R["a"])("confirmationBlocks")),blockNumber$:e.pipe(Object(P["a"])(H["newBlock"].is),Object(R["a"])("payload","blockNumber")),onPastCompleted:function(){u.next(null),u.complete()}}).pipe(Object(ne["b"])(t),Object(T["a"])(Object(te["d"])(a)),Object(P["a"])((function(e){var t=vn(e,6),n=t[5];return n===o})),Object(F["a"])(t,i),Object(T["a"])((function(e){var t=vn(e,3),n=vn(t[0],7),r=n[0],a=n[1],o=n[2],i=n[3],c=n[4],u=n[6],s=t[1],l=t[2].confirmationBlocks,f=Object.values(s.channels).concat(Object.values(s.oldChannels)).find((function(e){return e.tokenNetwork===r&&a.eq(e.id)})),p=u.blockNumber;if(f&&p)return Object(fn["msBalanceProofSent"])({tokenNetwork:r,partner:f.partner.address,id:f.id,reward:o,nonce:i,monitoringService:c,txHash:u.transactionHash,txBlock:p,confirmed:p+l<=s.blockNumber||void 0})})),Object(P["a"])(re["p"]))}var Sn=n("a033"),An=n.n(Sn),xn=n("d890"),Pn=n("0862"),Nn=n("699d"),Rn=n("8379"),In=n("79b8"),Dn=n("2111"),Cn=n("7a7d"),Ln=n("b62a"),Un=n("aece"),Mn=n("358d"),Bn=["estimated_fee"];function Fn(e,t){if(null==e)return{};var n,r,a=Wn(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Wn(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}function Vn(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=er(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function $n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Hn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$n(Object(n),!0).forEach((function(t){qn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$n(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kn(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function Gn(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Kn(o,r,a,i,c,"next",e)}function c(e){Kn(o,r,a,i,c,"throw",e)}i(void 0)}))}}function Yn(e){return zn(e)||Qn(e)||er(e)||Xn()}function Xn(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Qn(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function zn(e){if(Array.isArray(e))return tr(e)}function Jn(e,t){return rr(e)||nr(e,t)||er(e,t)||Zn()}function Zn(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function er(e,t){if(e){if("string"===typeof e)return tr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tr(e,t):void 0}}function tr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function nr(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function rr(e){if(Array.isArray(e))return e}var ar=Dn["u"]({result:Dn["c"](Dn["i"]([Dn["u"]({path:Dn["c"](re["a"]),estimated_fee:Object(re["e"])(32)}),Dn["n"]({address_metadata:Dn["q"](Dn["r"],yn["a"])})]))});function or(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return e.toISOString().substr(0,23)+"000"}function ir(e,t,n){var r=n.address,a=n.signer,o=n.network,i=n.contractsInfo,c=n.latest$,u=n.config$;return Object(G["a"])((function(){var t=or(),n=Object(_e["b"])([r,e.address,Object(Nn["f"])(t)]);return Object(w["a"])(a.signMessage(n)).pipe(Object(T["a"])((function(n){return{sender:r,receiver:e.address,timestamp:t,signature:n}})))})).pipe(Object(F["a"])(u),Object(D["a"])((function(n){var r=Jn(n,2),a=r[0],o=r[1].httpTimeout;return Object(Ln["a"])("".concat(e.url,"/api/v1/").concat(t,"/payment/iou?").concat(new URLSearchParams(a).toString()),{method:"GET",headers:{"Content-Type":"application/json"}}).pipe(Object(Un["a"])(o),Object(ne["k"])(Object(ke["b"])(u),{onErrors:[].concat(Yn(xe["h"]),["TimeoutError"])}))})),Object(F["a"])(c.pipe(Object(R["a"])("state","blockNumber")),u),Object(D["a"])(function(){var t=Gn(s.a.mark((function t(n){var a,c,u,p,d,b,y,h;return s.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=Jn(n,3),c=a[0],u=a[1],p=a[2].pfsIouTimeout,404!==c.status){t.next=3;break}return t.abrupt("return",{sender:r,receiver:e.address,chain_id:l["a"].from(o.chainId),amount:f["h"],one_to_n_address:i.OneToN.address,expiration_block:l["a"].from(u).add(p)});case 3:return t.next=5,c.text();case 5:if(d=t.sent,c.ok){t.next=8;break}throw new xe["c"](xe["b"].PFS_LAST_IOU_REQUEST_FAILED,{responseStatus:c.status,responseText:d});case 8:if(b=Object(re["n"])(hn["b"],Object(Ae["b"])(d)),y=b.last_iou,h=Object(Rn["b"])(Object(Mn["c"])(y),y.signature),h===r){t.next=12;break}throw new xe["c"](xe["b"].PFS_IOU_SIGNATURE_MISMATCH,{signer:h,address:r});case 12:return t.abrupt("return",y);case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))}function cr(e,t,n){return e.price.isZero()?Object(_["a"])(void 0):n.latest$.pipe(Object(V["a"])(),Object(D["a"])((function(r){var a,o=r.state,i=null===(a=o.iou[t])||void 0===a?void 0:a[e.address];return i?Object(_["a"])(i):ir(e,t,n)})),Object(T["a"])((function(t){return Hn(Hn({},t),{},{amount:t.amount.add(e.price)})})),Object(D["a"])((function(e){return Object(Mn["g"])(n.signer,e)})))}function ur(e,t){var n=e.partner.address;if(e.state!==Pe["b"].open)return'path: channel with "'.concat(n,'" in state "').concat(e.state,'" instead of "').concat(Pe["b"].open,'"');var r=Object(Ne["c"])(e),a=r.ownCapacity;return!a.lt(t)||'path: channel with "'.concat(n,"\" doesn't have enough capacity=").concat(a.toString())}function sr(e,t,n,r){return e?!1===(null===t||void 0===t?void 0:t.payload.available)?"path: partner not available in transport":n||Object(Pn["b"])(null===t||void 0===t?void 0:t.payload.caps,dt["a"].MEDIATE)?ur(e,r):"path: partner doesn't mediate transfers":"path: there's no direct channel with partner"}function lr(e,t,n){var r=e.meta,a=r.tokenNetwork,o=r.target,i=r.value;Object(xe["d"])(Object.values(t.tokens).includes(a),[xe["b"].PFS_UNKNOWN_TOKEN_NETWORK,{tokenNetwork:a}]),Object(xe["d"])(n.payload.available,[xe["b"].PFS_TARGET_OFFLINE,{target:o}]),Object(xe["d"])(Object(Pn["b"])(n.payload.caps,dt["a"].RECEIVE),[xe["b"].PFS_TARGET_NO_RECEIVE,{target:o}]),Object(xe["d"])(Object.values(t.channels).some((function(e){return!0===ur(e,i)})),xe["b"].PFS_NO_ROUTES_BETWEEN_NODES)}function fr(e,t){var n=null===e.payload.pfs,r=!e.payload.pfs&&t.pfsMode===hn["e"].disabled;return n||r}function pr(e,t){return t.config$.pipe(Object(V["a"])(),Object(ne["f"])((function(n){return br(e.payload.pfs,n,t)})),Object(ne["f"])((function(n){var r=Jn(n,2),a=r[1];return cr(a,e.meta.tokenNetwork,t)})),Object(ne["f"])((function(n){var r=Jn(n,2),a=Jn(r[0],2),o=a[0],i=a[1],c=r[1];return yr(i,c,e.meta,{address:t.address,config:o})})),Object(T["a"])((function(t){var n=Jn(t,2),r=Jn(n[0],2),a=Jn(r[0],1),o=a[0],i=r[1],c=n[1],u=c.response,s=c.text,l=Object(Ae["b"])(s);if(!u.ok){var f=Object(re["n"])(Mn["a"],l);return{iou:i,error:f}}return{iou:i,paths:mr(e.meta.value,l,o)}})))}function dr(e,t,n){var r,a,o=Jn(e,2),i=o[0],c=o[1],u=n.address,s=n.log,l=new Set,f=i.meta,p=f.tokenNetwork,d=f.value,b=f.target;return Object(w["a"])(c).pipe(Object(ee["a"])((function(e){var n;return Object(G["a"])((function(){if(Object(xe["d"])(e.path.length>=2&&e.path[0]===u,"we are not the first address in path"),n=e.path[1],Object(xe["d"])(!l.has(n),"already invalidated recipient"),r)Object(xe["d"])(r.path[1]===n,"already selected another recipient"),Object(xe["d"])(r.fee.gte(e.fee),"already selected a smaller fee");else{var a=t.channels[Object(Ne["d"])({tokenNetwork:p,partner:n})],o=Object(Kt["l"])(e.address_metadata,n),i=sr(a,o,b===n,d);if(!0!==i)throw new xe["c"](i,{partnerPresence:o,channel:a});for(var c=2;c<e.path.length-1;++c){var s=e.path[c],f=Object(Kt["l"])(e.address_metadata,s);Object(xe["d"])(Object(Pn["b"])(null===f||void 0===f?void 0:f.payload.caps,dt["a"].MEDIATE),["path: hop doesn't mediate transfers",{hopIndex:c,hop:s,hopPresence:f}])}}return Object(_["a"])(e)})).pipe(Object(A["a"])((function(e){var t;return null!==(t=r)&&void 0!==t?t:r=e})),Object(M["a"])((function(t){var r;return null!==(r=a)&&void 0!==r||(a=t),s.warn("Invalidated received route",{error:t,path:e}),n&&l.add(n),Y["a"]})))})),Object(lt["a"])(),Object(T["a"])((function(e){var t;if(!e.length)throw null!==(t=a)&&void 0!==t?t:new xe["c"](xe["b"].PFS_NO_ROUTES_FOUND);return e})))}function br(e,t,n){if(e)return Object(_["a"])(e);if(t.pfsMode===hn["e"].onlyAdditional)return Object(G["a"])(Gn(s.a.mark((function e(){var r,a,o,i;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=Vn(t.additionalServices),e.prev=1,a.s();case 3:if((o=a.n()).done){e.next=16;break}return i=o.value,e.prev=5,e.next=8,Object(Mn["d"])(i,n);case 8:return e.abrupt("return",e.sent);case 11:e.prev=11,e.t0=e["catch"](5),r||(r=e.t0);case 14:e.next=3;break;case 16:e.next=21;break;case 18:e.prev=18,e.t1=e["catch"](1),a.e(e.t1);case 21:return e.prev=21,a.f(),e.finish(21);case 24:throw r;case 25:case"end":return e.stop()}}),e,null,[[1,18,21,24],[5,11]])}))));var r=n.log,a=n.latest$,o=n.init$;return o.pipe(Object(ne["e"])((function(){return a.pipe(Object(V["a"])(),Object(R["a"])("state","services"))})),Object(D["a"])((function(e){return Object(Mn["f"])(t.additionalServices.concat(Object.keys(e)),n).pipe(Object(T["a"])((function(n){return r.info("Auto-selecting best PFS from:",n),Object(xe["d"])(n.length,[xe["b"].PFS_INVALID_INFO,{services:Object.keys(e).join(","),additionalServices:t.additionalServices.join(",")}]),n[0]})))})))}function yr(e,t,n,r){var a=n.tokenNetwork,o=n.target,i=n.value,c=r.address,u=r.config,l=u.httpTimeout,f=u.pfsMaxPaths,p=Object(Ae["c"])({from:c,to:o,value:Object(re["l"])(32).encode(i),max_paths:f,iou:t?Hn(Hn({},t),{},{amount:Object(re["l"])(32).encode(t.amount),expiration_block:Object(re["l"])(32).encode(t.expiration_block),chain_id:Object(re["l"])(32).encode(t.chain_id)}):void 0});return Object(Ln["a"])("".concat(e.url,"/api/v1/").concat(a,"/paths"),{method:"POST",headers:{"Content-Type":"application/json"},body:p}).pipe(Object(Un["a"])(l),Object(ne["k"])(Object(ke["b"])(Object(_["a"])(u)),{onErrors:[].concat(Yn(xe["h"]),["TimeoutError"])}),Object(D["a"])(function(){var e=Gn(s.a.mark((function e(t){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=t,e.next=3,t.text();case 3:return e.t1=e.sent,e.abrupt("return",{response:e.t0,text:e.t1});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}function hr(e,t,n){var r=n.pfsSafetyMargin,a=0,o=0;"number"===typeof r?a=r-1:(a=r[0],o=r[1]);var i=new In["Decimal"](e.toHexString()).abs().mul(a).add(new In["Decimal"](t.toHexString()).mul(o));return Object(re["n"])(Object(re["e"])(32),e.add(i.toFixed(0,In["Decimal"].ROUND_CEIL)))}function mr(e,t,n){var r=Object(re["n"])(ar,t).result.slice(0,n.pfsMaxPaths);return r.map((function(t){var r=t.estimated_fee,a=Fn(t,Bn),o=r.isZero()?r:hr(r,e,n);return Hn(Hn({},a),{},{fee:o})}))}function vr(e){return"paths"in e||Or(e.error)}function Or(e){return 2201===(null===e||void 0===e?void 0:e.error_code)}function gr(e,t,n,r){var a=n.state,o=n.config;lr(e,a,r);var i=e.meta,c=i.tokenNetwork,u=i.target,s=i.value;if(e.payload.paths)return Object(_["a"])({paths:e.payload.paths,iou:void 0});if(!0===sr(a.channels[Object(Ne["d"])({tokenNetwork:c,partner:u})],r,!0,s)){var l,p={};if(a.transport.setup)p[t.address]={user_id:a.transport.setup.userId,displayname:a.transport.setup.displayName,capabilities:Object(Pn["f"])(null!==(l=o.caps)&&void 0!==l?l:{})};return Object(_["a"])({paths:[Hn({path:[t.address,u],fee:f["h"]},it()(p)?{}:{address_metadata:p})],iou:void 0})}if(fr(e,o))throw new xe["c"](xe["b"].PFS_DISABLED);return pr(e,t)}function jr(e,t,n){var r,a=Jn(e,2),o=a[0],i=a[1],c=o.meta.tokenNetwork,u=i.iou,s=Y["a"];if(u&&(s=Object(_["a"])(vr(i)?Object(fn["iouPersist"])({iou:u},{tokenNetwork:c,serviceAddress:u.receiver}):Object(fn["iouClear"])(void 0,{tokenNetwork:c,serviceAddress:u.receiver}))),"error"in i){var l=i.error;r=Object(Cn["a"])((function(){return Or(l)?new xe["c"](xe["b"].PFS_NO_ROUTES_BETWEEN_NODES):new xe["c"](xe["b"].PFS_ERROR_RESPONSE,{errorCode:l.error_code,errors:l.errors})}))}else r=dr([o,i.paths],t,n).pipe(Object(T["a"])((function(e){return fn["pathFind"].success({paths:e},o.meta)})));return Object(E["a"])(s,r)}function wr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wr(Object(n),!0).forEach((function(t){kr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function kr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Er(e,t){return Pr(e)||xr(e,t)||Sr(e,t)||Tr()}function Tr(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Sr(e,t){if(e){if("string"===typeof e)return Ar(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ar(e,t):void 0}}function Ar(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xr(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function Pr(e){if(Array.isArray(e))return e}function Nr(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function Rr(e,t,n){return Nr(t),e.pipe(Object(ne["c"])(xn["matrixPresence"],(function(t){return e.pipe(Object(P["a"])(Object(Se["e"])(fn["pathFind"].request)),Object(ee["a"])((function(e){return t(xn["matrixPresence"].request(void 0,{address:e.meta.target})).pipe(Object(F["a"])(n.latest$),Object(D["a"])((function(t){var r=Er(t,2),a=r[0],o=r[1];return gr(e,n,o,a)})),Object(F["a"])(n.latest$),Object(D["a"])((function(t){var r=Er(t,2),a=r[0],o=r[1].state;return jr([e,a],o,n)})),Object(M["a"])((function(t){return Object(_["a"])(fn["pathFind"].failure(t,e.meta))})))})))})))}function Ir(e,t,n){Nr(e);var r=n.log,a=n.address,o=n.network,i=n.signer,c=n.config$;return t.pipe(Ne["f"],Object(D["a"])((function(e){return e.pipe(Object(pn["a"])(),Object(F["a"])(c),Object(P["a"])((function(e){var t=Er(e,2),n=Er(t[0],2),r=n[1],a=t[1].pfsMode;return r.state===Pe["b"].open&&a!==hn["e"].disabled})),Object(dn["a"])((function(e){var t=Er(e,2),n=Er(t[0],2),r=n[0],a=n[1],o=t[1].httpTimeout;return a.own.locks.length>r.own.locks.length||a.partner.locks.length>r.partner.locks.length?Object(k["a"])(o):Object(_["a"])(1)})),Object(J["a"])((function(e){var t=Er(e,2),n=Er(t[0],2),c=n[1],u=t[1].revealTimeout,s=c.tokenNetwork,f=c.partner.address,p=Object(Ne["c"])(c),d=p.ownCapacity,b=p.partnerCapacity,y={type:yn["e"].PFS_CAPACITY_UPDATE,canonical_identifier:{chain_identifier:l["a"].from(o.chainId),token_network_address:s,channel_identifier:l["a"].from(c.id)},updating_participant:a,other_participant:f,updating_nonce:c.own.balanceProof.nonce,other_nonce:c.partner.balanceProof.nonce,updating_capacity:d,other_capacity:b,reveal_timeout:l["a"].from(u)},h=Object(Kt["g"])().toString();return Object(G["a"])((function(){return Object(Te["g"])(i,y,{log:r})})).pipe(Object(T["a"])((function(e){return bn["messageServiceSend"].request({message:e},{service:hn["g"].PFS,msgId:h})})),Object(M["a"])((function(e){return r.error("Error trying to generate & sign PFSCapacityUpdate",e),Y["a"]})))})))})))}function Dr(e,t,n){Nr(e);var r=n.log,a=n.address,o=n.network,i=n.signer,c=n.config$,u=n.mediationFeeCalculator;return t.pipe(Ne["f"],Object(D["a"])((function(e){return Object(O["a"])([e,c.pipe(Object(ne["h"])("caps")),c.pipe(Object(ne["h"])("mediationFees"))]).pipe(Object(P["a"])((function(e){var t=Er(e,2),n=t[1];return!!Object(Pn["b"])(n,dt["a"].MEDIATE)})),Object(T["a"])((function(e){var t=Er(e,3),n=t[0],r=t[2],a=u.schedule(r,n);return[n,a]})),Object(S["a"])((function(e,t){var n=Er(e,2),r=n[1],a=Er(t,2),o=a[1];return h()(r,o)})),Object(J["a"])((function(e){var t=Er(e,2),n=t[0],c=t[1],u={type:yn["e"].PFS_FEE_UPDATE,canonical_identifier:{chain_identifier:l["a"].from(o.chainId),token_network_address:n.tokenNetwork,channel_identifier:l["a"].from(n.id)},updating_participant:a,timestamp:or(),fee_schedule:c},s=Object(Kt["g"])().toString(),f={service:hn["g"].PFS,msgId:s};return Object(w["a"])(Object(Te["g"])(i,u,{log:r})).pipe(Object(T["a"])((function(e){return bn["messageServiceSend"].request({message:e},f)})),Object(M["a"])((function(e){return r.error("Error trying to generate & sign PFSFeeUpdate",e),Y["a"]})))})),Object(U["a"])(e.pipe(Object(P["a"])((function(e){return e.state!==Pe["b"].open})))))})),Object(ne["b"])(t))}function Cr(e,t,n){var r=n.provider,a=n.serviceRegistryContract,o=n.contractsInfo,i=n.config$,c=n.init$,u=e.pipe(Object(P["a"])(H["newBlock"].is),Object(R["a"])("payload","blockNumber"));return t.pipe(Object(V["a"])(),Object(J["a"])((function(n){var s=n.services,l=new st["a"];return c.next(l),Object(te["a"])(r,a.filters.RegisteredService(null,null,null,null),{fromBlock:it()(s)?o.TokenNetworkRegistry.block_number:void 0,confirmations:i.pipe(Object(R["a"])("confirmationBlocks")),blockNumber$:u,onPastCompleted:function(){l.next(null),l.complete()}}).pipe(Object(F["a"])(t,i),Object(P["a"])((function(e){var t=Er(e,3),n=t[0].blockNumber,r=t[1].blockNumber,a=t[2].confirmationBlocks;return!!n&&n+a<=r})),Object(R["a"])(0),Object(T["a"])(Object(te["d"])(a)),Object(F["a"])(t),Object(T["a"])((function(e){var t=Er(e,2),n=Er(t[0],2),r=n[0],a=n[1],o=t[1].services;return _r(_r({},o),{},kr({},r,1e3*a.toNumber()))})),Object(N["a"])(s),Object(J["a"])((function(t){return e.pipe(Object(P["a"])(H["newBlock"].is),Object(N["a"])(!0),Object(T["a"])((function(){return An()(t,(function(e){return Date.now()<e}))})))})))})),Object(S["a"])(h.a),Object(T["a"])((function(e){return Object(fn["servicesValid"])(e)})),Object(ne["b"])(e))}var Lr=n("e1bc"),Ur=n("438d");function Mr(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function Br(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Mr(o,r,a,i,c,"next",e)}function c(e){Mr(o,r,a,i,c,"throw",e)}i(void 0)}))}}function Fr(e,t){return qr(e)||Hr(e,t)||Vr(e,t)||Wr()}function Wr(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Vr(e,t){if(e){if("string"===typeof e)return $r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$r(e,t):void 0}}function $r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Hr(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function qr(e){if(Array.isArray(e))return e}function Kr(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function Gr(e,t,n){Kr(t);var r=n.address,a=n.latest$,o=n.config$,i=n.userDepositContract;return e.pipe(Object(P["a"])(H["newBlock"].is),Object(R["a"])("payload","blockNumber"),Object(F["a"])(o),Object(z["a"])((function(e){var t=Fr(e,2),n=t[0],a=t[1].confirmationBlocks;return Object(G["a"])(Br(s.a.mark((function e(){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all([i.callStatic.effectiveBalance(r,{blockTag:n-a}),i.callStatic.total_deposit(r,{blockTag:n-a})]));case 1:case"end":return e.stop()}}),e)})))).pipe(Object(M["a"])(K()(Y["a"])))})),Object(F["a"])(a),Object(P["a"])((function(e){var t=Fr(e,2),n=Fr(t[0],1),r=n[0],a=t[1].udcDeposit;return!a.balance.eq(r)})),Object(T["a"])((function(e){var t=Fr(e,1),n=Fr(t[0],2),r=n[0],a=n[1];return fn["udcDeposit"].success({balance:r},{totalDeposit:a})})))}function Yr(e,t,n,r){var a,o=Fr(e,2),i=o[0],c=o[1],u=Fr(t,2),l=u[0],f=u[1],p=Fr(n,2),d=p[0],b=p[1],y=r.log,h=r.provider,m=r.config$,v=r.latest$;return Object(G["a"])(Br(s.a.mark((function e(){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all([i.callStatic.balanceOf(l),i.callStatic.allowance(l,c.address)]));case 1:case"end":return e.stop()}}),e)})))).pipe(Object(F["a"])(m,v),Object(ne["f"])((function(e){var t=Fr(e,3),n=Fr(t[0],2),a=n[0],o=n[1],u=t[1].minimumAllowance,s=t[2].gasPrice;return Object(Ne["a"])([a,o,d],i,c.address,xe["b"].RDN_APPROVE_TRANSACTION_FAILED,r,{minimumAllowance:u,gasPrice:s})})),Object(D["a"])((function(e){var t=Fr(e,1),n=Fr(t[0],3),r=n[2],o=r.gasPrice,i=r.udcDeposit;return Object(xe["d"])(i.totalDeposit.add(d).eq(b),[xe["b"].UDC_DEPOSIT_OUTDATED,{requested:b,current:i.totalDeposit}]),a=i.balance.add(d),c.deposit(f,b,{gasPrice:o})})),Object(Ne["b"])("deposit",xe["b"].RDN_DEPOSIT_TRANSACTION_FAILED,{log:y,provider:h}),Object(ne["k"])(Object(ke["b"])(m),{onErrors:xe["f"],log:y.debug}),Object(T["a"])((function(e){var t=Fr(e,2),n=t[1];return fn["udcDeposit"].success({balance:a,txHash:n.transactionHash,txBlock:n.blockNumber,confirmed:void 0},{totalDeposit:b})})))}function Xr(e,t,n){Kr(t);var r=n.userDepositContract,a=n.getTokenContract,o=n.address,i=n.signer,c=n.main,u=n.config$,l=n.log;return e.pipe(Object(P["a"])(fn["udcDeposit"].request.is),Object(ee["a"])((function(e){return Object(G["a"])(Br(s.a.mark((function e(){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",r.callStatic.token());case 1:case"end":return e.stop()}}),e)})))).pipe(Object(ne["k"])(Object(ke["b"])(u),{onErrors:xe["h"],log:l.debug}),Object(F["a"])(u),Object(D["a"])((function(t){var u,s=Fr(t,2),l=s[0],f=s[1],p=Object(Ee["b"])({signer:i,address:o,main:c},null!==(u=e.payload.subkey)&&void 0!==u?u:f.subkey),d=p.signer,b=p.address,y=Object(Ee["d"])(a(l),d),h=Object(Ee["d"])(r,d);return Yr([y,h],[b,o],[e.payload.deposit,e.meta.totalDeposit],n)})),Object(M["a"])((function(t){return Object(_["a"])(fn["udcDeposit"].failure(t,e.meta))})))})))}function Qr(e,t,n){Kr(t);var r=n.userDepositContract,a=n.address,o=n.log,i=n.signer,c=n.provider,u=n.config$,l=n.latest$;return e.pipe(Object(P["a"])(fn["udcWithdrawPlan"].request.is),Object(ee["a"])((function(t){var n=Object(Ee["d"])(r,i),p=t.meta.amount;return Object(G["a"])(Br(s.a.mark((function e(){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",r.callStatic.balances(a));case 1:case"end":return e.stop()}}),e)})))).pipe(Object(F["a"])(l),Object(D["a"])(function(){var e=Br(s.a.mark((function e(t){var r,a,o;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=Fr(t,2),a=r[0],o=r[1].gasPrice,Object(xe["d"])(p.gt(f["h"]),[xe["b"].UDC_PLAN_WITHDRAW_GT_ZERO,{amount:p.toString()}]),Object(xe["d"])(p.lte(a),[xe["b"].UDC_PLAN_WITHDRAW_EXCEEDS_AVAILABLE,{balance:a.toString(),amount:p.toString()}]),e.abrupt("return",n.planWithdraw(p,{gasPrice:o}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(Ne["b"])("planWithdraw",xe["b"].UDC_PLAN_WITHDRAW_FAILED,{log:o,provider:c}),Object(ne["k"])(Object(ke["b"])(u),{onErrors:xe["f"],log:o.info}),Object(ne["f"])((function(){return e.pipe(Object(P["a"])(H["newBlock"].is),Object(N["a"])(0),Object(z["a"])((function(){return Object(G["a"])(Br(s.a.mark((function e(){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",r.callStatic.withdraw_plans(a));case 1:case"end":return e.stop()}}),e)})))).pipe(Object(ne["a"])({onErrors:xe["h"],log:o.debug}))})),Object(V["a"])((function(e){var n=e.amount;return n.gte(t.meta.amount)})))})),Object(T["a"])((function(e){var n=Fr(e,2),r=Fr(n[0],2),a=r[0].hash,o=r[1].blockNumber,i=n[1].withdraw_block;return fn["udcWithdrawPlan"].success({block:i.toNumber(),txHash:a,txBlock:o,confirmed:void 0},t.meta)})),Object(M["a"])((function(e){return Object(_["a"])(fn["udcWithdrawPlan"].failure(e,t.meta))})))})))}function zr(e,t,n){Kr(t);var r=n.userDepositContract,a=n.address,o=n.config$,i=n.log,c=0;return e.pipe(Object(P["a"])(H["newBlock"].is),Object(R["a"])("payload","blockNumber"),Object(P["a"])((function(e){return e>=c})),Object(z["a"])((function(t){return Object(G["a"])(Br(s.a.mark((function e(){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",r.withdraw_plans(a));case 1:case"end":return e.stop()}}),e)})))).pipe(Object(ne["a"])({onErrors:xe["h"],log:i.debug}),Object(D["a"])(s.a.mark((function n(r){var a,o,i,u;return s.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(a=r.amount,o=r.withdraw_block,i={amount:a},!o.isZero()){n.next=5;break}return c=t+dt["i"],n.abrupt("return");case 5:if(u=0===c,!u){n.next=9;break}return n.next=9,Object(_["a"])(fn["udcWithdrawPlan"].success({block:o.toNumber(),confirmed:!0},i));case 9:if(!o.gt(t)){n.next=13;break}c=o.toNumber(),n.next=15;break;case 13:return n.next=15,Object(Ur["a"])(e,fn["udcWithdraw"].request(void 0,i),Object(Se["f"])(fn["udcWithdraw"],i));case 15:case"end":return n.stop()}}),n)}))),Object(Lr["a"])())})),Object(ne["l"])(o.pipe(Object(R["a"])("autoUDCWithdraw"),Object(ne["b"])(e))))}function Jr(e,t,n){Kr(t);var r=n.log,a=n.userDepositContract,o=n.address,i=n.signer,c=n.provider,u=n.config$,l=n.latest$;return e.pipe(Object(P["a"])(fn["udcWithdraw"].request.is),Object(ee["a"])((function(t){var n,p=Object(Ee["d"])(a,i);return Object(G["a"])(Br(s.a.mark((function e(){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",a.callStatic.balances(o));case 1:case"end":return e.stop()}}),e)})))).pipe(Object(F["a"])(l),Object(D["a"])(function(){var e=Br(s.a.mark((function e(r){var a,o,i;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=Fr(r,2),o=a[0],i=a[1].gasPrice,Object(xe["d"])(o.gt(f["h"]),[xe["b"].UDC_WITHDRAW_NO_BALANCE,{balance:o.toString()}]),n=o,e.abrupt("return",p.withdraw(t.meta.amount,{gasPrice:i}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(Ne["b"])("withdraw",xe["b"].UDC_WITHDRAW_FAILED,{log:r,provider:c}),Object(ne["k"])(Object(ke["b"])(u),{onErrors:xe["f"],log:r.info}),Object(D["a"])((function(a){var i=Fr(a,2),c=i[1],u=c.transactionHash,l=c.blockNumber;return e.pipe(Object(P["a"])(H["newBlock"].is),Object(z["a"])((function(){return Object(G["a"])(Br(s.a.mark((function e(){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",p.callStatic.balances(o));case 1:case"end":return e.stop()}}),e)})))).pipe(Object(ne["a"])({onErrors:xe["h"],log:r.info}))})),Object(P["a"])((function(e){return e.lt(n)})),Object(I["a"])(1),Object(T["a"])((function(e){return fn["udcWithdraw"].success({withdrawal:n.sub(e),txHash:u,txBlock:l,confirmed:void 0},t.meta)})))})),Object(M["a"])((function(e){return Object(_["a"])(fn["udcWithdraw"].failure(e,t.meta))})))})))}var Zr=n("83ee");function ea(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ta(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ea(Object(n),!0).forEach((function(t){na(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ea(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function na(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ra(e,t){return ia(e)||oa(e,t)||ua(e,t)||aa()}function aa(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function oa(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function ia(e){if(Array.isArray(e))return e}function ca(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=ua(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function ua(e,t){if(e){if("string"===typeof e)return sa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?sa(e,t):void 0}}function sa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function la(e,t,n){var r=n.caps,a=Object(Pn["b"])(r,dt["a"].MEDIATE),o=e.meta.direction===qt["a"].RECEIVED&&e.payload.message.target!==t;return!!a&&o}function fa(e,t,n,r){var a=r.address,o=r.log,i=r.mediationFeeCalculator,c=e.payload.message,u=e.payload.partner,s=c.token_network_address,l=new Set(Object.values(t.channels).filter((function(e){return e.tokenNetwork===s})).filter((function(e){return e.state===Pe["b"].open})).map((function(e){var t=e.partner;return t.address}))),f={routes:[]};try{f=Object(re["n"])(yn["f"],c.metadata)}catch(_){}var p,d=ca(f.routes);try{for(d.s();!(p=d.n()).done;){var b=p.value,y=b.route,h=b.address_metadata,m=y[y.indexOf(a)+1];if(m&&l.has(m)){var v=t.channels[Object(Ne["d"])({tokenNetwork:s,partner:u})],O=t.channels[Object(Ne["d"])({tokenNetwork:s,partner:m})],g=void 0;try{g=i.fee(n.mediationFees,v,O)(c.lock.amount)}catch(k){o.warn("Mediation: could not calculate mediation fee, ignoring",{error:k});continue}var j=Object(Kt["l"])(h,m),w=c.metadata;return Object(Pn["b"])(null===j||void 0===j?void 0:j.payload.caps,dt["a"].IMMUTABLE_METADATA)||(w=Object(Kt["a"])(a,w)),{resolved:!0,partner:m,fee:g.mul(-1),userId:null===j||void 0===j?void 0:j.payload.userId,metadata:w}}}}catch(E){d.e(E)}finally{d.f()}o.warn("Mediation: could not find a suitable route, ignoring",{inputRoutes:f.routes,openPartners:l})}function pa(e,t,n){var r=n.address,a=n.config$;return e.pipe(Object(P["a"])(Zr["transferSigned"].is),Object(F["a"])(a,t),Object(P["a"])((function(e){var t=ra(e,2),n=t[0],a=t[1];return la(n,r,a)})),Object(T["a"])((function(e){var t=ra(e,3),r=t[0],a=t[1],o=t[2],i=r.payload.message,c=r.meta.secrethash,u=fa(r,o,a,n);if(u)return Zr["transfer"].request(ta({tokenNetwork:i.token_network_address,target:i.target,paymentId:i.payment_identifier,value:i.lock.amount,expiration:i.lock.expiration.toNumber(),initiator:i.initiator},u),{secrethash:c,direction:qt["a"].SENT})})),Object(P["a"])(re["p"]))}function da(e,t){return va(e)||ma(e,t)||ya(e,t)||ba()}function ba(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ya(e,t){if(e){if("string"===typeof e)return ha(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ha(e,t):void 0}}function ha(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ma(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function va(e){if(Array.isArray(e))return e}function Oa(e,t,n){var r=n.config$;return e.pipe(Object(P["a"])(H["newBlock"].is),Object(R["a"])("payload","blockNumber"),Object(F["a"])(t,r),Object(z["a"])((function(t){var n=da(t,3),r=n[0],a=n[1].transfers,o=n[2].confirmationBlocks;return Object(w["a"])(Object.values(a).filter((function(e){return e.direction===qt["a"].SENT&&!e.unlock&&!e.expired&&!e.secretRegistered&&!e.channelClosed&&e.expiration<=r-2*o}))).pipe(Object(D["a"])((function(t){var n={secrethash:t.transfer.lock.secrethash,direction:qt["a"].SENT};return Object(g["a"])(Object(Ur["a"])(e,Zr["transferExpire"].request(void 0,n),Object(Se["g"])(Zr["transferExpire"],n)),Object(_["a"])(Zr["transfer"].failure(new xe["c"](xe["b"].XFER_EXPIRED,{block:t.transfer.lock.expiration.toString()}),n)))})))})))}var ga=n("3d6c"),ja=n.n(ga),wa=n("8130"),_a=n.n(wa),ka=n("f443");function Ea(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ta(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ea(Object(n),!0).forEach((function(t){Sa(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ea(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Sa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Aa(e,t){return Ia(e)||Ra(e,t)||Pa(e,t)||xa()}function xa(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Pa(e,t){if(e){if("string"===typeof e)return Na(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Na(e,t):void 0}}function Na(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ra(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function Ia(e){if(Array.isArray(e))return e}function Da(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function Ca(e,t){return Da(e),t.pipe(Object(V["a"])(),Object(D["a"])((function(e){var t=e.transfers;return Object(w["a"])(Object.values(t).filter((function(e){return e.direction===qt["a"].SENT&&!e.unlockProcessed&&!e.expiredProcessed&&!e.secretRegistered&&!e.channelClosed})))})),Object(D["a"])(s.a.mark((function e(t){var n;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={secrethash:t.transfer.lock.secrethash,direction:qt["a"].SENT},e.next=3,xn["matrixPresence"].request(void 0,{address:t.transfer.target});case 3:if(t.transferProcessed){e.next=6;break}return e.next=6,Object(Zr["transferSigned"])({message:Object(re["s"])(t.transfer),fee:t.fee,partner:t.partner},n);case 6:if(!t.unlock){e.next=9;break}return e.next=9,Zr["transferUnlock"].success({message:Object(re["s"])(t.unlock),partner:t.partner},n);case 9:if(!t.expired){e.next=12;break}return e.next=12,Zr["transferExpire"].success({message:Object(re["s"])(t.expired),partner:t.partner},n);case 12:case"end":return e.stop()}}),e)}))))}function La(e,t,n){Da(e);var r=n.config$;return t.pipe(Object(V["a"])(),Object(D["a"])((function(e){var t=e.transfers;return Object(w["a"])(Object.values(t).filter((function(e){return e.direction===qt["a"].RECEIVED&&!e.unlock&&!e.expired&&!e.secretRegistered&&!e.channelClosed})))})),Object(D["a"])((function(e){var t=e.transfer.lock.secrethash,n={secrethash:t,direction:qt["a"].RECEIVED};return Object(g["a"])(Object(_["a"])(Object(Zr["transferSigned"])({message:Object(re["s"])(e.transfer),fee:e.fee,partner:e.partner},n)),e.secret&&!e.secretReveal?Object(_["a"])(Object(Zr["transferSecret"])({secret:e.secret},n)):Y["a"],e.secretReveal?Object(_["a"])(Object(Zr["transferSecretReveal"])({message:Object(re["s"])(e.secretReveal)},n)):Y["a"],!e.secret&&e.secretRequest?r.pipe(Object(R["a"])("caps"),Object(P["a"])((function(e){return!!Object(Pn["b"])(e,dt["a"].RECEIVE)})),Object(I["a"])(1),Object($e["a"])(Object(_["a"])(xn["matrixPresence"].request(void 0,{address:e.transfer.initiator}),Object(Zr["transferSecretRequest"])({message:Object(re["s"])(e.secretRequest)},n)))):Y["a"])})))}function Ua(e,t,n){Da(t);var r=n.config$;return e.pipe(Object(ne["c"])(fn["pathFind"],(function(t){return e.pipe(Object(P["a"])(Zr["transfer"].request.is),Object(P["a"])((function(e){return!e.payload.resolved})),Object(D["a"])((function(n){return t(fn["pathFind"].request(_a()(n.payload,["paths","pfs"]),_a()(n.payload,["tokenNetwork","target","value"]))).pipe(Object(F["a"])(e.pipe(Object(P["a"])(xn["matrixPresence"].success.is),Object(P["a"])((function(e){return e.meta.address===n.payload.target}))),r),Object(T["a"])((function(e){var t,r,a=Aa(e,3),o=a[0],i=a[1],c=a[2].encryptSecret;(null!==(t=n.payload.encryptSecret)&&void 0!==t?t:c)&&n.payload.secret&&(r={secret:n.payload.secret,amount:n.payload.value,payment_identifier:n.payload.paymentId});var u=Object(Kt["j"])(o.payload.paths,i,r),s=ja()(n.payload,["paths","pfs","encryptSecret"]),l=Ta(Ta({},s),u);return Zr["transfer"].request(l,n.meta)})),Object(M["a"])((function(e){return Object(_["a"])(Zr["transfer"].failure(e,n.meta))})))})))})))}function Ma(e){var t,n;return"meta"in e&&(null===(t=e.meta)||void 0===t?void 0:t.secrethash)&&(null===(n=e.meta)||void 0===n?void 0:n.direction)}function Ba(e,t,n){var r=n.config$;return t.pipe(Object(ne["h"])("transfers"),Object(ne["d"])(),Object(He["a"])((function(e){var t=Aa(e,1),n=t[0];return n}),ka["a"],(function(e){return t.pipe(Object(P["a"])((function(t){var n=t.transfers;return!(e.key in n)})))})),Object(F["a"])(r),Object(D["a"])((function(n){var r=Aa(n,2),a=r[0],o=r[1].httpTimeout;return a.pipe(Object(P["a"])((function(e){var t=Aa(e,2),n=t[1];return!!(n.unlockProcessed||n.expiredProcessed||n.channelSettled)})),Object(I["a"])(1),Object(D["a"])((function(t){var n=Aa(t,2),r=n[1];return e.pipe(Object(P["a"])(Ma),Object(P["a"])((function(e){return Object(Kt["n"])(e.meta)===a.key})),Object(N["a"])({meta:_a()(r,["secrethash","direction"])}))})),Object(ne["b"])(e),Object(Q["a"])(3*o),Object(T["a"])((function(e){var t=e.meta;return Object(Zr["transferClear"])(void 0,t)})),Object(U["a"])(t.pipe(Object(P["a"])((function(e){var t=e.transfers;return!(a.key in t)})))))})))}var Fa=n("f2df"),Wa=n("9a49");function Va(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function $a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ha(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$a(Object(n),!0).forEach((function(t){qa(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ka(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function Ga(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Ka(o,r,a,i,c,"next",e)}function c(e){Ka(o,r,a,i,c,"throw",e)}i(void 0)}))}}function Ya(e,t){return za(e)||Qa(e,t)||eo(e,t)||Xa()}function Xa(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Qa(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function za(e){if(Array.isArray(e))return e}function Ja(e){return no(e)||to(e)||eo(e)||Za()}function Za(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function eo(e,t){if(e){if("string"===typeof e)return ro(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ro(e,t):void 0}}function to(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function no(e){if(Array.isArray(e))return ro(e)}function ro(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ao(e,t){var n=e.locks.filter((function(e){return e.secrethash!==t}));return Object(Fa["a"])(n.length===e.locks.length-1,"invalid locks size"),n}function oo(e){return e.reduce((function(e,t){var n=t.amount;return e.add(n)}),f["h"])}function io(e,t,n){var r=e.channels[Object(Ne["d"])(t)];return Object(Fa["a"])((null===r||void 0===r?void 0:r.state)===Pe["b"].open,"channel not open"),n&&(Object(Fa["a"])(n.chain_id.eq(e.chainId),"chainId mismatch"),Object(Fa["a"])(n.channel_identifier.eq(r.id),"channelId mismatch")),r}function co(e){return e.payload.resolved}function uo(e,t,n,r){var a,o=n.revealTimeout,i=n.confirmationBlocks,c=n.expiryFactor,u=r.log,f=r.address,p=r.network,d=r.signer,b=t.payload,y=b.tokenNetwork,h=b.fee,m=b.partner,v=b.userId,O=io(e,{tokenNetwork:y,partner:m});Object(Fa["a"])(!("expiration"in t.payload)||!t.payload.expiration||t.payload.expiration>e.blockNumber+o,"expiration too soon");var g=Object(re["n"])(Object(re["l"])(32),"expiration"in t.payload&&t.payload.expiration?t.payload.expiration:"lockTimeout"in t.payload&&t.payload.lockTimeout?e.blockNumber+t.payload.lockTimeout:Math.min(e.blockNumber+Math.round(o*c),e.blockNumber+O.settleTimeout-i));Object(Fa["a"])(g.lte(e.blockNumber+O.settleTimeout),["expiration too far in the future",{expiration:g.toString(),blockNumber:e.blockNumber,settleTimeout:O.settleTimeout,revealTimeout:o}]);var j={amount:t.payload.value.add(h),expiration:g,secrethash:t.meta.secrethash},_=[].concat(Ja(O.own.locks),[j]),k=oo(_);Object(Fa["a"])(Object(re["l"])(32).is(O.own.balanceProof.transferredAmount.add(k)),"overflow on future transferredAmount");var E=Object(Kt["d"])(_);u.info("Signing transfer of value",t.payload.value.toString(),"of token",O.token,", to",t.payload.target,", through routes",t.payload.metadata,", paying",h.toString(),"in fees.");var T={type:yn["e"].LOCKED_TRANSFER,message_identifier:Object(Kt["g"])(),chain_id:l["a"].from(p.chainId),token_network_address:t.payload.tokenNetwork,channel_identifier:l["a"].from(O.id),nonce:O.own.nextNonce,transferred_amount:O.own.balanceProof.transferredAmount,locked_amount:k,locksroot:E,payment_identifier:t.payload.paymentId,token:O.token,recipient:m,lock:j,target:t.payload.target,initiator:null!==(a=t.payload.initiator)&&void 0!==a?a:f,metadata:t.payload.metadata};return Object(w["a"])(Object(Te["g"])(d,T,{log:u})).pipe(Object(D["a"])(s.a.mark((function e(n){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(Zr["transferSigned"])({message:n,fee:h,partner:m,userId:v},t.meta);case 2:if(!t.payload.secret){e.next=5;break}return e.next=5,Object(Zr["transferSecret"])({secret:t.payload.secret},t.meta);case 5:case"end":return e.stop()}}),e)}))))}function so(e,t,n){return Object(O["a"])([e,n.config$]).pipe(Object(V["a"])(),Object(D["a"])((function(e){var r=Ya(e,2),a=r[0],o=r[1];return n.db.storageKeys.has(Object(Kt["n"])(t.meta))?(n.log.warn("transfer already present",t.meta),Y["a"]):uo(a,t,o,n)})),Object(M["a"])((function(e){return Object(_["a"])(Zr["transfer"].failure(e,t.meta))})))}function lo(e,t,n,r,a){var o,i=a.log,c=a.signer,u=n.meta.secrethash,s=r.transfer,l=s.token_network_address,f=r.partner,p=io(t,{tokenNetwork:l,partner:f});if(r.unlock)o=Object(_["a"])(r.unlock);else{Object(Fa["a"])(r.secret,"unknown secret"),Object(Fa["a"])(p.own.locks.find((function(e){return e.secrethash===u})),"transfer already unlocked or expired"),Object(Fa["a"])(r.secretRegistered||r.expiration>t.blockNumber,"lock expired");var d={type:yn["e"].UNLOCK,message_identifier:Object(Kt["g"])(),chain_id:s.chain_id,token_network_address:s.token_network_address,channel_identifier:s.channel_identifier,nonce:p.own.nextNonce,transferred_amount:Object(re["n"])(Object(re["l"])(32),p.own.balanceProof.transferredAmount.add(s.lock.amount),"overflow on transferredAmount"),locked_amount:p.own.balanceProof.lockedAmount.sub(s.lock.amount),locksroot:Object(Kt["d"])(ao(p.own,u)),payment_identifier:s.payment_identifier,secret:r.secret};o=Object(w["a"])(Object(Te["g"])(c,d,{log:i}))}return o.pipe(Object(F["a"])(e),Object(T["a"])((function(e){var t,r=Ya(e,2),a=r[0],o=r[1],i=o.transfers[Object(Kt["n"])(n.meta)],c=io(o,{tokenNetwork:l,partner:f});return Object(Fa["a"])(i.expiration>o.blockNumber||i.secretRegistered||c.own.locks.find((function(e){return e.secrethash===u&&e.registered})),"lock expired"),Zr["transferUnlock"].success({message:a,partner:f,userId:null===(t=n.payload)||void 0===t?void 0:t.userId},n.meta)})))}function fo(e,t,n){var r=n.signer,a=n.log,o=n.db;return Object(G["a"])((function(){return Object(Kt["f"])(e,o,t.meta)})).pipe(Object(F["a"])(e),Object(D["a"])((function(n){var o=Ya(n,2),i=o[0],c=o[1];return lo(e,c,t,i,{log:a,signer:r})})),Object(M["a"])((function(e){return a.warn("Error trying to unlock after SecretReveal",e),Object(_["a"])(Zr["transferUnlock"].failure(e,t.meta))})))}function po(e,t,n,r){var a,o=r.signer,i=r.log,c=t.meta.secrethash,u=n.transfer,s=u.token_network_address,l=n.partner,f=io(e,{tokenNetwork:s,partner:l});if(n.expired)a=Object(_["a"])(n.expired);else{Object(Fa["a"])(u.lock.expiration.lt(e.blockNumber),"lock not yet expired"),Object(Fa["a"])(f.own.locks.find((function(e){return e.secrethash===c}))&&!n.unlock,"transfer already unlocked or expired");var p=Object(Kt["d"])(ao(f.own,c)),d={type:yn["e"].LOCK_EXPIRED,message_identifier:Object(Kt["g"])(),chain_id:u.chain_id,token_network_address:u.token_network_address,channel_identifier:u.channel_identifier,nonce:f.own.nextNonce,transferred_amount:f.own.balanceProof.transferredAmount,locked_amount:f.own.balanceProof.lockedAmount.sub(u.lock.amount),locksroot:p,recipient:l,secrethash:c};a=Object(w["a"])(Object(Te["g"])(o,d,{log:i}))}return a.pipe(Object(T["a"])((function(e){return Zr["transferExpire"].success({message:e,partner:l},t.meta)})))}function bo(e,t,n){var r=n.log,a=n.signer,o=n.db;return Object(G["a"])((function(){return Object(Kt["f"])(e,o,t.meta)})).pipe(Object(F["a"])(e),Object(D["a"])((function(e){var n=Ya(e,2),o=n[0],i=n[1];return po(i,t,o,{signer:a,log:r})})),Object(M["a"])((function(e){return Object(_["a"])(Zr["transferExpire"].failure(e,t.meta))})))}function yo(e,t,n){var r=n.address,a=n.log,o=n.signer,i=n.config$,c=n.db,u=t.payload.message.lock.secrethash,l={secrethash:u,direction:qt["a"].RECEIVED};return Object(O["a"])([e,i]).pipe(Object(V["a"])(),Object(D["a"])((function(e){var n=Ya(e,2),i=n[0],p=n[1],d=p.revealTimeout,b=p.caps,y=t.payload.message;if(c.storageKeys.has(Object(Kt["n"])(l))){a.warn("transfer already present",l);var h=y.message_identifier,m=i.transfers[Object(Kt["n"])(l)];return null!==m&&void 0!==m&&m.transferProcessed&&m.partner===t.meta.address&&h.eq(m.transfer.message_identifier)?Object(_["a"])(Object(Zr["transferProcessed"])({message:Object(re["s"])(m.transferProcessed),userId:t.payload.userId},l)):Y["a"]}var v=y.token_network_address,g=t.meta.address,j=io(i,{tokenNetwork:v,partner:g},y);Object(Fa["a"])(y.nonce.eq(j.partner.nextNonce),["nonce mismatch",{expected:j.partner.nextNonce.toNumber(),received:y.nonce.toNumber()}]);var w=[].concat(Ja(j.partner.locks),[y.lock]),k=Object(Kt["d"])(w);Object(Fa["a"])(y.locksroot===k,"locksroot mismatch"),Object(Fa["a"])(y.transferred_amount.eq(j.partner.balanceProof.transferredAmount),"transferredAmount mismatch");var E=oo(w);Object(Fa["a"])(y.locked_amount.eq(E),"lockedAmount mismatch"),Object(Fa["a"])(Object(re["l"])(32).is(j.partner.balanceProof.transferredAmount.add(E)),"overflow on future transferredAmount");var T=Object(Ne["c"])(j),S=T.partnerCapacity;Object(Fa["a"])(y.lock.amount.lte(S),"balanceProof total amount bigger than capacity"),Object(Fa["a"])(y.lock.expiration.lte(i.blockNumber+j.settleTimeout),["expiration too far in the future",{expiration:y.lock.expiration.toString(),blockNumber:i.blockNumber,settleTimeout:j.settleTimeout,revealTimeout:d}]),Object(Fa["a"])(y.recipient===r,"Received transfer isn't for us"),a.info("Receiving transfer of value",y.lock.amount.toString(),"of token",j.token,", from",y.initiator,", through partner",g);var A,x=Object(_["a"])(void 0);y.target===r&&(Object(Pn["b"])(b,dt["a"].RECEIVE)?y.lock.expiration.sub(d).gt(i.blockNumber)||(A={reason:"lock expired or expires too soon",lockExpiration:y.lock.expiration.toString(),dangerZoneStart:y.lock.expiration.sub(d).toString()}):A={reason:"receiving disabled"},A?a.warn("Ignoring received transfer",A):x=Object(G["a"])(Ga(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=Object(Kt["b"])(y.metadata,[u,y.lock.amount,y.payment_identifier],o),!t){e.next=3;break}return e.abrupt("return",t);case 3:return n={type:yn["e"].SECRET_REQUEST,payment_identifier:y.payment_identifier,secrethash:u,amount:y.lock.amount,expiration:y.lock.expiration,message_identifier:Object(Kt["g"])()},e.abrupt("return",Object(Te["g"])(o,n,{log:a}));case 5:case"end":return e.stop()}}),e)})))));var P=Object(G["a"])((function(){var e={type:yn["e"].PROCESSED,message_identifier:y.message_identifier};return Object(Te["g"])(o,e,{log:a})}));return Object(O["a"])([P,x]).pipe(Object(D["a"])(s.a.mark((function e(n){var r,a,o;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=Ya(n,2),a=r[0],o=r[1],e.next=3,Object(Zr["transferSigned"])({message:y,fee:f["h"],partner:g},l);case 3:return e.next=5,Object(Zr["transferProcessed"])({message:a,userId:t.payload.userId},l);case 5:if(!re["h"].is(o)){e.next=10;break}return e.next=8,Object(Zr["transferSecret"])({secret:o},l);case 8:e.next=15;break;case 10:if(!o){e.next=15;break}return e.next=13,xn["matrixPresence"].request(void 0,{address:y.initiator});case 13:return e.next=15,Object(Zr["transferSecretRequest"])(Ha({message:o},Object(Kt["m"])(y.metadata,y.initiator)),l);case 15:case"end":return e.stop()}}),e)}))))})),Object(M["a"])((function(e){return Object(_["a"])(Zr["transfer"].failure(e,l))})))}function ho(e,t,n){var r=n.log,a=n.signer,o=n.db,i=Object(Kt["e"])(t.payload.message.secret),c={secrethash:i,direction:qt["a"].RECEIVED};return Object(G["a"])((function(){return Object(Kt["f"])(e,o,c)})).pipe(Object(F["a"])(e),Object(D["a"])((function(e){var n=Ya(e,2),o=n[0],u=n[1];Object(Fa["a"])(o,"unknown transfer");var l=t.payload.message,f=t.meta.address;if(Object(Fa["a"])(f===o.partner,"wrong partner"),Object(Fa["a"])(!o.expired,"already expired"),o.unlock)return r.warn("transfer already unlocked",t.meta),o.unlockProcessed&&l.message_identifier.eq(o.unlockProcessed.message_identifier)?Object(_["a"])(Object(Zr["transferUnlockProcessed"])({message:Object(re["s"])(o.unlockProcessed),userId:t.payload.userId},c)):Y["a"];var p=o.transfer;Object(Fa["a"])(l.token_network_address===p.token_network_address,"wrong tokenNetwork");var d=l.token_network_address,b=io(u,{tokenNetwork:d,partner:f},l);Object(Fa["a"])(l.nonce.eq(b.partner.nextNonce),["nonce mismatch",{expected:b.partner.nextNonce.toNumber(),received:l.nonce.toNumber()}]);var y=p.lock.amount,h=ao(b.partner,i);Object(Fa["a"])(l.locksroot===Object(Kt["d"])(h),"locksroot mismatch"),Object(Fa["a"])(l.transferred_amount.eq(b.partner.balanceProof.transferredAmount.add(y)),"transferredAmount mismatch"),Object(Fa["a"])(l.locked_amount.eq(oo(h)),"lockedAmount mismatch");var m={type:yn["e"].PROCESSED,message_identifier:l.message_identifier};return Object(w["a"])(Object(Te["g"])(a,m,{log:r})).pipe(Object(D["a"])(s.a.mark((function e(n){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(o.secret){e.next=3;break}return e.next=3,Object(Zr["transferSecret"])({secret:l.secret},c);case 3:return e.next=5,Zr["transferUnlock"].success({message:l,partner:f},c);case 5:return e.next=7,Object(Zr["transferUnlockProcessed"])({message:n,userId:t.payload.userId},c);case 7:return e.next=9,Zr["transfer"].success({balanceProof:Object(Te["d"])(l)},c);case 9:case"end":return e.stop()}}),e)}))))})),Object(M["a"])((function(e){return r.warn("Error trying to process received Unlock",e),Object(_["a"])(Zr["transferUnlock"].failure(e,c))})))}function mo(e,t,n){var r=n.log,a=n.signer,o=n.config$,i=n.db,c=t.payload.message.secrethash,u={secrethash:c,direction:qt["a"].RECEIVED};return Object(G["a"])((function(){return Object(Kt["f"])(e,i,u)})).pipe(Object(F["a"])(e,o),Object(D["a"])((function(e){var n=Ya(e,3),o=n[0],i=n[1],l=n[2].confirmationBlocks,f=t.payload.message,p=t.meta.address;if(Object(Fa["a"])(p===o.partner,"wrong partner"),Object(Fa["a"])(!o.unlock,"transfer unlocked"),o.expired)return r.warn("transfer already expired",t.meta),o.expiredProcessed&&f.message_identifier.eq(o.expiredProcessed.message_identifier)?Object(_["a"])(Object(Zr["transferExpireProcessed"])({message:Object(re["s"])(o.expiredProcessed),userId:t.payload.userId},u)):Y["a"];var d=o.transfer;Object(Fa["a"])(d.lock.expiration.add(l).lte(i.blockNumber),"expiration block not confirmed yet"),Object(Fa["a"])(!o.secretRegistered,"secret registered onchain"),Object(Fa["a"])(f.token_network_address===d.token_network_address,"wrong tokenNetwork");var b=f.token_network_address,y=io(i,{tokenNetwork:b,partner:p},f);Object(Fa["a"])(f.nonce.eq(y.partner.nextNonce),["nonce mismatch",{expected:y.partner.nextNonce.toNumber(),received:f.nonce.toNumber()}]);var h=ao(y.partner,c);Object(Fa["a"])(f.locksroot===Object(Kt["d"])(h),"locksroot mismatch"),Object(Fa["a"])(f.locked_amount.eq(oo(h)),"lockedAmount mismatch"),Object(Fa["a"])(f.transferred_amount.eq(y.partner.balanceProof.transferredAmount),"transferredAmount mismatch");var m={type:yn["e"].PROCESSED,message_identifier:f.message_identifier};return Object(w["a"])(Object(Te["g"])(a,m,{log:r})).pipe(Object(D["a"])(s.a.mark((function e(n){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Zr["transferExpire"].success({message:f,partner:p},u);case 2:return e.next=4,Object(Zr["transferExpireProcessed"])({message:n,userId:t.payload.userId},u);case 4:return e.next=6,Zr["transfer"].failure(new xe["c"](xe["b"].XFER_EXPIRED,{block:d.lock.expiration.toString()}),u);case 6:case"end":return e.stop()}}),e)}))))})),Object(M["a"])((function(e){return r.warn("Error trying to process received LockExpired",e),Object(_["a"])(Zr["transferExpire"].failure(e,u))})))}function vo(e){return e.type===yn["e"].WITHDRAW_CONFIRMATION}function Oo(e,t,n){var r=n.log,a=n.address,o=n.signer,i=n.network,c=n.config$;return t.meta.direction!==qt["a"].SENT?Y["a"]:Object(O["a"])([e,c]).pipe(Object(V["a"])(),Object(D["a"])((function(e){var n=Ya(e,2),c=n[0],u=n[1].revealTimeout,s=io(c,t.meta);if(s.own.pendingWithdraws.some(Object(Ur["c"])(yn["e"].WITHDRAW_REQUEST,t.meta)))return Y["a"];var f=s.own.pendingWithdraws.find(vo);if(f)return[Zr["withdrawMessage"].success({message:f},{direction:t.meta.direction,tokenNetwork:s.tokenNetwork,partner:s.partner.address,totalWithdraw:f.total_withdraw,expiration:f.expiration.toNumber()}),Zr["withdraw"].failure(new xe["c"](xe["b"].CNL_WITHDRAW_RETRY_CONFIRMATION),t.meta)];Object(Fa["a"])(!s.own.pendingWithdraws.length,[xe["b"].CNL_WITHDRAW_PENDING,{pendingWithdraws:s.own.pendingWithdraws}]),Object(Fa["a"])(t.meta.expiration>=c.blockNumber+u,xe["b"].CNL_WITHDRAW_EXPIRES_SOON),Object(Fa["a"])(t.meta.totalWithdraw.gt(s.own.withdraw),xe["b"].CNL_WITHDRAW_AMOUNT_TOO_LOW),Object(Fa["a"])(t.meta.totalWithdraw.lte(Object(Ne["c"])(s).ownTotalWithdrawable),xe["b"].CNL_WITHDRAW_AMOUNT_TOO_HIGH);var p={type:yn["e"].WITHDRAW_REQUEST,message_identifier:Object(Kt["g"])(),chain_id:l["a"].from(i.chainId),token_network_address:t.meta.tokenNetwork,channel_identifier:l["a"].from(s.id),participant:a,total_withdraw:t.meta.totalWithdraw,nonce:s.own.nextNonce,expiration:l["a"].from(t.meta.expiration)};return Object(w["a"])(Object(Te["g"])(o,p,{log:r})).pipe(Object(T["a"])((function(e){return Zr["withdrawMessage"].request({message:e},t.meta)})))})),Object(M["a"])((function(e){return Object(_["a"])(Zr["withdraw"].failure(e,t.meta))})))}function go(e,t,n){var r,a=n.address,o=t.payload.message,i=o.token_network_address,c=t.meta.address;try{r=o.expiration.toNumber()}catch(s){return Y["a"]}var u={direction:qt["a"].SENT,tokenNetwork:i,partner:c,totalWithdraw:o.total_withdraw,expiration:r};return e.pipe(Object(V["a"])(),Object(T["a"])((function(e){return io(e,{tokenNetwork:i,partner:c},o),Object(Fa["a"])(o.participant===a,"participant mismatch"),Zr["withdrawMessage"].success({message:o},u)})),Object(M["a"])((function(e){return Object(_["a"])(Zr["withdrawMessage"].failure(e,u))})))}function jo(e,t,n){var r=n.log,a=n.address,o=n.signer,i=n.config$;return t.meta.direction!==qt["a"].SENT?Y["a"]:Object(O["a"])([e,i]).pipe(Object(V["a"])(),Object(D["a"])((function(e){var n=Ya(e,2),i=n[0],c=n[1].confirmationBlocks,u=io(i,t.meta);Object(Fa["a"])(!u.own.pendingWithdraws.some(Object(Ur["c"])(yn["e"].WITHDRAW_EXPIRED,t.meta)),"already expired");var s=u.own.pendingWithdraws.find(Object(Ur["c"])(yn["e"].WITHDRAW_REQUEST,t.meta));Object(Fa["a"])(s,"no matching WithdrawRequest found, maybe already confirmed"),Object(Fa["a"])(i.blockNumber>=t.meta.expiration+c,"not yet expired");var l={type:yn["e"].WITHDRAW_EXPIRED,message_identifier:Object(Kt["g"])(),chain_id:s.chain_id,token_network_address:s.token_network_address,channel_identifier:s.channel_identifier,participant:a,total_withdraw:t.meta.totalWithdraw,nonce:u.own.nextNonce,expiration:s.expiration};return Object(w["a"])(Object(Te["g"])(o,l,{log:r})).pipe(Object(T["a"])((function(e){return Zr["withdrawExpire"].success({message:e},t.meta)})))})),Object(M["a"])((function(e){return Object(_["a"])(Zr["withdrawExpire"].failure(e,t.meta))})))}function wo(e,t,n){var r,a=n.signer,o=n.log,i=t.payload.message,c=i.token_network_address,u=i.participant;try{r=i.expiration.toNumber()}catch(f){return Y["a"]}var l={direction:qt["a"].RECEIVED,tokenNetwork:c,partner:u,totalWithdraw:i.total_withdraw,expiration:r};return e.pipe(Object(V["a"])(),Object(D["a"])((function(e){Object(Fa["a"])(i.participant===t.meta.address,"participant mismatch");var n,r=io(e,{tokenNetwork:c,partner:u},i),f=r.partner.pendingWithdraws.find(Object(Ur["c"])(yn["e"].WITHDRAW_CONFIRMATION,i));if(f)n=Object(_["a"])(f);else{Object(Fa["a"])(i.nonce.eq(r.partner.nextNonce),["nonce mismatch",{expected:r.partner.nextNonce.toNumber(),received:i.nonce.toNumber()}]),Object(Fa["a"])(i.total_withdraw.lte(Object(Ne["c"])(r).partnerTotalWithdrawable),"invalid total_withdraw");var p={type:yn["e"].WITHDRAW_CONFIRMATION,message_identifier:i.message_identifier,chain_id:i.chain_id,token_network_address:i.token_network_address,channel_identifier:i.channel_identifier,participant:i.participant,total_withdraw:i.total_withdraw,nonce:r.own.nextNonce,expiration:i.expiration};n=Object(w["a"])(Object(Te["g"])(a,p,{log:o}))}return n.pipe(Object(D["a"])(s.a.mark((function e(n){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Zr["withdrawMessage"].request({message:i},l);case 2:return e.next=4,Zr["withdrawMessage"].success({message:n},l);case 4:return e.next=6,bn["messageSend"].request({message:n},{address:u,msgId:t.payload.message.message_identifier.toString()});case 6:case"end":return e.stop()}}),e)}))))})),Object(M["a"])((function(e){return Object(_["a"])(Zr["withdrawMessage"].failure(e,l))})))}function _o(e,t,n,r){var a,o=n.signer,i=n.log,c=n.config$,u=t.payload.message,l=u.token_network_address,f=u.participant;try{a=u.expiration.toNumber()}catch(d){return Y["a"]}var p={direction:qt["a"].RECEIVED,tokenNetwork:l,partner:f,totalWithdraw:u.total_withdraw,expiration:a};return Object(O["a"])([e,c]).pipe(Object(V["a"])(),Object(D["a"])((function(e){var n=Ya(e,2),a=n[0],c=n[1].confirmationBlocks;Object(Fa["a"])(f===t.meta.address,"participant mismatch");var d,b=io(a,{tokenNetwork:l,partner:f},u),y="".concat(Object(Ne["e"])(b),"+").concat(u.message_identifier.toString()),h=r.get(y);if(h)d=Object(_["a"])(h);else{Object(Fa["a"])(u.nonce.lte(b.partner.nextNonce),["nonce mismatch",{expected:b.partner.nextNonce.toNumber(),received:u.nonce.toNumber()}]),Object(Fa["a"])(a.blockNumber>=p.expiration+c,"expire block not confirmed yet");var m={type:yn["e"].PROCESSED,message_identifier:u.message_identifier};d=Object(w["a"])(Object(Te["g"])(o,m,{log:i})).pipe(Object(A["a"])((function(e){return r.set(y,e)})))}return d.pipe(Object(D["a"])(s.a.mark((function e(t){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Zr["withdrawExpire"].success({message:u},p);case 2:return e.next=4,bn["messageSend"].request({message:t},{address:f,msgId:t.message_identifier.toString()});case 4:return e.next=6,Object(Zr["withdrawCompleted"])(void 0,p);case 6:case"end":return e.stop()}}),e)}))))})),Object(M["a"])((function(e){return Object(_["a"])(Zr["withdrawExpire"].failure(e,p))})))}function ko(e,t,n){Va(t);var r=new Wa["a"](32),a=n.latest$.pipe(Object(ne["h"])("state"),Object(ne["b"])(e));return Object(g["a"])(e.pipe(Object(P["a"])(Object(Se["e"])([Zr["transfer"].request,Zr["transferUnlock"].request,Zr["transferExpire"].request,Zr["withdraw"].request,Zr["withdrawExpire"].request]))),e.pipe(Object(P["a"])(Object(Te["e"])([Object(re["j"])(yn["c"]),Object(re["j"])(yn["j"]),Object(re["j"])(yn["b"]),Object(re["j"])(yn["m"]),Object(re["j"])(yn["k"]),Object(re["j"])(yn["l"])])))).pipe(Object(ee["a"])((function(e){var t;switch(e.type){case Zr["transfer"].request.type:t=co(e)?so(a,e,n):Y["a"];break;case Zr["transferUnlock"].request.type:t=fo(a,e,n);break;case Zr["transferExpire"].request.type:t=bo(a,e,n);break;case Zr["withdraw"].request.type:t=Oo(a,e,n);break;case Zr["withdrawExpire"].request.type:t=jo(a,e,n);break;case bn["messageReceived"].type:switch(e.payload.message.type){case yn["e"].LOCKED_TRANSFER:t=yo(a,e,n);break;case yn["e"].UNLOCK:t=ho(a,e,n);break;case yn["e"].LOCK_EXPIRED:t=mo(a,e,n);break;case yn["e"].WITHDRAW_REQUEST:t=wo(a,e,n);break;case yn["e"].WITHDRAW_CONFIRMATION:t=go(a,e,n);break;case yn["e"].WITHDRAW_EXPIRED:t=_o(a,e,n,r);break}break}return t})))}function Eo(e,t){return Po(e)||xo(e,t)||So(e,t)||To()}function To(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function So(e,t){if(e){if("string"===typeof e)return Ao(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ao(e,t):void 0}}function Ao(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xo(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function Po(e){if(Array.isArray(e))return e}function No(e,t){return e.pipe(Object(P["a"])(Object(Te["e"])(Object(re["j"])(yn["g"]))),Object(F["a"])(t),Object(D["a"])(s.a.mark((function e(t){var n,r,a,o,i,c,u,l,f,p,d;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=Eo(t,2),r=n[0],a=n[1].transfers,o=0,i=Object.values(a);case 2:if(!(o<i.length)){e.next=25;break}if(p=i[o],p.direction===qt["a"].SENT&&p.partner===r.meta.address){e.next=6;break}return e.abrupt("continue",22);case 6:if(d={secrethash:p.secrethash,direction:qt["a"].SENT},!r.payload.message.message_identifier.eq(p.transfer.message_identifier)){e.next=12;break}return e.next=10,Object(Zr["transferProcessed"])({message:r.payload.message},d);case 10:e.next=22;break;case 12:if(!r.payload.message.message_identifier.eq(null!==(c=null===(u=p.unlock)||void 0===u?void 0:u.message_identifier)&&void 0!==c?c:-1)){e.next=19;break}return e.next=15,Zr["transfer"].success({balanceProof:Object(Te["d"])(p.unlock)},d);case 15:return e.next=17,Object(Zr["transferUnlockProcessed"])({message:r.payload.message},d);case 17:e.next=22;break;case 19:if(!r.payload.message.message_identifier.eq(null!==(l=null===(f=p.expired)||void 0===f?void 0:f.message_identifier)&&void 0!==l?l:-1)){e.next=22;break}return e.next=22,Object(Zr["transferExpireProcessed"])({message:r.payload.message},d);case 22:o++,e.next=2;break;case 25:case"end":return e.stop()}}),e)}))))}function Ro(e,t,n){var r=n.db;return e.pipe(Object(P["a"])(Object(Se["e"])([Zr["transferProcessed"],Zr["transferUnlockProcessed"],Zr["transferExpireProcessed"]])),Object(P["a"])((function(e){return e.meta.direction===qt["a"].RECEIVED})),Object(F["a"])(t),Object(D["a"])((function(e){var t=Eo(e,2),n=t[0],a=t[1];return Object(Kt["f"])(a,r,n.meta).then((function(e){return[n,e]}))})),Object(T["a"])((function(e){var t=Eo(e,2),n=t[0],r=t[1];return bn["messageSend"].request(n.payload,{address:r.partner,msgId:n.payload.message.message_identifier.toString()})})))}function Io(e,t){return Mo(e)||Uo(e,t)||Co(e,t)||Do()}function Do(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Co(e,t){if(e){if("string"===typeof e)return Lo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Lo(e,t):void 0}}function Lo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Uo(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function Mo(e){if(Array.isArray(e))return e}function Bo(e,t,n){var r=n.config$;return e.pipe(Object(P["a"])(Object(Se["e"])([Zr["transferSigned"],Zr["transferUnlock"].success,Zr["transferExpire"].success,Zr["transferSecretRequest"],Zr["transferSecretReveal"]])),Object(F["a"])(t,r),Object(D["a"])((function(n){var a,o,i,c=Io(n,3),u=c[0],s=c[1],l=c[2].revealTimeout,f=s.transfers[Object(Kt["n"])(u.meta)],p=t.pipe(Object(ne["h"])("transfers",Object(Kt["n"])(u.meta)));switch(u.type){case Zr["transferSigned"].type:u.meta.direction===qt["a"].SENT&&(a=u.payload.partner,o=u.payload.userId,i=p.pipe(Object(P["a"])((function(e){return!!(e.transferProcessed||e.unlockProcessed||e.expiredProcessed||e.channelClosed)}))));break;case Zr["transferUnlock"].success.type:u.meta.direction===qt["a"].SENT&&(a=u.payload.partner,o=u.payload.userId,i=p.pipe(Object(P["a"])((function(e){return!(!e.unlockProcessed&&!e.channelClosed)}))));break;case Zr["transferExpire"].success.type:u.meta.direction===qt["a"].SENT&&(a=u.payload.partner,i=p.pipe(Object(P["a"])((function(e){return!(!e.expiredProcessed&&!e.channelClosed)}))));break;case Zr["transferSecretRequest"].type:u.meta.direction===qt["a"].RECEIVED&&f&&(a=f.transfer.initiator,o=u.payload.userId,i=Object(O["a"])([t,p]).pipe(Object(P["a"])((function(e){var t=Io(e,2),n=t[0].blockNumber,r=t[1];return!(!r.secretReveal&&!r.channelClosed)||n>r.expiration-l}))));break;case Zr["transferSecretReveal"].type:u.meta.direction===qt["a"].RECEIVED&&f&&(a=f.partner,o=u.payload.userId,i=p.pipe(Object(P["a"])((function(e){return!(!e.unlock&&!e.channelClosed)}))));break}return a&&i?Object(Ur["d"])(bn["messageSend"].request({message:u.payload.message,userId:o},{address:a,msgId:u.payload.message.message_identifier.toString()}),e,i,Object(ke["b"])(r)):Y["a"]})))}function Fo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Wo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fo(Object(n),!0).forEach((function(t){Vo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Vo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $o(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Go(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function Ho(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function qo(e,t){return Qo(e)||Xo(e,t)||Go(e,t)||Ko()}function Ko(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Go(e,t){if(e){if("string"===typeof e)return Yo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Yo(e,t):void 0}}function Yo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Xo(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function Qo(e){if(Array.isArray(e))return e}function zo(e,t,n){var r=n.address,a=n.log;return e.pipe(Object(P["a"])(Object(Te["e"])(Object(re["j"])(yn["h"]))),Object(F["a"])(t),Object(D["a"])(s.a.mark((function e(t){var n,o,i,c,u,l;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=qo(t,2),o=n[0],i=n[1],c=o.payload.message,u=Object(Kt["n"])({secrethash:c.secrethash,direction:qt["a"].SENT}),u in i.transfers){e.next=5;break}return e.abrupt("return");case 5:if(l=i.transfers[u].transfer,l.initiator===r&&l.target===o.meta.address&&l.payment_identifier.eq(c.payment_identifier)){e.next=9;break}return a.warn("Invalid SecretRequest for transfer",c,l),e.abrupt("return");case 9:return e.next=11,Object(Zr["transferSecretRequest"])({message:c,userId:o.payload.userId},{secrethash:c.secrethash,direction:qt["a"].SENT});case 11:case"end":return e.stop()}}),e)}))))}var Jo=function(e,t){var n=t.signer,r=t.log,a=t.latest$,o=e.payload.message;return a.pipe(Object(V["a"])(),Object(D["a"])((function(t){var a=t.state,i=a.transfers[Object(Kt["n"])(e.meta)];Object(xe["d"])(i.secret,["SecretRequest for unknown secret",o]);var c,u=i.transfer,l=u.target,f=i.fee,p=u.lock.amount.sub(f);if(Object(xe["d"])(o.expiration.lte(u.lock.expiration)&&o.expiration.gt(a.blockNumber),["SecretRequest for expired transfer",{request:o,lock:u.lock}]),Object(xe["d"])(o.amount.gte(p),["SecretRequest for amount too small!",{request:o,value:p}]),o.amount.eq(p)||r.info("Accepted SecretRequest for amount greater than sent",o,u),i.secretReveal)c=Object(_["a"])(i.secretReveal);else{var d={type:yn["e"].SECRET_REVEAL,message_identifier:Object(Kt["g"])(),secret:i.secret};c=Object(w["a"])(Object(Te["g"])(n,d,{log:r}))}return c.pipe(Object(D["a"])(s.a.mark((function t(n){return s.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(Zr["transferSecretReveal"])({message:n},e.meta);case 2:return t.next=4,bn["messageSend"].request({message:n,userId:e.payload.userId},{address:l,msgId:n.message_identifier.toString()});case 4:case"end":return t.stop()}}),t)}))))})),Object(M["a"])((function(t){return Object(_["a"])(Zr["transfer"].failure(t,e.meta))})))};function Zo(e,t,n){return Ho(t),e.pipe(Object(P["a"])(Object(Se["e"])(Zr["transferSecretRequest"])),Object(P["a"])((function(e){return e.meta.direction===qt["a"].SENT})),Object(ee["a"])((function(e){return Jo(e,n)})))}function ei(e,t,n){var r=n.config$;return e.pipe(Object(P["a"])(Object(Te["e"])(yn["i"])),Object(F["a"])(t,r),Object(D["a"])(s.a.mark((function e(t){var n,r,a,o,i,c,u,l,f,p,d,b,y,h;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=qo(t,3),r=n[0],a=n[1],o=n[2].caps,i=Object(Kt["e"])(r.payload.message.secret),c=Object.values(qt["a"]).map((function(e){return a.transfers[Object(Kt["n"])({secrethash:i,direction:e})]})).filter(re["p"]),u=r.payload.message,l=$o(c.filter((function(e){return e.direction===qt["a"].SENT}))),e.prev=5,l.s();case 7:if((f=l.n()).done){e.next=19;break}return p=f.value,d={secrethash:i,direction:qt["a"].SENT},e.next=12,Object(Zr["transferSecret"])({secret:u.secret},d);case 12:if(r.meta.address!==p.partner||p.channelClosed){e.next=17;break}return b=void 0,"signature"in u&&(b={userId:r.payload.userId}),e.next=17,Zr["transferUnlock"].request(b,d);case 17:e.next=7;break;case 19:e.next=24;break;case 21:e.prev=21,e.t0=e["catch"](5),l.e(e.t0);case 24:return e.prev=24,l.f(),e.finish(24);case 27:if(Object(Pn["b"])(o,dt["a"].RECEIVE)){e.next=29;break}return e.abrupt("return");case 29:y=$o(c.filter((function(e){return e.direction===qt["a"].RECEIVED}))),e.prev=30,y.s();case 32:if((h=y.n()).done){e.next=38;break}return h.value,e.next=36,Object(Zr["transferSecret"])({secret:u.secret},{secrethash:i,direction:qt["a"].RECEIVED});case 36:e.next=32;break;case 38:e.next=43;break;case 40:e.prev=40,e.t1=e["catch"](30),y.e(e.t1);case 43:return e.prev=43,y.f(),e.finish(43);case 46:case"end":return e.stop()}}),e,null,[[5,21,24,27],[30,40,43,46]])}))))}function ti(e,t,n){Ho(t);var r=n.log,a=n.signer,o=n.latest$;return e.pipe(Object(P["a"])(Object(Se["e"])([Zr["transferSecret"],Zr["transferSecretRegister"].success])),Object(P["a"])((function(e){return e.meta.direction===qt["a"].RECEIVED})),Object(P["a"])((function(e){return Zr["transferSecret"].is(e)||!!e.payload.confirmed})),Object(ee["a"])((function(e){return o.pipe(Object(ne["h"])("state"),Object(V["a"])(),Object(P["a"])((function(t){var n=t.transfers;return Object(Kt["n"])(e.meta)in n})),Object(D["a"])((function(t){var n,o=t.transfers,i=o[Object(Kt["n"])(e.meta)],c=i.secretReveal;if(c)n=Object(_["a"])(Object(re["s"])(c));else{var u={type:yn["e"].SECRET_REVEAL,message_identifier:Object(Kt["g"])(),secret:e.payload.secret};n=Object(w["a"])(Object(Te["g"])(a,u,{log:r}))}var s=Object(Kt["m"])(i.transfer.metadata,i.partner);return n.pipe(Object(T["a"])((function(t){return Object(Zr["transferSecretReveal"])(Wo({message:t},s),e.meta)})))})),Object(M["a"])((function(t){return r.warn("Error trying to sign SecretReveal - ignoring",t,e.meta),Y["a"]})))})))}function ni(e,t,n){Ho(e);var r=n.provider,a=n.secretRegistryContract,o=n.config$,i=n.init$,c=new st["a"];return i.next(c),Object(te["a"])(r,a.filters.SecretRevealed(null,null),{confirmations:o.pipe(Object(R["a"])("confirmationBlocks")),blockNumber$:t.pipe(Object(ne["h"])("blockNumber")),onPastCompleted:function(){c.next(null),c.complete()}}).pipe(Object(ne["b"])(t),Object(T["a"])(Object(te["d"])(a)),Object(F["a"])(t,o),Object(D["a"])(s.a.mark((function e(t){var n,r,a,o,i,c,u,l,f,p,d,b,y;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=qo(t,3),r=qo(n[0],3),a=r[0],o=r[1],i=r[2],c=n[1],u=c.transfers,l=c.blockNumber,f=n[2].confirmationBlocks,p=0,d=Object.values(qt["a"]);case 2:if(!(p<d.length)){e.next=12;break}if(b=d[p],y=Object(Kt["n"])({secrethash:a,direction:b}),y in u){e.next=7;break}return e.abrupt("continue",9);case 7:return e.next=9,Zr["transferSecretRegister"].success({secret:o,txHash:i.transactionHash,txBlock:i.blockNumber,confirmed:i.blockNumber+f<=l?i.blockNumber<u[y].expiration:void 0},{secrethash:a,direction:b});case 9:p++,e.next=2;break;case 12:case"end":return e.stop()}}),e)}))))}function ri(e){return e.pipe(Object(P["a"])(Zr["transferSecretRegister"].success.is),Object(P["a"])((function(e){return!!e.payload.confirmed})),Object(T["a"])((function(e){return Zr["transfer"].success({},e.meta)})))}function ai(e,t,n){var r=n.config$,a=n.latest$;return t.pipe(Object(F["a"])(r),Object(D["a"])((function(e){var t=qo(e,2),n=t[0],r=n.blockNumber,a=n.transfers,o=t[1].revealTimeout;return Object(w["a"])(Object.values(a).filter((function(e){return e.direction===qt["a"].RECEIVED&&!e.unlock&&!e.expired&&!!e.secret&&!e.secretRegistered&&e.expiration>r&&e.expiration<=r+o})))})),Object(He["a"])((function(e){return e._id}),ka["a"],(function(e){return a.pipe(Object(R["a"])("state"),Object(P["a"])((function(t){var n=t.blockNumber,r=t.transfers;return!!(r[e.key].expiration<n||r[e.key].unlock||r[e.key].secretRegistered)})))})),Object(D["a"])((function(t){return t.pipe(Object(z["a"])((function(t){var n={secrethash:t.secrethash,direction:qt["a"].RECEIVED};return Object(Ur["a"])(e,Zr["transferSecretRegister"].request({secret:t.secret},n),Object(Se["f"])(Zr["transferSecretRegister"],n))})),Object(U["a"])(t.pipe(Object(x["a"])(),Object(X["a"])(1))))})),Object(ne["l"])(r.pipe(Object(R["a"])("caps"),Object(T["a"])((function(e){return Object(Pn["b"])(e,dt["a"].RECEIVE)})),Object(ne["b"])(e))))}function oi(e,t,n){Ho(t);var r=n.log,a=n.signer,o=n.address,i=n.main,c=n.provider,u=n.secretRegistryContract,s=n.config$,l=n.latest$;return e.pipe(Object(P["a"])(Zr["transferSecretRegister"].request.is),Object(F["a"])(s,l),Object(D["a"])((function(e){var t,n=qo(e,3),l=n[0],f=n[1].subkey,p=n[2].gasPrice,d=Object(Ee["b"])({signer:a,address:o,main:i},null!==(t=l.payload.subkey)&&void 0!==t?t:f),b=d.signer,y=Object(Ee["d"])(u,b);return Object(G["a"])((function(){return y.registerSecret(l.payload.secret,{gasPrice:p})})).pipe(Object(Ne["b"])("registerSecret",xe["b"].XFER_REGISTERSECRET_TX_FAILED,{log:r,provider:c}),Object(ne["k"])(Object(ke["b"])(s),{onErrors:xe["f"],log:r.debug}),Object(x["a"])(),Object(M["a"])((function(e){return Object(_["a"])(Zr["transferSecretRegister"].failure(e,l.meta))})))})))}var ii=n("fd2c"),ci=(n("9201"),n("0ba5"));function ui(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function si(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){ui(o,r,a,i,c,"next",e)}function c(e){ui(o,r,a,i,c,"throw",e)}i(void 0)}))}}function li(e,t){return di(e)||pi(e,t)||yi(e,t)||fi()}function fi(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function pi(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function di(e){if(Array.isArray(e))return e}function bi(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=yi(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function yi(e,t){if(e){if("string"===typeof e)return hi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?hi(e,t):void 0}}function hi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function mi(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function vi(e,t){return mi(e),t.pipe(Object(V["a"])(),Object(D["a"])(s.a.mark((function e(t){var n,r,a,o,i,c;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=0,r=Object.values(t.channels);case 1:if(!(n<r.length)){e.next=31;break}if(a=r[n],a.state===Pe["b"].open){e.next=5;break}return e.abrupt("continue",28);case 5:o=bi(a.own.pendingWithdraws),e.prev=6,o.s();case 8:if((i=o.n()).done){e.next=20;break}if(c=i.value,c.type!==ci["a"].WITHDRAW_REQUEST||a.own.pendingWithdraws.some(Object(Ur["c"])(ci["a"].WITHDRAW_CONFIRMATION,c))){e.next=15;break}return e.next=13,Zr["withdrawMessage"].request({message:c},{direction:qt["a"].SENT,tokenNetwork:a.tokenNetwork,partner:a.partner.address,totalWithdraw:c.total_withdraw,expiration:c.expiration.toNumber()});case 13:e.next=18;break;case 15:if(c.type!==ci["a"].WITHDRAW_EXPIRED){e.next=18;break}return e.next=18,Zr["withdrawExpire"].success({message:c},{direction:qt["a"].SENT,tokenNetwork:a.tokenNetwork,partner:a.partner.address,totalWithdraw:c.total_withdraw,expiration:c.expiration.toNumber()});case 18:e.next=8;break;case 20:e.next=25;break;case 22:e.prev=22,e.t0=e["catch"](6),o.e(e.t0);case 25:return e.prev=25,o.f(),e.finish(25);case 28:n++,e.next=1;break;case 31:case"end":return e.stop()}}),e,null,[[6,22,25,28]])}))))}function Oi(e,t,n){var r=n.config$;return e.pipe(Object(P["a"])(Zr["withdrawMessage"].request.is),Object(P["a"])((function(e){return e.meta.direction===qt["a"].SENT})),Object(D["a"])((function(n){var a=n.payload.message,o=bn["messageSend"].request({message:a},{address:n.meta.partner,msgId:a.message_identifier.toString()}),i=t.pipe(Object(P["a"])((function(e){var t=e.channels[Object(Ne["d"])(n.meta)];return(null===t||void 0===t?void 0:t.state)!==Pe["b"].open||t.own.pendingWithdraws.some(Object(Ur["c"])(ci["a"].WITHDRAW_CONFIRMATION,n.meta))||!t.own.pendingWithdraws.some(Object(Ur["c"])(ci["a"].WITHDRAW_REQUEST,n.meta))})));return Object(Ur["d"])(o,e,i,Object(ke["b"])(r))})))}function gi(e,t,n){mi(t);var r=n.address,a=n.signer,o=n.main,i=n.provider,c=n.log,u=n.getTokenNetworkContract,l=n.latest$,f=n.config$;return e.pipe(Object(P["a"])(Zr["withdrawMessage"].success.is),Object(P["a"])((function(e){return e.meta.direction===qt["a"].SENT})),Object(He["a"])((function(e){return Object(Ne["d"])(e.meta)})),Object(D["a"])((function(t){return t.pipe(Object(ee["a"])((function(n){return Object(O["a"])([l,f]).pipe(Object(V["a"])(),Object(D["a"])((function(l){var p=li(l,2),d=p[0],b=d.state,y=d.gasPrice,h=p[1],m=h.subkey,v=h.revealTimeout;Object(xe["d"])(n.meta.expiration>=b.blockNumber+v,xe["b"].CNL_WITHDRAW_EXPIRES_SOON);var O=b.channels[t.key];Object(xe["d"])((null===O||void 0===O?void 0:O.state)===Pe["b"].open,"channel not open"),Object(xe["d"])(n.meta.totalWithdraw.gt(O.own.withdraw),"withdraw already performed");var g=O.own.pendingWithdraws.find(Object(Ur["c"])(ci["a"].WITHDRAW_REQUEST,n.payload.message));Object(xe["d"])(g,"no matching WithdrawRequest found");var j=n.meta.tokenNetwork,w=Object(Ee["b"])({signer:a,address:r,main:o},m),_=w.signer,k=Object(Ee["d"])(u(j),_);return Object(G["a"])(si(s.a.mark((function e(){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",k.setTotalWithdraw(O.id,r,n.meta.totalWithdraw,n.meta.expiration,g.signature,n.payload.message.signature,{gasPrice:y}));case 1:case"end":return e.stop()}}),e)})))).pipe(Object(Ne["b"])("setTotalWithdraw",xe["b"].CNL_WITHDRAW_TRANSACTION_FAILED,{log:c,provider:i}),Object(ne["k"])(Object(ke["b"])(f),{maxRetries:3,onErrors:xe["f"],log:c.debug}),Object(D["a"])((function(t){var r=li(t,2),a=r[1];return e.pipe(Object(P["a"])(Object(Se["f"])(Zr["withdraw"],n.meta)),Object(I["a"])(1),Object(x["a"])(),Object(N["a"])(Zr["withdraw"].success({txHash:a.transactionHash,txBlock:a.blockNumber,confirmed:void 0},n.meta)))})))})),Object(M["a"])((function(e){return Object(_["a"])(Zr["withdraw"].failure(e,n.meta))})))})))})))}function ji(e,t,n){mi(t);var r=n.signer,a=n.log,o=new Wa["a"](32);return e.pipe(Object(P["a"])(Object(Se["e"])([Zr["withdrawMessage"].request,Zr["withdrawMessage"].success])),Object(P["a"])((function(e){return e.meta.direction===qt["a"].RECEIVED!==Zr["withdrawMessage"].success.is(e)})),Object(F["a"])(Object(Pn["c"])()(e)),Object(ee["a"])((function(e){var t=li(e,2),n=t[0],i=t[1];return Object(G["a"])((function(){if(i.has(n.meta.partner))return Y["a"];var e,t=n.payload.message,c=t.message_identifier.toString(),u=o.get(c);if(u)e=Object(_["a"])(u);else{var s={type:ci["a"].PROCESSED,message_identifier:t.message_identifier};e=Object(w["a"])(Object(ci["g"])(r,s,{log:a})).pipe(Object(A["a"])((function(e){return o.set(c,e)})))}return e.pipe(Object(T["a"])((function(e){return bn["messageSend"].request({message:e},{address:n.meta.partner,msgId:e.message_identifier.toString()})})))})).pipe(Object(M["a"])((function(e){return a.info("Signing Processed message for Withdraw message failed, ignoring",e),Y["a"]})))})))}function wi(e,t,n){var r=n.config$;return e.pipe(Object(P["a"])(H["newBlock"].is),Object(R["a"])("payload","blockNumber"),Object(F["a"])(t,r),Object(D["a"])(s.a.mark((function e(t){var n,r,a,o,i,c,u,l,f,p,d;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=li(t,3),r=n[0],a=n[1],o=n[2].confirmationBlocks,i=0,c=Object.values(a.channels);case 2:if(!(i<c.length)){e.next=31;break}if(u=c[i],u.state===Pe["b"].open){e.next=6;break}return e.abrupt("continue",28);case 6:l=u.own.pendingWithdraws.filter(Object(Ur["c"])(ci["a"].WITHDRAW_REQUEST)),f=bi(l),e.prev=8,f.s();case 10:if((p=f.n()).done){e.next=20;break}if(d=p.value,!d.expiration.add(2*o).gte(r)){e.next=14;break}return e.abrupt("continue",18);case 14:if(!u.own.pendingWithdraws.some(Object(Ur["c"])(ci["a"].WITHDRAW_EXPIRED,d))){e.next=16;break}return e.abrupt("continue",18);case 16:return e.next=18,Zr["withdrawExpire"].request(void 0,{direction:qt["a"].SENT,tokenNetwork:u.tokenNetwork,partner:u.partner.address,expiration:d.expiration.toNumber(),totalWithdraw:d.total_withdraw});case 18:e.next=10;break;case 20:e.next=25;break;case 22:e.prev=22,e.t0=e["catch"](8),f.e(e.t0);case 25:return e.prev=25,f.f(),e.finish(25);case 28:i++,e.next=2;break;case 31:case"end":return e.stop()}}),e,null,[[8,22,25,28]])}))))}function _i(e,t,n){mi(t);var r=n.config$;return e.pipe(Object(P["a"])(Zr["withdrawExpire"].success.is),Object(P["a"])((function(e){return e.meta.direction===qt["a"].SENT})),Object(D["a"])((function(t){var n=t.payload.message,a=bn["messageSend"].request({message:n},{address:t.meta.partner,msgId:n.message_identifier.toString()}),o=e.pipe(Object(P["a"])(Object(ci["f"])(Object(re["j"])(ci["b"]))),Object(P["a"])((function(e){return e.meta.address===t.meta.partner&&e.payload.message.message_identifier.eq(n.message_identifier)})),Object(I["a"])(1),Object($e["a"])([Zr["withdraw"].failure(new xe["c"](xe["b"].CNL_WITHDRAW_EXPIRED),t.meta),Object(Zr["withdrawCompleted"])(void 0,t.meta)]),Object(ii["a"])());return Object(g["a"])(Object(Ur["d"])(a,e,o,Object(ke["b"])(r)),o)})))}var ki=n("178d"),Ei=n("b993"),Ti=n("0223"),Si=n("aaf7");n("759f");function Ai(e){var t=/^(?:\w*:?\/\/)?([^/#?&]+)/.exec(e);return t&&t[1]}function xi(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function Pi(e,t){return Ci(e)||Di(e,t)||Ri(e,t)||Ni()}function Ni(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ri(e,t){if(e){if("string"===typeof e)return Ii(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ii(e,t):void 0}}function Ii(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Di(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function Ci(e){if(Array.isArray(e))return e}function Li(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function Ui(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Li(o,r,a,i,c,"next",e)}function c(e){Li(o,r,a,i,c,"throw",e)}i(void 0)}))}}function Mi(e){return Bi.apply(this,arguments)}function Bi(){return Bi=Ui(s.a.mark((function e(t){var n,r,a,o=arguments;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:[],r={not_rooms:n,ephemeral:{not_types:["m.receipt","m.typing"]},timeline:{limit:0,not_senders:[t.getUserId()]}},a={room:r},e.abrupt("return",t.createFilter(a));case 4:case"end":return e.stop()}}),e)}))),Bi.apply(this,arguments)}function Fi(e,t,n){var r=n.matrix$,a=n.config$,o=n.init$;return e.pipe(Object(P["a"])(xn["matrixSetup"].is),Object(I["a"])(1),Object(A["a"])((function(){r.next(t),r.complete()})),Object(D["a"])((function(){return Object(G["a"])(Ui(s.a.mark((function e(){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all([Mi(t),t.setPushRuleEnabled("global","override",".m.rule.master",!0)]));case 1:case"end":return e.stop()}}),e)})))).pipe(Object(W["a"])((function(){return o.pipe(Object(x["a"])(),Object(X["a"])(!0))})),Object(D["a"])(function(){var e=Ui(s.a.mark((function e(n){var r,a;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=Pi(n,1),a=r[0],e.abrupt("return",t.startClient({filter:a}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(ne["k"])(Object(ke["b"])(a),{onErrors:xe["h"],maxRetries:3}))})),Object(x["a"])())}function Wi(e,t){return e.includes("://")||(e="https://"+e),Object(G["a"])((function(){var n=Date.now();return Object(Ln["a"])(e+"/_matrix/client/versions").pipe(Object(Un["a"])(t),Object(T["a"])((function(e){var t=e.ok;return t?Date.now():NaN})),Object(M["a"])((function(){return Object(_["a"])(NaN)})),Object(T["a"])((function(t){return{server:e,rtt:t-n}})))}))}var Vi=Dn["u"]({active_servers:Dn["c"](Dn["r"]),all_servers:Dn["c"](Dn["r"])});function $i(e,t){return Object(Ln["a"])(e).pipe(Object(D["a"])(function(){var t=Ui(s.a.mark((function t(n){return s.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return Object(Fa["a"])(n.ok,'Could not fetch server list from "'.concat(e,'" => ').concat(n.status)),t.abrupt("return",n.json());case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),Object(Un["a"])(t),Object(D["a"])((function(e){return Object(re["n"])(Vi,e).active_servers})),Object(D["a"])((function(e){return Wi(e,t)})),Object(lt["a"])(),Object(D["a"])((function(e){return ut()(e,["rtt"])})),Object(P["a"])((function(e){var t=e.rtt;return!isNaN(t)})),Object(Ti["a"])((function(){return new xe["c"](xe["b"].TRNS_NO_MATRIX_SERVERS)})))}function Hi(e,t,n){var r=n.address,a=n.signer,o=n.config$,i=Ai(e);return Object(Fa["a"])(i,[xe["b"].TRNS_NO_SERVERNAME,{server:e}]),o.pipe(Object(V["a"])(),Object(D["a"])((function(n){var c=n.pollingInterval;if(t){var u=Object(ki["createClient"])({baseUrl:e,userId:t.userId,accessToken:t.accessToken,deviceId:t.deviceId});return Object(_["a"])({matrix:u,server:e,setup:t,pollingInterval:c})}var l=Object(ki["createClient"])({baseUrl:e}),f=r.toLowerCase(),p="@".concat(f,":").concat(i);return Object(w["a"])(a.signMessage(i)).pipe(Object(D["a"])((function(e){return Object(G["a"])(Ui(s.a.mark((function t(){return s.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",l.login("m.login.password",{identifier:{type:"m.id.user",user:f},password:e,device_id:dt["f"]}));case 1:case"end":return t.stop()}}),t)})))).pipe(Object(M["a"])(function(){var t=Ui(s.a.mark((function t(n){return s.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l.registerRequest({username:f,password:e,device_id:dt["f"]});case 3:return t.abrupt("return",t.sent);case 6:throw t.prev=6,t.t0=t["catch"](0),n;case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()),Object(ne["k"])(Object(ke["b"])(o),{onErrors:xe["h"],maxRetries:3}))})),Object(D["a"])((function(t){var n=t.access_token,r=t.device_id,o=t.user_id;return Object(Fa["a"])(o===p,["Wrong login/register user_id",{user_id:o,userId:p}]),l.deviceId=r,l.http.opts.accessToken=n,l.credentials={userId:p},Object(w["a"])(a.signMessage(p)).pipe(Object(T["a"])((function(t){return{matrix:l,server:e,setup:{userId:p,accessToken:n,deviceId:r,displayName:t}}})))})))})),Object(D["a"])((function(e){var t=e.matrix,n=e.server,r=e.setup;return Object(G["a"])(Ui(s.a.mark((function e(){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t.setDisplayName(r.displayName));case 1:case"end":return e.stop()}}),e)})))).pipe(Object(ne["k"])(Object(ke["b"])(o),{onErrors:xe["h"]}),Object(Z["a"])({matrix:t,server:n,setup:r}))})))}function qi(e,t,n){xi(t);var r=n.matrix$,a=n.latest$,o=n.config$,i=n.init$;return Object(O["a"])([a,o]).pipe(Object(V["a"])(),Object(D["a"])((function(e){var t=Pi(e,2),a=t[0].state,o=t[1],c=o.matrixServer,u=o.matrixServerLookup,s=o.httpTimeout,l=a.transport.server,f=a.transport.setup;i.next(r);var p,d=[];c?(c===l&&d.push(Object(_["a"])({server:l,setup:f})),d.push(Object(_["a"])({server:c}))):(l&&d.push(Object(_["a"])({server:l,setup:f})),d.push($i(u,s)));var b=function(e){return p=e,Y["a"]};return Object(G["a"])((function(){return d.shift()||Y["a"]})).pipe(Object(M["a"])(b),Object(ee["a"])((function(e){var t=e.server,r=e.setup;return Hi(t,r,n).pipe(Object(M["a"])(b))})),Object(V["a"])(),Object(A["a"])((function(e){var t=e.matrix;return t.setMaxListeners(30)})),Object(Si["a"])((function(e){return e.pipe(Object(D["a"])((function(){if(d.length)return Object(_["a"])(null);throw p})))})))})),Object(D["a"])((function(t){var r=t.matrix,a=t.server,i=t.setup;return Object(g["a"])(Fi(e,r,n),Object(_["a"])(Object(xn["matrixSetup"])({server:a,setup:i})),o.pipe(Object(ne["h"])("logger"),Object(A["a"])((function(e){return Ei["logger"].setLevel(e||"silent",!1)})),Object(x["a"])()))})),Object(ne["b"])(e))}function Ki(e,t,n){xi(t);var r=n.matrix$;return e.pipe(Object(F["a"])(r),Object(ne["e"])(function(){var e=Ui(s.a.mark((function e(t){var n;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return n=t[1],n.stopClient(),e.prev=4,e.next=7,n.setPresence({presence:"offline",status_msg:""});case 7:e.next=11;break;case 9:e.prev=9,e.t0=e["catch"](4);case 11:case"end":return e.stop()}}),e,null,[[4,9]])})));return function(t){return e.apply(this,arguments)}}()),Object(x["a"])())}var Gi=n("6c09"),Yi=n.n(Gi),Xi=n("d495"),Qi=n("ee53"),zi=n("78b8"),Ji=n("c96b");function Zi(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function ec(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ec(Object(n),!0).forEach((function(t){nc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ec(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rc(e,t){return ic(e)||oc(e,t)||lc(e,t)||ac()}function ac(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function oc(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function ic(e){if(Array.isArray(e))return e}function cc(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function uc(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){cc(o,r,a,i,c,"next",e)}function c(e){cc(o,r,a,i,c,"throw",e)}i(void 0)}))}}function sc(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=lc(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function lc(e,t){if(e){if("string"===typeof e)return fc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fc(e,t):void 0}}function fc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pc(e){return"string"===typeof e?e:Object(Te["c"])(e)}var dc="m.text";function bc(e){var t;return null!==(t=e.payload.msgtype)&&void 0!==t?t:dc}function yc(e,t){for(var n=0,r=new Map,a=0;a<e.length&&n<t;a++){var o=e[a],i=o.payload.userId,c=r.get(i),u=c&&bc(o)!==bc(c[0]);u||(e.splice(a--,1),c?c.push(o):r.set(i,[o]),n++)}return r}function hc(e,t){if(!e.length)return Y["a"];var n,r=Date.now(),a=yc(e,20),o={},i=sc(a);try{for(i.s();!(n=i.n()).done;){var c=rc(n.value,2),u=c[0],l=c[1],f=l.map((function(e){return pc(e.payload.message)})).join("\n"),p={msgtype:bc(l[0]),body:f};o[u]=nc({},"*",p)}}catch(b){i.e(b)}finally{i.f()}var d=-1;return t.matrix$.pipe(Object(D["a"])(function(){var e=uc(s.a.mark((function e(t){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return d++,e.abrupt("return",t.sendToDevice("m.room.message",o));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(ne["k"])(Object(ke["b"])(t.config$),{maxRetries:3,onErrors:xe["h"],log:t.log.warn}),Object(D["a"])(s.a.mark((function e(){var t,n,o,i,c,u,l,f,p;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=Date.now()-r,n=sc(a),e.prev=2,n.s();case 4:if((o=n.n()).done){e.next=25;break}i=rc(o.value,2),c=i[0],u=i[1],l=sc(u),e.prev=7,l.s();case 9:if((f=l.n()).done){e.next=15;break}return p=f.value,e.next=13,Object(_["a"])(bn["messageSend"].success({via:c,tookMs:t,retries:d},p.meta));case 13:e.next=9;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e["catch"](7),l.e(e.t0);case 20:return e.prev=20,l.f(),e.finish(20);case 23:e.next=4;break;case 25:e.next=30;break;case 27:e.prev=27,e.t1=e["catch"](2),n.e(e.t1);case 30:return e.prev=30,n.f(),e.finish(30);case 33:case"end":return e.stop()}}),e,null,[[2,27,30,33],[7,17,20,23]])}))),Object(M["a"])(s.a.mark((function e(t){var n,r,o,i,c,u,l;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=sc(a),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=24;break}o=rc(r.value,2),i=o[1],c=sc(i),e.prev=6,c.s();case 8:if((u=c.n()).done){e.next=14;break}return l=u.value,e.next=12,Object(_["a"])(bn["messageSend"].failure(t,l.meta));case 12:e.next=8;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e["catch"](6),c.e(e.t0);case 19:return e.prev=19,c.f(),e.finish(19);case 22:e.next=3;break;case 24:e.next=29;break;case 26:e.prev=26,e.t1=e["catch"](1),n.e(e.t1);case 29:return e.prev=29,n.f(),e.finish(29);case 32:case"end":return e.stop()}}),e,null,[[1,26,29,32],[6,16,19,22]])}))))}function mc(e,t){var n=[];return e.pipe(Object(A["a"])((function(e){var t=rc(e,2),r=t[0],a=t[1];return n.push(tc(tc({},r),{},{payload:tc(tc({},r.payload),{},{userId:a})}))})),Object(ee["a"])((function(){return Object(G["a"])((function(){return hc(n,t).pipe(Object(ne["b"])(e,10))}))})),Object(D["a"])((function(t){return t.pipe(Object(ne["b"])(e,10))})))}function vc(e){return e.pipe(Object(T["a"])((function(e){var t=rc(e,2),n=t[0],r=t[1];try{var a=Date.now();r.send(pc(n.payload.message));var o={via:r.label,tookMs:Date.now()-a,retries:0};return bn["messageSend"].success(o,n.meta)}catch(i){return bn["messageSend"].failure(i,n.meta)}})))}function Oc(e,t,n){return Zi(t),e.pipe(Object(ne["c"])(xn["matrixPresence"],(function(t){var r=e.pipe(Object(P["a"])(bn["messageSend"].request.is),Object(ne["f"])((function(r){var a=r.meta.address,o=bc(r)!==dc?Y["a"]:n.latest$.pipe(Object(R["a"])("rtc",a),Object(P["a"])(re["p"]),Object(P["a"])((function(e){var t=e.readyState;return"open"===t}))),i=r.payload.userId?Object(_["a"])(r.payload.userId):t(xn["matrixPresence"].request(void 0,{address:a})).pipe(Object(R["a"])("payload","userId"),Object(M["a"])((function(e){return Object(_["a"])(e)})));return Object(g["a"])(o,i).pipe(Object(I["a"])(1),Object(ne["b"])(e))})),Object(ii["a"])()),a=Object(Xi["a"])(r,(function(e){var t=rc(e,2),n=t[1];return!!n&&(null===n||void 0===n?void 0:n.readyState)})),o=rc(a,2),i=o[0],c=o[1],u=Object(Xi["a"])(c,(function(e){var t=rc(e,2),n=t[1];return"string"===typeof n})),s=rc(u,2),l=s[0],f=s[1],p=vc(i),d=mc(l,n),b=f.pipe(Object(T["a"])((function(e){var t=rc(e,2),n=t[0],r=t[1];return bn["messageSend"].failure(r,n.meta)})));return Object(g["a"])(b,p,d)}),void 0,(function(e){var t=e.meta;return t.address})))}function gc(e,t){var n=t.matrix$,r=t.config$,a=t.latest$;return n.pipe(Object(F["a"])(a,r),Object(ne["f"])((function(e){var n=rc(e,3),r=n[2].additionalServices;return Object(w["a"])(r).pipe(Object(D["a"])((function(e){return re["a"].is(e)?Object(_["a"])(e):Object(G["a"])(uc(s.a.mark((function n(){return s.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",Object(Mn["e"])(e,t));case 1:case"end":return n.stop()}}),n)})))).pipe(Object(M["a"])(K()(Y["a"])))}),5),Object(lt["a"])())})),Object(D["a"])((function(t){var n=rc(t,2),a=rc(n[0],2),o=a[0],i=a[1].state,c=n[1],u=Yi()(c.concat(Object.keys(i.services)));Object(xe["d"])(u.length,"no services to messageServiceSend to");var l=Ai(o.getHomeserverUrl()),f=u.map((function(e){return"@".concat(e.toLowerCase(),":").concat(l)})),p={msgtype:"m.text",body:pc(e.payload.message)},d=Object.fromEntries(f.map((function(t){return[t,nc({},hn["i"][e.meta.service],p)]}))),b=Date.now(),y=-1;return Object(G["a"])(uc(s.a.mark((function t(){return s.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return y++,t.next=3,o.sendToDevice("m.room.message",d);case 3:return t.abrupt("return",bn["messageServiceSend"].success({via:f,tookMs:Date.now()-b,retries:y},e.meta));case 4:case"end":return t.stop()}}),t)})))).pipe(Object(ne["k"])(Object(ke["b"])(r),{maxRetries:3,onErrors:xe["h"]}))})),Object(M["a"])((function(t){return Object(_["a"])(bn["messageServiceSend"].failure(t,e.meta))})))}function jc(e,t,n){return Zi(t),e.pipe(Object(P["a"])(Object(Se["e"])(bn["messageServiceSend"].request)),Object(W["a"])((function(){return n.init$.pipe(Object(x["a"])(),Object(X["a"])(!0))})),Object(D["a"])((function(e){return gc(e,n)}),5),Object(ne["b"])(e,10))}function wc(e,t,n){Zi(t);var r=n.log,a=n.matrix$,o=n.config$,i=n.latest$;return e.pipe(Object(ne["c"])(xn["matrixPresence"],(function(t){return a.pipe(Object(ne["f"])((function(e){return Object(Qi["a"])(e,"toDeviceEvent")})),Object(P["a"])((function(e){var t=rc(e,2),n=t[0],r=t[1];return"m.room.message"===r.getType()&&r.getSender()!==n.getUserId()})),Object(R["a"])(1),Object(F["a"])(o,e.pipe(Object(Pn["d"])())),Object(ne["f"])((function(e){var n=rc(e,3),r=n[0],a=n[1].httpTimeout,o=n[2],c=r.getSender();return c in o?Object(_["a"])(o[c]):i.pipe(Object(ne["h"])("whitelisted"),Object(T["a"])((function(e){var t=Object(Pn["a"])(c);if(t&&e.includes(t))return t})),Object(P["a"])(re["p"]),Object(I["a"])(1),Object(U["a"])(Object(k["a"])(a)),Object(D["a"])((function(e){return t(xn["matrixPresence"].request(void 0,{address:e}))})),Object(M["a"])(K()(Y["a"])))})),Object(ne["b"])(e),Object(D["a"])((function(e){var t,n=rc(e,2),a=rc(n[0],1),o=a[0],i=n[1],c=(null!==(t=o.getContent().body)&&void 0!==t?t:"").split("\n");return Object(zi["a"])(c,Ji["a"]).pipe(Object(T["a"])((function(e){var t;return o.getContent().msgtype===dc&&(t=Object(Te["f"])(e,i,{log:r})),Object(bn["messageReceived"])(tc(tc({text:e},t?{message:t}:{}),{},{ts:Date.now(),userId:o.getSender()},o.getContent().msgtype?{msgtype:o.getContent().msgtype}:{}),i.meta)})))})))})))}function _c(e,t,n){Zi(t);var r=n.log,a=n.signer,o=new Wa["a"](32);return e.pipe(Object(P["a"])(Object(Te["e"])([Object(re["j"])(yn["g"]),Object(re["j"])(yn["h"]),Object(re["j"])(yn["i"])])),Object(F["a"])(Object(Pn["c"])()(e)),Object(P["a"])((function(e){var t=rc(e,2),n=t[0],r=t[1];return!r.has(n.meta.address)})),Object(ee["a"])((function(e){var t=rc(e,1),n=t[0],i=n.payload.message;return Object(G["a"])((function(){var e=i.message_identifier,t=e.toString(),c=o.get(t);if(c)return Object(_["a"])(bn["messageSend"].request({message:c},{address:n.meta.address,msgId:t}));var u={type:yn["e"].DELIVERED,delivered_message_identifier:e};return r.info('Signing "'.concat(u.type,'" for "').concat(i.type,'" with id=').concat(e.toString())),Object(w["a"])(Object(Te["g"])(a,u,{log:r})).pipe(Object(A["a"])((function(e){return o.set(t,e)})),Object(T["a"])((function(e){return bn["messageSend"].request({message:e},{address:n.meta.address,msgId:t})})))}))})))}function kc(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function Ec(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){kc(o,r,a,i,c,"next",e)}function c(e){kc(o,r,a,i,c,"throw",e)}i(void 0)}))}}function Tc(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function Sc(e){return Pc(e)||xc(e)||Ic(e)||Ac()}function Ac(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function xc(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Pc(e){if(Array.isArray(e))return Dc(e)}function Nc(e,t){return Lc(e)||Cc(e,t)||Ic(e,t)||Rc()}function Rc(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ic(e,t){if(e){if("string"===typeof e)return Dc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Dc(e,t):void 0}}function Dc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Cc(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function Lc(e){if(Array.isArray(e))return e}function Uc(e,t){var n=t.config$,r=t.latest$;return Object(O["a"])([r,n]).pipe(Object(V["a"])(),Object(D["a"])((function(n){var r=Nc(n,2),a=r[0].state,o=r[1],i=o.pfsMode,c=o.additionalServices,u=o.httpTimeout,s=c;return i!==hn["e"].onlyAdditional&&(s=Yi()([].concat(Sc(s),Sc(Object.keys(a.services))))),Object(w["a"])(s).pipe(Object(ee["a"])((function(n){return Object(Mn["b"])(e,n,t).pipe(Object(Un["a"])(u),Object(ne["a"])({onErrors:xe["h"],maxRetries:1},"Error fetching presence from service",e))})),Object(V["a"])())})),Object(M["a"])((function(t){return Object(_["a"])(xn["matrixPresence"].failure(t,{address:e}))})))}function Mc(e,t,n){Tc(t);var r=n.latest$,a=n.config$,o=new Map;return e.pipe(Object(P["a"])(Object(Se["e"])(xn["matrixPresence"].request)),Object(He["a"])((function(e){return e.meta.address})),Object(F["a"])(Object(g["a"])(e.pipe(Object(P["a"])(Object(Se["e"])([xn["matrixPresence"].success,xn["matrixPresence"].failure])),Object(A["a"])((function(e){xn["matrixPresence"].success.is(e)?o.set(e.meta.address,e):o.delete(e.meta.address)})),Object(x["a"])()),Object(_["a"])(o))),Object(D["a"])((function(e){var t=Nc(e,2),o=t[0],i=t[1];return o.pipe(Object(F["a"])(r,a),Object(z["a"])((function(e){var t=Nc(e,3),r=t[0],a=t[1].rtc,o=t[2].httpTimeout,c=r.meta.address,u=i.get(c);return u&&(Date.now()-u.payload.ts<o||c in a)?Object(_["a"])(u):Uc(c,n)})))})))}function Bc(e){return e.pipe(Object(P["a"])(H["channelMonitored"].is),Object(T["a"])((function(e){return xn["matrixPresence"].request(void 0,{address:e.meta.partner})})))}function Fc(e,t,n){Tc(t);var r=n.matrix$,a=n.config$,o=n.init$;return a.pipe(Object(ne["b"])(e),Object(R["a"])("caps"),Object(S["a"])(h.a),Object(F["a"])(o.pipe(Object(x["a"])(),Object(N["a"])(!1),Object(X["a"])(!0))),Object(J["a"])((function(e){var t=Nc(e,2),n=t[0],o=t[1];return r.pipe(Object(ne["f"])(function(){var e=Ec(s.a.mark((function e(t){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t.setAvatarUrl(n&&!it()(n)?Object(Pn["f"])(n):""));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(P["a"])((function(){return o})),Object(ne["f"])(function(){var e=Ec(s.a.mark((function e(t){var n,r;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=Nc(t,1),r=n[0],e.abrupt("return",r.setPresence({presence:"offline",status_msg:""}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(ne["f"])(function(){var e=Ec(s.a.mark((function e(t){var n,r,a;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=Nc(t,1),r=Nc(n[0],1),a=r[0],e.abrupt("return",a.setPresence({presence:"online",status_msg:Date.now().toString()}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(ne["k"])(Object(ke["b"])(a)))})),Object(x["a"])())}function Wc(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function Vc(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Wc(o,r,a,i,c,"next",e)}function c(e){Wc(o,r,a,i,c,"throw",e)}i(void 0)}))}}function $c(e,t){return Yc(e)||Gc(e,t)||qc(e,t)||Hc()}function Hc(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function qc(e,t){if(e){if("string"===typeof e)return Kc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Kc(e,t):void 0}}function Kc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Gc(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function Yc(e){if(Array.isArray(e))return e}function Xc(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function Qc(e,t,n){Xc(e);var r=n.log,a=n.matrix$,o=n.config$;return a.pipe(Object(ne["f"])((function(e){return Object(Qi["a"])(e,"Room")})),Object(F["a"])(o),Object(W["a"])((function(e){var t=$c(e,2),n=t[1].httpTimeout;return Object(k["a"])(Math.round((.5+.5*Math.random())*n))})),Object(ne["b"])(t),Object(P["a"])((function(e){var t=$c(e,1),n=$c(t[0],2),r=n[1],a=r.getMyMembership();return!(!a||"leave"===a)})),Object(D["a"])(function(){var e=Vc(s.a.mark((function e(t){var n,a,o,i;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=$c(t,1),a=$c(n[0],2),o=a[0],i=a[1],r.warn("Unknown room in matrix, leaving",i.roomId),e.abrupt("return",o.leave(i.roomId).catch((function(e){return r.error("Error leaving unknown room, ignoring",e)})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(x["a"])())}var zc,Jc=n("393f"),Zc=n("b2c5"),eu=n("1e71"),tu=n("8045");function nu(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function ru(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function au(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ru(Object(n),!0).forEach((function(t){du(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ru(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ou(e,t){return lu(e)||su(e,t)||cu(e,t)||iu()}function iu(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function cu(e,t){if(e){if("string"===typeof e)return uu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?uu(e,t):void 0}}function uu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function su(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function lu(e){if(Array.isArray(e))return e}function fu(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function pu(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){fu(o,r,a,i,c,"next",e)}function c(e){fu(o,r,a,i,c,"throw",e)}i(void 0)}))}}function du(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var bu,yu="m.notice";(function(e){e["offer"]="offer",e["answer"]="answer",e["candidates"]="candidates",e["hangup"]="hangup"})(bu||(bu={}));var hu=Dn["o"](Dn["i"]([Dn["u"]({type:Dn["k"](bu.offer),sdp:Dn["r"]}),Dn["n"]({call_id:Dn["r"]})])),mu=Dn["o"](Dn["i"]([Dn["u"]({type:Dn["k"](bu.answer),sdp:Dn["r"]}),Dn["n"]({call_id:Dn["r"]})])),vu=Dn["o"](Dn["i"]([Dn["u"]({type:Dn["k"](bu.candidates),candidates:Dn["p"](Dn["x"])}),Dn["n"]({call_id:Dn["r"]})])),Ou=Dn["o"](Dn["i"]([Dn["u"]({type:Dn["k"](bu.hangup)}),Dn["n"]({call_id:Dn["r"]})])),gu=(zc={},du(zc,bu.offer,hu),du(zc,bu.answer,mu),du(zc,bu.candidates,vu),du(zc,bu.hangup,Ou),zc);function ju(e){var t;return Array.isArray(e)&&3===e.length&&(null===(t=e[1])||void 0===t?void 0:t.readyState)}var wu="peer hung up",_u="channel closed",ku="ping",Eu=["failed","closed","disconnected"],Tu=new WeakMap;function Su(e){return Au.apply(this,arguments)}function Au(){return Au=pu(s.a.mark((function e(t){var n,r,a,o;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=Tu.get(t),!(n&&Date.now()<n[0])){e.next=3;break}return e.abrupt("return",n[1]);case 3:return e.next=5,t.turnServer().catch((function(){}));case 5:return r=e.sent,a=Date.now()+36e5,o=[],r&&"uris"in r&&(o.push({urls:r.uris,username:r.username,credentialType:"password",credential:r.password}),a=Date.now()+1e3*r.ttl),Tu.set(t,[a,o]),e.abrupt("return",o);case 11:case"end":return e.stop()}}),e)}))),Au.apply(this,arguments)}function xu(e,t,n){var r=n.peer,a=n.callId,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=o.log;return e.pipe(Object(P["a"])(bn["messageReceived"].is),Object(P["a"])((function(e){var t=e.meta,n=e.payload;return t.address===r.meta.address&&n.msgtype===yu})),Object(D["a"])(s.a.mark((function e(n){var r;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,r=Object(Ae["b"])(n.payload.text),r["type"]!==t){e.next=5;break}return e.next=5,Object(re["n"])(gu[t],r);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),null===i||void 0===i||i.info("Failed to decode WebRTC signaling message, ignoring",{text:n.payload.text,peerAddr:n.meta.address,peerId:n.payload.userId,error:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Object(P["a"])((function(e){return!a||e.call_id===a})))}function Pu(e,t,n,r){var a=r.log;return Object(g["a"])(xu(t,bu.candidates,n,{log:a}).pipe(Object(A["a"])((function(e){return a.debug("RTC: received candidates",n.callId,e.candidates)})),Object(D["a"])((function(e){var t;return Object(w["a"])(null!==(t=e.candidates)&&void 0!==t?t:[])})),Object(D["a"])(function(){var t=pu(s.a.mark((function t(r){return s.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.addIceCandidate(r);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t["catch"](0),a.warn("RTC: error setting candidate, ignoring",n.callId,e.connectionState,r,t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e){return t.apply(this,arguments)}}()),Object(x["a"])()),Object(Qi["a"])(e,"icecandidate").pipe(Object(R["a"])("candidate"),Object(L["a"])(re["p"]),Object(eu["a"])(10),Object(P["a"])((function(e){return e.length>0})),Object(A["a"])((function(e){return a.debug("RTC: got candidates",n.callId,e)})),Object(T["a"])((function(e){var t={type:bu.candidates,candidates:e,call_id:n.callId};return bn["messageSend"].request({message:Object(Ae["c"])(t),msgtype:yu,userId:n.peer.payload.userId},{address:n.peer.meta.address,msgId:Object(Kt["g"])().toString()})}))))}function Nu(e,t,n,r){var a=ou(e,3),o=a[0],i=a[1],c=a[2],u=ou(t,2),s=u[0],l=u[1],f=n.httpTimeout;return Object(g["a"])(Object(Qi["a"])(o,"connectionstatechange").pipe(Object(N["a"])(null),Object(D["a"])((function(){if(Eu.includes(o.connectionState))throw new Error("RTC: connection failed");return Y["a"]}))),Object(Qi["a"])(i,"close").pipe(Object($e["a"])(Object(Cn["a"])((function(){return new Error(_u)})))),Object(Qi["a"])(i,"error").pipe(Object(D["a"])((function(e){throw e.error}))),xu(s,bu.hangup,c,r).pipe(Object($e["a"])(Object(Cn["a"])((function(){return new Error(wu)})))),Object(Qi["a"])(i,"open").pipe(Object(I["a"])(1),Object(ne["m"])(f),Object(T["a"])((function(){return r.log.info("RTC: dataChannel open",i.label),c.callId=i.label,i.send(ku),l.next(!0),l.complete(),Object(xn["rtcChannel"])(i,c.peer.meta)}))),Object(Qi["a"])(i,"message").pipe(Object(A["a"])((function(e){return r.log.debug("RTC: dataChannel message",i.label,e)})),Object(R["a"])("data"),Object(P["a"])((function(e){return"string"===typeof e})),Object(P["a"])((function(e){return e!==ku})),Object(D["a"])((function(e){return Object(w["a"])(e.split("\n"))})),Object(tu["a"])(Ji["a"]),Object(T["a"])((function(e){return Object(bn["messageReceived"])({text:e,message:Object(Te["f"])(e,c.peer,r),ts:Date.now(),userId:c.peer.payload.userId},c.peer.meta)})))).pipe(Object(B["a"])((function(){return o.close()})))}function Ru(e,t){var n=t.config$;return function(r){var a;return Object(G["a"])((function(){return a=new st["a"],r.pipe(Object(U["a"])(a))})).pipe(Object(ne["g"])(ju,Object(Jc["a"])(Object(F["a"])(n),Object(J["a"])((function(n){var r=ou(n,2),o=r[0],i=r[1];return Nu(o,[e,a],i,t)})))))}}function Iu(e,t,n){var r=ou(t,2),a=r[0],o=r[1],i=n.matrix$,c=n.config$,u=n.log,l={callId:o.call_id,peer:a};u.info("RTC: callee answering",l);var f=new st["a"];return i.pipe(Object(D["a"])(function(){var e=pu(s.a.mark((function e(t){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Su(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(F["a"])(c),Object(D["a"])((function(t){var r=ou(t,2),i=r[0],c=r[1].fallbackIceServers,u=new RTCPeerConnection({iceServers:i.concat(c)}),p=0;return Object(g["a"])(Pu(u,e,l,n).pipe(Object(W["a"])(K()(f))),Object(G["a"])(pu(s.a.mark((function e(){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",u.setRemoteDescription(o));case 1:case"end":return e.stop()}}),e)})))).pipe(Object(D["a"])(pu(s.a.mark((function e(){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",u.createAnswer());case 1:case"end":return e.stop()}}),e)})))),Object(ne["f"])(function(){var e=pu(s.a.mark((function e(t){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",u.setLocalDescription(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(D["a"])((function(t){var n=ou(t,1),r=n[0],o={type:r.type,sdp:r.sdp,call_id:l.callId},i=bn["messageSend"].request({message:Object(Ae["c"])(o),msgtype:yu,userId:a.payload.userId},au(au({},a.meta),{},{msgId:Object(Kt["g"])().toString()}));return Object(Ur["a"])(e,i,Object(Se["g"])(bn["messageSend"],i.meta))})),Object(B["a"])((function(){return f.next(!0),f.complete()}))),Object(Qi["a"])(u,"datachannel").pipe(Object(T["a"])((function(e){var t=e.channel;return++p,[u,t,l]})),Object(I["a"])(1),Object(B["a"])((function(){return p?null:u.close()}))))})),Ru(e,n))}function Du(e,t,n,r){var a=ou(n,2),o=a[0],i=a[1];return Object(g["a"])(xu(o,bu.answer,t[2],r).pipe(Object(I["a"])(1),Object(D["a"])(function(){var e=pu(s.a.mark((function e(n){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r.log.info("RTC: got answer",n.call_id),e.next=3,t[0].setRemoteDescription(n);case 3:return e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(B["a"])((function(){return i.next(!0),i.complete()}))),Object(Ur["a"])(o,e,Object(Se["g"])(bn["messageSend"],e.meta)).pipe(Object(X["a"])(t)))}function Cu(e,t,n){var r=n.matrix$,a=n.config$,o=n.log,i=n.address;return r.pipe(Object(D["a"])(function(){var e=pu(s.a.mark((function e(t){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Su(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(F["a"])(a),Object(D["a"])((function(r){var a=ou(r,2),c=a[0],u=a[1].fallbackIceServers,l={callId:"".concat(i,"|").concat(e.meta.address,"|").concat(Date.now()),peer:e};o.info("RTC: caller calling",l);var f=new RTCPeerConnection({iceServers:c.concat(u)}),p=f.createDataChannel(l.callId,{ordered:!1}),d=new st["a"],b=0;return Object(g["a"])(Pu(f,t,l,n).pipe(Object(W["a"])(K()(d))),Object(G["a"])(pu(s.a.mark((function e(){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",f.createOffer());case 1:case"end":return e.stop()}}),e)})))).pipe(Object(D["a"])(function(){var e=pu(s.a.mark((function e(t){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,f.setLocalDescription(t);case 2:return e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(D["a"])((function(e){var r={type:e.type,sdp:e.sdp,call_id:l.callId},a=bn["messageSend"].request({message:Object(Ae["c"])(r),msgtype:yu,userId:l.peer.payload.userId},{address:l.peer.meta.address,msgId:Object(Kt["g"])().toString()});return Du(a,[f,p,l],[t,d],n)})))).pipe(Object(P["a"])((function(e){return!ju(e)||!b++})),Object(B["a"])((function(){return b?null:f.close()})))})),Ru(t,n))}function Lu(e,t,n){return e.pipe(Object(ne["c"])(xn["matrixPresence"],(function(r){return r(xn["matrixPresence"].request(void 0,{address:t})).pipe(Object(D["a"])((function(t){return Object(xe["d"])(Object(Pn["b"])(t.payload.caps,dt["a"].WEBRTC),"peer doesn't support RTC"),Cu(t,e,n)})))})))}function Uu(e,t,n){var r=n.log;return Object(Jc["a"])(Object(J["a"])((function(n){var a,o,i=ou(n,3),c=i[2];return c.pipe(Object(A["a"])((function(e){!a&&xn["rtcChannel"].is(e)&&e.payload&&t.next([!0,a=e.payload])})),Object(M["a"])((function(t){return r.info("RTC: callee channel error",e,t.message),o=t,Y["a"]})),Object(B["a"])((function(){r.info("RTC: callee disconnecting",e),a&&t.next([!1,a,o])})),Object(U["a"])(t.pipe(Object(P["a"])((function(e){var t=ou(e,2),n=t[0],r=t[1];return n&&r!==a})))))})))}function Mu(e,t,n){var r=n.log,a=n.config$;return Object(Jc["a"])(Object(z["a"])((function(n){var o,i,c=ou(n,3),u=c[2];return Object(G["a"])((function(){return o=void 0,i=void 0,u.pipe(Object(A["a"])({next:function(e){!o&&xn["rtcChannel"].is(e)&&e.payload&&t.next([!0,o=e.payload])},error:function(t){r.info("RTC: caller channel error",e,t.message),i=t}}),Object(B["a"])((function(){o&&t.next([!1,o,i])})))})).pipe(Object(Si["a"])(Object(Jc["a"])(Object(F["a"])(a),Object(D["a"])((function(t,n){var a=ou(t,2),o=a[1],i=o.pollingInterval,c=o.httpTimeout;if(n>=5)return Object(_["a"])(!0);var u=Math.min(i*Math.pow(2,n),2*c);return r.info("RTC: caller retrying in",u,e,n),Object(k["a"])(u)})),Object(L["a"])((function(e){return!0!==e})),Object(B["a"])((function(){return r.info("RTC: caller giving up",e)})))),Object(U["a"])(t.pipe(Object(P["a"])((function(e){var t=ou(e,2),n=t[0],r=t[1];return n&&r!==o})))))})))}function Bu(){return function(e){return e.pipe(Object(P["a"])(bn["messageReceived"].is),Object(F["a"])(e.pipe(Object(Pn["d"])())),Object(P["a"])((function(e){var t=ou(e,2),n=t[0],r=t[1];return n.payload.msgtype===yu&&!!n.payload.userId&&n.payload.userId in r})),Object(D["a"])(s.a.mark((function e(t){var n,r,a,o;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=ou(t,2),r=n[0],a=n[1],e.prev=1,o=Object(Ae["b"])(r.payload.text),o["type"]!==bu.offer){e.next=6;break}return e.next=6,[a[r.payload.userId],Object(re["n"])(gu[bu.offer],o)];case 6:e.next=10;break;case 8:e.prev=8,e.t0=e["catch"](1);case 10:case"end":return e.stop()}}),e,null,[[1,8]])}))))}}function Fu(e,t){var n,r=t.address;return H["channelMonitored"].is(e)?n=e.meta.partner:Zr["transferSigned"].is(e)?e.meta.direction!==qt["a"].RECEIVED||e.payload.message.target!==r||"secret"in e.payload.message.metadata||(n=e.payload.message.initiator):(bn["messageSend"].request.is(e)&&e.payload.msgtype!==yu||xn["rtcChannel"].is(e)&&!e.payload)&&(n=e.meta.address),n}function Wu(e,t){return Object(Jc["a"])(Object(D["a"])(s.a.mark((function n(r){var a,o,i,c,u,l;return s.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(a=ou(r,3),o=a[0],i=a[1],c=a[2],!o){n.next=4;break}return t.push(i),n.abrupt("return");case 4:if(Object(re["q"])(t)!==i){n.next=10;break}return t.pop(),n.next=8,Object(xn["rtcChannel"])(Object(re["q"])(t),{address:e});case 8:n.next=12;break;case 10:u=t.indexOf(i),u>=0&&t.splice(u,1);case 12:if(Object(xe["g"])([wu,_u],c)){n.next=16;break}return l={type:bu.hangup,call_id:i.label},n.next=16,bn["messageSend"].request({message:Object(Ae["c"])(l),msgtype:yu},{address:e,msgId:Object(Kt["g"])().toString()});case 16:case"end":return n.stop()}}),n)}))))}function Vu(e,t,n){nu(t);var r=e.pipe(Bu(),Object(T["a"])((function(t){var r=ou(t,2),a=r[0],o=r[1];return[a.meta.address,"callee",Iu(e,[a,o],n)]}))),a=e.pipe(Object(D["a"])(s.a.mark((function e(t){var r;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=Fu(t,n),!r){e.next=4;break}return e.next=4,r;case 4:case"end":return e.stop()}}),e)}))),Object(T["a"])((function(t){return[t,"caller",Lu(e,t,n)]})));return Object(g["a"])(r,a).pipe(Object(He["a"])((function(e){var t=ou(e,1),n=t[0];return n})),Object(D["a"])((function(t){var r=t.key,a=[],o=new Zc["a"];return Object(g["a"])(t.pipe(Object(He["a"])((function(e){var t=ou(e,2),n=t[1];return n})),Object(D["a"])((function(e){return"callee"===e.key?e.pipe(Uu(r,o,n)):e.pipe(Object(P["a"])((function(){return!a.length})),Mu(r,o,n))})),Object(ne["b"])(e),Object(B["a"])((function(){return setTimeout((function(){return o.complete()}),10)}))),o.pipe(Wu(r,a)))})),Object(ne["l"])(n.config$.pipe(Object(R["a"])("caps",dt["a"].WEBRTC),Object(ne["b"])(e))))}function $u(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function Hu(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){$u(o,r,a,i,c,"next",e)}function c(e){$u(o,r,a,i,c,"throw",e)}i(void 0)}))}}function qu(e){return Yu(e)||Gu(e)||zu(e)||Ku()}function Ku(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Gu(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Yu(e){if(Array.isArray(e))return Ju(e)}function Xu(e,t){return es(e)||Zu(e,t)||zu(e,t)||Qu()}function Qu(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function zu(e,t){if(e){if("string"===typeof e)return Ju(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ju(e,t):void 0}}function Ju(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Zu(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function es(e){if(Array.isArray(e))return e}function ts(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function ns(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ns(Object(n),!0).forEach((function(t){as(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ns(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function as(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function os(e){var t,n=e.stale,r=e.udcDeposit,a=e.config.monitoringReward;return t={},as(t,dt["a"].RECEIVE,!n&&null!==a&&void 0!==a&&a.gt(0)&&a.lte(r.balance)?1:0),as(t,dt["a"].WEBRTC,"RTCPeerConnection"in globalThis?1:0),t}function is(e,t,n){return null===n?n:void 0!==n?rs(rs(rs({},e),t),n):null===t?t:rs(rs({},e),t)}function cs(e,t,n){ts(e);var r=n.defaultConfig,a=n.latest$;return Object(O["a"])([t.pipe(Object(ne["h"])("config","caps")),a]).pipe(Object(T["a"])((function(e){var t=Xu(e,2),n=t[0],a=t[1];return is(os(a),r.caps,n)})),Object(S["a"])(h.a),Object(T["a"])((function(e){return Object($["c"])({caps:e})})),Object(ne["b"])(t))}function us(e,t,n){ts(t);var r=n.config$,a=n.log,o=n.provider;return Object(g["a"])(r.pipe(Object(ne["h"])("logger"),Object(A["a"])((function(e){return a.setLevel(e||"silent",!1)}))),r.pipe(Object(ne["h"])("pollingInterval"),Object(A["a"])((function(e){return o.pollingInterval=e})))).pipe(Object(x["a"])(),Object(ne["b"])(e))}var ss={configCapsEpic:cs,configReactEpic:us};function ls(e,t,n){var r=n.defaultConfig,a=n.mediationFeeCalculator,o={balance:f["b"],totalDeposit:f["b"]},i=!1,c=e.pipe(Object(P["a"])(fn["udcDeposit"].success.is),Object(P["a"])((function(e){return!("confirmed"in e.payload)||!!e.payload.confirmed})),Object(T["a"])((function(e){return{balance:e.payload.balance,totalDeposit:e.meta.totalDeposit}})),Object(N["a"])(o),Object(S["a"])((function(e,t){var n=e.balance,r=t.balance;return n.eq(r)}))),u=e.pipe(Object(P["a"])(H["blockTime"].is),Object(R["a"])("payload","blockTime"),Object(N["a"])(15e3)),s=e.pipe(Object(P["a"])(H["blockGasprice"].is),Object(R["a"])("payload","gasPrice"),Object(N["a"])(l["a"].from(1e9))),d=e.pipe(Object(P["a"])(H["blockStale"].is),Object(R["a"])("payload","stale"),Object(N["a"])(i)),y=Object(g["a"])(t.pipe(Object(I["a"])(1),Object(R["a"])("config"),Object(T["a"])((function(e){var t=e.caps,n=e.monitoringReward;return is(os({udcDeposit:o,stale:i,config:{monitoringReward:null!==n&&void 0!==n?n:r.monitoringReward}}),r.caps,t)}))),e.pipe(Object(P["a"])($["c"].is),Object(R["a"])("payload","caps"))),h=Object(O["a"])([t.pipe(Object(ne["h"])("config")),y]).pipe(Object(T["a"])((function(e){var t=Xu(e,2),n=t[0],o=t[1];return rs(rs(rs({},r),n),{},{caps:o,mediationFees:a.decodeConfig(n.mediationFees,r.mediationFees)})}))),m=t.pipe(Object(I["a"])(1),Object(D["a"])((function(t){var n=Object(p["uniq"])(Object.values(t.channels).map((function(e){var t=e.partner;return t.address})));return e.pipe(Object(P["a"])(xn["matrixPresence"].request.is),Object(C["a"])((function(e,t){return e.includes(t.meta.address)?e:[].concat(qu(e),[t.meta.address])}),n),Object(N["a"])(n),Object(S["a"])())}))),v=e.pipe(Object(P["a"])(xn["rtcChannel"].is),Object(C["a"])((function(e,t){return t.payload?rs(rs({},e),{},as({},t.meta.address,t.payload)):b()(t.meta.address,e)}),{}),Object(N["a"])({}));return Object(O["a"])([Object(O["a"])([e,t,h,m,v]),Object(O["a"])([c,u,d,s])]).pipe(Object(T["a"])((function(e){var t=Xu(e,2),n=Xu(t[0],5),r=n[0],a=n[1],o=n[2],i=n[3],c=n[4],u=Xu(t[1],4),s=u[0],l=u[1],f=u[2],p=u[3];return{action:r,state:a,config:o,whitelisted:i,rtc:c,udcDeposit:s,blockTime:l,stale:f,gasPrice:p}})))}var fs=rs(rs(rs(rs(rs(rs({},ss),a),r),c),i),o);function ps(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object.values(fs);return function(t,n,r){var a=t.pipe(Object(P["a"])($["e"].is),Object(I["a"])(1)),o=t.pipe(Object(L["a"])(v()($["e"].is),!0)),i=n.pipe(Object(U["a"])(a));return Object(j["a"])((function(){var e=ls(t,n,r).subscribe(r.latest$);return e.add((function(){return r.latest$.complete()})),e}),(function(){var t=new Set,n=Object(w["a"])(e).pipe(Object(D["a"])((function(e){return t.add(e.name),e(o,i,r).pipe(Object(M["a"])((function(t){return r.log.error("Epic error",e.name,e,t),Object(_["a"])(Object($["e"])({reason:t}))})),Object(B["a"])((function(){return t.delete(e.name)})))})),Object(U["a"])(a.pipe(Object(F["a"])(r.config$),Object(W["a"])((function(e){var t=Xu(e,2),n=(t[0],t[1].httpTimeout);return Object(k["a"])(n)})),Object(A["a"])((function(){return r.log.warn("Pending Epics :",t)}))))),c=r.db.busy$.pipe(Object(V["a"])((function(e){return!e})),Object(A["a"])((function(){return r.db.busy$.next(!0)})),Object(M["a"])((function(){return Object(_["a"])(null)})),Object(D["a"])(Hu(s.a.mark((function e(){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",r.db.close());case 1:case"end":return e.stop()}}),e)})))),Object(x["a"])(),Object(B["a"])((function(){r.db.busy$.next(!1),r.db.busy$.complete()})));return Object(E["a"])(n,c)}))}}},5303:function(e,t,n){},5778:function(e,t,n){"use strict";n.d(t,"e",(function(){return r})),n.d(t,"g",(function(){return T})),n.d(t,"h",(function(){return A})),n.d(t,"i",(function(){return P})),n.d(t,"a",(function(){return I})),n.d(t,"f",(function(){return M})),n.d(t,"c",(function(){return W})),n.d(t,"j",(function(){return $})),n.d(t,"b",(function(){return q})),n.d(t,"m",(function(){return Y})),n.d(t,"k",(function(){return Q})),n.d(t,"l",(function(){return J})),n.d(t,"d",(function(){return ce}));var r,a=n("a91f"),o=n("2111"),i=n("605b"),c=n.n(i),u=n("9201"),s=n("ca14"),l=["address_metadata"];function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t){return O(e)||v(e,t)||h(e,t)||y()}function y(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(e,t){if(e){if("string"===typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function O(e){if(Array.isArray(e))return e}function g(e,t){if(null==e)return{};var n,r,a=j(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function j(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(function(e){e["DELIVERED"]="Delivered",e["PROCESSED"]="Processed",e["SECRET_REQUEST"]="SecretRequest",e["SECRET_REVEAL"]="RevealSecret",e["LOCKED_TRANSFER"]="LockedTransfer",e["UNLOCK"]="Unlock",e["LOCK_EXPIRED"]="LockExpired",e["WITHDRAW_REQUEST"]="WithdrawRequest",e["WITHDRAW_CONFIRMATION"]="WithdrawConfirmation",e["WITHDRAW_EXPIRED"]="WithdrawExpired",e["PFS_CAPACITY_UPDATE"]="PFSCapacityUpdate",e["PFS_FEE_UPDATE"]="PFSFeeUpdate",e["MONITOR_REQUEST"]="RequestMonitoring"})(r||(r={}));var w=o["o"](o["u"]({message_identifier:Object(s["l"])(8)})),_=o["o"](o["u"]({type:o["k"](r.DELIVERED),delivered_message_identifier:Object(s["l"])(8)})),k=_,E=o["o"](o["i"]([o["u"]({type:o["k"](r.PROCESSED)}),w])),T=E,S=o["o"](o["i"]([o["u"]({type:o["k"](r.SECRET_REQUEST),payment_identifier:Object(s["l"])(8),secrethash:s["c"],amount:Object(s["l"])(32),expiration:Object(s["l"])(32)}),w])),A=S,x=o["o"](o["i"]([o["u"]({type:o["k"](r.SECRET_REVEAL),secret:s["h"]}),w])),P=x,N=o["o"](o["i"]([o["u"]({chain_id:Object(s["l"])(32),token_network_address:s["a"],channel_identifier:Object(s["l"])(32),nonce:Object(s["l"])(8),transferred_amount:Object(s["l"])(32),locked_amount:Object(s["l"])(32),locksroot:s["c"]}),w])),R=o["o"](o["u"]({user_id:o["r"],displayname:o["r"],capabilities:o["r"]})),I=R,D=o["o"](o["i"]([o["u"]({route:o["p"](s["a"])}),o["n"]({address_metadata:o["q"](o["r"],I)})])),C=function(e){return!e.address_metadata||o["c"](s["a"]).is(Object.keys(e.address_metadata))},L=new o["a"]("RouteMetadata",(function(e){return D.is(e)&&C(e)}),(function(e,t){var n=D.validate(e,t);if(Object(a["isLeft"])(n))return n;var r=n.right;if(!r.address_metadata)return o["s"](r);if(c()(r.address_metadata)){r.address_metadata;var i=g(r,l);return o["s"](i)}for(var u={},f=0,d=Object.entries(r.address_metadata);f<d.length;f++){var y=b(d[f],2),h=y[0],m=y[1],v=s["a"].validate(h,t);if(Object(a["isLeft"])(v))return v;u[v.right]=m}return o["s"](p(p({},r),{},{address_metadata:u}))}),D.encode,D,C),U=o["o"](o["u"]({routes:o["p"](L)})),M=U,B=o["o"](o["i"]([o["u"]({payment_identifier:Object(s["l"])(8),token:s["a"],recipient:s["a"],lock:u["d"],target:s["a"],initiator:s["a"],metadata:o["x"]}),N])),F=o["o"](o["i"]([o["u"]({type:o["k"](r.LOCKED_TRANSFER)}),B])),W=F,V=o["o"](o["i"]([o["u"]({type:o["k"](r.UNLOCK),payment_identifier:Object(s["l"])(8),secret:s["h"]}),N])),$=V,H=o["o"](o["i"]([o["u"]({type:o["k"](r.LOCK_EXPIRED),recipient:s["a"],secrethash:s["c"]}),N])),q=H,K=o["o"](o["u"]({chain_id:Object(s["l"])(32),token_network_address:s["a"],channel_identifier:Object(s["l"])(32),participant:s["a"],total_withdraw:Object(s["l"])(32),nonce:Object(s["l"])(8),expiration:Object(s["l"])(32)})),G=o["o"](o["i"]([o["u"]({type:o["k"](r.WITHDRAW_REQUEST)}),K,w])),Y=G,X=o["o"](o["i"]([o["u"]({type:o["k"](r.WITHDRAW_CONFIRMATION)}),K,w])),Q=X,z=o["o"](o["i"]([o["u"]({type:o["k"](r.WITHDRAW_EXPIRED)}),K,w])),J=z,Z=o["o"](o["u"]({type:o["k"](r.PFS_CAPACITY_UPDATE),canonical_identifier:o["o"](o["u"]({chain_identifier:Object(s["l"])(32),token_network_address:s["a"],channel_identifier:Object(s["l"])(32)})),updating_participant:s["a"],other_participant:s["a"],updating_nonce:Object(s["l"])(8),other_nonce:Object(s["l"])(8),updating_capacity:Object(s["l"])(32),other_capacity:Object(s["l"])(32),reveal_timeout:Object(s["l"])(32)})),ee=Z,te=o["o"](o["u"]({type:o["k"](r.PFS_FEE_UPDATE),canonical_identifier:o["o"](o["u"]({chain_identifier:Object(s["l"])(32),token_network_address:s["a"],channel_identifier:Object(s["l"])(32)})),updating_participant:s["a"],timestamp:o["r"],fee_schedule:o["u"]({cap_fees:o["d"],imbalance_penalty:o["w"]([o["l"],o["p"](o["o"](o["t"]([Object(s["l"])(32),Object(s["l"])(32)])))]),proportional:Object(s["e"])(32),flat:Object(s["e"])(32)})})),ne=te,re=o["o"](o["u"]({type:o["k"](r.MONITOR_REQUEST),balance_proof:o["u"]({chain_id:Object(s["l"])(32),token_network_address:s["a"],channel_identifier:Object(s["l"])(32),nonce:Object(s["l"])(8),balance_hash:s["c"],additional_hash:s["c"],signature:s["i"]}),monitoring_service_contract_address:s["a"],non_closing_participant:s["a"],non_closing_signature:s["i"],reward_amount:Object(s["l"])(32)})),ae=re,oe=[k,T,A,P,W,$,q,Y,Q,J,ee,ne,ae],ie=oe,ce=o["w"](ie)},"59ec":function(e,t,n){"use strict";(function(e){n.d(t,"d",(function(){return X})),n.d(t,"e",(function(){return Q})),n.d(t,"i",(function(){return z})),n.d(t,"h",(function(){return J})),n.d(t,"g",(function(){return Z})),n.d(t,"n",(function(){return ee})),n.d(t,"o",(function(){return ne})),n.d(t,"k",(function(){return ie})),n.d(t,"c",(function(){return ce})),n.d(t,"f",(function(){return ue})),n.d(t,"a",(function(){return fe})),n.d(t,"j",(function(){return pe})),n.d(t,"b",(function(){return be})),n.d(t,"l",(function(){return ye})),n.d(t,"m",(function(){return he}));var r,a=n("36d8"),o=n.n(a),i=n("c00b"),c=n("b97c"),u=n("905c9"),s=n("6da0"),l=n("007a"),f=n("09d5"),p=n("f361"),d=n("2111"),b=n("605b"),y=n.n(b),h=n("f541"),m=n("f068"),v=n("cd9d"),O=n("cea7"),g=n("c0bf"),j=n("996a"),w=n("1319"),_=n("ef4a"),k=n("9201"),E=n("8120"),T=n("2b5b"),S=n("5778"),A=n("7de2"),x=n("0862"),P=n("f2df"),N=n("46f7"),R=n("ca14"),I=n("1a78"),D=["route"];function C(e,t){if(null==e)return{};var n,r,a=L(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function L(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){W(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function B(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function F(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){B(o,r,a,i,c,"next",e)}function c(e){B(o,r,a,i,c,"throw",e)}i(void 0)}))}}function W(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function V(e,t){return q(e)||H(e,t)||G(e,t)||$()}function $(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function H(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function q(e){if(Array.isArray(e))return e}function K(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=G(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function G(e,t){if(e){if("string"===typeof e)return Y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Y(e,t):void 0}}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function X(e){var t,n=[],r=K(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;n.push(Object(N["a"])(a.expiration,32),Object(N["a"])(a.amount,32),a.secrethash)}}catch(o){r.e(o)}finally{r.f()}return Object(s["a"])(Object(c["b"])(n))}function Q(e){return Object(f["c"])(e)}function z(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32;return Object(c["i"])(Object(l["a"])(e))}function J(){return i["a"].from(Date.now())}function Z(){return i["a"].from(Date.now())}function ee(e){return"_id"in e?e._id:"".concat(e.direction,":").concat(e.secrethash)}var te=new RegExp("^(".concat(Object.values(I["a"]).join("|"),"):(0x[a-f0-9]{64})$"),"i");function ne(e){var t=e.match(te);Object(P["a"])(t,"Invalid transferKey format");var n=V(t,3),r=n[1],a=n[2];return{direction:r,secrethash:a}}var re=(r={},W(r,I["c"].expired,(function(e){var t;return null===(t=e.expiredProcessed)||void 0===t?void 0:t.ts})),W(r,I["c"].unlocked,(function(e){var t;return null===(t=e.unlockProcessed)||void 0===t?void 0:t.ts})),W(r,I["c"].expiring,(function(e){var t;return null===(t=e.expired)||void 0===t?void 0:t.ts})),W(r,I["c"].unlocking,(function(e){var t;return null===(t=e.unlock)||void 0===t?void 0:t.ts})),W(r,I["c"].registered,(function(e){var t;return null===(t=e.secretRegistered)||void 0===t?void 0:t.ts})),W(r,I["c"].revealed,(function(e){var t;return null===(t=e.secretReveal)||void 0===t?void 0:t.ts})),W(r,I["c"].requested,(function(e){var t;return null===(t=e.secretRequest)||void 0===t?void 0:t.ts})),W(r,I["c"].closed,(function(e){var t;return null===(t=e.channelClosed)||void 0===t?void 0:t.ts})),W(r,I["c"].received,(function(e){var t;return null===(t=e.transferProcessed)||void 0===t?void 0:t.ts})),W(r,I["c"].pending,(function(e){return e.transfer.ts})),r);function ae(e){for(var t=0,n=Object.entries(re);t<n.length;t++){var r=V(n[t],2),a=r[0],o=r[1],i=o(e);if(void 0!==i)return a}return I["c"].pending}function oe(e){return!!(e.unlockProcessed||e.expiredProcessed||e.secretRegistered||e.channelSettled)}function ie(e){var t=ae(e),n=new Date(e.transfer.ts),r=new Date(re[t](e)),a=e.transfer,o=e.direction,i=a.lock.amount.sub(e.fee),c=e.secretRequest&&e.secretRequest.amount.lt(i),u=!!(e.secretReveal||e.unlock||e.secretRegistered)||!(c||e.expired||e.channelClosed)&&void 0,s=oe(e);return{key:ee(e),secrethash:a.lock.secrethash,direction:o,status:t,initiator:a.initiator,partner:e.partner,target:a.target,metadata:a.metadata,paymentId:a.payment_identifier,chainId:a.chain_id.toNumber(),token:a.token,tokenNetwork:a.token_network_address,channelId:a.channel_identifier,value:i,fee:e.fee,amount:a.lock.amount,expirationBlock:a.lock.expiration.toNumber(),startedAt:n,changedAt:r,success:u,completed:s,secret:e.secret}}function ce(e,t,n,r){return r===u["a"]?Object(h["a"])(k["b"]):Object(m["a"])((function(){return e.find({selector:{channel:Object(E["e"])(t),direction:n}})})).pipe(Object(g["a"])((function(e){var t=e.docs;return Object(v["a"])(t)})),Object(g["a"])((function(e){var t=Object(R["n"])(I["e"],e);return Object(v["a"])([t.transfer,t.unlock,t.expired])})),Object(j["a"])(R["p"]),Object(w["a"])(A["d"]),Object(_["a"])((function(e){return Object(A["b"])(e)===r})))}function ue(e,t,n){return se.apply(this,arguments)}function se(){return se=F(o.a.mark((function e(t,n,r){return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("string"!==typeof r&&(r=ee(r)),"address"in t){e.next=5;break}return e.next=4,Object(O["a"])(t);case 4:t=e.sent;case 5:if(!(r in t.transfers)){e.next=7;break}return e.abrupt("return",t.transfers[r]);case 7:return e.t0=R["n"],e.t1=I["e"],e.next=11,n.get(r);case 11:return e.t2=e.sent,e.abrupt("return",(0,e.t0)(e.t1,e.t2));case 13:case"end":return e.stop()}}),e)}))),se.apply(this,arguments)}var le=d["f"](d["u"]({routes:d["c"](d["f"](d["u"]({route:d["c"](d["r"]),address_metadata:d["x"]})))}));function fe(e,t){var n;try{n=Object(R["n"])(le,t)}catch(a){return t}var r=e.toLowerCase();return M(M({},n),{},{routes:n.routes.map((function(e){var t=e.route,n=C(e,D);return M(M({},n),{},{route:t.slice(t.findIndex((function(e){return e.toLowerCase()===r}))+1)})}))})}function pe(t,n,r){var a,o,i=t.map((function(e){var t=e.path,n=(e.fee,e.address_metadata);return M({route:t},n&&!y()(n)?{address_metadata:n}:{})})),u=t[0],s=u.fee,l=u.path[1];if(l===n.meta.address)a=n.payload.userId,o=n.payload.caps;else{var f=ye(u.address_metadata,l);a=null===f||void 0===f?void 0:f.payload.userId,o=null===f||void 0===f?void 0:f.payload.caps}var d={userId:a},b={routes:i};if(Object(x["b"])(o,T["a"].IMMUTABLE_METADATA)){if(r){var h=Object(c["i"])(Object(p["encrypt"])(n.payload.pubkey,e.from(Object(N["c"])(I["d"].encode(r)))));b=M(M({},b),{},{secret:h})}}else b=fe(u.path[0],b);return M({resolved:!0,metadata:b,fee:s,partner:l},d)}var de=d["u"]({secret:Object(R["d"])()});function be(t,n,r){var a=V(n,3),o=a[0],i=a[1],u=a[2],s=r.privateKey;if(s)try{var l=Object(R["n"])(de,t).secret,f=Object(p["decrypt"])(s,e.from(Object(c["a"])(l))).toString(),d=Object(R["n"])(I["d"],Object(N["b"])(f));return Object(P["a"])(i.gte(d.amount)&&Q(d.secret)===o),Object(P["a"])(!u||!d.payment_identifier||u.eq(d.payment_identifier)),d.secret}catch(b){}}function ye(e,t){var n,r=null!==(n=null===e||void 0===e?void 0:e[t])&&void 0!==n?n:null===e||void 0===e?void 0:e[t.toLowerCase()];if(r){var a=Object(A["h"])(r,t);if(a)return a}}function he(e,t){var n,r;try{r=Object(R["n"])(S["f"],e)}catch(u){}if(r&&t){var a,o=K(r.routes);try{for(o.s();!(a=o.n()).done;){var i,c=a.value.address_metadata;if(n=null===(i=ye(c,t))||void 0===i?void 0:i.payload.userId)return{userId:n}}}catch(s){o.e(s)}finally{o.f()}}}}).call(this,n("ab29").Buffer)},"5bbb":function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"c",(function(){return O})),n.d(t,"b",(function(){return g}));var r,a=n("87b8"),o=n("24c6"),i=n("2111"),c=n("ef4a"),u=n("2b5b"),s=n("d011"),l=n("438d"),f=n("0602"),p=n("ca14");function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=i["u"]({urls:i["w"]([i["r"],i["c"](i["r"])])}),m=i["o"](i["i"]([i["u"]({matrixServerLookup:i["r"],revealTimeout:i["m"],settleTimeout:i["m"],expiryFactor:i["m"],httpTimeout:i["m"],additionalServices:i["p"](i["w"]([p["a"],i["r"]])),pfsMode:s["f"],pfsSafetyMargin:i["w"]([i["m"],i["t"]([i["m"],i["m"]])]),pfsMaxPaths:i["m"],pfsMaxFee:Object(p["l"])(32),pfsIouTimeout:i["m"],confirmationBlocks:i["m"],monitoringReward:i["w"]([i["l"],Object(p["l"])(32)]),logger:i["j"]((r={},y(r,"",null),y(r,"trace",null),y(r,"debug",null),y(r,"info",null),y(r,"warn",null),y(r,"error",null),r)),caps:i["w"]([i["l"],f["a"]]),fallbackIceServers:i["c"](h),rateToSvt:i["q"](i["r"],Object(p["l"])(32)),pollingInterval:i["m"],minimumAllowance:Object(p["l"])(32),autoSettle:i["d"],autoUDCWithdraw:i["d"],mediationFees:i["x"],gasPriceFactor:i["m"],encryptSecret:i["d"]}),i["n"]({matrixServer:i["r"],subkey:i["d"]})])),v=i["o"](i["f"](i["n"](b(b({},m.type.types["0"].props),m.type.types["1"].props))));function O(e,t){var n,r=e.network,i=1===r.chainId?"https://raw.githubusercontent.com/raiden-network/raiden-service-bundle/master/known_servers/known_servers-production-v1.2.0.json":"https://raw.githubusercontent.com/raiden-network/raiden-service-bundle/master/known_servers/known_servers-development-v1.2.0.json",c=null===(null===t||void 0===t?void 0:t.caps)?null:b((n={},y(n,u["a"].DELIVERY,0),y(n,u["a"].MEDIATE,0),y(n,u["a"].TO_DEVICE,1),y(n,u["a"].IMMUTABLE_METADATA,1),n),null===t||void 0===t?void 0:t.caps);return b(b({matrixServerLookup:i,settleTimeout:500,revealTimeout:50,expiryFactor:1.1,httpTimeout:3e4,additionalServices:[],pfsMode:s["e"].auto,pfsSafetyMargin:1,pfsMaxPaths:3,pfsMaxFee:Object(o["d"])("0.05"),pfsIouTimeout:2e5,confirmationBlocks:u["c"],monitoringReward:u["d"],logger:"info",fallbackIceServers:[{urls:"stun:stun.l.google.com:19302"}],rateToSvt:{},pollingInterval:5e3,minimumAllowance:a["b"],autoSettle:!1,autoUDCWithdraw:!0,mediationFees:{},gasPriceFactor:1,encryptSecret:!0},t),{},{caps:c})}function g(e){var t,n=(t={_iter:void 0},y(t,Symbol.iterator,(function(){return this._iter=void 0,this})),y(t,"next",(function(){if(!this._iter){var t=5e3,n=6e4;e.pipe(Object(c["a"])()).subscribe((function(e){var r=e.pollingInterval,a=e.httpTimeout;t=r,n=2*a})),this._iter=Object(l["b"])(t,n)}return this._iter.next()})),t);return n}},6:function(e,t){},"60f8":function(e,t,n){e.exports=n.p+"img/transfer_eth_info.87f6409a.svg"},"62a5":function(e,t,n){"use strict";n("8e8c")},6485:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e[e["LOW"]=0]="LOW",e[e["HIGH"]=1]="HIGH"}(r||(r={}))},"65e1":function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"c",(function(){return O})),n.d(t,"b",(function(){return g}));var r=n("30c0"),a=n("bbdc"),o=n("2111"),i=n("f5be"),c=n("b8ff"),u=n("9201"),s=n("5bbb"),l=n("d011"),f=n("1a78"),p=n("ee57"),d=n("ca14");function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=o["o"](o["u"]({address:d["a"],chainId:o["m"],registry:d["a"],blockNumber:o["m"],config:s["a"],channels:o["o"](o["q"](u["c"],c["a"])),oldChannels:o["o"](o["q"](o["r"],c["a"])),tokens:o["o"](o["q"](o["r"],d["a"])),transport:o["o"](o["n"]({server:o["r"],setup:p["a"]})),transfers:o["o"](o["q"](o["r"],f["e"])),iou:o["o"](o["q"](o["r"],o["q"](o["r"],Object(d["j"])(l["a"])))),pendingTxs:o["p"](i["a"]),services:l["j"]}),"RaidenState"),v=m;function O(e){var t=e.network,n=e.address,r=e.contractsInfo,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return y({address:n,chainId:t.chainId,registry:r.TokenNetworkRegistry.address,blockNumber:r.TokenNetworkRegistry.block_number,channels:{},oldChannels:{},tokens:{},transport:{},transfers:{},iou:{},pendingTxs:[],services:{},config:{}},a)}var g=O({network:Object(a["a"])("unspecified"),address:r["a"],contractsInfo:{TokenNetworkRegistry:{address:r["a"],block_number:0},ServiceRegistry:{address:r["a"],block_number:0},UserDeposit:{address:r["a"],block_number:0},SecretRegistry:{address:r["a"],block_number:0},MonitoringService:{address:r["a"],block_number:0},OneToN:{address:r["a"],block_number:0}}})},"66bc":function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("blurred-overlay",{attrs:{show:e.visible,fullscreen:""}},[n("v-dialog",{attrs:{value:e.visible,width:e.width,"hide-overlay":"",dark:"",persistent:e.hideClose},on:{"click:outside":function(t){return e.close()}}},[n("v-card",{staticClass:"raiden-dialog",attrs:{"data-cy":"raiden_dialog"}},[e.hideClose?e._e():n("v-btn",{staticClass:"raiden-dialog__close",attrs:{icon:""},on:{click:function(t){return e.close()}}},[n("v-icon",[e._v("mdi-close")])],1),e._t("default")],2)],1)],1)},a=[],o=n("6dbe"),i=n("5cf9"),c=n("0a08");function u(e){return u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function b(e){var t=m();return function(){var n,r=v(e);if(t){var a=v(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){return!t||"object"!==u(t)&&"function"!==typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}var O=function(e){p(n,e);var t=b(n);function n(){return s(this,n),t.apply(this,arguments)}return f(n,[{key:"close",value:function(){return!0}}]),n}(i["g"]);Object(o["b"])([Object(i["e"])({required:!0,default:!1,type:Boolean})],O.prototype,"visible",void 0),Object(o["b"])([Object(i["e"])({required:!1,default:!1,type:Boolean})],O.prototype,"hideClose",void 0),Object(o["b"])([Object(i["e"])({required:!1,default:"350",type:String})],O.prototype,"width",void 0),Object(o["b"])([Object(i["b"])()],O.prototype,"close",null),O=Object(o["b"])([Object(i["a"])({components:{BlurredOverlay:c["a"]}})],O);var g=O,j=g,w=(n("a500"),n("a6c2")),_=n("411c"),k=n.n(_),E=n("9c46"),T=n("d58c"),S=n("c56b"),A=n("b503"),x=Object(w["a"])(j,r,a,!1,null,"46e7cf3b",null);t["a"]=x.exports;k()(x,{VBtn:E["a"],VCard:T["a"],VDialog:S["a"],VIcon:A["a"]})},"68e9":function(e,t,n){e.exports=n.p+"img/withdraw_tokens_info.95878cfb.svg"},"6af0":function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"info-overlay"},[r("div",{staticClass:"info-overlay__content"},[r("div",{staticClass:"info-overlay__content__header"},[r("header-content",{attrs:{"disable-back-button":"","disable-info-button":""}})],1),r("div",{staticClass:"info-overlay__content__close-icon"},[r("v-icon",{attrs:{icon:""},on:{click:function(t){return e.closeOverlay()}}},[e._v("mdi-close")])],1),r("div",{staticClass:"info-overlay__content__image"},[r("img",{attrs:{src:n("d009")("./"+e.$route.meta.infoOverlay.headerImage)}})]),r("span",{staticClass:"info-overlay__content__title"},[e._v(e._s(e.$t(e.$route.meta.infoOverlay.header)))]),r("span",{staticClass:"info-overlay__content__body"},[e._v(e._s(e.$t(e.$route.meta.infoOverlay.body)))]),r("div",{staticClass:"info-overlay__content__button"},[r("action-button",{attrs:{enabled:"",text:e.$t("info-overlay.done")},on:{click:function(t){return e.closeOverlay()}}})],1)])])},a=[],o=n("6dbe"),i=n("5cf9"),c=n("750b"),u=n("b592");function s(e){return s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),e}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}function b(e,t){return b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},b(e,t)}function y(e){var t=v();return function(){var n,r=O(e);if(t){var a=O(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){return!t||"object"!==s(t)&&"function"!==typeof t?m(e):t}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function O(e){return O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},O(e)}var g=function(e){d(n,e);var t=y(n);function n(){return l(this,n),t.apply(this,arguments)}return p(n,[{key:"closeOverlay",value:function(){}}]),n}(i["g"]);Object(o["b"])([Object(i["b"])()],g.prototype,"closeOverlay",null),g=Object(o["b"])([Object(i["a"])({components:{HeaderContent:u["a"],ActionButton:c["a"]}})],g);var j=g,w=j,_=(n("bcdd"),n("a6c2")),k=n("411c"),E=n.n(k),T=n("b503"),S=Object(_["a"])(w,r,a,!1,null,"21819c06",null);t["a"]=S.exports;E()(S,{VIcon:T["a"]})},"6c61":function(e,t,n){"use strict";n.d(t,"a",(function(){return it}));var r=n("2bde"),a=n.n(r),o=n("f5be"),i=n("30c0"),c=n("87b8"),u=n("65e1"),s=n("83ee"),l=n("1a78"),f=n("d276");function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,r=arguments.length>1?arguments[1]:void 0;for(var a in e){var o,i=e[a];if(i){var c=null!==(o=n[a])&&void 0!==o?o:t[a],u=i(c,r);u!==c&&(n=d(d({},n),{},b({},a,u)))}}return n}}var h=n("f799"),m=n("b8ff"),v=n("9201"),O=n("8120");function g(e){return g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function j(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=R(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function w(e,t){if(null==e)return{};var n,r,a=_(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function _(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}function k(e){var t=E(e,"string");return"symbol"===g(t)?t:String(t)}function E(e,t){if("object"!==g(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==g(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function T(e,t){return x(e)||A(e,t)||R(e,t)||S()}function S(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function A(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function x(e){if(Array.isArray(e))return e}function P(e){return D(e)||I(e)||R(e)||N()}function N(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function R(e,t){if(e){if("string"===typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?C(e,t):void 0}}function I(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function D(e){if(Array.isArray(e))return C(e)}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){M(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B(e){if(null==e)throw new TypeError("Cannot destructure undefined")}var F=Object(f["d"])(u["b"].blockNumber).handle(h["newBlock"],(function(e,t){B(e);var n=t.payload;return n.blockNumber})),W=Object(f["d"])(u["b"].tokens).handle(h["tokenMonitored"],(function(e,t){var n=t.payload,r=n.token,a=n.tokenNetwork;return e[r]===a?e:U(U({},e),{},M({},r,a))}));function V(e,t){return e.filter((function(e){return e.type!==t.type||t.payload.txHash!==e.payload.txHash}))}var $=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u["b"].pendingTxs,t=arguments.length>1?arguments[1]:void 0;if(o["a"].is(t)){if(void 0===t.payload.confirmed)return[].concat(P(V(e,t)),[t]);var n=V(e,t);return n.length!==e.length?n:e}return e},H={address:i["a"],deposit:c["h"],withdraw:c["h"],locks:[],balanceProof:v["b"],pendingWithdraws:[],nextNonce:c["e"]};function q(e,t){var n,r,a=Object(O["d"])(t.meta),o=e.channels[a];if((null!==(n=null===o||void 0===o?void 0:o.openBlock)&&void 0!==n?n:0)>=t.payload.txBlock||(null!==(r=null===o||void 0===o?void 0:o.id)&&void 0!==r?r:0)>=t.payload.id||!t.payload.confirmed)return e;var i={_id:Object(O["e"])(U(U({},t.meta),{},{id:t.payload.id})),id:t.payload.id,state:m["b"].open,token:t.payload.token,tokenNetwork:t.meta.tokenNetwork,settleTimeout:t.payload.settleTimeout,isFirstParticipant:t.payload.isFirstParticipant,openBlock:t.payload.txBlock,own:U(U({},H),{},{address:e.address}),partner:U(U({},H),{},{address:t.meta.partner})};return U(U({},e),{},{channels:U(U({},e.channels),{},M({},a,i))})}function K(e,t){var n,r;if(!t.payload.confirmed)return e;var a=Object(O["d"])(t.meta),o=e.channels[a];if((null===(n=o)||void 0===n?void 0:n.state)!==m["b"].open||o.id!==t.payload.id)return e;var i=t.payload.participant===o.partner.address?"partner":"own",c=h["channelWithdrawn"].is(t)?["withdraw",t.payload.totalWithdraw,o[i].pendingWithdraws.filter((function(e){return e.total_withdraw.gt(t.payload.totalWithdraw)}))]:["deposit",t.payload.totalDeposit,o[i].pendingWithdraws],u=T(c,3),s=u[0],l=u[1],f=u[2];return l.lte(o[i][s])?e:(o=U(U({},o),{},M({},i,U(U({},o[i]),{},(r={},M(r,s,l),M(r,"pendingWithdraws",f),r)))),U(U({},e),{},{channels:U(U({},e.channels),{},M({},a,o))}))}function G(e,t){var n,r=Object(O["d"])(t.meta),a=e.channels[r];if((null===(n=a)||void 0===n?void 0:n.id)!==t.payload.id)return e;if(void 0===t.payload.confirmed&&a.state===m["b"].open)a=U(U({},a),{},{state:m["b"].closing});else{if("closeBlock"in a||!t.payload.confirmed)return e;a=U(U({},a),{},{state:m["b"].closed,closeBlock:t.payload.txBlock,closeParticipant:t.payload.participant})}return U(U({},e),{},{channels:U(U({},e.channels),{},M({},r,a))})}function Y(e,t){var n=Object(O["d"])(t.meta),r=e.channels[n];if(!r)return e;if(h["channelClose"].request.is(t)&&r.state===m["b"].open)r=U(U({},r),{},{state:m["b"].closing});else if(h["channelSettle"].request.is(t)&&r.state===m["b"].settleable)r=U(U({},r),{},{state:m["b"].settling});else{if(!h["channelSettleable"].is(t)||r.state!==m["b"].closed)return e;r=U(U({},r),{},{state:m["b"].settleable})}return U(U({},e),{},{channels:U(U({},e.channels),{},M({},n,r))})}function X(e,t){var n=Object(O["d"])(t.meta),r=e.channels[n];if((null===r||void 0===r?void 0:r.id)!==t.payload.id||!("closeBlock"in r))return e;if(void 0===t.payload.confirmed&&r.state!==m["b"].settling)return U(U({},e),{},{channels:U(U({},e.channels),{},M({},n,U(U({},r),{},{state:m["b"].settling})))});if(t.payload.confirmed){var a=e.channels,o=(a[n],w(a,[n].map(k)));return U(U({},e),{},{channels:o,oldChannels:U(U({},e.oldChannels),{},M({},Object(O["e"])(r),U(U({},r),{},{state:m["b"].settled,settleBlock:t.payload.txBlock})))})}return e}function Q(e,t,n){var r=!1,a=e.map((function(e){return e.secrethash!==t||e.registered||e.expiration.lte(n)?e:(r=!0,U(U({},e),{},{registered:!0}))}));return r?a:e}function z(e,t){if(!t.payload.confirmed)return e;var n,r=t.meta.direction===l["a"].SENT?"own":"partner",a=P(Object.keys(e.channels)),o=j(a);try{for(o.s();!(n=o.n()).done;){var i=n.value,c=e.channels[i],u=Q(c[r].locks,t.meta.secrethash,t.payload.txBlock);u!==c[r].locks&&(e=U(U({},e),{},{channels:U(U({},e.channels),{},M({},i,U(U({},c),{},M({},r,U(U({},c[r]),{},{locks:u})))))}))}}catch(s){o.e(s)}finally{o.f()}return e}var J=Object(f["d"])(u["b"]).handle(h["channelOpen"].success,q).handle([h["channelDeposit"].success,h["channelWithdrawn"]],K).handle([h["channelClose"].request,h["channelSettleable"],h["channelSettle"].request],Y).handle(h["channelClose"].success,G).handle(h["channelSettle"].success,X).handle(s["transferSecretRegister"].success,z),Z=y({blockNumber:F,tokens:W,pendingTxs:$},u["b"]),ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u["b"],t=arguments.length>1?arguments[1]:void 0;return[Z,J].reduce((function(e,n){return n(e,t)}),e)},te=ee,ne=n("eed9");function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(Object(n),!0).forEach((function(t){oe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ie,ce,ue=Object(f["d"])(u["b"].iou).handle(ne["iouPersist"],(function(e,t){return ae(ae({},e),{},oe({},t.meta.tokenNetwork,ae(ae({},e[t.meta.tokenNetwork]),{},oe({},t.meta.serviceAddress,t.payload.iou))))})).handle(ne["iouClear"],(function(e,t){return a()([t.meta.tokenNetwork,t.meta.serviceAddress],e)})),se=Object(f["d"])(u["b"].services).handle(ne["servicesValid"],(function(e,t){return t.payload})),le=y({iou:ue,services:se},u["b"]),fe=le,pe=n("ee9f"),de=n.n(pe),be=n("7de2"),ye=n("ca14"),he=n("59ec");function me(e){return me="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},me(e)}function ve(e,t){if(null==e)return{};var n,r,a=Oe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Oe(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}function ge(e){var t=je(e,"string");return"symbol"===me(t)?t:String(t)}function je(e,t){if("object"!==me(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==me(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function we(e){return Te(e)||Ee(e)||ke(e)||_e()}function _e(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ke(e,t){if(e){if("string"===typeof e)return Se(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Se(e,t):void 0}}function Ee(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Te(e){if(Array.isArray(e))return Se(e)}function Se(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ae(Object(n),!0).forEach((function(t){Pe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ne=(ie={},Pe(ie,l["a"].SENT,"own"),Pe(ie,l["a"].RECEIVED,"partner"),ie);function Re(e,t){var n,r=Object(he["n"])(t.meta);if(!(r in e.transfers))return e;var a=e.transfers[r];return a.secret||(e=xe(xe({},e),{},{transfers:xe(xe({},e.transfers),{},Pe({},r,xe(xe({},a),{},{secret:t.payload.secret})))})),s["transferSecretRegister"].success.is(t)&&t.payload.confirmed&&t.payload.txBlock!==(null===(n=a.secretRegistered)||void 0===n?void 0:n.txBlock)&&t.payload.txBlock<a.expiration&&(e=xe(xe({},e),{},{transfers:xe(xe({},e.transfers),{},Pe({},r,xe(xe({},a),{},{secretRegistered:Object(ye["r"])(de()(["txHash","txBlock"],t.payload))})))})),e}function Ie(e,t){var n,r,a,o=t.payload.message,i=t.meta.secrethash,c=Object(he["n"])(t.meta),u=o.token_network_address,l=t.payload.partner,f=Object(O["d"])({tokenNetwork:u,partner:l}),p=Ne[t.meta.direction],d=e.channels[f],b=c in e.transfers,y=s["transferUnlock"].success.is(t)?"unlock":"expired";if(s["transferSigned"].is(t)&&b||!s["transferSigned"].is(t)&&(!b||y in e.transfers[c])||(null===(n=d)||void 0===n?void 0:n.state)!==m["b"].open||!o.nonce.eq(d[p].nextNonce))return e;switch(t.type){case s["transferSigned"].type:r=[].concat(we(d[p].locks),[t.payload.message.lock]),a=xe(xe({_id:c,channel:Object(O["e"])(d)},t.meta),{},{transfer:Object(ye["r"])(t.payload.message),fee:t.payload.fee,expiration:t.payload.message.lock.expiration.toNumber(),partner:l,cleared:0});break;case s["transferUnlock"].success.type:case s["transferExpire"].success.type:r=d[p].locks.filter((function(e){return e.secrethash!==i})),a=xe(Pe({},y,Object(ye["r"])(t.payload.message)),e.transfers[c]);break}return d=xe(xe({},d),{},Pe({},p,xe(xe({},d[p]),{},{locks:r,balanceProof:Object(be["d"])(o),nextNonce:d[p].nextNonce.add(1)}))),xe(xe({},e),{},{channels:xe(xe({},e.channels),{},Pe({},f,d)),transfers:xe(xe({},e.transfers),{},Pe({},c,a))})}var De=(ce={},Pe(ce,s["transferSecretRequest"].type,"secretRequest"),Pe(ce,s["transferSecretReveal"].type,"secretReveal"),Pe(ce,s["transferProcessed"].type,"transferProcessed"),Pe(ce,s["transferUnlockProcessed"].type,"unlockProcessed"),Pe(ce,s["transferExpireProcessed"].type,"expiredProcessed"),ce);function Ce(e,t){var n=Object(he["n"])(t.meta),r=De[t.type];return!(n in e.transfers)||!s["transferSecretRequest"].is(t)&&r in e.transfers[n]||(e=xe(xe({},e),{},{transfers:xe(xe({},e.transfers),{},Pe({},n,xe(xe({},e.transfers[n]),{},Pe({},r,Object(ye["r"])(t.payload.message)))))})),e}function Le(e,t){var n=Object(he["n"])(t.meta);if(n in e.transfers){var r=e.transfers,a=(r[n],ve(r,[n].map(ge)));e=xe(xe({},e),{},{transfers:a})}return e}function Ue(e,t){var n=Object(he["n"])(t.meta);return n in e.transfers||(e=xe(xe({},e),{},{transfers:xe(xe({},e.transfers),{},Pe({},n,xe(xe({},t.payload),{},{cleared:0})))})),e}function Me(e,t){if(!t.payload.confirmed)return e;for(var n=h["channelClose"].success.is(t)?"channelClosed":"channelSettled",r=Object(O["e"])(xe({id:t.payload.id},t.meta)),a=0,o=Object.values(e.transfers);a<o.length;a++){var i=o[a];i.channel===r&&(e=xe(xe({},e),{},{transfers:xe(xe({},e.transfers),{},Pe({},Object(he["n"])(i),xe(xe({},i),{},Pe({},n,Object(ye["r"])(de()(["txHash","txBlock"],t.payload))))))}))}return e}function Be(e,t){var n,r=t.payload.message,a=Object(O["d"])(t.meta),o=e.channels[a],i=t.meta.direction===l["a"].RECEIVED!==s["withdrawMessage"].success.is(t)?"partner":"own";if((null===(n=o)||void 0===n?void 0:n.state)!==m["b"].open||!r.nonce.eq(o[i].nextNonce))return e;o=xe(xe({},o),{},Pe({},i,xe(xe({},o[i]),{},{nextNonce:o[i].nextNonce.add(1)})));var c=t.meta.direction===l["a"].RECEIVED?"partner":"own",u=[].concat(we(o[c].pendingWithdraws),[t.payload.message]);return o=xe(xe({},o),{},Pe({},c,xe(xe({},o[c]),{},{pendingWithdraws:u}))),xe(xe({},e),{},{channels:xe(xe({},e.channels),{},Pe({},a,o))})}function Fe(e,t){var n,r=Object(O["d"])(t.meta),a=e.channels[r];if((null===(n=a)||void 0===n?void 0:n.state)!==m["b"].open)return e;var o=t.meta.direction===l["a"].RECEIVED?"partner":"own",i=a[o].pendingWithdraws.filter((function(e){return!e.expiration.eq(t.meta.expiration)||!e.total_withdraw.eq(t.meta.totalWithdraw)}));return a=xe(xe({},a),{},Pe({},o,xe(xe({},a[o]),{},{pendingWithdraws:i}))),xe(xe({},e),{},{channels:xe(xe({},e.channels),{},Pe({},r,a))})}var We=Object(f["d"])(u["b"]).handle([s["transferSecret"],s["transferSecretRegister"].success],Re).handle([s["transferSigned"],s["transferUnlock"].success,s["transferExpire"].success],Ie).handle([s["transferProcessed"],s["transferUnlockProcessed"],s["transferExpireProcessed"],s["transferSecretRequest"],s["transferSecretReveal"]],Ce).handle(s["transferClear"],Le).handle(s["transferLoad"],Ue).handle([h["channelClose"].success,h["channelSettle"].success],Me).handle([s["withdrawMessage"].request,s["withdrawMessage"].success,s["withdrawExpire"].success],Be).handle(s["withdrawCompleted"],Fe),Ve=We,$e=n("fe07"),He=n.n($e),qe=n("d890"),Ke=Object(f["d"])(u["b"].transport).handle(qe["matrixSetup"],(function(e,t){return He()(e,t.payload)||(e=t.payload),e})),Ge=y({transport:Ke},u["b"]),Ye=Ge;function Xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xe(Object(n),!0).forEach((function(t){ze(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ze(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Je(e,t){return rt(e)||nt(e,t)||et(e,t)||Ze()}function Ze(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function et(e,t){if(e){if("string"===typeof e)return tt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tt(e,t):void 0}}function tt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function nt(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function rt(e){if(Array.isArray(e))return e}var at=Object(f["d"])(u["b"]).handle(o["d"],(function(e,t){for(var n=t.payload,r=e.config,o=0,i=Object.entries(n);o<i.length;o++){var c=Je(i[o],2),u=c[0],s=c[1];void 0!==s?r=Qe(Qe({},r),{},ze({},u,s)):u in r&&(r=a()(u,r))}return r===e.config?e:Qe(Qe({},e),{},{config:r})})).handle(o["f"],(function(e){return Qe({},e)})),ot={configReducer:at,channelsReducer:te,transportReducer:Ye,transfersReducer:Ve,servicesReducer:fe},it=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u["b"],t=arguments.length>1?arguments[1]:void 0;return Object.values(ot).reduce((function(e,n){return n(e,t)}),e)}},"6cb9":function(e,t,n){e.exports=n.p+"img/transfer_info.1d9dd924.svg"},"6fce":function(e,t,n){},7:function(e,t){},"727f":function(e,t,n){"use strict";n("38b1")},7419:function(e,t,n){},"74ae":function(e,t,n){"use strict";n("3b50")},"74e4":function(e,t,n){"use strict";n.d(t,"a",(function(){return le})),n.d(t,"d",(function(){return fe})),n.d(t,"f",(function(){return de})),n.d(t,"c",(function(){return ve})),n.d(t,"e",(function(){return ge})),n.d(t,"g",(function(){return Ee})),n.d(t,"b",(function(){return Re}));var r,a=n("36d8"),o=n.n(a),i=n("1b87"),c=n.n(i),u=n("111d"),s=n.n(u),l=n("590d"),f=n("a914"),p=n("6075"),d=n("f068"),b=n("0146"),y=n("ee53"),h=n("9ead"),m=n("cd9d"),v=n("c0bf"),O=n("9c65"),g=n("33b9"),j=n("b7ab"),w=n("a157"),_=n("8120"),k=n("ee6c"),E=n("ca14");function T(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(k){return void n(k)}c.done?t(u):Promise.resolve(u).then(r,a)}function S(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){T(o,r,a,i,c,"next",e)}function c(e){T(o,r,a,i,c,"throw",e)}i(void 0)}))}}function A(){return x.apply(this,arguments)}function x(){return x=S(o.a.mark((function e(){var t,a,i,c,u;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!r){e.next=2;break}return e.abrupt("return",r);case 2:if(null===(t=globalThis.location)||void 0===t||!t.href){e.next=11;break}return e.next=5,n.e("chunk-3eadbefa").then(n.bind(null,"65ab"));case 5:a=e.sent,i=a.default,l["a"].plugin(i),r="indexeddb",e.next=17;break;case 11:return e.next=13,n.e("chunk-740f429e").then(n.bind(null,"8b2c"));case 13:c=e.sent,u=c.default,l["a"].plugin(u),r="leveldb";case 17:return e.abrupt("return",r);case 18:case"end":return e.stop()}}),e)}))),x.apply(this,arguments)}function P(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(k){return void n(k)}c.done?t(u):Promise.resolve(u).then(r,a)}function N(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){P(o,r,a,i,c,"next",e)}function c(e){P(o,r,a,i,c,"throw",e)}i(void 0)}))}}var R={1:function(){var e=N(o.a.mark((function e(t){return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("state.address"!==t._id){e.next=2;break}return e.abrupt("return",[t,{_id:"state.services",value:{}}]);case 2:return e.abrupt("return",[t]);case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},I=R,D=["_rev"];function C(e,t){if(null==e)return{};var n,r,a=L(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function L(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}function U(e,t){return F(e)||B(e,t)||V(e,t)||M()}function M(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function B(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function F(e){if(Array.isArray(e))return e}function W(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=V(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function V(e,t){if(e){if("string"===typeof e)return $(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$(e,t):void 0}}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){K(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function K(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function G(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(k){return void n(k)}c.done?t(u):Promise.resolve(u).then(r,a)}function Y(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){G(o,r,a,i,c,"next",e)}function c(e){G(o,r,a,i,c,"throw",e)}i(void 0)}))}}function X(e){return function(){return new Q(e.apply(this,arguments))}}function Q(e){var t,n;function r(e,r){return new Promise((function(o,i){var c={key:e,arg:r,resolve:o,reject:i,next:null};n?n=n.next=c:(t=n=c,a(e,r))}))}function a(t,n){try{var r=e[t](n),i=r.value,c=i instanceof J;Promise.resolve(c?i.wrapped:i).then((function(e){c?a("return"===t?"return":"next",e):o(r.done?"return":"normal",e)}),(function(e){a("throw",e)}))}catch(u){o("throw",u)}}function o(e,r){switch(e){case"return":t.resolve({value:r,done:!0});break;case"throw":t.reject(r);break;default:t.resolve({value:r,done:!1});break}t=t.next,t?a(t.key,t.arg):n=null}this._invoke=r,"function"!==typeof e.return&&(this.return=void 0)}function z(e){return new J(e)}function J(e){this.wrapped=e}function Z(e){var t;if("undefined"!==typeof Symbol&&(Symbol.asyncIterator&&(t=e[Symbol.asyncIterator]),null==t&&Symbol.iterator&&(t=e[Symbol.iterator])),null==t&&(t=e["@@asyncIterator"]),null==t&&(t=e["@@iterator"]),null==t)throw new TypeError("Object is not async iterable");return t.call(e)}function ee(e,t){var n={},r=!1;function a(n,a){return r=!0,a=new Promise((function(t){t(e[n](a))})),{done:!1,value:t(a)}}return n["undefined"!==typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},n.next=function(e){return r?(r=!1,e):a("next",e)},"function"===typeof e.throw&&(n.throw=function(e){if(r)throw r=!1,e;return a("throw",e)}),"function"===typeof e.return&&(n.return=function(e){return r?(r=!1,e):a("return",e)}),n}Q.prototype["function"===typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Q.prototype.next=function(e){return this._invoke("next",e)},Q.prototype.throw=function(e){return this._invoke("throw",e)},Q.prototype.return=function(e){return this._invoke("return",e)},l["a"].plugin(f["a"]);var te="state.",ne="channels.";function re(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e,r=e+"￰";return t?{startkey:r,endkey:n,descending:t}:{startkey:n,endkey:r}}function ae(e){return oe.apply(this,arguments)}function oe(){return oe=Y(o.a.mark((function e(t){var n,r,a;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=new Set,e.next=3,t.allDocs({startkey:"a",endkey:"z￰"});case 3:return r=e.sent,r.rows.forEach((function(e){var t=e.id;return n.add(t)})),a=new p["a"](!1),e.abrupt("return",Object.assign(t,{storageKeys:n,busy$:a}));case 7:case"end":return e.stop()}}),e)}))),oe.apply(this,arguments)}function ie(e){return ce.apply(this,arguments)}function ce(){return ce=Y(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=new this(t),e.next=3,n.info();case 3:if(r=e.sent,0!==r.doc_count||0!=r.update_seq){e.next=8;break}return e.next=7,n.destroy();case 7:return e.abrupt("return");case 8:return e.abrupt("return",ae(n));case 9:case"end":return e.stop()}}),e,this)}))),ce.apply(this,arguments)}function ue(e){return se.apply(this,arguments)}function se(){return se=Y(o.a.mark((function e(t){var n;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=new this(t),n.setMaxListeners(30),e.next=4,Promise.all([n.createIndex({index:{name:"byCleared",fields:["cleared","direction"]}}),n.createIndex({index:{name:"byPartner",fields:["direction","partner"]}}),n.createIndex({index:{name:"bySecrethash",fields:["secrethash"]}}),n.createIndex({index:{name:"byChannel",fields:["channel"]}})]);case 4:return e.abrupt("return",ae(n));case 5:case"end":return e.stop()}}),e,this)}))),se.apply(this,arguments)}function le(e,t){return Object(d["a"])((function(){var n=e.changes(t);return Object(b["a"])(Object(y["a"])(n,"change"),Object(y["a"])(n,"error").pipe(Object(v["a"])((function(e){throw e})))).pipe(Object(O["a"])(0),Object(g["a"])(Object(y["a"])(n,"complete")),Object(j["a"])((function(){return n.cancel()})))}))}function fe(e){return pe.apply(this,arguments)}function pe(){return pe=Y(o.a.mark((function e(t){var n,r,a,i,c,u,s,l,f,p,d,b,y,h,m,v,O,g;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.constructor.__defaults.log,r={channels:{},oldChannels:{},transfers:{}},e.next=4,t.allDocs(q(q({},re(te)),{},{include_docs:!0}));case 4:a=e.sent,i=W(a.rows);try{for(i.s();!(c=i.n()).done;)u=c.value,s=u.id,l=u.doc,r[s.substr(te.length)]=l.value}catch(o){i.e(o)}finally{i.f()}return e.next=9,t.allDocs(q(q({},re(ne)),{},{include_docs:!0}));case 9:f=e.sent,p=W(f.rows);try{for(p.s();!(d=p.n()).done;)b=d.value,y=b.id,h=b.doc,"settleBlock"in h?r.oldChannels[y]=q(q({},h),{},{_id:y.substr(ne.length)}):r.channels[Object(_["d"])(h)]=q(q({},h),{},{_id:y.substr(ne.length)})}catch(o){p.e(o)}finally{p.f()}return e.next=14,t.find({selector:{cleared:0,direction:{$exists:!0}}});case 14:m=e.sent,m.warning&&(null===n||void 0===n||n.warn(m.warning,"getRaidenState")),v=W(m.docs);try{for(v.s();!(O=v.n()).done;)g=O.value,r.transfers[g._id]=g}catch(o){v.e(o)}finally{v.f()}if(!("address"in r)){e.next=20;break}return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),pe.apply(this,arguments)}function de(e,t){return be.apply(this,arguments)}function be(){return be=Y(o.a.mark((function e(t,n){var r,a,i,c,u,s,l,f,p,d,b,y;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(r=[],a=0,i=Object.entries(n);a<i.length;a++)if(c=U(i[a],2),u=c[0],s=c[1],"channels"===u||"oldChannels"===u)for(l=0,f=Object.values(s);l<f.length;l++)p=f[l],r.push(q(q({},p),{},{_id:ne+p._id}));else if("transfers"===u)for(d=0,b=Object.values(s);d<b.length;d++)y=b[d],r.push(y);else r.push({_id:te+u,value:s});return e.next=4,t.bulkDocs(r);case 4:case"end":return e.stop()}}),e)}))),be.apply(this,arguments)}function ye(e){return Object.keys(e).map((function(e){return+e})).sort()}function he(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I;return null!==(e=Object(E["q"])(ye(t)))&&void 0!==e?e:0}function me(e){return+e.name.match(/_(\d+)$/)[1]}function ve(){return Oe.apply(this,arguments)}function Oe(){return Oe=Y(o.a.mark((function e(){var t,n=arguments;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=n.length>0&&void 0!==n[0]?n[0]:{log:s.a},t.log||(t.log=s.a),t.adapter){e.next=6;break}return e.next=5,A();case 5:t.adapter=e.sent;case 6:return e.abrupt("return",l["a"].defaults(t));case 7:case"end":return e.stop()}}),e)}))),Oe.apply(this,arguments)}function ge(e){return je.apply(this,arguments)}function je(){return je=Y(o.a.mark((function e(t){var n,r,a,i,c,u,s,l,f,p,b,y,O,g=this,j=arguments;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=j.length>1&&void 0!==j[1]?j[1]:I,r=j.length>2&&void 0!==j[2]&&j[2],a=this.__defaults.log,i=ye(n),c=0,s=i.length-1;case 6:if(!(s>=0)){e.next=18;break}return l=i[s],e.next=10,ie.call(this,"".concat(t,"_").concat(l));case 10:if(f=e.sent,!f){e.next=15;break}return c=l,u=f,e.abrupt("break",18);case 15:--s,e.next=6;break;case 18:if(u){e.next=22;break}return e.next=21,ie.call(this,"".concat(t,"_").concat(c));case 21:u=e.sent;case 22:if(u){e.next=27;break}return c=he(n),e.next=26,ue.call(this,"".concat(t,"_").concat(c));case 26:u=e.sent;case 27:p=W(i),e.prev=28,y=o.a.mark((function e(){var i,s,l;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=b.value,!(i<=c)){e.next=3;break}return e.abrupt("return","continue");case 3:return e.next=5,ue.call(g,"".concat(t,"_").concat(i));case 5:return s=e.sent,e.prev=6,l=/^[a-z]/i,e.next=10,Object(h["a"])(le(u,{since:0,include_docs:!0,filter:function(e){var t=e._id;return l.test(t)}}).pipe(Object(w["a"])((function(e){return Object(d["a"])((function(){return n[i](e.doc,u)})).pipe(Object(v["a"])((function(e){return Object(m["a"])(e)})),Object(w["a"])(function(){var e=Y(o.a.mark((function e(t){var n;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t._rev,n=C(t,D),e.abrupt("return",s.put(n));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}))));case 10:e.next=17;break;case 12:throw e.prev=12,e.t0=e["catch"](6),null===a||void 0===a||a.error("Error migrating db",{from:c,to:i},e.t0),s.destroy(),e.t0;case 17:if(null===a||void 0===a||a.info("Migrated db",{name:t,from:c,to:i}),!r){e.next=23;break}return e.next=21,u.destroy();case 21:e.next=25;break;case 23:return e.next=25,u.close();case 25:c=i,u=s;case 27:case"end":return e.stop()}}),e,null,[[6,12]])})),p.s();case 31:if((b=p.n()).done){e.next=38;break}return e.delegateYield(y(),"t0",33);case 33:if(O=e.t0,"continue"!==O){e.next=36;break}return e.abrupt("continue",36);case 36:e.next=31;break;case 38:e.next=43;break;case 40:e.prev=40,e.t1=e["catch"](28),p.e(e.t1);case 43:return e.prev=43,p.f(),e.finish(43);case 46:return Object(k["d"])(me(u)===he(n),"Not latest version"),e.abrupt("return",u);case 48:case"end":return e.stop()}}),e,this,[[28,40,43,46]])}))),je.apply(this,arguments)}function we(e){return _e.apply(this,arguments)}function _e(){return _e=Y(o.a.mark((function e(t){return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=me(t),e.next=3,t.get(te+"chainId");case 3:return e.t1=e.sent.value,e.next=6,t.get(te+"registry");case 6:return e.t2=e.sent.value,e.next=9,t.get(te+"address");case 9:return e.t3=e.sent.value,e.next=12,t.get(te+"blockNumber");case 12:return e.t4=e.sent.value,e.abrupt("return",{_id:"_meta",version:e.t0,network:e.t1,registry:e.t2,address:e.t3,blockNumber:e.t4});case 14:case"end":return e.stop()}}),e)}))),_e.apply(this,arguments)}function ke(e){return"function"===typeof e[Symbol.asyncIterator]}function Ee(e,t){return Te.apply(this,arguments)}function Te(){return Te=Y(o.a.mark((function e(t,n){var r,a,i,c,u,s,l,f,p,d,b,y,h,m,v,O,g=arguments;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=g.length>2&&void 0!==g[2]?g[2]:I,a=g.length>3&&void 0!==g[3]&&g[3],i=this.__defaults.log,c=ke(t)?t[Symbol.asyncIterator]():t[Symbol.iterator](),e.next=6,c.next();case 6:u=e.sent,Object(k["d"])(!u.done&&"_meta"===u.value._id,'first yielded value must be "_meta"'),s=u.value,l=he(r);case 10:if(!(l>=s.version)){e.next=28;break}return f="".concat(n,"_").concat(l),e.next=14,ie.call(this,f);case 14:if(p=e.sent,p){e.next=17;break}return e.abrupt("continue",25);case 17:return e.next=19,we(p);case 19:return d=e.sent,Object(k["d"])(s.version>=l&&s.blockNumber>=d.blockNumber,k["b"].RDN_STATE_MIGRATION),Object(k["d"])(s.address===d.address,[k["b"].RDN_STATE_ADDRESS_MISMATCH,{expected:d.address,received:s.address}],null===i||void 0===i?void 0:i.error),Object(k["d"])(s.registry===d.registry&&s.network===d.network,[k["b"].RDN_STATE_NETWORK_MISMATCH,{expectedRegistry:d.registry,receivedRegistry:s.registry,expectedNetwork:d.network,receivedNetwork:s.network}],null===i||void 0===i?void 0:i.error),e.next=25,p.destroy();case 25:--l,e.next=10;break;case 28:return b="".concat(n,"_").concat(s.version),e.next=31,ue.call(this,b);case 31:return y=e.sent,e.next=34,c.next();case 34:h=e.sent;case 35:if(h.done){e.next=45;break}return m=h.value,"_rev"in m&&delete m["_rev"],e.next=40,Promise.all([c.next(),y.put(m)]);case 40:v=e.sent,O=U(v,1),h=O[0],e.next=35;break;case 45:return null===i||void 0===i||i.warn("Replaced/loaded database",{name:n,meta:s}),e.next=48,y.close();case 48:return e.next=50,ge.call(this,n,r,a);case 50:return e.abrupt("return",e.sent);case 51:case"end":return e.stop()}}),e,this)}))),Te.apply(this,arguments)}function Se(e){return e?e.slice(0,-1)+String.fromCharCode(e.slice(-1).charCodeAt(0)+1):""}function Ae(e){return xe.apply(this,arguments)}function xe(){return xe=X(o.a.mark((function e(t){var n,r,a,i,u,s,l,f,p=arguments;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=p.length>1&&void 0!==p[1]?p[1]:{},r=n.batch,a=void 0===r?10:r,u=t.changes({since:"now",live:!0}),u.on("change",(function(e){var t=e.id;return i=t})),e.prev=3,e.next=6,we(t);case 6:s="a";case 7:return e.next=10,z(t.allDocs({startkey:s,endkey:"￰",limit:a,include_docs:!0}));case 10:return l=e.sent,e.delegateYield(ee(Z(l.rows.map((function(e){var t=e.doc;return c()(["_rev"],t)}))),z),"t0",12);case 12:if(Object(k["d"])(!i,["Database changed while dumping",{key:i}]),f=Object(E["q"])(l.rows),!f){e.next=18;break}s=Se(f.id),e.next=19;break;case 18:return e.abrupt("break",21);case 19:e.next=7;break;case 21:return e.prev=21,u.cancel(),e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[3,,21,24]])}))),xe.apply(this,arguments)}function Pe(e){return Ne.apply(this,arguments)}function Ne(){return Ne=Y(o.a.mark((function e(t){return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",ue.call(t.constructor,t.name));case 1:case"end":return e.stop()}}),e)}))),Ne.apply(this,arguments)}function Re(e,t){return Ie.apply(this,arguments)}function Ie(){return Ie=Y(o.a.mark((function e(t,n){var r,a,i,c,u,s,l,f,p,d,b;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=t.constructor.__defaults.log,a=!1,i=10;case 3:if(!(i>0)){e.next=51;break}e.prev=4,c=[],u=!1,s=!1,e.prev=8,f=Z(Ae(t,n));case 10:return e.next=12,f.next();case 12:if(!(u=!(p=e.sent).done)){e.next=18;break}d=p.value,c.push(d);case 15:u=!1,e.next=10;break;case 18:e.next=24;break;case 20:e.prev=20,e.t0=e["catch"](8),s=!0,l=e.t0;case 24:if(e.prev=24,e.prev=25,!u||null==f.return){e.next=29;break}return e.next=29,f.return();case 29:if(e.prev=29,!s){e.next=32;break}throw l;case 32:return e.finish(29);case 33:return e.finish(24);case 34:if(!a){e.next=37;break}return e.next=37,t.close();case 37:return e.abrupt("return",c);case 40:if(e.prev=40,e.t1=e["catch"](4),null===e.t1||void 0===e.t1||null===(b=e.t1.message)||void 0===b||!b.includes("database is closed")){e.next=47;break}return a=!0,e.next=46,Pe(t);case 46:t=e.sent;case 47:null===r||void 0===r||r.warn("Restarting dump because",e.t1);case 48:--i,e.next=3;break;case 51:throw new Error("Could not dump database");case 52:case"end":return e.stop()}}),e,null,[[4,40],[8,20,24,34],[25,,29,33]])}))),Ie.apply(this,arguments)}},"750b":function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-btn",{staticClass:"text-capitalize action-button",class:{"action-button--sticky":e.sticky,"action-button--full-width":e.fullWidth,"action-button--angular":e.angular},style:{width:e.width,height:e.height},attrs:{type:"submit",disabled:!e.enabled,loading:e.loading,"data-cy":"action_button",depressed:"",large:""},on:{click:function(t){return e.click()}},scopedSlots:e._u([e.loadingText?{key:"loader",fn:function(){return[n("div",{staticClass:"action-button__loading"},[n("span",[e._v(e._s(e.loadingText))]),n("v-progress-linear",{staticClass:"action-button__loading__indicator",attrs:{indeterminate:"",rounded:""}})],1)]},proxy:!0}:null],null,!0)},[e._v(" "+e._s(e.text)+" "),e.arrow?n("v-icon",{attrs:{right:""}},[e._v("keyboard_arrow_right")]):e._e()],1)},a=[],o=n("6dbe"),i=n("5cf9");function c(e){return c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function f(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function d(e){var t=h();return function(){var n,r=m(e);if(t){var a=m(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return b(this,n)}}function b(e,t){return!t||"object"!==c(t)&&"function"!==typeof t?y(e):t}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}var v=function(e){f(n,e);var t=d(n);function n(){return u(this,n),t.apply(this,arguments)}return l(n,[{key:"click",value:function(){return!0}}]),n}(i["g"]);Object(o["b"])([Object(i["e"])({required:!0,type:Boolean})],v.prototype,"enabled",void 0),Object(o["b"])([Object(i["e"])({required:!0})],v.prototype,"text",void 0),Object(o["b"])([Object(i["e"])({type:Boolean,default:!1})],v.prototype,"loading",void 0),Object(o["b"])([Object(i["e"])({type:String})],v.prototype,"loadingText",void 0),Object(o["b"])([Object(i["e"])({type:Boolean,default:!1})],v.prototype,"sticky",void 0),Object(o["b"])([Object(i["e"])({type:Boolean,default:!1})],v.prototype,"arrow",void 0),Object(o["b"])([Object(i["e"])({type:String,default:"250px"})],v.prototype,"width",void 0),Object(o["b"])([Object(i["e"])({type:Boolean,default:!1})],v.prototype,"fullWidth",void 0),Object(o["b"])([Object(i["e"])({type:String,default:"40px"})],v.prototype,"height",void 0),Object(o["b"])([Object(i["e"])({type:Boolean,default:!1})],v.prototype,"angular",void 0),Object(o["b"])([Object(i["b"])()],v.prototype,"click",null),v=Object(o["b"])([Object(i["a"])({})],v);var O=v,g=O,j=(n("74ae"),n("a6c2")),w=n("411c"),_=n.n(w),k=n("9c46"),E=n("b503"),T=n("452d"),S=Object(j["a"])(g,r,a,!1,null,"616272c7",null);t["a"]=S.exports;_()(S,{VBtn:k["a"],VIcon:E["a"],VProgressLinear:T["a"]})},7522:function(e,t,n){"use strict";n("d8d0")},"77fd":function(e,t,n){"use strict";var r=n("6dbe"),a=n("5cf9");function o(e){return o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),e}function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function f(e){var t=b();return function(){var n,r=y(e);if(t){var a=y(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){return!t||"object"!==o(t)&&"function"!==typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}var h=function(e){s(n,e);var t=f(n);function n(){return i(this,n),t.apply(this,arguments)}return u(n,[{key:"$blockie",value:function(e){return e?this.$identicon.getIdenticon(e):this.$identicon.getIdenticon("0x000")}}]),n}(a["g"]);h=Object(r["b"])([a["a"]],h),t["a"]=h},"7de2":function(e,t,n){"use strict";n.d(t,"a",(function(){return I})),n.d(t,"b",(function(){return L})),n.d(t,"d",(function(){return W})),n.d(t,"c",(function(){return V})),n.d(t,"g",(function(){return H})),n.d(t,"e",(function(){return K})),n.d(t,"h",(function(){return Y})),n.d(t,"f",(function(){return X}));var r,a=n("36d8"),o=n.n(a),i=n("b97c"),c=n("905c9"),u=n("5c24"),s=n("6da0"),l=n("f211"),f=n("eda8"),p=n("699d"),d=n("53c1"),b=n("8379"),y=n("b8fc"),h=n("111d"),m=n.n(h),v=n("2b5b"),O=n("d890"),g=n("0862"),j=n("f2df"),w=n("46f7"),_=n("ee6c"),k=n("ca14"),E=n("8173"),T=n("5778");function S(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function A(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){S(o,r,a,i,c,"next",e)}function c(e){S(o,r,a,i,c,"throw",e)}i(void 0)}))}}function x(e){return x="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x(e)}function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){R(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var I,D=(r={},R(r,T["e"].DELIVERED,12),R(r,T["e"].PROCESSED,0),R(r,T["e"].SECRET_REQUEST,3),R(r,T["e"].SECRET_REVEAL,11),R(r,T["e"].LOCKED_TRANSFER,7),R(r,T["e"].UNLOCK,4),R(r,T["e"].LOCK_EXPIRED,13),R(r,T["e"].WITHDRAW_REQUEST,15),R(r,T["e"].WITHDRAW_CONFIRMATION,16),R(r,T["e"].WITHDRAW_EXPIRED,17),R(r,T["e"].PFS_CAPACITY_UPDATE,-1),R(r,T["e"].PFS_FEE_UPDATE,-1),R(r,T["e"].MONITOR_REQUEST,-1),r);function C(e){return Object(s["a"])(Object(p["f"])(Object(y["a"])(e)))}function L(e){var t=e.transferredAmount,n=e.lockedAmount,r=e.locksroot,a=c["a"];return t.isZero()&&n.isZero()&&(r===c["a"]||r===v["e"])||(a=Object(s["a"])(Object(i["b"])([Object(w["a"])(t,32),Object(w["a"])(n,32),Object(w["a"])(r,32)]))),a}function U(e){var t;switch(e.type){case T["e"].LOCKED_TRANSFER:t=Object(s["a"])(Object(i["b"])([Object(w["a"])(D[e.type],1),Object(w["a"])(e.message_identifier,8),Object(w["a"])(e.payment_identifier,8),Object(w["a"])(e.lock.expiration,32),Object(w["a"])(e.token,20),Object(w["a"])(e.recipient,20),Object(w["a"])(e.target,20),Object(w["a"])(e.initiator,20),Object(w["a"])(e.lock.secrethash,32),Object(w["a"])(e.lock.amount,32),C(e.metadata)]));break;case T["e"].UNLOCK:t=Object(s["a"])(Object(i["b"])([Object(w["a"])(D[e.type],1),Object(w["a"])(e.message_identifier,8),Object(w["a"])(e.payment_identifier,8),Object(w["a"])(e.secret,32)]));break;case T["e"].LOCK_EXPIRED:t=Object(s["a"])(Object(i["b"])([Object(w["a"])(D[e.type],1),Object(w["a"])(e.message_identifier,8),Object(w["a"])(e.recipient,20),Object(w["a"])(e.secrethash,32)]));break}return t}function M(e){switch(e.type){case T["e"].DELIVERED:return Object(i["i"])(Object(i["b"])([Object(w["a"])(D[e.type],1),Object(w["a"])(0,3),Object(w["a"])(e.delivered_message_identifier,8)]));case T["e"].PROCESSED:return Object(i["i"])(Object(i["b"])([Object(w["a"])(D[e.type],1),Object(w["a"])(0,3),Object(w["a"])(e.message_identifier,8)]));case T["e"].LOCKED_TRANSFER:case T["e"].UNLOCK:case T["e"].LOCK_EXPIRED:var t=U(e),n=L({transferredAmount:e.transferred_amount,lockedAmount:e.locked_amount,locksroot:e.locksroot});return Object(i["i"])(Object(i["b"])([Object(w["a"])(e.token_network_address,20),Object(w["a"])(e.chain_id,32),Object(w["a"])(I.BALANCE_PROOF,32),Object(w["a"])(e.channel_identifier,32),Object(w["a"])(n,32),Object(w["a"])(e.nonce,32),Object(w["a"])(t,32)]));case T["e"].SECRET_REQUEST:return Object(i["i"])(Object(i["b"])([Object(w["a"])(D[e.type],1),Object(w["a"])(0,3),Object(w["a"])(e.message_identifier,8),Object(w["a"])(e.payment_identifier,8),Object(w["a"])(e.secrethash,32),Object(w["a"])(e.amount,32),Object(w["a"])(e.expiration,32)]));case T["e"].SECRET_REVEAL:return Object(i["i"])(Object(i["b"])([Object(w["a"])(D[e.type],1),Object(w["a"])(0,3),Object(w["a"])(e.message_identifier,8),Object(w["a"])(e.secret,32)]));case T["e"].WITHDRAW_REQUEST:case T["e"].WITHDRAW_CONFIRMATION:return Object(i["i"])(Object(i["b"])([Object(w["a"])(e.token_network_address,20),Object(w["a"])(e.chain_id,32),Object(w["a"])(I.WITHDRAW,32),Object(w["a"])(e.channel_identifier,32),Object(w["a"])(e.participant,20),Object(w["a"])(e.total_withdraw,32),Object(w["a"])(e.expiration,32)]));case T["e"].WITHDRAW_EXPIRED:return Object(i["i"])(Object(i["b"])([Object(w["a"])(D[e.type],1),Object(w["a"])(0,3),Object(w["a"])(e.nonce,32),Object(w["a"])(e.message_identifier,8),Object(w["a"])(e.token_network_address,20),Object(w["a"])(e.chain_id,32),Object(w["a"])(I.WITHDRAW,32),Object(w["a"])(e.channel_identifier,32),Object(w["a"])(e.participant,20),Object(w["a"])(e.total_withdraw,32),Object(w["a"])(e.expiration,32)]));case T["e"].PFS_CAPACITY_UPDATE:return Object(i["i"])(Object(i["b"])([Object(w["a"])(e.canonical_identifier.chain_identifier,32),Object(w["a"])(e.canonical_identifier.token_network_address,20),Object(w["a"])(e.canonical_identifier.channel_identifier,32),Object(w["a"])(e.updating_participant,20),Object(w["a"])(e.other_participant,20),Object(w["a"])(e.updating_nonce,8),Object(w["a"])(e.other_nonce,8),Object(w["a"])(e.updating_capacity,32),Object(w["a"])(e.other_capacity,32),Object(w["a"])(e.reveal_timeout,32)]));case T["e"].PFS_FEE_UPDATE:return Object(i["i"])(Object(i["b"])([Object(w["a"])(e.canonical_identifier.chain_identifier,32),Object(w["a"])(e.canonical_identifier.token_network_address,20),Object(w["a"])(e.canonical_identifier.channel_identifier,32),Object(w["a"])(e.updating_participant,20),Object(w["a"])(e.fee_schedule.cap_fees,1),Object(w["a"])(e.fee_schedule.flat,32),Object(w["a"])(e.fee_schedule.proportional,32),Object(l["encode"])(e.fee_schedule.imbalance_penalty?e.fee_schedule.imbalance_penalty.map((function(e){return e.map((function(e){return e.isZero()?"0x":e.toHexString()}))})):"0x"),Object(p["f"])(e.timestamp)]));case T["e"].MONITOR_REQUEST:return Object(i["i"])(Object(i["b"])([Object(w["a"])(e.monitoring_service_contract_address,20),Object(w["a"])(e.balance_proof.chain_id,32),Object(w["a"])(I.MS_REWARD,32),Object(w["a"])(e.balance_proof.token_network_address,20),Object(w["a"])(e.non_closing_participant,20),Object(w["a"])(e.non_closing_signature,65),Object(w["a"])(e.reward_amount,32)]))}}function B(e){return k["i"].is(e.signature)}function F(e,t){return!Object(g["b"])(t,v["a"].IMMUTABLE_METADATA)&&"metadata"in e&&(e=N(N({},e),{},{metadata:Object(k["n"])(T["f"],e.metadata)})),Object(b["b"])(Object(i["a"])(M(e)),e.signature)}function W(e){return{chainId:e.chain_id,tokenNetworkAddress:e.token_network_address,channelId:e.channel_identifier,nonce:e.nonce,transferredAmount:e.transferred_amount,lockedAmount:e.locked_amount,locksroot:e.locksroot,additionalHash:U(e),signature:e.signature}}function V(e){return"signature"in e?Object(w["c"])(Object(k["j"])(T["d"]).encode(e)):Object(w["c"])(T["d"].encode(e))}function $(e){var t=Object(w["b"])(e);return Object(j["a"])(t&&"object"===x(t)&&"type"in t&&Object.values(T["e"]).some((function(e){return e===t["type"]})),"Invalid message type: ".concat(null===t||void 0===t?void 0:t["type"])),"signature"in t?Object(k["n"])(Object(k["j"])(T["d"]),t):Object(k["n"])(T["d"],t)}function H(e,t){return q.apply(this,arguments)}function q(){return q=A(o.a.mark((function e(t,n){var r,a,c,u=arguments;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:{log:m.a},a=r.log,!B(n)){e.next=3;break}return e.abrupt("return",n);case 3:return a.debug('Signing message "'.concat(n.type,'"'),n),e.next=6,t.signMessage(Object(i["a"])(M(n)));case 6:return c=e.sent,e.abrupt("return",N(N({},n),{},{signature:c}));case 8:case"end":return e.stop()}}),e)}))),q.apply(this,arguments)}function K(e){return function(t){return E["messageReceived"].is(t)&&(Array.isArray(e)?e.some((function(e){return e.is(t.payload.message)})):e.is(t.payload.message))}}function G(e){var t=Object(f["c"])(Object(i["a"])(Object(u["a"])(e.user_id)),e.displayname),n=Object(d["c"])(t);return O["matrixPresence"].success({userId:e.user_id,available:!0,ts:Date.now(),caps:Object(g["e"])(e.capabilities),pubkey:t},{address:n})}function Y(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.log;if(e)try{var a=G(e);return Object(j["a"])(a.meta.address===t,["Wrong signature",{expected:t,recovered:a.meta.address}]),a}catch(o){null===r||void 0===r||r.warn("Invalid address metadata",{address:t,metadata:e,error:o})}}function X(e,t,n){var r=n.log;if("string"===typeof e)try{var a=$(e);if("signature"in a){var o=F(a,t.payload.caps);Object(j["a"])(o===t.meta.address,[_["b"].TRNS_MESSAGE_SIGNATURE_MISMATCH,{sender:t.meta.address,signer:o}])}return a}catch(i){r.warn("Could not decode message: ".concat(e,": ").concat(i))}}(function(e){e[e["BALANCE_PROOF"]=1]="BALANCE_PROOF",e[e["BALANCE_PROOF_UPDATE"]=2]="BALANCE_PROOF_UPDATE",e[e["WITHDRAW"]=3]="WITHDRAW",e[e["COOP_SETTLE"]=4]="COOP_SETTLE",e[e["IOU"]=5]="IOU",e[e["MS_REWARD"]=6]="MS_REWARD"})(I||(I={}))},8:function(e,t){},8089:function(e,t,n){"use strict";n.d(t,"e",(function(){return rt})),n.d(t,"f",(function(){return it})),n.d(t,"i",(function(){return ct})),n.d(t,"m",(function(){return ut})),n.d(t,"b",(function(){return st})),n.d(t,"d",(function(){return lt})),n.d(t,"a",(function(){return ft})),n.d(t,"o",(function(){return dt})),n.d(t,"c",(function(){return yt})),n.d(t,"h",(function(){return mt})),n.d(t,"k",(function(){return Ot})),n.d(t,"l",(function(){return gt})),n.d(t,"g",(function(){return wt})),n.d(t,"p",(function(){return kt})),n.d(t,"n",(function(){return At})),n.d(t,"j",(function(){return xt}));var r=n("36d8"),a=n.n(r),o=n("4fe5"),i=n("87b8"),c=n("2b89"),u=n("09d5"),s=n("699d"),l=n("8379"),f=n("7ff5"),p=n.n(f),d=n("fe07"),b=n.n(d),y=n("427e"),h=n.n(y),m=n("111d"),v=n.n(m),O=n("0146"),g=n("cea7"),j=n("f068"),w=n("c32d"),_=n("277b"),k=n("9c65"),E=n("996a"),T=n("1319"),S=n("b211"),A=n("009f"),x=n("ef4a"),P=n("dd89"),N=n("5e25a"),R=n("c0bf"),I=n("f5be"),D=n("f799"),C=n("b8ff"),L=n("8120"),U=n("5bbb"),M=n("2b5b"),B=n("de7d"),F=n("74e4"),W=n("3501"),V=n("ee79"),$=n("31a7"),H=n("a0df"),q=n("4c29"),K=n("1f0b"),G=n("0ff6"),Y=n("b4cc"),X=n("8173"),Q=n("d011"),z=n("65e1"),J=n("c00b"),Z=n("30c0"),ee=n("79b8"),te=n("2111"),ne=n("f2df"),re=n("ca14");function ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(n),!0).forEach((function(t){ie(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ce(e){return le(e)||se(e)||de(e)||ue()}function ue(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function se(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function le(e){if(Array.isArray(e))return be(e)}function fe(e,t){return he(e)||ye(e,t)||de(e,t)||pe()}function pe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function de(e,t){if(e){if("string"===typeof e)return be(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?be(e,t):void 0}}function be(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ye(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function he(e){if(Array.isArray(e))return e}var me=ee["Decimal"].clone({precision:40,rounding:ee["Decimal"].ROUND_HALF_EVEN}),ve=new me(0),Oe=new me(1);function ge(e){var t=parseInt(e);return Object(ne["a"])(void 0!==t&&t==e),t}function je(e,t){var n=fe(t,2),r=n[0],a=n[1];return Object(ne["a"])(e.gt(0),"no output channel capacity available"),function(t){var n=new me(t.toHexString()),o=r(n),i=function(e){return o.add(a(e.neg())).sub(n).add(e)},c=ve,u=i(c);Object(ne["a"])(u.lt(0),"input transfer not enough to pay minimum fees");var s=e,l=i(s);Object(ne["a"])(l.gte(0),"output capacity not enough to mediate transfer");while(1){var f=s.add(c).div(2),p=i(f),d=p.sub(u).div(f.sub(c)),b=l.sub(p).div(s.sub(f));if(b.sub(d).abs().lt(1e-6))break;u.isNegative()!==p.isNegative()?(s=f,l=p):(c=f,u=p)}var y=c.sub(u.mul(s.sub(c)).div(l.sub(u)));return Object(re["n"])(Object(re["e"])(32),n.sub(y).toFixed(0,me.ROUND_HALF_EVEN))}}var we={name:"flat",emptySchedule:{flat:i["h"]},decodeConfig:function(e,t){return Object(re["n"])(Object(re["e"])(32),null!==e&&void 0!==e?e:t).div(2)},channelFee:function(e){var t=new me(e.toHexString());return function(){return t}},fee:function(e){var t=Object(re["n"])(Object(re["e"])(32),e.mul(2));return function(){return t}},schedule:function(e){return{flat:e}}},_e={name:"proportional",emptySchedule:{proportional:i["h"]},decodeConfig:function(e,t){var n=new me(ge(null!==e&&void 0!==e?e:t)).div(1e6),r=n.div(n.add(2)).mul(1e6);return r.toDecimalPlaces(0,me.ROUND_HALF_EVEN).toNumber()},channelFee:function(e){var t=new me(e).div(1e6);return function(e){return e.mul(t).abs()}},fee:function(e){var t=new me(e).div(1e6);return function(e){var n=new me(e.toHexString()),r=n.mul(Oe.sub(t).div(Oe.add(t))),a=n.sub(r);return Object(re["n"])(Object(re["e"])(32),a.toFixed(0,me.ROUND_HALF_EVEN))}},schedule:function(e){return{proportional:J["a"].from(e)}}};function ke(e,t,n){var r=t.sub(e);Object(ne["a"])(n>=2&&r.gte(n-1),"invalid linspace params");for(var a=n-1,o=new me(r.toString()).div(a),i=[e],c=1;c<a;c++)i.push(e.add(o.mul(c).toFixed(0,me.ROUND_HALF_EVEN)));return[].concat(i,[t])}function Ee(e,t){Object(ne["a"])(t.length>=2,"invalid linspace");var n=t[0][0],r=t[t.length-1][0];if(e.eq(r.toHexString()))return t.length-2;var a=new me(r.sub(n).toHexString()),o=a.div(t.length-1),i=Math.floor(e.sub(n.toHexString()).div(o).toNumber()),c=0;do{if(i<0)return-1;if(i>=t.length-1)return t.length-1;c=e.gte(t[i+1][0].toHexString())?-1:e.lt(t[i][0].toHexString())?1:0,i+=c}while(c);return i}function Te(e,t,n){var r=fe(t,2),a=r[0],o=r[1],i=fe(n,2),c=i[0],u=i[1];return e.sub(a.toHexString()).mul(u.sub(o).toHexString()).div(c.sub(a).toHexString()).add(o.toHexString())}function Se(e,t){var n=Ee(e,t);return n<0?n=0:n>=t.length-1&&(n=t.length-2),Te(e,t[n],t[n+1])}function Ae(e,t){var n=21,r=new me("0.1");Object(ne["a"])(e.gt(0),"not enough capacity");var a=new me(e.toHexString()),o=me.min(n,a.add(1)).toNumber(),c=ke(i["h"],e,o);if(0===t)return[[i["h"],i["h"]],[e,i["h"]]];var u=new me(t).div(1e6);Object(ne["a"])(u.lte(r.div(2)),"Too high imbalance fee");var s=a.mul(u),l=r,f=s,p=a.div(2),d=me.min(10,l.mul(p).div(f)),b=function(e){return J["a"].from(new me(e.toHexString()).sub(p).abs().pow(d).mul(f).div(p.pow(d)).toFixed(0,me.ROUND_HALF_EVEN))};return c.map((function(e){return[e,b(e)]}))}var xe={name:"imbalance",emptySchedule:{imbalance_penalty:null},decodeConfig:function(e,t){var n=ge(null!==e&&void 0!==e?e:t);return Object(ne["a"])(n>=0&&n<=5e4,"Too high imbalance fee"),n},channelFee:function(e,t){var n=Object(L["c"])(t),r=n.totalCapacity,a=n.ownCapacity;if(!e||!r.gt(0))return function(){return ve};var o=Ae(r,e),i=Se(new me(a.toHexString()),o);return function(e){return Se(e.add(a.toHexString()),o).sub(i)}},fee:function(e,t,n){var r=this.channelFee(e,t),a=this.channelFee(e,n),o=new me(Object(L["c"])(n).ownCapacity.toHexString());return je(o,[r,a])},schedule:function(e,t){var n=Object(L["c"])(t),r=n.totalCapacity;if(!e||!r.gt(0))return{imbalance_penalty:null};var a=Ae(r,e);return{imbalance_penalty:a}}};function Pe(e){var t=Object.assign.apply(Object,[{cap_fees:!0}].concat(ce(Object.values(e).map((function(e){return e.emptySchedule}))))),n=te["w"]([te["v"],te["q"](te["r"],te["q"](te["r"],te["x"]))]),r={name:"standard",emptySchedule:t,decodeConfig:function(t,r){for(var a=oe(oe({},Object(re["n"])(n,t)),Object(re["n"])(n,r)),o=0,i=Object.entries(a);o<i.length;o++){for(var c,u=fe(i[o],2),s=u[0],l=u[1],f=Object(re["n"])(re["a"],s),p={cap:null===(c=l.cap)||void 0===c||c},d=0,b=Object.entries(e);d<b.length;d++){var y=fe(b[d],2),h=y[0],m=y[1],v=h;v in l&&(p[v]=m.decodeConfig(l[h]))}a[f]=p}return a},channelFee:function(t,n){var r,a=n.token,o=null!==(r=t[a])&&void 0!==r?r:t[Z["a"]],i=Object.entries(e).map((function(e){var t=fe(e,2),r=t[0],a=t[1],i=null===o||void 0===o?void 0:o[r];if(i)return a.channelFee(i,n)})).filter(re["p"]);return function(e){return i.reduce((function(t,n){return t.add(n(e))}),ve)}},fee:function(e,n,r){var a,o,c,u=this.channelFee(e,n),s=this.channelFee(e,r),l=new me(Object(L["c"])(r).ownCapacity.toHexString()),f=null!==(a=null===(o=null!==(c=e[n.token])&&void 0!==c?c:e[Z["a"]])||void 0===o?void 0:o.cap)&&void 0!==a?a:t.cap_fees,p=je(l,[u,s]);return function(e){var t=p(e);return f&&t.lt(0)&&(t=i["h"]),t}},schedule:function(n,r){var a,o=r.token,i=null!==(a=n[o])&&void 0!==a?a:n[Z["a"]];return Object.assign.apply(Object,[{},t,void 0!==(null===i||void 0===i?void 0:i.cap)?{cap_fees:i.cap}:void 0].concat(ce(Object.entries(e).map((function(e){var t=fe(e,2),n=t[0],a=t[1],o=n,c=null===i||void 0===i?void 0:i[o];return c?a.schedule(c,r):{}})))))}};return r}var Ne=Pe({flat:we,proportional:_e,imbalance:xe}),Re=n("1a78"),Ie=n("59ec"),De=n("d276"),Ce=n("46f7"),Le=n("ee6c"),Ue=n("1b23"),Me=n("325b"),Be=["state"];function Fe(e,t){if(null==e)return{};var n,r,a=We(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function We(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}function Ve(e){return qe(e)||He(e)||Ye(e)||$e()}function $e(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function He(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function qe(e){if(Array.isArray(e))return Xe(e)}function Ke(e,t){return ze(e)||Qe(e,t)||Ye(e,t)||Ge()}function Ge(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ye(e,t){if(e){if("string"===typeof e)return Xe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xe(e,t):void 0}}function Xe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Qe(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function ze(e){if(Array.isArray(e))return e}function Je(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function Ze(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Je(o,r,a,i,c,"next",e)}function c(e){Je(o,r,a,i,c,"throw",e)}i(void 0)}))}}function et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?et(Object(n),!0).forEach((function(t){nt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):et(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var rt=function(e){switch(e.name){case"rinkeby":return tt(tt({},$.contracts),G.contracts);case"ropsten":return tt(tt({},H.contracts),Y.contracts);case"goerli":return tt(tt({},W.contracts),q.contracts);case"homestead":return tt(tt({},V.contracts),K.contracts);default:throw new Le["c"](Le["b"].RDN_UNRECOGNIZED_NETWORK,{network:e.name})}};function at(e,t,n){return ot.apply(this,arguments)}function ot(){return ot=Ze(a.a.mark((function e(t,n,r){var o,i,c,f,p,d,b;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return c=null!==(o=null!==r&&void 0!==r?r:null===globalThis||void 0===globalThis||null===(i=globalThis.location)||void 0===i?void 0:i.origin)&&void 0!==o?o:"unknown",f="=== RAIDEN SUBKEY GENERATION ===\n\nNetwork: ".concat(Object(Ue["c"])(t).toUpperCase(),"\nRaiden dApp URL: ").concat(c,"\n\nWARNING: ensure this signature is being requested from Raiden dApp running at URL above by comparing it to your browser's url bar.\nSigning this message at any other address WILL give it FULL control of this subkey's funds, tokens and Raiden channels!"),e.next=4,n.signMessage(Object(s["f"])(f));case 4:return p=e.sent,d=Object(u["c"])(p),b=new l["a"](d,n.provider),e.abrupt("return",{signer:b,address:b.address});case 8:case"end":return e.stop()}}),e)}))),ot.apply(this,arguments)}var it=function(){var e=Ze(a.a.mark((function e(t,n,r,i){var c,u,s,f,p;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!o["a"].isSigner(t)){e.next=15;break}if(t.provider!==n){e.next=5;break}c=t,e.next=10;break;case 5:if(!(t instanceof l["a"])){e.next=9;break}c=t.connect(n),e.next=10;break;case 9:throw new Le["c"](Le["b"].RDN_SIGNER_NOT_CONNECTED,{account:t.toString(),provider:n.toString()});case 10:return e.next=12,c.getAddress();case 12:u=e.sent,e.next=38;break;case 15:if("number"!==typeof t){e.next=22;break}return c=n.getSigner(t),e.next=19,c.getAddress();case 19:u=e.sent,e.next=38;break;case 22:if(!re["a"].is(t)){e.next=32;break}return e.next=25,n.listAccounts();case 25:if(f=e.sent,f.includes(t)){e.next=28;break}throw new Le["c"](Le["b"].RDN_ACCOUNT_NOT_FOUND,{account:t,accounts:JSON.stringify(f)});case 28:c=n.getSigner(t),u=t,e.next=38;break;case 32:if(!re["f"].is(t)){e.next=37;break}c=new l["a"](t,n),u=c.address,e.next=38;break;case 37:throw new Le["c"](Le["b"].RDN_STRING_ACCOUNT_INVALID);case 38:if(!r){e.next=51;break}return s={signer:c,address:u},e.t0=at,e.next=43,n.getNetwork();case 43:return e.t1=e.sent,e.t2=s.signer,e.t3=i,e.next=48,(0,e.t0)(e.t1,e.t2,e.t3);case 48:p=e.sent,c=p.signer,u=p.address;case 51:return e.abrupt("return",{signer:c,address:u,main:s});case 52:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}();function ct(e,t){return Object(O["a"])(Object(F["a"])(t,{since:0,include_docs:!0,selector:{direction:{$in:Object.values(Re["a"])}}}).pipe(Object(k["a"])("doc"),Object(E["a"])(re["p"]),Object(T["a"])((function(e){return Object(re["n"])(Re["e"],e)}))),e.pipe(Object(Me["h"])("transfers"),Object(Me["d"])(),Object(k["a"])(1))).pipe(Object(T["a"])(Ie["k"]))}var ut=function(e){return Object.values(e).reduce((function(e,t){var n=Object(L["c"])(t),r=tt({state:t.state,id:t.id,token:t.token,tokenNetwork:t.tokenNetwork,settleTimeout:t.settleTimeout,openBlock:t.openBlock,closeBlock:"closeBlock"in t?t.closeBlock:void 0,partner:t.partner.address,balance:n.ownBalance,capacity:n.ownCapacity},n);return tt(tt({},e),{},nt({},t.token,tt(tt({},e[t.token]),{},nt({},t.partner.address,r))))}),{})};function st(e,t){var n=e.signer,r=e.address,a=e.main;return a&&!t?a:{signer:n,address:r}}function lt(e,t){return e.signer===t?e:e.connect(t)}function ft(e,t,n,r){return pt.apply(this,arguments)}function pt(){return pt=Ze(a.a.mark((function e(t,n,r,o){var i,c,u,s,l,f=arguments;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=f.length>4&&void 0!==f[4]?f[4]:{log:v.a},c=i.log,e.prev=1,e.next=4,(s=t.functions)[n].apply(s,Ve(r));case 4:u=e.sent,e.next=11;break;case 7:throw e.prev=7,e.t0=e["catch"](1),c.error("Error sending ".concat(n," tx"),e.t0),new Le["c"](o,{error:e.t0.message});case 11:return c.debug("sent ".concat(n,' tx "').concat(u.hash,'" to "').concat(t.address,'"')),e.prev=12,e.next=15,u.wait();case 15:l=e.sent,Object(ne["a"])(l.status,"tx status: ".concat(l.status)),e.next=23;break;case 19:throw e.prev=19,e.t1=e["catch"](12),c.error("Error mining ".concat(n," tx"),e.t1),new Le["c"](o,{transactionHash:u.hash});case 23:return c.debug("".concat(n,' tx "').concat(u.hash,'" successfuly mined!')),e.abrupt("return",l);case 25:case"end":return e.stop()}}),e,null,[[1,7],[12,19]])}))),pt.apply(this,arguments)}function dt(e,t,n){return bt.apply(this,arguments)}function bt(){return bt=Ze(a.a.mark((function e(t,n,r){var o,i,c,u,s;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=n.latest$,i=n.config$,c=n.provider,u=t.blockNumber,s=t.transactionHash,e.abrupt("return",Object(g["a"])(o.pipe(Object(Me["h"])("state","blockNumber"),Object(S["a"])(i),Object(E["a"])((function(e){var t=Ke(e,2),n=t[0],a=t[1].confirmationBlocks;return u+(null!==r&&void 0!==r?r:a)<=n})),Object(A["a"])((function(e){var t=Ke(e,2),n=t[0],a=t[1].confirmationBlocks;return Object(j["a"])((function(){return c.getTransactionReceipt(s)})).pipe(Object(T["a"])((function(e){if(null!==e&&void 0!==e&&e.confirmations&&e.confirmations>=(null!==r&&void 0!==r?r:a))return e.blockNumber;if(u+2*(null!==r&&void 0!==r?r:a)<n)throw new Le["c"](Le["b"].RDN_TRANSACTION_REORG,{transactionHash:s})})))})),Object(E["a"])(re["p"]))));case 4:case"end":return e.stop()}}),e)}))),bt.apply(this,arguments)}function yt(e,t){return ht.apply(this,arguments)}function ht(){return ht=Ze(a.a.mark((function e(t,n){var r,o,i,c,u,s,l,f,p,d,b;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=B["h"].connect(n,t),e.next=3,o.msc_address();case 3:return i=e.sent,c=B["c"].connect(i,t),e.next=7,c.token_network_registry();case 7:return u=e.sent,s=B["f"].connect(u,t),e.next=11,s.secret_registry_address();case 11:return l=e.sent,e.next=14,c.service_registry();case 14:return f=e.sent,e.next=17,t.getBlockNumber();case 17:return p=e.sent,e.next=20,Object(g["a"])(Object(Ue["b"])(t,tt(tt({},s.filters.TokenNetworkCreated(null,null)),{},{fromBlock:1,toBlock:p})).pipe(Object(k["a"])("blockNumber"),Object(E["a"])(re["p"])));case 20:return d=e.sent,null!==(r=d)&&void 0!==r||(d=0),e.next=24,o.one_to_n_address();case 24:return b=e.sent,e.abrupt("return",{TokenNetworkRegistry:{address:u,block_number:d},ServiceRegistry:{address:f,block_number:d},UserDeposit:{address:n,block_number:d},SecretRegistry:{address:l,block_number:d},MonitoringService:{address:i,block_number:d},OneToN:{address:b,block_number:d}});case 26:case"end":return e.stop()}}),e)}))),ht.apply(this,arguments)}function mt(e){return vt.apply(this,arguments)}function vt(){return vt=Ze(a.a.mark((function e(t){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(g["a"])(t.pipe(Object(k["a"])("udcDeposit","balance"),Object(E["a"])((function(e){return!!e&&e.lt(i["b"])})))));case 1:case"end":return e.stop()}}),e)}))),vt.apply(this,arguments)}function Ot(e){return Object(g["a"])(e.pipe(Object(x["a"])(Object(De["e"])([I["g"],I["e"]])),Object(T["a"])((function(e){if(I["e"].is(e)){if(Object.values(M["g"]).some((function(t){return t===e.payload.reason})))return;throw e.payload}return e.payload}))))}function gt(e){var t=e.log,n=e.getTokenContract;return h()(function(){var e=Ze(a.a.mark((function e(r){var o,i,c,u,s,l,f;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return Object(ne["a"])(re["a"].is(r),[Le["b"].DTA_INVALID_ADDRESS,{token:r}],t.info),o=n(r),e.next=4,Promise.all([o.callStatic.totalSupply(),o.callStatic.decimals(),o.callStatic.name().catch(p()(void 0)),o.callStatic.symbol().catch(p()(void 0))]);case 4:return i=e.sent,c=Ke(i,4),u=c[0],s=c[1],l=c[2],f=c[3],e.abrupt("return",{totalSupply:u,decimals:s,name:l,symbol:f});case 11:case"end":return e.stop()}}),e)})));function r(t){return e.apply(this,arguments)}return r}())}function jt(e,t){var n,r,a,o=t.address,i=t.network,c=t.contractsInfo,u=e[0];Object(ne["a"])("_meta"===(null===u||void 0===u?void 0:u._id),Le["b"].RDN_STATE_MIGRATION),Object(ne["a"])(u.address===o,Le["b"].RDN_STATE_ADDRESS_MISMATCH),Object(ne["a"])(u.registry===c.TokenNetworkRegistry.address,Le["b"].RDN_STATE_NETWORK_MISMATCH),Object(ne["a"])(u.network===i.chainId,Le["b"].RDN_STATE_NETWORK_MISMATCH),Object(ne["a"])((null===(n=e.find((function(e){return"state.address"===e._id})))||void 0===n?void 0:n.value)===o,Le["b"].RDN_STATE_ADDRESS_MISMATCH),Object(ne["a"])((null===(r=e.find((function(e){return"state.chainId"===e._id})))||void 0===r?void 0:r.value)===i.chainId,Le["b"].RDN_STATE_NETWORK_MISMATCH),Object(ne["a"])((null===(a=e.find((function(e){return"state.registry"===e._id})))||void 0===a?void 0:a.value)===c.TokenNetworkRegistry.address,Le["b"].RDN_STATE_NETWORK_MISMATCH)}function wt(e){return _t.apply(this,arguments)}function _t(){return _t=Ze(a.a.mark((function e(t){var n,r,o,i,c,u,s,l,f,p,d,b,y=arguments;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.address,r=t.network,o=t.contractsInfo,i=t.log,c=y.length>1&&void 0!==y[1]?y[1]:{},u=["raiden",Object(Ue["c"])(r),o.TokenNetworkRegistry.address,n].join("_"),l=c.state,f=Fe(c,Be),p=l,e.next=7,Object(F["c"])(tt(tt({},f),{},{log:i}));case 7:if(d=e.sent,!p){e.next=16;break}return"string"===typeof p&&(p=Object(Ce["b"])(p)),jt(p,{address:n,network:r,contractsInfo:o}),e.next=13,F["g"].call(d,p,u);case 13:s=e.sent,e.next=19;break;case 16:return e.next=18,F["e"].call(d,u);case 18:s=e.sent;case 19:return e.next=21,Object(F["d"])(s);case 21:if(b=e.sent,b){e.next=28;break}return b=Object(z["c"])({network:r,address:n,contractsInfo:o}),e.next=26,Object(F["f"])(s,b);case 26:e.next=29;break;case 28:b=Object(re["n"])(z["a"],b);case 29:return e.abrupt("return",{db:s,state:b});case 30:case"end":return e.stop()}}),e)}))),_t.apply(this,arguments)}function kt(e,t,n){return Et.apply(this,arguments)}function Et(){return Et=Ze(a.a.mark((function e(t,n,r){var o,i,c,u;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(o=r.meta,i=r.config,i.pfsMode!==Q["e"].disabled){e.next=3;break}return e.abrupt("return");case 3:return c={service:Q["g"].PFS,msgId:""},u=!1,e.abrupt("return",Object(De["a"])(X["messageServiceSend"],c,t.pipe(Object(S["a"])(n),Object(P["a"])((function(e){var t,n=Ke(e,2),r=n[0],a=n[1];if(D["channelDeposit"].success.is(r)&&r.payload.confirmed)u=!0;else if(u&&!c.msgId&&X["messageServiceSend"].request.is(r)){var i=r.payload.message;"PFSCapacityUpdate"===i.type&&i.canonical_identifier.token_network_address===o.tokenNetwork&&i.canonical_identifier.channel_identifier.eq(null===(t=a.channels[Object(L["d"])(o)])||void 0===t?void 0:t.id)&&(c.msgId=r.meta.msgId)}})),Object(k["a"])(0),Object(N["a"])((function(e){return!(D["channelDeposit"].failure.is(e)&&b()(e.meta,o))})))));case 6:case"end":return e.stop()}}),e)}))),Et.apply(this,arguments)}var Tt=[C["b"].settleable,C["b"].settling],St=[C["b"].closed].concat(Tt);function At(e,t){return e.pipe(Object(x["a"])(),Object(R["a"])((function(n){var r=n.channels,a=r[Object(L["d"])(t)];return Object(ne["a"])(a&&St.includes(a.state),Le["b"].CNL_NO_SETTLEABLE_OR_SETTLING_CHANNEL_FOUND),e.pipe(Object(Me["h"])("channels",Object(L["d"])(t)))})),Object(x["a"])((function(e){return Tt.includes(e.state)})))}function xt(e,t,n){var r,a,o,i,u,s=n.signer,l=n.contractsInfo,f=n.db,p=n.main;Object(ne["a"])(s.provider&&s.provider instanceof c["a"]&&s.provider.network,"Signer must be connected to a JsonRpcProvider");var d=new w["a"](1);return{latest$:d,config$:d.pipe(Object(Me["h"])("config")),matrix$:new _["a"],signer:s,provider:s.provider,network:s.provider.network,address:e.address,log:v.a.getLogger("raiden:".concat(e.address)),defaultConfig:Object(U["c"])({network:s.provider.network},t),contractsInfo:l,registryContract:B["f"].connect(l.TokenNetworkRegistry.address,null!==(r=null===p||void 0===p?void 0:p.signer)&&void 0!==r?r:s),getTokenNetworkContract:h()((function(e){var t;return B["g"].connect(e,null!==(t=null===p||void 0===p?void 0:p.signer)&&void 0!==t?t:s)})),getTokenContract:h()((function(e){var t;return B["b"].connect(e,null!==(t=null===p||void 0===p?void 0:p.signer)&&void 0!==t?t:s)})),serviceRegistryContract:B["e"].connect(l.ServiceRegistry.address,null!==(a=null===p||void 0===p?void 0:p.signer)&&void 0!==a?a:s),userDepositContract:B["h"].connect(l.UserDeposit.address,null!==(o=null===p||void 0===p?void 0:p.signer)&&void 0!==o?o:s),secretRegistryContract:B["d"].connect(l.SecretRegistry.address,null!==(i=null===p||void 0===p?void 0:p.signer)&&void 0!==i?i:s),monitoringServiceContract:B["c"].connect(l.MonitoringService.address,null!==(u=null===p||void 0===p?void 0:p.signer)&&void 0!==u?u:s),main:p,db:f,init$:new w["a"],mediationFeeCalculator:Ne}}},"80bf":function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e["DISCLAIMER"]="disclaimer",e["TRANSFER"]="transfer",e["TRANSFER_STEPS"]="transfer-steps",e["SELECT_TOKEN"]="select-token",e["SELECT_HUB"]="select-hub",e["HOME"]="home",e["NO_CONNECTED_TOKEN"]="no-connected-token",e["CHANNELS"]="channels",e["OPEN_CHANNEL"]="open-channel",e["ACCOUNT_ROOT"]="account-root",e["ACCOUNT_BACKUP"]="account-backup",e["ACCOUNT_RAIDEN"]="account-raiden",e["ACCOUNT_SETTINGS"]="account-settings",e["ACCOUNT_WITHDRAWAL"]="account-withdrawal",e["ACCOUNT_UDC"]="account-udc",e["NOTIFICATIONS"]="notifications"}(r||(r={}))},8120:function(e,t,n){"use strict";n.d(t,"d",(function(){return I})),n.d(t,"e",(function(){return D})),n.d(t,"c",(function(){return C})),n.d(t,"b",(function(){return L})),n.d(t,"f",(function(){return U})),n.d(t,"a",(function(){return M}));var r=n("36d8"),a=n.n(r),o=n("87b8"),i=n("c32d"),c=n("f541"),u=n("f068"),s=n("dd89"),l=n("c0bf"),f=n("1319"),p=n("9c65"),d=n("c1c6"),b=n("33b9"),y=n("996a"),h=n("15e7"),m=n("5778"),v=n("ee6c"),O=n("325b"),g=n("ca14");function j(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function w(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){j(o,r,a,i,c,"next",e)}function c(e){j(o,r,a,i,c,"throw",e)}i(void 0)}))}}function _(e,t){return T(e)||E(e,t)||x(e,t)||k()}function k(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function E(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function T(e){if(Array.isArray(e))return e}function S(e){return N(e)||P(e)||x(e)||A()}function A(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function x(e,t){if(e){if("string"===typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?R(e,t):void 0}}function P(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function N(e){if(Array.isArray(e))return R(e)}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function I(e){var t=e.tokenNetwork,n=e.partner,r="string"===typeof n?n:n.address;return"".concat(t,"@").concat(r)}function D(e){return"_id"in e&&e._id?e._id:"".concat(I(e),"#").concat(e.id.toString().padStart(9,"0"))}function C(e){var t=e.own.withdraw,n=e.partner.withdraw,r=e.own.balanceProof.transferredAmount,a=e.partner.balanceProof.transferredAmount,i=e.own.locks.filter((function(e){return e.registered})).reduce((function(e,t){return e.add(t.amount)}),o["h"]),c=e.partner.locks.filter((function(e){return e.registered})).reduce((function(e,t){return e.add(t.amount)}),o["h"]),u=r.add(i),s=a.add(c),l=e.own.balanceProof.lockedAmount.sub(i),f=e.partner.balanceProof.lockedAmount.sub(c),p=s.sub(u),d=u.sub(s),b=g["m"].apply(void 0,[t].concat(S(e.own.pendingWithdraws.filter((function(e){return e.type===m["e"].WITHDRAW_REQUEST})).map((function(e){return e.total_withdraw}))))),y=g["m"].apply(void 0,[n].concat(S(e.partner.pendingWithdraws.filter((function(e){return e.type===m["e"].WITHDRAW_REQUEST})).map((function(e){return e.total_withdraw}))))),h=e.own.deposit.sub(b).sub(l).add(p),v=e.partner.deposit.sub(y).sub(f).add(d),O=e.own.deposit.add(p).sub(l),j=O.sub(t),w=e.partner.deposit.add(d).sub(f),_=w.sub(n),k=e.own.deposit.sub(e.own.withdraw).add(e.partner.deposit).sub(e.partner.withdraw);return{ownDeposit:e.own.deposit,ownWithdraw:t,ownTransferred:r,ownLocked:l,ownBalance:p,ownCapacity:h,ownOnchainUnlocked:i,ownUnlocked:u,partnerDeposit:e.partner.deposit,partnerWithdraw:n,partnerTransferred:a,partnerLocked:f,partnerBalance:d,partnerCapacity:v,partnerOnchainUnlocked:c,partnerUnlocked:s,ownTotalWithdrawable:O,ownWithdrawable:j,partnerTotalWithdrawable:w,partnerWithdrawable:_,totalCapacity:k}}function L(e,t,n){var r=n.log,a=n.provider;return function(n){return n.pipe(Object(s["a"])((function(t){return r.debug("sent ".concat(e,' tx "').concat(t.hash,'" to "').concat(t.to,'"'))})),Object(l["a"])((function(e){return Object(O["j"])((function(){return e.wait()}),a.pollingInterval,{onErrors:v["h"]}).pipe(Object(f["a"])((function(t){return[e,t]})))})),Object(f["a"])((function(n){var a,o,i,c=_(n,2),u=c[0],s=c[1];if(!s.status||!s.transactionHash||!s.blockNumber)throw new v["c"](t,{status:null!==(a=s.status)&&void 0!==a?a:null,transactionHash:null!==(o=s.transactionHash)&&void 0!==o?o:null,blockNumber:null!==(i=s.blockNumber)&&void 0!==i?i:null});return r.debug("".concat(e,' tx "').concat(s.transactionHash,'" successfuly mined!')),[u,s]})))}}function U(e){return e.pipe(Object(p["a"])("channels"),Object(O["d"])(),Object(p["a"])(1),Object(d["a"])(D,void 0,void 0,(function(){return new i["a"](1)})),Object(f["a"])((function(t){var n=t.key.split("#"),r=_(n,2),a=r[0],o=r[1],i=+o;return t.pipe(Object(b["a"])(e.pipe(Object(y["a"])((function(e){var t,n=e.channels;return(null===(t=n[a])||void 0===t?void 0:t.id)!==i})))))})))}function M(e,t,n){var r=_(e,3),i=r[0],s=r[1],f=r[2],d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:v["b"].RDN_APPROVE_TRANSACTION_FAILED,b=arguments.length>4?arguments[4]:void 0,y=b.provider,m=b.log,O=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{minimumAllowance:o["h"]},j=O.minimumAllowance,k=O.gasPrice;if(Object(v["d"])(i.gte(f),[v["b"].RDN_INSUFFICIENT_BALANCE,{current:i.toString(),required:f.toString()}]),s.gte(f))return Object(c["a"])(!0);var E=Object(c["a"])(!0);return s.isZero()||(E=Object(u["a"])(w(a.a.mark((function e(){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t.approve(n,0,{gasPrice:k}));case 1:case"end":return e.stop()}}),e)})))).pipe(L("approve",d,{log:m,provider:y}),Object(h["a"])(!0))),E.pipe(Object(l["a"])(w(a.a.mark((function e(){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t.approve(n,Object(g["m"])(j,f),{gasPrice:k}));case 1:case"end":return e.stop()}}),e)})))),L("approve",d,{log:m,provider:y}),Object(p["a"])(1))}},8173:function(e,t,n){"use strict";n.r(t),n.d(t,"messageSend",(function(){return s})),n.d(t,"messageServiceSend",(function(){return l})),n.d(t,"messageReceived",(function(){return f}));var r=n("2111"),a=n("d011"),o=n("0602"),i=n("d276"),c=n("ca14"),u=n("5778"),s=Object(i["c"])(r["u"]({address:c["a"],msgId:r["r"]}),"message/send",r["i"]([r["u"]({message:r["w"]([r["r"],Object(c["j"])(u["d"])])}),r["n"]({msgtype:r["r"]}),o["b"]]),r["w"]([r["v"],r["u"]({via:r["r"],tookMs:r["m"],retries:r["m"]})])),l=Object(i["c"])(r["u"]({service:a["h"],msgId:r["r"]}),"message/service/send",r["u"]({message:Object(c["j"])(u["d"])}),r["w"]([r["v"],r["u"]({via:r["x"],tookMs:r["m"],retries:r["m"]})])),f=Object(i["b"])("message/received",r["i"]([r["u"]({text:r["r"],ts:r["m"]}),r["n"]({message:r["w"]([u["d"],Object(c["j"])(u["d"])]),userId:r["r"],msgtype:r["r"]})]),r["u"]({address:c["a"]}))},"83ee":function(e,t,n){"use strict";n.r(t),n.d(t,"transfer",(function(){return p})),n.d(t,"transferSigned",(function(){return d})),n.d(t,"transferProcessed",(function(){return b})),n.d(t,"transferSecret",(function(){return y})),n.d(t,"transferSecretRegister",(function(){return h})),n.d(t,"transferSecretRequest",(function(){return m})),n.d(t,"transferSecretReveal",(function(){return v})),n.d(t,"transferUnlock",(function(){return O})),n.d(t,"transferUnlockProcessed",(function(){return g})),n.d(t,"transferExpire",(function(){return j})),n.d(t,"transferExpireProcessed",(function(){return w})),n.d(t,"transferClear",(function(){return _})),n.d(t,"transferLoad",(function(){return k})),n.d(t,"withdraw",(function(){return T})),n.d(t,"withdrawMessage",(function(){return S})),n.d(t,"withdrawExpire",(function(){return A})),n.d(t,"withdrawCompleted",(function(){return x}));var r=n("2111"),a=n("9201"),o=n("5778"),i=n("d011"),c=n("0602"),u=n("d276"),s=n("ca14"),l=n("1a78"),f=r["u"]({secrethash:s["c"],direction:l["b"]}),p=Object(u["c"])(f,"transfer",r["i"]([r["u"]({tokenNetwork:s["a"],target:s["a"],value:Object(s["l"])(32),paymentId:Object(s["l"])(8)}),r["w"]([r["i"]([r["u"]({resolved:r["k"](!1)}),r["n"]({paths:i["d"],pfs:r["w"]([i["c"],r["l"]]),encryptSecret:r["d"]})]),r["i"]([r["u"]({resolved:r["k"](!0),metadata:r["x"],fee:Object(s["e"])(32),partner:s["a"]}),c["b"]])]),r["n"]({secret:s["h"],initiator:s["a"]}),r["w"]([r["n"]({expiration:r["m"]}),r["n"]({lockTimeout:r["m"]})])]),r["n"]({balanceProof:Object(s["j"])(a["a"])})),d=Object(u["b"])("transfer/signed",r["i"]([r["u"]({message:Object(s["j"])(o["c"]),fee:Object(s["e"])(32),partner:s["a"]}),c["b"]]),f),b=Object(u["b"])("transfer/processed",r["i"]([r["u"]({message:Object(s["j"])(o["g"])}),c["b"]]),f),y=Object(u["b"])("transfer/secret",r["u"]({secret:s["h"]}),f),h=Object(u["c"])(f,"transfer/secret/register",r["i"]([r["u"]({secret:s["h"]}),r["n"]({subkey:r["d"]})]),r["u"]({secret:s["h"],txHash:s["c"],txBlock:r["m"],confirmed:r["w"]([r["v"],r["d"]])})),m=Object(u["b"])("transfer/secret/request",r["i"]([r["u"]({message:Object(s["j"])(o["h"])}),c["b"]]),f),v=Object(u["b"])("transfer/secret/reveal",r["i"]([r["u"]({message:Object(s["j"])(o["i"])}),c["b"]]),f),O=Object(u["c"])(f,"transfer/unlock",r["w"]([r["v"],c["b"]]),r["i"]([r["u"]({message:Object(s["j"])(o["j"]),partner:s["a"]}),c["b"]])),g=Object(u["b"])("transfer/unlock/processed",r["i"]([r["u"]({message:Object(s["j"])(o["g"])}),c["b"]]),f),j=Object(u["c"])(f,"transfer/expire",void 0,r["u"]({message:Object(s["j"])(o["b"]),partner:s["a"]})),w=Object(u["b"])("transfer/expire/processed",r["i"]([r["u"]({message:Object(s["j"])(o["g"])}),c["b"]]),f),_=Object(u["b"])("transfer/clear",r["v"],f),k=Object(u["b"])("transfer/load",l["e"],f),E=r["u"]({direction:l["b"],tokenNetwork:s["a"],partner:s["a"],totalWithdraw:Object(s["l"])(32),expiration:r["m"]}),T=Object(u["c"])(E,"withdraw",r["v"],r["u"]({txHash:s["c"],txBlock:r["m"],confirmed:r["w"]([r["v"],r["d"]])})),S=Object(u["c"])(E,"withdraw/message",r["u"]({message:Object(s["j"])(o["m"])}),r["u"]({message:Object(s["j"])(o["k"])})),A=Object(u["c"])(E,"withdraw/expire",r["v"],r["u"]({message:Object(s["j"])(o["l"])})),x=Object(u["b"])("withdraw/completed",r["v"],E)},"84c0":function(e,t,n){"use strict";n("1218")},"87a2":function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r}));var r,a=function(){return{label:"",title:"",description:""}},o=function(){return{name:"",symbol:"",address:"",opening:0,open:0,closing:0,closed:0,settling:0,settled:0}},i={name:"",chainId:-1};(function(e){e["DEPLOYMENT_INFO_PARSING_FAILED"]="deployment-info-parsing-failed",e["UNSUPPORTED_NETWORK"]="unsupported-network",e["SDK_INITIALIZATION_FAILED"]="sdk-initialization-failed",e["STATE_MIGRATION_FAILED"]="state-migration-failed"})(r||(r={}))},"87b1":function(e,t,n){"use strict";n.d(t,"a",(function(){return T})),n.d(t,"b",(function(){return F})),n.d(t,"c",(function(){return re}));var r=n("36d8"),a=n.n(r),o=n("fbcd"),i=n("2fca");function c(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){c(o,r,a,i,u,"next",e)}function u(e){c(o,r,a,i,u,"throw",e)}i(void 0)}))}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}var p=function(){function e(){s(this,e);var t=this.constructor.isAvailable;if(!t)throw new Error("The provider is not available.")}return f(e,null,[{key:"isDisabled",value:function(){var e=u(a.a.mark((function e(){var t,n,r;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i["a"].configuration();case 2:return n=e.sent,r=null!==(t=n.disabled_ethereum_providers)&&void 0!==t?t:[],e.abrupt("return",r.includes(this.providerName));case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),e}();function d(e){return d="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function b(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function y(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){b(o,r,a,i,c,"next",e)}function c(e){b(o,r,a,i,c,"throw",e)}i(void 0)}))}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),e}function O(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}function g(e,t){return g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},g(e,t)}function j(e){var t=k();return function(){var n,r=E(e);if(t){var a=E(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return w(this,n)}}function w(e,t){return!t||"object"!==d(t)&&"function"!==typeof t?_(e):t}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function E(e){return E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},E(e)}p.isAvailable=!1;var T=function(e){O(n,e);var t=j(n);function n(e,r){var a;return h(this,n),a=t.call(this),a.provider=new o["b"].JsonRpcProvider(e),a.account=r,a}return v(n,null,[{key:"link",value:function(){var e=y(a.a.mark((function e(t){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new this(t.rpcUrl,t.privateKey));case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),n}(p);function S(e){return S="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}function A(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function x(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){A(o,r,a,i,c,"next",e)}function c(e){A(o,r,a,i,c,"throw",e)}i(void 0)}))}}function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function R(e,t,n){return t&&N(e.prototype,t),n&&N(e,n),e}function I(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}function D(e,t){return D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},D(e,t)}function C(e){var t=M();return function(){var n,r=B(e);if(t){var a=B(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return L(this,n)}}function L(e,t){return!t||"object"!==S(t)&&"function"!==typeof t?U(e):t}function U(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function B(e){return B=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},B(e)}T.providerName="direct_rpc_provider",T.isAvailable=!0;var F=function(e){I(n,e);var t=C(n);function n(e){var r;return P(this,n),r=t.call(this),r.account=0,r.provider=new o["b"].Web3Provider(e),r}return R(n,null,[{key:"isAvailable",get:function(){return!!window.ethereum||!!window.web3}},{key:"link",value:function(){var e=x(a.a.mark((function e(){var t;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n.isAvailable){e.next=2;break}throw new Error("No injected provider is available.");case 2:if(!window.ethereum){e.next=9;break}return window.ethereum.autoRefreshOnNetworkChange=!1,e.next=6,window.ethereum.request({method:"eth_requestAccounts"});case 6:t=window.ethereum,e.next=10;break;case 9:t=window.web3.currentProvider;case 10:return t.on("chainChanged",W),t.on("disconnect",W),e.abrupt("return",new this(t));case 13:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),n}(p);function W(){window.location.replace(window.location.origin)}F.providerName="injected_provider";var V=n("7dd2");function $(e){return $="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$(e)}function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function K(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){q(o,r,a,i,c,"next",e)}function c(e){q(o,r,a,i,c,"throw",e)}i(void 0)}))}}function G(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function X(e,t,n){return t&&Y(e.prototype,t),n&&Y(e,n),e}function Q(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&z(e,t)}function z(e,t){return z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},z(e,t)}function J(e){var t=te();return function(){var n,r=ne(e);if(t){var a=ne(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Z(this,n)}}function Z(e,t){return!t||"object"!==$(t)&&"function"!==typeof t?ee(e):t}function ee(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function te(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function ne(e){return ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ne(e)}var re=function(e){Q(n,e);var t=J(n);function n(e){var r;return G(this,n),r=t.call(this),r.account=0,r.provider=new o["b"].Web3Provider(e),r}return X(n,null,[{key:"link",value:function(){var e=K(a.a.mark((function e(t){var r,o;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=(null===t||void 0===t?void 0:t.bridgeUrl)||void 0,void 0!==t.rpcUrl||void 0!==t.infuraId){e.next=5;break}throw new Error("One of the options RPC URL or Infura Id are required to link.");case 5:if(void 0===t.rpcUrl||void 0===t.infuraId){e.next=9;break}throw new Error("Only one link option allowed. Either a RPC URL or a Infura Id.");case 9:if(void 0===t.rpcUrl){e.next=15;break}return e.next=12,ae(t.rpcUrl,r);case 12:o=e.sent,e.next=16;break;case 15:t.infuraId&&(o=ie(t.infuraId,r));case 16:return e.next=18,o.enable();case 18:return o.on("chainChanged",ce),o.on("disconnect",ce),e.abrupt("return",new n(o));case 21:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}]),n}(p);function ae(e,t){return oe.apply(this,arguments)}function oe(){return oe=K(a.a.mark((function e(t,n){var r,i,c;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=new o["b"].JsonRpcProvider(t),e.next=3,r.getNetwork();case 3:return i=e.sent,c={bride:n,rpc:H({},i.chainId,t)},e.abrupt("return",new V["a"](c));case 6:case"end":return e.stop()}}),e)}))),oe.apply(this,arguments)}function ie(e,t){return new V["a"]({bridge:t,infuraId:e})}function ce(){window.location.replace(window.location.origin)}re.providerName="wallet_connect",re.isAvailable=!0},"8aa9":function(e,t,n){"use strict";n.d(t,"b",(function(){return C})),n.d(t,"a",(function(){return B}));var r=n("36d8"),a=n.n(r),o=n("489c"),i=n("111d"),c=n.n(i);function u(e){return f(e)||l(e)||m(e)||s()}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function f(e){if(Array.isArray(e))return v(e)}function p(e,t){return y(e)||b(e,t)||m(e,t)||d()}function d(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function b(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function y(e){if(Array.isArray(e))return e}function h(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=m(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function m(e,t){if(e){if("string"===typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function g(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){O(o,r,a,i,c,"next",e)}function c(e){O(o,r,a,i,c,"throw",e)}i(void 0)}))}}function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k,E="logs",T=void 0;function S(e){var t=e.toString();return e.stack?e.stack.startsWith(t)?e.stack:"".concat(t,"\n").concat(e.stack):t}function A(e){var t,n,r,a;if("%c prev state"!==e[0]&&(null===(t=e[0])||void 0===t||null===(n=t.startsWith)||void 0===n||!n.call(t,"action %c"))&&"—— log end ——"!==e[0]){var o=null===(r=e[2])||void 0===r||null===(a=r.payload)||void 0===a?void 0:a.blockNumber;if(!o)return e=e.map((function(e){return e instanceof Error?S(e):(null===e||void 0===e?void 0:e.payload)instanceof Error?w(w({},e),{},{payload:S(e.payload)}):e})),"string"===typeof e[1]&&e[1].startsWith("color:")&&e.splice(1,1),e;T=o}}function x(e){if("string"===typeof e)return e;try{return JSON.stringify(e)}catch(t){try{return e.toString()}catch(t){return"<unserializable>"}}}function P(e){return N.apply(this,arguments)}function N(){return N=g(a.a.mark((function e(t){var n;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if((null===(n=k)||void 0===n?void 0:n.name)!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Object(o["a"])(t,1,{upgrade:function(e){var t=e.createObjectStore(E);t.createIndex("by-logger","logger"),t.createIndex("by-level","level")}});case 4:k=e.sent;case 5:case"end":return e.stop()}}),e)}))),N.apply(this,arguments)}var R=/^raiden:(0x[0-9a-f]{40})$/i;function I(e){return D.apply(this,arguments)}function D(){return D=g(a.a.mark((function e(t){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(R.test(t)){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,P(t);case 4:case"end":return e.stop()}}),e)}))),D.apply(this,arguments)}function C(){return L.apply(this,arguments)}function L(){return L=g(a.a.mark((function e(){var t,n,r,o,i=arguments;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=i.length>0&&void 0!==i[0]?i[0]:["matrix"],"undefined"===typeof k){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,P("raiden");case 5:for(n=function(){var e=o[r],t=e.methodFactory;function n(e,n,r){var a=this,o=t.call(this,e,n,r),i=r.toString();return I(i),function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];o.call.apply(o,[a].concat(n));var c=A(n);c&&k.put(E,w({logger:i,level:e,message:c},T?{block:T}:{}),Date.now()).catch((function(){return k.put(E,w({logger:i,level:e,message:n.map(x)},T?{block:T}:{}),Date.now())}))}}n.allowOverwrite=!0,e.methodFactory=n},r=0,o=[c.a].concat(u(t.map(c.a.getLogger)));r<o.length;r++)n();case 7:case"end":return e.stop()}}),e)}))),L.apply(this,arguments)}var U=[[/(\\?["']?access_?token\\?["']?\s*[=:]\s*\\?["']?)[\w-]+(\\?["']?)/gi,"$1<redacted>$2"],[/(\\?["']?secret\\?["']?\s*[=:]\s*)\[[^\]]+\]/gi,'$1["<redacted>"]'],[/(\\?["']?secret\\?["']?\s*[=:]\s*\\?["']?)\w+(\\?["']?)/gi,"$1<redacted>$2"]];function M(e){var t,n=h(U);try{for(n.s();!(t=n.n()).done;){var r=p(t.value,2),a=r[0],o=r[1];e=e.replace(a,o)}}catch(i){n.e(i)}finally{n.f()}return e}function B(){return F.apply(this,arguments)}function F(){return F=g(a.a.mark((function e(){var t,n,r,o,i,c,u,s,l,f,p,d,b;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t="",e.next=3,k.transaction(E).store.openCursor();case 3:n=e.sent,r=Date.now(),o=!0;case 6:if(!n){e.next=20;break}return i=n.value,c=i.logger,u=i.level,s=i.message,l=i.block,f=s.map((function(e){return"string"===typeof e?e:JSON.stringify(e)})).join(" "),r=+n.key,p=new Date(n.key).toISOString(),d=l?" #".concat(l):"",b=void 0,c!==k.name||o?(b=" @ ".concat(c),o=!1):b="",t+="".concat(p).concat(d).concat(b," [").concat(u,"] \t=> ").concat(f,"\n"),e.next=17,n.continue();case 17:n=e.sent,e.next=6;break;case 20:return t=M(t),e.abrupt("return",[r,t]);case 22:case"end":return e.stop()}}),e)}))),F.apply(this,arguments)}},"8d26":function(e,t,n){},"8d82":function(e,t,n){},"8e8c":function(e,t,n){},"8f83":function(e,t,n){e.exports=n.p+"img/info.1557b307.svg"},9:function(e,t){},9008:function(e,t,n){"use strict";n("5303")},9201:function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return d}));var r=n("87b8"),a=n("30c0"),o=n("905c9"),i=n("2111"),c=n("2b5b"),u=n("ca14"),s=i["r"],l=(i["r"],i["i"]([i["u"]({amount:Object(u["l"])(32),expiration:Object(u["l"])(32),secrethash:u["c"]}),i["n"]({registered:i["k"](!0)})],"Lock")),f=i["o"](i["u"]({chainId:Object(u["l"])(32),tokenNetworkAddress:u["a"],channelId:Object(u["l"])(32),nonce:Object(u["l"])(8),transferredAmount:Object(u["l"])(32),lockedAmount:Object(u["l"])(32),locksroot:u["c"],additionalHash:u["c"]})),p=f,d={chainId:r["h"],tokenNetworkAddress:a["a"],channelId:r["h"],nonce:r["h"],transferredAmount:r["h"],lockedAmount:r["h"],locksroot:c["e"],additionalHash:o["a"],signature:c["h"]}},9662:function(e,t,n){e.exports=n.p+"img/open_channel_info.7e9ea0d5.svg"},"9a49":function(e,t,n){"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function c(e,t,n){return c="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=u(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(n):a.value}},c(e,t,n||e)}function u(e,t){while(!Object.prototype.hasOwnProperty.call(e,t))if(e=v(e),null===e)break;return e}function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}function l(e){var t=y();return function(){var n,r=v(e);if(t){var a=v(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){var t="function"===typeof Map?new Map:void 0;return d=function(e){if(null===e||!h(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return b(e,arguments,v(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),m(n,e)},d(e)}function b(e,t,n){return b=y()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var a=Function.bind.apply(e,r),o=new a;return n&&m(o,n.prototype),o},b.apply(null,arguments)}function y(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function h(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function m(e,t){return m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},m(e,t)}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}n.d(t,"a",(function(){return O}));var O=function(e){s(n,e);var t=l(n);function n(e){var r;return a(this,n),r=t.call(this),r.max=e,r}return i(n,[{key:"get",value:function(e){var t;return this.has(e)&&(t=c(v(n.prototype),"get",this).call(this,e),this.delete(e),c(v(n.prototype),"set",this).call(this,e,t)),t}},{key:"set",value:function(e,t){this.get(e),c(v(n.prototype),"set",this).call(this,e,t);while(this.size>this.max){var r=this.keys().next().value;this.delete(r)}return this}}]),n}(d(Map))},"9b19":function(e,t,n){e.exports=n.p+"img/logo.5c4b022d.svg"},a0df:function(e){e.exports=JSON.parse('{"contracts_version":null,"chain_id":3,"contracts":{"SecretRegistry":{"address":"0xC6CD0b14519DACA6c8784c1c35619Bda5F90f490","transaction_hash":"0xa344e1897011a18229421d25bb69968fad7c3e78da39c7d975d502d7efc183db","block_number":7931782,"gas_cost":247286,"constructor_arguments":[]},"TokenNetworkRegistry":{"address":"0xAe40f2c0a6c72498F330a1e4CCF1527D9F028443","transaction_hash":"0x111e0bacec7f113f78463923046d545516bb35bdccb813e9dcc03ca707cdbf1e","block_number":7931794,"gas_cost":4001594,"constructor_arguments":["0xC6CD0b14519DACA6c8784c1c35619Bda5F90f490",3,20,555428,1.157920892373162e+77]}},"token_networks":[{"token_network_address":"0x2FA965fE214570bab9D676B5DE7EAffd5b82fcAe","constructor_arguments":{"_token_address":"0x342d1D825B1c8790522E0B8999DB876ddEE82052","_secret_registry":"0xC6CD0b14519DACA6c8784c1c35619Bda5F90f490","_chain_id":3,"_settlement_timeout_min":20,"_settlement_timeout_max":555428,"_deprecation_executor":"0x062C12c01D0f17fC9eAa33940D994594d91a0182","_channel_participant_deposit_limit":1.157920892373162e+77,"_token_network_deposit_limit":1.157920892373162e+77}}]}')},a2b8:function(e,t,n){"use strict";n("bbb7")},a32b:function(e){e.exports=JSON.parse('{"PFS_EMPTY_URL":"A registered Pathfinding Service returned an empty service URL.","PFS_INVALID_URL":"A registered Pathfinding Service returned an invalid service URL.","PFS_INVALID_INFO":"Could not find any valid Pathfinding service. Client and PFS versions are possibly out-of-sync.","PFS_TOO_EXPENSIVE":"Pathfinding Service price higher than pfsMaxFee.","PFS_NO_ROUTES_FOUND":"No valid routes found.","PFS_ERROR_RESPONSE":"Pathfinding Service request returned an error","PFS_DISABLED":"Pathfinding Service is disabled and no direct route is available.","PFS_UNKNOWN_TOKEN_NETWORK":"No open channels on this token network.","PFS_TARGET_OFFLINE":"The requested target is offline.","PFS_TARGET_NO_RECEIVE":"The requested target doesn\'t receive transfers.","PFS_LAST_IOU_REQUEST_FAILED":"The request for the last IOU has failed.","PFS_IOU_SIGNATURE_MISMATCH":"The signature of the last IOU did not match.","PFS_NO_ROUTES_BETWEEN_NODES":"No route between nodes found.","CNL_INVALID_STATE":"Invalid channel state.","CNL_NO_OPEN_CHANNEL_FOUND":"No open channel has been found.","CNL_NO_OPEN_OR_CLOSING_CHANNEL_FOUND":"No open or closing channel has been found.","CNL_NO_SETTLEABLE_OR_SETTLING_CHANNEL_FOUND":"No settleable or settling channel has been found.","CNL_APPROVE_TRANSACTION_FAILED":"Token approve transaction reverted.","CNL_OPENCHANNEL_FAILED":"TokenNetwork.openChannel transaction reverted.","CNL_SETTOTALDEPOSIT_FAILED":"TokenNetwork.setTotalDeposit transaction reverted.","CNL_CLOSECHANNEL_FAILED":"TokenNetwork.closeChannel transaction reverted.","CNL_SETTLE_INVALID_BALANCEHASH":"Could not find BalanceProof matching on-chain closing data. This client may have had its state cleared and can\'t settle.","CNL_SETTLE_FAILED":"TokenNetwork.settleChannel transaction reverted.","CNL_SETTLE_AUTO_ENABLED":"Interactive channel settlement disabled when config.autoSettle is enabled; request will be made automatically","CNL_UPDATE_NONCLOSING_BP_FAILED":"updateNonClosingBalanceProof transaction reverted.","CNL_ONCHAIN_UNLOCK_FAILED":"on-chain unlock transaction reverted.","CNL_WITHDRAW_PENDING":"There\'s already a withdraw request pending.","CNL_WITHDRAW_RETRY_CONFIRMATION":"Retrying pending WithdrawConfirmation. Confirm or try again later.","CNL_WITHDRAW_TRANSACTION_FAILED":"Withdraw transaction has failed.","CNL_WITHDRAW_EXPIRES_SOON":"Withdraw request expired or expires too soon.","CNL_WITHDRAW_EXPIRED":"Withdraw request expired.","CNL_WITHDRAW_AMOUNT_TOO_LOW":"Withdraw request contains an amount smaller than already withdrawn.","CNL_WITHDRAW_AMOUNT_TOO_HIGH":"Withdraw request contains an amount bigger than channel\'s liquidity.","XFER_EXPIRED":"Transfer expired.","XFER_CHANNEL_CLOSED_PREMATURELY":"Channel was closed before secret got reveiled or transfer unlocked.","XFER_REFUNDED":"Transfer has been refunded.","XFER_INVALID_SECRETREQUEST":"Invalid SecretRequest received","XFER_ALREADY_COMPLETED":"Not waiting for transfer, it\'s already completed.","XFER_REGISTERSECRET_TX_FAILED":"SecretRegistry.registerSecret transaction reverted","TRNS_NO_MATRIX_SERVERS":"Could not contact any Matrix servers.","TRNS_NO_VALID_USER":"Could not find a user with a valid signature.","TRNS_NO_SERVERNAME":"Could not get server name from Matrix server.","TRNS_MESSAGE_SIGNATURE_MISMATCH":"Unable to decode message due to signature mismatch.","RDN_GENERAL_ERROR":"An unknown error occured.","RDN_ASSERT_ERROR":"An unknown assertion failed.","RDN_MINT_FAILED":"Failed to mint tokens.","RDN_MINT_MAINNET":"Minting is only allowed on test networks.","RDN_REGISTER_TOKEN_FAILED":"Failed to register tokens.","RDN_REGISTER_TOKEN_MAINNET":"Registering a token is only allowed on test networks.","RDN_REGISTER_TOKEN_REGISTERED":"Token is already registered.","RDN_APPROVE_TRANSACTION_FAILED":"Approve transaction has failed.","RDN_DEPOSIT_TRANSACTION_FAILED":"Deposit transaction has failed.","RDN_TRANSFER_ONCHAIN_BALANCE_FAILED":"Failed to transfer on-chain balance.","RDN_TRANSFER_ONCHAIN_TOKENS_FAILED":"Failed to transfer on-chain tokens.","RDN_UNRECOGNIZED_NETWORK":"No deploy info provided nor recognized network.","RDN_SIGNER_NOT_CONNECTED":"The signing account is not connected to the provider.","RDN_ACCOUNT_NOT_FOUND":"Account not found in provider.","RDN_STRING_ACCOUNT_INVALID":"String account must be either a 0x-encoded address or private key.","RDN_TRANSACTION_REORG":"Transaction has been mined but got removed by a reorg.","RDN_STATE_MIGRATION":"Could not replace stored state with older, provided state.","RDN_SUBKEY_NOT_SET":"Can\'t send tx from subkey if not set.","RDN_INSUFFICIENT_BALANCE":"Insufficient balance.","RDN_INSUFFICIENT_ALLOWANCE":"Requested allowance smaller than deposit.","RDN_NOT_A_TOKEN":"Not a token contract.","RDN_STATE_ADDRESS_MISMATCH":"Mismatch between provided account and loaded state.","RDN_STATE_NETWORK_MISMATCH":"Mismatch between network or registry address and loaded state","RDN_ALREADY_STARTED":"Already started or stopped!","RDN_UNKNOWN_TOKEN_NETWORK":"Unknown Tokennetwork","RDN_INVALID_SECRET":"Invalid provided secret.","RDN_INVALID_SECRETHASH":"Invalid provided secrethash.","RDN_SECRET_SECRETHASH_MISMATCH":"Provided secrethash must match the sha256 hash of provided secret.","RDN_UNKNOWN_TRANSFER":"Unknown transfer.","RDN_DATABASE_DELETED":"Database deleted!","DTA_NEGATIVE_NUMBER":"Encountered negative number while encoding to HEX string.","DTA_NUMBER_TOO_LARGE":"Encountered a number that is too large to be encoded.","DTA_ARRAY_LENGTH_DIFFERENCE":"Expected length of HEX string differs from integer array input.","DTA_UNENCODABLE_DATA":"Passed data is not a HEX string nor integer array.","DTA_NON_POSITIVE_NUMBER":"Number must be positive.","DTA_INVALID_ADDRESS":"Invalid address parameter.","DTA_INVALID_DEPOSIT":"Invalid deposit parameter.","DTA_INVALID_TIMEOUT":"Invalid timeout parameter.","DTA_INVALID_AMOUNT":"Invalid amount parameter.","DTA_INVALID_PAYMENT_ID":"Invalid payment identifier parameter.","DTA_INVALID_PATH":"Invalid path parameter.","DTA_INVALID_PFS":"Invalid path finding service parameter.","UDC_DEPOSIT_OUTDATED":"The UDC contains a target balance different than requested deposit","UDC_PLAN_WITHDRAW_FAILED":"An error occurred while planning to withdraw from the User Deposit contract.","UDC_PLAN_WITHDRAW_GT_ZERO":"The planned withdraw amount has to be greater than zero.","UDC_PLAN_WITHDRAW_EXCEEDS_AVAILABLE":"The planned withdraw amount exceeds the total amount available for withdrawing.","UDC_WITHDRAW_NO_BALANCE":"There is no balances left to withdraw from UDC.","UDC_WITHDRAW_FAILED":"An error occurred while withdrawing from the UDC.","UDC_WITHDRAW_AUTO_ENABLED":"Interactive UDC withdraw disabled when config.autoUDCWithdraw is enabled; request will be made automatically","UDC_WITHDRAW_NO_PLAN":"No plan currently registered; you must call Raiden.planUDCWithdraw first","UDC_WITHDRAW_TOO_LARGE":"Your current plan is not enough to withdraw the requested amount"}')},a3d5:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("fbcd");function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}var c=function(){function e(){a(this,e)}return i(e,null,[{key:"toEth",value:function(e){return r["c"].formatEther(e)}},{key:"toUnits",value:function(e,t){var n=r["c"].formatUnits(e,t);return 0===t?n.split(".")[0]:n}},{key:"decimalsOverflow",value:function(e,t){var n;return n=e.indexOf(".")>0?e.split(".")[1]:"",n.length>t}},{key:"parse",value:function(e,t){return r["c"].parseUnits(e.endsWith(".")?e.substring(0,e.length-1):e,t)}}]),e}()},a500:function(e,t,n){"use strict";n("6fce")},ad88:function(e,t,n){"use strict";n("8d82")},b4cc:function(e){e.exports=JSON.parse('{"contracts_version":null,"chain_id":3,"contracts":{"ServiceRegistry":{"address":"0x3b47ae7d1B6B73341c7C9238669500DC3EE322c8","transaction_hash":"0x4d02a48e464d2b9d1e15f86e20b9bee240bac2919c0e6671ae3027106f2943b2","block_number":7931820,"gas_cost":1999628,"constructor_arguments":["0x78BaE89c310B2bc53981176a0bc95F6caf1C86d1","0x062C12c01D0f17fC9eAa33940D994594d91a0182",2e+21,6,5,17280000,1000,15552000]},"UserDeposit":{"address":"0x70e27B28Ce6BF060889D6606169B88519edf83E2","transaction_hash":"0x4d6606b19fed986698af1784c2aa37654d94dd32f273a9efc985286092ab02eb","block_number":7931832,"gas_cost":1530470,"constructor_arguments":["0x78BaE89c310B2bc53981176a0bc95F6caf1C86d1",1.157920892373162e+77]},"MonitoringService":{"address":"0xBf86C5d8cC05Ff64419d3cDe505509397869ef06","transaction_hash":"0xde25f2d4a4a7f594c139512a246c9ba006a5f0ce9cd801c3f3d8f6e625411584","block_number":7931856,"gas_cost":1949889,"constructor_arguments":["0x78BaE89c310B2bc53981176a0bc95F6caf1C86d1","0x3b47ae7d1B6B73341c7C9238669500DC3EE322c8","0x70e27B28Ce6BF060889D6606169B88519edf83E2","0xAe40f2c0a6c72498F330a1e4CCF1527D9F028443"]},"OneToN":{"address":"0xCC911b7292157A41170C103E6fE2fE10A3B504F5","transaction_hash":"0xafcf5f55b6bb9845f7ed95079c952fbd13e867e30277cc0455901072e38536b9","block_number":7931882,"gas_cost":1097785,"constructor_arguments":["0x70e27B28Ce6BF060889D6606169B88519edf83E2",3,"0x3b47ae7d1B6B73341c7C9238669500DC3EE322c8"]}}}')},b592:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{staticClass:"header-content pa-0",attrs:{fluid:""}},[r("v-row",{attrs:{align:"center","no-gutters":""}},[r("v-col",{attrs:{cols:"2"}},[e.canNavigateBack?r("v-btn",{attrs:{"data-cy":"header-content_back-button",height:"36px",width:"36px",icon:""},on:{click:function(t){return e.navigateBack()}}},[r("v-img",{attrs:{src:n("0dd2")}})],1):e._e()],1),r("v-col",{staticClass:"header-content__title",attrs:{cols:"auto"}},[r("div",{staticClass:"header-content__title__route"},[r("span",{staticClass:"header-content__title__route__name"},[e._v(e._s(e.$route.meta.title))]),e.availableInfoOverlay&&!e.disableInfoButton?r("v-btn",{staticClass:"header-content__title__route__info",attrs:{icon:"","x-small":""}},[r("v-img",{staticClass:"header-content__title__route__info__icon",attrs:{src:n("8f83"),width:"10px"},on:{click:function(t){return e.showInfo()}}})],1):e._e()],1),e.showNetwork?r("span",{staticClass:"header-content__title__network"},[e._v(e._s(e.network))]):e._e()]),r("v-col",{attrs:{cols:"2"}},[e._t("default")],2)],1)],1)},a=[],o=n("6dbe"),i=n("5cf9"),c=n("94ea");function u(e){return u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),e}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}function m(e){var t=g();return function(){var n,r=j(e);if(t){var a=j(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return v(this,n)}}function v(e,t){return!t||"object"!==u(t)&&"function"!==typeof t?O(e):t}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function j(e){return j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},j(e)}var w=function(e){y(n,e);var t=m(n);function n(){return p(this,n),t.apply(this,arguments)}return b(n,[{key:"showInfo",value:function(){}},{key:"navigateBack",value:function(){}},{key:"availableInfoOverlay",get:function(){var e;return!(null===(e=this.$route.meta)||void 0===e||!e.infoOverlay)}},{key:"canNavigateBack",get:function(){var e;return!this.disableBackButton&&!(null!==(e=this.$route.meta)&&void 0!==e&&e.cannotNavigateBack)}}]),n}(i["g"]);Object(o["b"])([Object(i["e"])({type:Boolean,default:!1})],w.prototype,"disableBackButton",void 0),Object(o["b"])([Object(i["e"])({type:Boolean,default:!1})],w.prototype,"showNetwork",void 0),Object(o["b"])([Object(i["e"])({type:Boolean,default:!1})],w.prototype,"disableInfoButton",void 0),Object(o["b"])([Object(i["b"])()],w.prototype,"showInfo",null),Object(o["b"])([Object(i["b"])()],w.prototype,"navigateBack",null),w=Object(o["b"])([Object(i["a"])({computed:l(l({},Object(c["e"])(["isConnected"])),Object(c["c"])(["network"]))})],w);var _=w,k=_,E=(n("62a5"),n("a6c2")),T=n("411c"),S=n.n(T),A=n("9c46"),x=n("1fb1"),P=n("f56c"),N=n("1331"),R=n("e614"),I=Object(E["a"])(k,r,a,!1,null,"c5165142",null);t["a"]=I.exports;S()(I,{VBtn:A["a"],VCol:x["a"],VContainer:P["a"],VImg:N["a"],VRow:R["a"]})},b8ff:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return l}));var r,a=n("2111"),o=n("0ba5"),i=n("ca14"),c=n("9201");(function(e){e["open"]="open",e["closing"]="closing",e["closed"]="closed",e["settleable"]="settleable",e["settling"]="settling",e["settled"]="settled"})(r||(r={}));var u=a["o"](a["u"]({address:i["a"],deposit:Object(i["l"])(32),withdraw:Object(i["l"])(32),locks:a["p"](c["d"]),balanceProof:Object(i["j"])(c["a"]),pendingWithdraws:a["p"](a["w"]([Object(i["j"])(o["e"]),Object(i["j"])(o["c"]),Object(i["j"])(o["d"])])),nextNonce:Object(i["l"])(8)}),"ChannelEnd"),s=u,l=a["i"]([a["o"](a["u"]({_id:a["r"],id:a["m"],token:i["a"],tokenNetwork:i["a"],settleTimeout:a["m"],isFirstParticipant:a["d"],openBlock:a["m"],own:s,partner:s}),"Channel"),a["w"]([a["o"](a["u"]({state:a["w"]([a["k"](r.open),a["k"](r.closing)])}),"state[open|closing]"),a["i"]([a["o"](a["u"]({closeBlock:a["m"],closeParticipant:i["a"]}),"ChannelClosed"),a["w"]([a["o"](a["u"]({state:a["w"]([a["k"](r.closed),a["k"](r.settleable),a["k"](r.settling)])}),"state[closed|settleable|settling]"),a["o"](a["u"]({state:a["k"](r.settled),settleBlock:a["m"]}),"state[settled]")])])])])},bbb7:function(e,t,n){},bcdd:function(e,t,n){"use strict";n("c12f")},bf6c:function(e){e.exports=JSON.parse('{"sdk":"1.1.0","contracts":"0.37.5"}')},c12f:function(e,t,n){},c50f:function(e,t,n){"use strict";n("0f05")},ca14:function(e,t,n){"use strict";n.d(t,"n",(function(){return g})),n.d(t,"p",(function(){return j})),n.d(t,"b",(function(){return w})),n.d(t,"d",(function(){return _})),n.d(t,"e",(function(){return k})),n.d(t,"l",(function(){return E})),n.d(t,"i",(function(){return T})),n.d(t,"c",(function(){return S})),n.d(t,"h",(function(){return A})),n.d(t,"f",(function(){return x})),n.d(t,"g",(function(){return P})),n.d(t,"a",(function(){return R})),n.d(t,"k",(function(){return I})),n.d(t,"r",(function(){return D})),n.d(t,"s",(function(){return C})),n.d(t,"j",(function(){return L})),n.d(t,"o",(function(){return U})),n.d(t,"q",(function(){return M})),n.d(t,"m",(function(){return B}));var r=n("2d67"),a=n("c00b"),o=n("b97c"),i=n("87b8"),c=n("a91f"),u=n("2111"),s=n("c2c4"),l=n("427e"),f=n.n(l),p=n("ee6c"),d=["ts"];function b(e,t){if(null==e)return{};var n,r,a=y(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function y(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e){if(Object(c["isLeft"])(e))throw new Error(s["PathReporter"].report(e).join("\n"))}function g(e,t,n,r){try{var a=e.decode(t);return O(a),a.right}catch(o){throw null===r||void 0===r||r("__decode failed:",e,t),n?n instanceof Error?n:new p["c"](n):o}}function j(e){return null!=e}var w=new u["b"]("BigNumber",a["a"].isBigNumber,(function(e,t){try{return u["s"](a["a"].from(e))}catch(n){return u["g"](e,t)}}),(function(e){return e.toString()})),_=f()((function(e){return u["e"](u["r"],(function(t){return"string"===typeof t&&(e?Object(o["d"])(t)===e:Object(o["l"])(t))}),"HexString")})),k=f()((function(e){var t=e?i["h"].sub(i["f"].pow(8*e-1)):void 0,n=e?i["f"].pow(8*e-1):void 0;return u["e"](w,(function(e){return w.is(e)&&(!t||!n||e.gte(t)&&e.lt(n))}),"Int")})),E=f()((function(e){var t=e?i["h"]:void 0,n=e?i["f"].pow(8*e):void 0;return u["e"](w,(function(e){return w.is(e)&&(!t||!n||e.gte(t)&&e.lt(n))}),"UInt")})),T=_(65),S=_(32),A=_(32),x=_(32),P=_(65);function N(e){try{return Object(r["a"])(e)===e}catch(t){return!1}}var R=new u["a"]("Address",N,(function(e,t){try{return u["s"](Object(r["a"])(e))}catch(n){return u["g"](e,t)}}),u["h"],_(20),N),I=f()((function(e){return u["i"]([e,u["o"](u["u"]({ts:u["m"]}))])}));function D(e){return m(m({},e),{},{ts:Date.now()})}function C(e){e.ts;var t=b(e,d);return t}var L=f()((function(e){return u["i"]([e,u["o"](u["u"]({signature:T}))])})),U=f()((function(e){return new u["b"]("instanceOf(".concat(e,")"),(function(t){var n;return(null===t||void 0===t||null===(n=t.constructor)||void 0===n?void 0:n.name)===e}),(function(t,n){var r;return(null===t||void 0===t||null===(r=t.constructor)||void 0===r?void 0:r.name)===e?u["s"](t):u["g"](t,n)}),u["h"])}));function M(e){return e[e.length-1]}function B(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return e.lt(t)?t:e}))}},cd49:function(e,t,n){"use strict";n.r(t);var r=n("d74d");r["b"].registerHooks(["beforeRouteEnter","beforeRouteLeave","beforeRouteUpdate"]);n("0f75");r["b"].registerHooks(["beforeRouteEnter","beforeRouteLeave","beforeRouteUpdate"]);var a=n("e832"),o=n("b7e6"),i=n.n(o);function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}var l=function(){function e(){c(this,e),this.cache={}}return s(e,[{key:"getIdenticon",value:function(e){var t=this.cache[e];if(t)return t;var n=i()(e);return this.cache[e]=n,n}}]),e}();function f(e,t){e.prototype.$identicon=new l}var p=n("4af9"),d=n("c217"),b=n.n(d),y=n("e6ee"),h=n.n(y),m=n("79e0"),v=n.n(m),O=n("0cb2"),g=n.n(O),j=n("605b"),w=n.n(j),_=n("fe07"),k=n.n(_),E=n("c38e"),T=n.n(E),S=n("6298"),A=n.n(S),x=n("94ea"),P=n("fbac"),N=n("f455"),R=n("87a2"),I=n("6485");function D(e,t){return t.id-e.id}var C={notifications:function(e){return Object.values(e.notifications).sort(D)},notificationQueue:function(e){return Object.values(e.notifications).filter((function(e){return e.importance===I["a"].HIGH&&!0===e.display})).sort(D)}},L=n("d8a5");function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){B(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F(e){return H(e)||$(e)||V(e)||W()}function W(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function V(e,t){if(e){if("string"===typeof e)return q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?q(e,t):void 0}}function $(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function H(e){if(Array.isArray(e))return q(e)}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function K(e){var t=Object.values(e).map((function(e){return e.id}));return Math.max.apply(Math,F(t).concat([0]))+1}var G,Y={notificationDelete:function(e,t){var n=M({},e.notifications);delete n[t],e.notifications=n},notificationsViewed:function(e){e.newNotifications=!1},notificationAddOrReplace:function(e,t){var n,r,a,o,i,c,u=e.notifications,s=Object.values(u).filter((function(e){var n=e.txHash;return n&&n===t.txHash})),l=null!==(n=null===(r=s[0])||void 0===r?void 0:r.id)&&void 0!==n?n:K(u),f=null===(a=s[0])||void 0===a||!a.id,p=M(M({},t),{},{id:l,received:new Date,display:f,context:null!==(o=t.context)&&void 0!==o?o:L["a"].NONE,importance:null!==(i=t.importance)&&void 0!==i?i:I["a"].LOW,duration:null!==(c=t.duration)&&void 0!==c?c:5e3});e.notifications=M(M({},u),{},B({},p.id,p)),e.newNotifications=!0},setNotificationShown:function(e,t){e.notifications[t].display=!1},clear:function(e){e.notifications=[]}},X=function(){return{notifications:{},newNotifications:!1}},Q=X(),z=Q,J={namespaced:!0,mutations:Y,state:z,getters:C},Z={setTokenAddress:function(e,t){e.tokenAddress=t},setToken:function(e,t){e.token=t},setPlannedWithdrawal:function(e,t){e.plannedWithdrawal=t},clearPlannedWithdrawal:function(e){e.plannedWithdrawal=void 0}},ee=function(){return{tokenAddress:"",token:void 0,plannedWithdrawal:void 0}},te=ee(),ne=te,re={namespaced:!0,mutations:Z,state:ne},ae={getEthereumProviderOptions:function(e){return function(t){var n;return null!==(n=e.ethereumProviderOptions[t])&&void 0!==n?n:{}}}},oe={enableRaidenAccount:function(e){e.useRaidenAccount=!0},disableRaidenAccount:function(e){e.useRaidenAccount=!1},saveEthereumProviderOptions:function(e,t){e.ethereumProviderOptions[t.providerName]=t.providerOptions}},ie=function(){return{useRaidenAccount:!0,ethereumProviderOptions:{}}},ce=ie(),ue=ce,se={namespaced:!0,state:ue,getters:ae,mutations:oe},le=new P["a"]({key:"raiden_dapp_settings",modules:["userSettings"]});function fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(n),!0).forEach((function(t){de(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function de(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function be(e,t){return Oe(e)||ve(e,t)||he(e,t)||ye()}function ye(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function he(e,t){if(e){if("string"===typeof e)return me(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?me(e,t):void 0}}function me(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ve(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function Oe(e){if(Array.isArray(e))return e}a["a"].use(x["b"]);var ge={isConnected:!1,blockNumber:0,defaultAccount:"",accountBalance:"0.0",raidenAccountBalance:"",channels:{},tokens:{},transfers:{},presences:{},network:R["b"],stateBackup:"",config:{},disclaimerAccepted:!1,stateBackupReminderDateMs:0,persistDisclaimerAcceptance:!1,versionInfo:{activeVersion:null!==(G="1.1.0")&&void 0!==G?G:"0.0.0",availableVersion:void 0,updateIsMandatory:!1}};function je(){return h()(ge)}var we=function(e,t){return e.balance&&t.balance&&(!e.balance.isZero()||!t.balance.isZero())},_e=new P["b"]({reducer:function(e){return{disclaimerAccepted:!!e.persistDisclaimerAcceptance&&e.disclaimerAccepted}},filter:function(e){return"acceptDisclaimer"===e.type},key:"disclaimer"}),ke=new P["b"]({reducer:function(e){return{stateBackupReminderDateMs:e.stateBackupReminderDateMs}},filter:function(e){return"updateStateBackupReminderDate"===e.type},key:"backupReminder"}),Ee={state:je(),mutations:{setConnected:function(e){e.isConnected=!0},setDisconnected:function(e){e.isConnected=!1},account:function(e,t){e.defaultAccount=t},updateBlock:function(e,t){e.blockNumber=t},balance:function(e,t){e.accountBalance=t},raidenAccountBalance:function(e,t){e.raidenAccountBalance=t},updateChannels:function(e,t){e.channels=t},updateTokens:function(e,t){for(var n=0,r=Object.entries(t);n<r.length;n++){var a=be(r[n],2),o=a[0],i=a[1];o in e.tokens&&k()(i,e.tokens[o])||(o in e.tokens?e.tokens[o]=pe(pe({},e.tokens[o]),i):e.tokens=pe(pe({},e.tokens),{},de({},o,i)))}},updatePresence:function(e,t){e.presences=pe(pe({},e.presences),t)},network:function(e,t){e.network=t},reset:function(e){var t=e.disclaimerAccepted,n=e.stateBackup,r=e.stateBackupReminderDateMs;Object.assign(e,pe(pe({},je()),{},{disclaimerAccepted:t,stateBackup:n,stateBackupReminderDateMs:r}))},updateTransfers:function(e,t){e.transfers=pe(pe({},e.transfers),{},de({},t.key,t))},backupState:function(e,t){e.stateBackup=t},clearBackupState:function(e){e.stateBackup=""},updateConfig:function(e,t){e.config=t},acceptDisclaimer:function(e,t){e.disclaimerAccepted=!0,e.persistDisclaimerAcceptance=t},updateStateBackupReminderDate:function(e,t){e.stateBackupReminderDateMs=t},setAvailableVersion:function(e,t){b.a.validate(t)&&(e.versionInfo=pe(pe({},e.versionInfo),{},{availableVersion:t}))},setUpdateIsMandatory:function(e){e.versionInfo=pe(pe({},e.versionInfo),{},{updateIsMandatory:!0})}},actions:{},getters:{tokensWithChannels:function(e){for(var t={},n=0,r=Object.entries(e.tokens);n<r.length;n++){var a=be(r[n],2),o=a[0],i=a[1];e.channels[o]&&(t[o]=i)}return t},tokens:function(e){var t=function(e,t){return e.address=t.token,e[t.state]+=1,e};return T()(v()(g()(e.channels),(function(e){return!w()(e)})),(function(n){var r=A()(n,t,Object(R["d"])()),a=e.tokens[r.address];return a&&(r.name=a.name||"",r.symbol=a.symbol||""),r}))},allTokens:function(e){return Object.values(e.tokens).sort((function(e,t){return we(e,t)?t.balance.gt(e.balance)?1:-1:e.symbol&&t.symbol?e.symbol.localeCompare(t.symbol):0}))},channels:function(e){return function(t){var n=[],r=e.channels[t];return r&&!w()(r)&&(n=g()(r)),n}},openChannels:function(e){return Object.keys(e.channels).length>0},token:function(e){return function(t){return t in e.tokens?e.tokens[t]:null}},network:function(e){return Object(N["g"])(e.network)},mainnet:function(e){return 1===e.network.chainId},channelWithBiggestCapacity:function(e,t){return function(e){var n=t.channels(e),r=n.filter((function(e){return e.state===N["b"].open})),a=r.sort((function(e,t){var n=e.capacity.sub(t.capacity);return n.lt(0)?1:n.gt(0)?-1:0}));return a[0]}},pendingTransfers:function(e){var t=e.transfers;return Object.keys(t).filter((function(e){var n=t[e].completed;return!n})).reduce((function(e,n){return e[n]=t[n],e}),{})},transfer:function(e){return function(t){return Object.values(e.transfers).find((function(e){return e.paymentId.eq(t)}))}},versionUpdateAvailable:function(e){var t=e.versionInfo,n=t.activeVersion,r=t.availableVersion;return!!n&&!!r&&b.a.compare(r,n,">")}},plugins:[le.plugin,_e.plugin,ke.plugin],modules:{notifications:J,userDepositContract:re,userSettings:se}},Te=new x["b"].Store(Ee),Se=n("80bf");function Ae(e,t,r){null===t.name?r({name:Se["a"].HOME}):e.matched.length&&(e.matched[0].components.default=t.matched[0].components.default,e.matched[0].components.modal=function(){return n.e("chunk-3cb28422").then(n.bind(null,"47f5"))}),r()}var xe=[Se["a"].ACCOUNT_ROOT,Se["a"].ACCOUNT_BACKUP,Se["a"].ACCOUNT_SETTINGS],Pe=function(e,t){var n,r=t.state.isConnected,a=xe.includes(null!==(n=e.name)&&void 0!==n?n:""),o=e.name===Se["a"].HOME;if(!a)return r||o?!r&&o?null:r&&o?{name:Se["a"].TRANSFER}:void 0:{name:Se["a"].HOME,query:{redirectTo:e.fullPath}}},Ne=function(e,t){var n=t.state.disclaimerAccepted,r=e.name===Se["a"].DISCLAIMER;return n||r?!n&&r?null:n&&r?{name:Se["a"].HOME}:void 0:{name:Se["a"].DISCLAIMER,query:{redirectTo:e.fullPath}}};function Re(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Ie(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function Ie(e,t){if(e){if("string"===typeof e)return De(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?De(e,t):void 0}}function De(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ce(e,t,n){var r,a=Re(this.children);try{for(a.s();!(r=a.n()).done;){var o=r.value,i=o(e,this.store);if(null===i)return void n();if(void 0!==i)return void n(i)}}catch(c){a.e(c)}finally{a.f()}n({})}var Le=[Se["a"].ACCOUNT_ROOT,Se["a"].ACCOUNT_BACKUP,Se["a"].ACCOUNT_RAIDEN,Se["a"].ACCOUNT_SETTINGS,Se["a"].ACCOUNT_WITHDRAWAL,Se["a"].ACCOUNT_UDC],Ue=[Se["a"].SELECT_TOKEN,Se["a"].SELECT_HUB,Se["a"].OPEN_CHANNEL],Me=function(e,t){var n,r,a=t.getters.tokensWithChannels,o=0===Object.keys(a).length,i=e.name===Se["a"].NO_CONNECTED_TOKEN,c=Le.includes(null!==(n=e.name)&&void 0!==n?n:""),u=Ue.includes(null!==(r=e.name)&&void 0!==r?r:"");if(!c)return u?null:o&&!i?{name:Se["a"].NO_CONNECTED_TOKEN}:o&&i?null:!o&&i?{name:Se["a"].TRANSFER}:void 0};function Be(e,t,r){null===t.name?r({name:Se["a"].HOME}):e.matched.length&&(e.matched[0].components.default=t.matched[0].components.default,e.matched[0].components.notifications=function(){return n.e("chunk-4c8285c4").then(n.bind(null,"c284"))}),r()}var Fe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"disclaimer",attrs:{"data-cy":"disclaimer"}},[n("div",{staticClass:"disclaimer__content"},[n("div",{staticClass:"disclaimer__content__text"},[n("span",{staticClass:"disclaimer__content__text__header"},[e._v(" "+e._s(e.$t("disclaimer.user-info.header"))+" ")]),n("span",{staticClass:"disclaimer__content__text__body"},[e._v(e._s(e.$t("disclaimer.user-info.body")))]),n("div",e._l(e.$t("disclaimer.user-info.bullet-points"),(function(t,r){return n("ul",{key:r,staticClass:"disclaimer__content__text__bullet-points"},[n("li",[e._v(" "+e._s(t.text)+" "),n("a",{attrs:{href:e.disclaimerUrlMappings[r],target:"_blank"}},[e._v(" "+e._s(t.link)+" ")])])])})),0),e.imprint&&e.terms?n("span",{staticClass:"disclaimer__content__text__header, imprint_terms_header"},[e._v(" "+e._s(e.$t("disclaimer.terms.header"))+" ")]):e._e(),e.imprint&&e.terms?n("i18n",{staticClass:"disclaimer__content__text__imprint-terms-body",attrs:{path:"disclaimer.terms.body",tag:"span"}},[n("a",{attrs:{href:e.terms,target:"_blank"}},[e._v(" "+e._s(e.$t("disclaimer.terms.link-name-terms"))+" ")]),n("a",{attrs:{href:e.imprint,target:"_blank"}},[e._v(" "+e._s(e.$t("disclaimer.terms.link-name-policy"))+" ")])]):e._e(),n("span",{staticClass:"disclaimer__content__text__header"},[e._v(" "+e._s(e.$t("disclaimer.disclaimer.header"))+" ")]),n("span",{staticClass:"disclaimer__content__text__body"},[e._v(e._s(e.$t("disclaimer.disclaimer.body")))]),n("span",{staticClass:"disclaimer__content__text__header"},[e._v(" "+e._s(e.$t("disclaimer.privacy.header"))+" ")]),e._l(e.$t("disclaimer.privacy.body"),(function(t,r){return n("div",{key:r,staticClass:"disclaimer__content__text__body"},[n("span",[e._v(e._s(t))])])}))],2),n("v-checkbox",{staticClass:"disclaimer__content__accept-checkbox",attrs:{"data-cy":"disclaimer_accept_checkbox",label:e.$t("disclaimer.accept-checkbox"),dense:"","hide-details":""},model:{value:e.checkedAccept,callback:function(t){e.checkedAccept=t},expression:"checkedAccept"}}),n("v-checkbox",{staticClass:"disclaimer__content__persist-checkbox",attrs:{"data-cy":"disclaimer_persist_checkbox",label:e.$t("disclaimer.persist-checkbox"),dense:"","hide-details":""},model:{value:e.checkedPersist,callback:function(t){e.checkedPersist=t},expression:"checkedPersist"}})],1),n("action-button",{staticClass:"disclaimer__accept-button",attrs:{text:e.$t("disclaimer.accept-button"),"data-cy":"disclaimer_accept_button",enabled:e.checkedAccept,"full-width":"",sticky:""},on:{click:e.accept}})],1)},We=[],Ve=n("6dbe"),$e=n("5cf9"),He=n("750b");function qe(e){return qe="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qe(e)}function Ke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ye(e,t,n){return t&&Ge(e.prototype,t),n&&Ge(e,n),e}function Xe(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qe(e,t)}function Qe(e,t){return Qe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Qe(e,t)}function ze(e){var t=et();return function(){var n,r=tt(e);if(t){var a=tt(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Je(this,n)}}function Je(e,t){return!t||"object"!==qe(t)&&"function"!==typeof t?Ze(e):t}function Ze(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function et(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function tt(e){return tt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},tt(e)}var nt=function(e){Xe(n,e);var t=ze(n);function n(){var e;return Ke(this,n),e=t.apply(this,arguments),e.checkedAccept=!1,e.checkedPersist=!1,e.disclaimerUrlMappings={portal:"https://developer.raiden.network",docs:"https://docs.raiden.network",videos:"https://www.youtube.com/channel/UCoUP_hnjUddEvbxmtNCcApg",medium:"https://medium.com/@raiden_network"},e}return Ye(n,[{key:"imprint",get:function(){return"https://raiden.network/privacy.html"}},{key:"terms",get:function(){return"https://github.com/raiden-network/light-client/blob/master/TERMS.md"}},{key:"navigationTarget",get:function(){var e=this.$route.query.redirectTo;return e?{path:e}:{name:Se["a"].HOME}}},{key:"accept",value:function(){this.$store.commit("acceptDisclaimer",this.checkedPersist),this.$router.push(this.navigationTarget)}}]),n}($e["g"]);nt=Object(Ve["b"])([Object($e["a"])({components:{ActionButton:He["a"]}})],nt);var rt=nt,at=rt,ot=(n("ad88"),n("a6c2")),it=n("411c"),ct=n.n(it),ut=n("0591"),st=Object(ot["a"])(at,Fe,We,!1,null,"1dd09c60",null),lt=st.exports;ct()(st,{VCheckbox:ut["a"]});var ft=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"home",attrs:{fluid:"","data-cy":"home"}},[r("v-row",{attrs:{"no-gutters":""}},[r("v-col",{attrs:{cols:"12"}},[r("div",{staticClass:"home__logo-container"},[r("v-img",{staticClass:"home__logo-container__logo",attrs:{src:n("9b19"),"aspect-ratio":"1",contain:""}})],1)])],1),r("v-row",{attrs:{"no-gutters":""}},[r("v-col",{attrs:{cols:"12"}},[r("div",{staticClass:"home__app-welcome text-center"},[e._v(" "+e._s(e.$t("home.welcome"))+" ")])])],1),r("v-row",{attrs:{"no-gutters":""}},[r("v-col",{attrs:{cols:"12"}},[r("div",{staticClass:"home__disclaimer text-center font-weight-light"},[e._v(" "+e._s(e.$t("home.disclaimer"))+" ")]),r("i18n",{staticClass:"home__getting-started text-center font-weight-light",attrs:{path:"home.getting-started.description",tag:"div"}},[r("a",{attrs:{href:"https://github.com/raiden-network/light-client#try-out-the-raiden-dapp",target:"_blank"}},[e._v(" "+e._s(e.$t("home.getting-started.link-name"))+" ")])])],1)],1),r("v-row",{attrs:{"no-gutters":""}},[r("v-col",{staticClass:"mt-10",attrs:{cols:"12"}},[r("connection-manager")],1)],1)],1)},pt=[],dt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"connection-manager"},[n("v-alert",{staticClass:"connection-manager__error-message font-weight-light",class:{"connection-manager__error-message--hidden":!e.errorCode},attrs:{color:"error",icon:"warning"}},[e._v(" "+e._s(e.translatedErrorCode)+" ")]),e.showProviderButtons?[e._l(e.providerList,(function(t,r){return[e.isProviderDisabled(r)?e._e():n("action-button",{key:"button_"+r,staticClass:"connection-manager__provider-dialog-button",attrs:{"data-cy":"connection-manager__provider-dialog-button__"+r,enabled:t.factory.isAvailable,text:e.$t(t.buttonText),width:"280px"},on:{click:function(t){return e.openProviderDialog(r)}}})]}))]:e._e(),e._l(e.providerList,(function(t,r){return[e.isProviderDialogVisible(r)?n(t.dialogComponent,{key:"dialog_"+r,tag:"component",on:{linkEstablished:e.onProviderLinkEstablished,cancel:function(t){return e.closeProviderDialog(r)}}}):e._e()]})),e.inProgress?[n("connection-pending-dialog",{on:{"reset-connection":e.resetConnection}})]:e._e()],2)},bt=[],yt=n("36d8"),ht=n.n(yt),mt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("raiden-dialog",{attrs:{visible:!0,"hide-close":!0}},[n("v-card-title",[e._v(" "+e._s(e.$t("connection-manager.dialogs.connection-pending.title"))+" ")]),n("v-card-text",[n("spinner"),e._v(" "+e._s(e.$t("connection-manager.dialogs.connection-pending.text"))+" ")],1),n("v-card-actions",[n("action-button",{attrs:{text:e.$t("connection-manager.dialogs.connection-pending.button"),enabled:!0},on:{click:e.resetConnection}})],1)],1)},vt=[],Ot=n("66bc"),gt=n("0527");function jt(e){return jt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jt(e)}function wt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kt(e,t,n){return t&&_t(e.prototype,t),n&&_t(e,n),e}function Et(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Tt(e,t)}function Tt(e,t){return Tt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Tt(e,t)}function St(e){var t=Pt();return function(){var n,r=Nt(e);if(t){var a=Nt(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return At(this,n)}}function At(e,t){return!t||"object"!==jt(t)&&"function"!==typeof t?xt(e):t}function xt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Nt(e){return Nt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Nt(e)}var Rt=function(e){Et(n,e);var t=St(n);function n(){return wt(this,n),t.apply(this,arguments)}return kt(n,[{key:"resetConnection",value:function(){}}]),n}($e["g"]);Object(Ve["b"])([Object($e["b"])("reset-connection")],Rt.prototype,"resetConnection",null),Rt=Object(Ve["b"])([Object($e["a"])({components:{ActionButton:He["a"],RaidenDialog:Ot["a"],Spinner:gt["a"]}})],Rt);var It=Rt,Dt=It,Ct=n("e47e"),Lt=Object(ot["a"])(Dt,mt,vt,!1,null,null,null),Ut=Lt.exports;ct()(Lt,{VCardActions:Ct["a"],VCardText:Ct["c"],VCardTitle:Ct["d"]});var Mt,Bt=n("2fca"),Ft=n("87b1");function Wt(e){return Wt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wt(e)}function Vt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $t(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vt(Object(n),!0).forEach((function(t){sn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ht(e,t){return Xt(e)||Yt(e,t)||Kt(e,t)||qt()}function qt(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Kt(e,t){if(e){if("string"===typeof e)return Gt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Gt(e,t):void 0}}function Gt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Yt(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function Xt(e){if(Array.isArray(e))return e}function Qt(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function zt(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Qt(o,r,a,i,c,"next",e)}function c(e){Qt(o,r,a,i,c,"throw",e)}i(void 0)}))}}function Jt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function en(e,t,n){return t&&Zt(e.prototype,t),n&&Zt(e,n),e}function tn(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nn(e,t)}function nn(e,t){return nn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},nn(e,t)}function rn(e){var t=cn();return function(){var n,r=un(e);if(t){var a=un(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return an(this,n)}}function an(e,t){return!t||"object"!==Wt(t)&&"function"!==typeof t?on(e):t}function on(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cn(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function un(e){return un=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},un(e)}function sn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ln(e){return e instanceof Bt["b"]?R["a"].DEPLOYMENT_INFO_PARSING_FAILED:e.message&&e.message.includes("No deploy info provided")?R["a"].UNSUPPORTED_NETWORK:e.message&&e.message.includes("Could not replace stored state")?R["a"].STATE_MIGRATION_FAILED:R["a"].SDK_INITIALIZATION_FAILED}var fn=Object(x["a"])("userSettings"),pn=fn.mapState,dn=(Mt={},sn(Mt,Ft["b"].providerName,{factory:Ft["b"],buttonText:"connection-manager.dialogs.injected-provider.header",dialogComponent:function(){return n.e("chunk-999b6682").then(n.bind(null,"073a"))}}),sn(Mt,Ft["c"].providerName,{factory:Ft["c"],buttonText:"connection-manager.dialogs.wallet-connect-provider.header",dialogComponent:function(){return Promise.all([n.e("chunk-8c002adc"),n.e("chunk-60216f0b")]).then(n.bind(null,"f634"))}}),sn(Mt,Ft["a"].providerName,{factory:Ft["a"],buttonText:"connection-manager.dialogs.direct-rpc-provider.header",dialogComponent:function(){return Promise.all([n.e("chunk-8c002adc"),n.e("chunk-2d0ac3da")]).then(n.bind(null,"1962"))}}),Mt),bn=function(e){tn(n,e);var t=rn(n);function n(){var e;return Jt(this,n),e=t.apply(this,arguments),e.inProgress=!1,e.errorCode=null,e.providerList=dn,e.providerDialogOpenState=Object.fromEntries(Object.keys(e.providerList).map((function(e){return[e,!1]}))),e.providerDisabledState=Object.fromEntries(Object.keys(e.providerList).map((function(e){return[e,!0]}))),e}return en(n,[{key:"showProviderButtons",get:function(){return!this.isConnected&&!this.inProgress}},{key:"translatedErrorCode",get:function(){if(this.errorCode){var e="error-codes.".concat(this.errorCode.toString());return this.$t(e)}return""}},{key:"isProviderDisabled",value:function(e){var t;return null===(t=this.providerDisabledState[e])||void 0===t||t}},{key:"isProviderDialogVisible",value:function(e){var t;return null!==(t=this.providerDialogOpenState[e])&&void 0!==t&&t}},{key:"openProviderDialog",value:function(e){this.providerDialogOpenState[e]=!0}},{key:"closeProviderDialog",value:function(e){this.providerDialogOpenState[e]=!1}},{key:"created",value:function(){this.checkForDisabledProviders()}},{key:"checkForDisabledProviders",value:function(){var e=zt(ht.a.mark((function e(){var t,n,r,a=this;return ht.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(t=function(){var e=Ht(r[n],2),t=e[0],o=e[1];o.factory.isDisabled().then((function(e){a.providerDisabledState[t]=e}))},n=0,r=Object.entries(this.providerList);n<r.length;n++)t();case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"closeAllProviderDialogs",value:function(){this.providerDialogOpenState=Object.fromEntries(Object.keys(this.providerDialogOpenState).map((function(e){return[e,!1]})))}},{key:"onProviderLinkEstablished",value:function(){var e=zt(ht.a.mark((function e(t){return ht.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.closeAllProviderDialogs(),e.next=3,this.connect(t);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"connect",value:function(){var e=zt(ht.a.mark((function e(t){var n,r,a;return ht.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.isConnected&&!this.inProgress){e.next=2;break}throw new Error("Can only connect once!");case 2:return this.inProgress=!0,this.errorCode=null,this.$store.commit("reset"),e.next=7,Bt["a"].configuration();case 7:return n=e.sent,r=!!this.useRaidenAccount||void 0,e.next=11,t.provider.getNetwork();case 11:a=e.sent,a.chainId,e.next=16;break;case 16:return e.prev=16,e.next=19,this.$raiden.connect(t.provider,t.account,this.stateBackup,n.per_network,r);case 19:e.next=26;break;case 21:return e.prev=21,e.t0=e["catch"](16),this.errorCode=ln(e.t0),this.inProgress=!1,e.abrupt("return");case 26:this.$store.commit("setConnected"),this.$store.commit("clearBackupState");case 28:case"end":return e.stop()}}),e,this,[[16,21]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"resetConnection",value:function(){localStorage.removeItem("walletconnect"),window.location.replace(window.location.origin)}}]),n}($e["g"]);bn=Object(Ve["b"])([Object($e["a"])({computed:$t($t({},Object(x["e"])(["isConnected","stateBackup"])),pn(["useRaidenAccount"])),components:{ActionButton:He["a"],ConnectionPendingDialog:Ut}})],bn);var yn=bn,hn=yn,mn=(n("7522"),n("36c4")),vn=Object(ot["a"])(hn,dt,bt,!1,null,"ae48f47a",null),On=vn.exports;function gn(e){return gn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gn(e)}function jn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jn(Object(n),!0).forEach((function(t){_n(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function En(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tn(e,t,n){return t&&En(e.prototype,t),n&&En(e,n),e}function Sn(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&An(e,t)}function An(e,t){return An=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},An(e,t)}function xn(e){var t=Rn();return function(){var n,r=In(e);if(t){var a=In(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Pn(this,n)}}function Pn(e,t){return!t||"object"!==gn(t)&&"function"!==typeof t?Nn(e):t}function Nn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Rn(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function In(e){return In=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},In(e)}ct()(vn,{VAlert:mn["a"]});var Dn=function(e){Sn(n,e);var t=xn(n);function n(){return kn(this,n),t.apply(this,arguments)}return Tn(n,[{key:"navigationTarget",get:function(){var e=this.$route.query.redirectTo;return e?{path:e}:{name:Se["a"].TRANSFER}}},{key:"onConnectionEstablished",value:function(e){e&&this.$router.push(this.navigationTarget)}}]),n}($e["g"]);Object(Ve["b"])([Object($e["h"])("isConnected",{immediate:!0})],Dn.prototype,"onConnectionEstablished",null),Dn=Object(Ve["b"])([Object($e["a"])({computed:wn({},Object(x["e"])(["isConnected"])),components:{ConnectionManager:On}})],Dn);var Cn=Dn,Ln=Cn,Un=(n("e3b7"),n("1fb1")),Mn=n("1331"),Bn=n("e614"),Fn=Object(ot["a"])(Ln,ft,pt,!1,null,"11491f22",null),Wn=Fn.exports;ct()(Fn,{VCol:Un["a"],VImg:Mn["a"],VRow:Bn["a"]});var Vn=[{path:"/",name:Se["a"].DISCLAIMER,meta:{title:"Disclaimer",cannotNavigateBack:!0},component:lt},{path:"*",redirect:"/"},{path:"/home",name:Se["a"].HOME,meta:{title:"Raiden dApp",cannotNavigateBack:!0},component:Wn},{path:"/no_connected_token",name:Se["a"].NO_CONNECTED_TOKEN,meta:{title:"Connect",cannotNavigateBack:!0},component:function(){return n.e("chunk-2d0abce7").then(n.bind(null,"179d"))}},{path:"/transfer/:token?",name:Se["a"].TRANSFER,meta:{title:"Transfer",cannotNavigateBack:!0,infoOverlay:{headerImage:"transfer_info.svg",header:"info-overlay.transfer.header",body:"info-overlay.transfer.body"}},component:function(){return Promise.all([n.e("chunk-04c2b6fd"),n.e("chunk-8fd06258"),n.e("chunk-7dc38c0e"),n.e("chunk-5ce170fe"),n.e("chunk-89f7f25c")]).then(n.bind(null,"ded4"))}},{path:"/transfer/:token/:target",name:Se["a"].TRANSFER_STEPS,meta:{title:"Transfer",infoOverlay:{headerImage:"transfer_steps_info.svg",header:"info-overlay.transfer-steps.header",body:"info-overlay.transfer-steps.body"}},component:function(){return Promise.all([n.e("chunk-04c2b6fd"),n.e("chunk-8fd06258"),n.e("chunk-7dc38c0e"),n.e("chunk-82932f58")]).then(n.bind(null,"146c"))}},{path:"/connect",name:Se["a"].SELECT_TOKEN,meta:{title:"Select Token"},component:function(){return Promise.all([n.e("chunk-04c2b6fd"),n.e("chunk-59dffb81")]).then(n.bind(null,"eb67"))}},{path:"/connect/:token",name:Se["a"].SELECT_HUB,meta:{title:"Select Hub",infoOverlay:{headerImage:"select_hub_info.svg",header:"info-overlay.select-hub.header",body:"info-overlay.select-hub.body"}},component:function(){return Promise.all([n.e("chunk-8fd06258"),n.e("chunk-5ce170fe"),n.e("chunk-a0bacd38")]).then(n.bind(null,"5876"))}},{path:"/connect/:token/:partner",name:Se["a"].OPEN_CHANNEL,meta:{title:"Open Channel",infoOverlay:{headerImage:"open_channel_info.svg",header:"info-overlay.open-channel.header",body:"info-overlay.open-channel.body"}},component:function(){return Promise.all([n.e("chunk-8fd06258"),n.e("chunk-7dc38c0e"),n.e("chunk-7fab0987")]).then(n.bind(null,"9db2"))}},{path:"/channels/:token",name:Se["a"].CHANNELS,meta:{title:"Channels",infoOverlay:{headerImage:"channels_info.svg",header:"info-overlay.channels.header",body:"info-overlay.channels.body"}},component:function(){return Promise.all([n.e("chunk-04c2b6fd"),n.e("chunk-8fd06258"),n.e("chunk-7dc38c0e"),n.e("chunk-4171b9d9")]).then(n.bind(null,"3a90"))}},{path:"/notifications",name:Se["a"].NOTIFICATIONS,beforeEnter:Be},{path:"/account",beforeEnter:Ae,children:[{path:"/",name:Se["a"].ACCOUNT_ROOT,meta:{title:"Account"},component:function(){return Promise.all([n.e("chunk-04c2b6fd"),n.e("chunk-4bec154f")]).then(n.bind(null,"f18d"))}},{path:"backup",name:Se["a"].ACCOUNT_BACKUP,meta:{title:"Backup State",infoOverlay:{headerImage:"backup_state_info.svg",header:"info-overlay.account-backup.header",body:"info-overlay.account-backup.body"}},component:function(){return Promise.all([n.e("chunk-04c2b6fd"),n.e("chunk-61ac107b")]).then(n.bind(null,"248bd"))}},{path:"raiden",name:Se["a"].ACCOUNT_RAIDEN,meta:{title:"Raiden Account",infoOverlay:{headerImage:"transfer_eth_info.svg",header:"info-overlay.account-raiden.header",body:"info-overlay.account-raiden.body"}},component:function(){return Promise.all([n.e("chunk-8fd06258"),n.e("chunk-f5e06b08")]).then(n.bind(null,"9114"))}},{path:"settings",name:Se["a"].ACCOUNT_SETTINGS,meta:{title:"Settings"},component:function(){return Promise.all([n.e("chunk-04c2b6fd"),n.e("chunk-27ac4652")]).then(n.bind(null,"5d16"))}},{path:"withdrawal",name:Se["a"].ACCOUNT_WITHDRAWAL,meta:{title:"Withdrawal",infoOverlay:{headerImage:"withdraw_tokens_info.svg",header:"info-overlay.account-withdrawal.header",body:"info-overlay.account-withdrawal.body"}},component:function(){return Promise.all([n.e("chunk-04c2b6fd"),n.e("chunk-42809e5a")]).then(n.bind(null,"c917"))}},{path:"udc",name:Se["a"].ACCOUNT_UDC,meta:{title:"UDC",infoOverlay:{headerImage:"udc_info.svg",header:"info-overlay.account-udc.header",body:"info-overlay.account-udc.body"}},component:function(){return Promise.all([n.e("chunk-8fd06258"),n.e("chunk-110e9004")]).then(n.bind(null,"4c07"))}}]}];a["a"].use(p["a"]);var $n=new p["a"]({base:"/",mode:"hash",routes:Vn});$n.beforeEach(Ce.bind({store:Te,children:[Ne,Pe,Me]}));var Hn=$n,qn=n("22b7"),Kn=n("fbcd"),Gn=n("590d"),Yn=n("996a"),Xn=n("009f"),Qn=n("573d"),zn=n.n(Qn),Jn=n("2726");function Zn(){var e=n("49f8"),t={};return e.keys().forEach((function(n){var r=n.match(/([A-Za-z0-9-_]+)\./i);if(r&&r.length>1){var a=r[1];t[a]=e(n)}})),t}a["a"].use(Jn["a"]);var er=new Jn["a"]({locale:"en",fallbackLocale:"en",messages:Zn()}),tr=n("a3d5");function nr(e){return nr="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nr(e)}function rr(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fr(e,t)}function ar(e){var t=sr();return function(){var n,r=pr(e);if(t){var a=pr(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return or(this,n)}}function or(e,t){return!t||"object"!==nr(t)&&"function"!==typeof t?ir(e):t}function ir(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cr(e){var t="function"===typeof Map?new Map:void 0;return cr=function(e){if(null===e||!lr(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return ur(e,arguments,pr(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),fr(n,e)},cr(e)}function ur(e,t,n){return ur=sr()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var a=Function.bind.apply(e,r),o=new a;return n&&fr(o,n.prototype),o},ur.apply(null,arguments)}function sr(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function lr(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function fr(e,t){return fr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},fr(e,t)}function pr(e){return pr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},pr(e)}function dr(e,t){return hr(e)||yr(e,t)||jr(e,t)||br()}function br(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function yr(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function hr(e){if(Array.isArray(e))return e}function mr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mr(Object(n),!0).forEach((function(t){Or(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Or(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gr(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=jr(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function jr(e,t){if(e){if("string"===typeof e)return wr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wr(e,t):void 0}}function wr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _r(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function kr(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){_r(o,r,a,i,c,"next",e)}function c(e){_r(o,r,a,i,c,"throw",e)}i(void 0)}))}}function Er(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Sr(e,t,n){return t&&Tr(e.prototype,t),n&&Tr(e,n),e}function Ar(e){return void 0===e?er.t("notifications.tx-state-pending"):e?er.t("notifications.tx-state-confirmed"):""}var xr=function(){function e(t,n){var r=this;Er(this,e),this._userDepositTokenAddress="",this.disconnect=kr(ht.a.mark((function e(){return ht.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r.raiden.stop();case 2:case"end":return e.stop()}}),e)}))),this.getAccount=function(){return r.raiden.address},this.getMainAccount=function(){return r.raiden.mainAddress},this._raiden=void 0,this.store=t,this.router=n}return Sr(e,[{key:"raiden",get:function(){if(void 0===this._raiden)throw new Error("Raiden instance was not initialized");return this._raiden}},{key:"updateBalances",value:function(){var e=kr(ht.a.mark((function e(){return ht.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=this.store,e.next=3,this.getBalance();case 3:return e.t1=e.sent,e.t0.commit.call(e.t0,"balance",e.t1),e.t2=this.store,e.next=8,this.getBalance(this.raiden.address);case 8:e.t3=e.sent,e.t2.commit.call(e.t2,"raidenAccountBalance",e.t3);case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"fetchTokenList",value:function(){var e=kr(ht.a.mark((function e(){var t,n,r,a,o,i;return ht.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.getTokenList();case 2:t=e.sent,n=[],r={},a=gr(t);try{for(a.s();!(o=a.n()).done;)i=o.value,n.push(i),r[i]={address:i}}catch(c){a.e(c)}finally{a.f()}return this.store.commit("updateTokens",r),e.next=10,this.fetchAndUpdateTokenData(n);case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"monitoringReward",get:function(){return this.raiden.config.monitoringReward}},{key:"ensResolve",value:function(){var e=kr(ht.a.mark((function e(t){return ht.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.raiden.resolveName(t);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e["catch"](0),new Pr(e.t0);case 9:case"end":return e.stop()}}),e,this,[[0,6]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"connect",value:function(){var t=kr(ht.a.mark((function t(n,r,a){var o,i,c,u,s=this,l=arguments;return ht.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return o=l.length>3&&void 0!==l[3]?l[3]:{},i=l.length>4?l[4]:void 0,t.next=4,e.createRaiden(n,r,a,i);case 4:return c=t.sent,this._raiden=c,this.usingSubkey=null!==i&&void 0!==i&&i,u=this.getAccount(),this.store.commit("account",u),t.next=11,c.userDepositTokenAddress();case 11:return this._userDepositTokenAddress=t.sent,this.store.commit("userDepositContract/setTokenAddress",this._userDepositTokenAddress),t.next=15,this.monitorPreSetTokens(o);case 15:return c.events$.subscribe((function(e){"block/new"===e.type&&s.store.commit("updateBlock",e.payload.blockNumber)})),c.events$.pipe(Object(Yn["a"])((function(e){return"block/new"===e.type})),Object(Xn["a"])((function(){return s.updateUserDepositContractToken()}))).subscribe(),c.events$.pipe(Object(Yn["a"])((function(e){return"raiden/shutdown"===e.type}))).subscribe((function(){s.store.commit("reset"),s.router.push({name:Se["a"].HOME})})),c.config$.subscribe(function(){var e=kr(ht.a.mark((function e(t){var n;return ht.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(s.store.commit("updateConfig",t),null!==(n=t.caps)&&void 0!==n&&n[N["a"].RECEIVE]){e.next=4;break}return e.next=4,s.notifyNoReceive();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c.events$.subscribe(function(){var e=kr(ht.a.mark((function e(t){return ht.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("token/monitored"!==t.type){e.next=5;break}s.store.commit("updateTokens",Or({},t.payload.token,{address:t.payload.token})),s.fetchAndUpdateTokenData([t.payload.token]),e.next=47;break;case 5:if("matrix/presence/success"!==t.type){e.next=9;break}s.store.commit("updatePresence",Or({},t.meta.address,t.payload.available)),e.next=47;break;case 9:if("ms/balanceProof/sent"!==t.type){e.next=16;break}if(t.payload.confirmed){e.next=12;break}return e.abrupt("return");case 12:return e.next=14,s.notifyBalanceProofSend(t.payload.monitoringService,t.payload.partner,t.payload.reward,t.payload.txHash);case 14:e.next=47;break;case 16:if("udc/withdraw/success"!==t.type){e.next=23;break}if(t.payload.confirmed){e.next=19;break}return e.abrupt("return");case 19:return e.next=21,s.notifyWithdrawal(t.meta.amount,t.payload.withdrawal);case 21:e.next=47;break;case 23:if("udc/withdraw/plan/failure"!==t.type){e.next=28;break}return e.next=26,s.notifyWithdrawalFailure(t.payload.code,t.meta.amount,t.payload.message);case 26:e.next=47;break;case 28:if("channel/settle/success"!==t.type){e.next=34;break}if(!t.payload.confirmed){e.next=32;break}return e.next=32,s.notifyChannelSettleSuccess(t.meta.partner);case 32:e.next=47;break;case 34:if("channel/settle/failure"!==t.type){e.next=39;break}return e.next=37,s.notifyChannelSettleFailure(t.meta.partner);case 37:e.next=47;break;case 39:if("channel/open/success"!==t.type){e.next=44;break}return e.next=42,s.notifyChannelOpenSuccess(t.payload.txBlock,t.payload.txHash,t.payload.confirmed,t.meta.partner);case 42:e.next=47;break;case 44:if("channel/open/failure"!==t.type){e.next=47;break}return e.next=47,s.notifyChannelOpenFailed(t.payload.message);case 47:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c.events$.subscribe((function(e){s.updatePlannedUserDepositWithdrawals(e)})),c.channels$.subscribe((function(e){s.store.commit("updateChannels",e)})),c.transfers$.subscribe((function(e){s.store.commit("updateTransfers",e)})),this.store.commit("network",c.network),window.addEventListener("beforeunload",(function(e){return e.preventDefault(),""})),t.next=27,c.start();case 27:return t.t0=this.store,t.next=30,this.getBalance();case 30:if(t.t1=t.sent,t.t0.commit.call(t.t0,"balance",t.t1),!i){t.next=38;break}return t.t2=this.store,t.next=36,this.getBalance(c.address);case 36:t.t3=t.sent,t.t2.commit.call(t.t2,"raidenAccountBalance",t.t3);case 38:case"end":return t.stop()}}),t,this)})));function n(e,n,r){return t.apply(this,arguments)}return n}()},{key:"notifyNoReceive",value:function(){var e=kr(ht.a.mark((function e(){return ht.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.store.commit("notifications/notificationAddOrReplace",{icon:er.t("notifications.no-receive.icon"),title:er.t("notifications.no-receive.title"),description:er.t("notifications.no-receive.description"),importance:I["a"].HIGH,context:L["a"].WARNING});case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"monitorPreSetTokens",value:function(){var e=kr(ht.a.mark((function e(t){var n,r,a,o,i,c,u;return ht.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=this.raiden.network.chainId,o=null!==(n=null===(r=t[a])||void 0===r?void 0:r.monitored)&&void 0!==n?n:[],i=gr(o),e.prev=3,i.s();case 5:if((c=i.n()).done){e.next=11;break}return u=c.value,e.next=9,this.raiden.monitorToken(u);case 9:e.next=5;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](3),i.e(e.t0);case 16:return e.prev=16,i.f(),e.finish(16);case 19:case"end":return e.stop()}}),e,this,[[3,13,16,19]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"notifyWithdrawalFailure",value:function(){var e=kr(ht.a.mark((function e(t,n,r){var a,o,i,c,u,s;return ht.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(["UDC_PLAN_WITHDRAW_GT_ZERO","UDC_PLAN_WITHDRAW_EXCEEDS_AVAILABLE","UDC_PLAN_WITHDRAW_FAILED"].indexOf(t)>=0)){e.next=2;break}return e.abrupt("return");case 2:o=this.store.state.userDepositContract.token,i=null!==(a=o.decimals)&&void 0!==a?a:18,c=tr["a"].toUnits(n,i),u="string"===typeof t?er.t("notifications.withdrawal.failure.descriptions.".concat(t),{amount:c,symbol:o.symbol}):void 0,s=u||er.t("notifications.withdrawal.failure.description",{amount:c,symbol:o.symbol,message:r}),this.store.commit("notifications/notificationAddOrReplace",{title:er.t("notifications.withdrawal.failure.title"),description:s,context:L["a"].ERROR,importance:I["a"].HIGH});case 8:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"notifyWithdrawal",value:function(){var e=kr(ht.a.mark((function e(t,n){var r,a,o,i,c,u;return ht.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=this.store.state.userDepositContract.token,o=null!==(r=a.decimals)&&void 0!==r?r:18,i=tr["a"].toUnits(t,o),c=tr["a"].toUnits(n,o),u={icon:er.t("notifications.withdrawn.icon"),title:er.t("notifications.withdrawn.title"),description:er.t("notifications.withdrawn.description",{plannedAmount:i,withdrawnAmount:c,symbol:a.symbol}),context:L["a"].INFO,importance:I["a"].HIGH},this.usingSubkey&&(u=vr(vr({},u),{},{link:er.t("notifications.withdrawn.link"),dappRoute:Se["a"].ACCOUNT_WITHDRAWAL})),this.store.commit("notifications/notificationAddOrReplace",u);case 7:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"notifyBalanceProofSend",value:function(){var e=kr(ht.a.mark((function e(t,n,r,a){var o,i,c,u;return ht.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:i=this.store.state.userDepositContract.token,c=null!==(o=i.decimals)&&void 0!==o?o:18,u=tr["a"].toUnits(r,c),this.store.commit("notifications/notificationAddOrReplace",{title:er.t("notifications.ms-balance-proof.title"),description:er.t("notifications.ms-balance-proof.description",{monitoringService:t,partner:n,reward:u,symbol:i.symbol,txHash:a}),context:L["a"].INFO,importance:I["a"].HIGH});case 4:case"end":return e.stop()}}),e,this)})));function t(t,n,r,a){return e.apply(this,arguments)}return t}()},{key:"notifyChannelSettleSuccess",value:function(){var e=kr(ht.a.mark((function e(t){var n;return ht.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=er.t("notifications.settlement.success.description",{partner:t}),this.store.commit("notifications/notificationAddOrReplace",{title:er.t("notifications.settlement.success.title"),description:n,icon:er.t("notifications.settlement.icon"),context:L["a"].NONE,importance:I["a"].HIGH});case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"notifyChannelSettleFailure",value:function(){var e=kr(ht.a.mark((function e(t){return ht.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.store.commit("notifications/notificationAddOrReplace",{title:er.t("notifications.settlement.failure.title"),description:er.t("notifications.settlement.failure.description",{partner:t}),icon:er.t("notifications.settlement.icon"),context:L["a"].NONE,importance:I["a"].HIGH});case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"notifyChannelOpenSuccess",value:function(){var e=kr(ht.a.mark((function e(t,n,r,a){var o,i,c,u,s,l,f,p,d,b;return ht.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:c=null!==(o=null===(i=this.store.state.config)||void 0===i?void 0:i.confirmationBlocks)&&void 0!==o?o:0,u=t+c,s=er.t("notifications.channel-open.icon"),l="",f="",void 0===r||!0===r?(l=er.t("notifications.channel-open.success.title"),p=Ar(r),f=er.t("notifications.channel-open.success.description",{partner:a,state:p})):(d=er.t("notifications.tx-reorged-failure-reason"),l=er.t("notifications.channel-open.failure.title"),f=er.t("notifications.channel-open.failure.description",{reason:d})),b={title:l,description:f,icon:s,txHash:n,txConfirmationBlock:u,importance:I["a"].HIGH},this.store.commit("notifications/notificationAddOrReplace",b);case 8:case"end":return e.stop()}}),e,this)})));function t(t,n,r,a){return e.apply(this,arguments)}return t}()},{key:"notifyChannelOpenFailed",value:function(){var e=kr(ht.a.mark((function e(t){return ht.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.store.commit("notifications/notificationAddOrReplace",{title:er.t("notifications.channel-open.failure.title"),description:er.t("notifications.channel-open.failure.description",{reason:t}),icon:er.t("notifications.channel-open.icon"),importance:I["a"].HIGH});case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"updatePlannedUserDepositWithdrawals",value:function(){var e=kr(ht.a.mark((function e(t){return ht.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:"udc/withdraw/plan/success"===t.type?!1===t.payload.confirmed?this.store.commit("userDepositContract/clearPlannedWithdrawal"):this.store.commit("userDepositContract/setPlannedWithdrawal",{txHash:t.payload.txHash,txBlock:t.payload.txBlock,amount:t.meta.amount,withdrawBlock:t.payload.block,confirmed:t.payload.confirmed}):"udc/withdraw/success"===t.type&&t.payload.confirmed&&this.store.commit("userDepositContract/clearPlannedWithdrawal");case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getBalance",value:function(){var e=kr(ht.a.mark((function e(t){var n;return ht.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.getBalance(t);case 2:return n=e.sent,e.abrupt("return",tr["a"].toEth(n));case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getToken",value:function(){var e=kr(ht.a.mark((function e(t){var n,r,a,o,i,c,u,s;return ht.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=this.raiden,e.prev=1,e.next=4,Promise.all([n.getTokenBalance(t),n.getTokenInfo(t)]);case 4:return r=e.sent,a=dr(r,2),o=a[0],i=a[1],c=i.decimals,u=i.symbol,s=i.name,e.abrupt("return",{name:s,symbol:u,balance:o,decimals:c,address:t});case 14:return e.prev=14,e.t0=e["catch"](1),e.abrupt("return",null);case 17:case"end":return e.stop()}}),e,this,[[1,14]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"openChannel",value:function(){var e=kr(ht.a.mark((function e(t,n,r,a){var o,i;return ht.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=function(e,t){a&&a({current:e,total:t})},i=this.raiden,o(1,3),e.next=5,i.openChannel(t,n,{deposit:r},(function(e){return e.type===N["d"].OPENED?o(2,3):""}));case 5:case"end":return e.stop()}}),e,this)})));function t(t,n,r,a){return e.apply(this,arguments)}return t}()},{key:"closeChannel",value:function(){var e=kr(ht.a.mark((function e(t,n){return ht.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.closeChannel(t,n);case 2:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"deposit",value:function(){var e=kr(ht.a.mark((function e(t,n,r){return ht.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.depositChannel(t,n,r);case 2:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"withdraw",value:function(){var e=kr(ht.a.mark((function e(t,n,r){return ht.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.withdrawChannel(t,n,r);case 2:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"settleChannel",value:function(){var e=kr(ht.a.mark((function e(t,n){return ht.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.settleChannel(t,n);case 2:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"updateUserDepositContractToken",value:function(){var e=kr(ht.a.mark((function e(){var t;return ht.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getToken(this._userDepositTokenAddress);case 2:t=e.sent,this.store.commit("userDepositContract/setToken",t);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"fetchAndUpdateTokenData",value:function(){var e=kr(ht.a.mark((function e(){var t,n,r=this,a=arguments;return ht.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=a.length>0&&void 0!==a[0]?a[0]:Object.values(this.store.state.tokens).map((function(e){return e.address})),t.length){e.next=3;break}return e.abrupt("return");case 3:return n=function(){var e=kr(ht.a.mark((function e(t){return ht.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",r.getToken(t).then((function(e){e&&r.store.commit("updateTokens",Or({},e.address,e))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.next=6,zn()(6,t,n);case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"transfer",value:function(){var e=kr(ht.a.mark((function e(t,n,r,a,o){var i;return ht.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.transfer(t,n,r,{paymentId:o,paths:a});case 2:return i=e.sent,e.next=5,this.raiden.waitTransfer(i);case 5:case"end":return e.stop()}}),e,this)})));function t(t,n,r,a,o){return e.apply(this,arguments)}return t}()},{key:"findRoutes",value:function(){var e=kr(ht.a.mark((function e(t,n,r,a){return ht.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.findRoutes(t,n,r,{pfs:a});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t,n,r,a){return e.apply(this,arguments)}return t}()},{key:"fetchServices",value:function(){var e=kr(ht.a.mark((function e(){return ht.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.findPFS();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"directRoute",value:function(){var e=kr(ht.a.mark((function e(t,n,r){return ht.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.directRoute(t,n,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"mint",value:function(){var e=kr(ht.a.mark((function e(t,n){return ht.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.mint(t,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"depositToUDC",value:function(){var e=kr(ht.a.mark((function e(t,n){return ht.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.depositToUDC(t,(function(e){return e.type===N["d"].APPROVED?n():null}));case 2:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"planUDCWithdraw",value:function(){var e=kr(ht.a.mark((function e(t){return ht.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.raiden.planUDCWithdraw(t));case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getUDCCapacity",value:function(){var e=kr(ht.a.mark((function e(){return ht.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.raiden.getUDCCapacity());case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getAvailability",value:function(){var e=kr(ht.a.mark((function e(t){var n,r;return ht.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.raiden.getAvailability(t);case 3:return n=e.sent,r=n.available,e.abrupt("return",r);case 8:e.prev=8,e.t0=e["catch"](0),this.store.commit("updatePresence",Or({},t,!1));case 11:return e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,this,[[0,8]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"stopAndGetDatabaseDump",value:function(){var e=kr(ht.a.mark((function e(){return ht.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this._raiden.stop(),e.abrupt("return",this._raiden.dumpDatabase());case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"transferToRaidenAccount",value:function(){var e=kr(ht.a.mark((function e(t){return ht.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.transferOnchainBalance(this.raiden.address,Kn["c"].parseEther(t));case 2:return e.next=4,this.updateBalances();case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"transferToMainAccount",value:function(){var e=kr(ht.a.mark((function e(t){var n;return ht.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=this.raiden.mainAddress,!n){e.next=6;break}return e.next=4,this.raiden.transferOnchainBalance(n,Kn["c"].parseEther(t),{subkey:!0});case 4:return e.next=6,this.updateBalances();case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"transferOnChainTokens",value:function(){var e=kr(ht.a.mark((function e(t,n){var r;return ht.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=this.raiden.mainAddress,r){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,this.raiden.transferOnchainTokens(t,r,n,{subkey:!0});case 5:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"getRaidenAccountBalances",value:function(){var e=kr(ht.a.mark((function e(){var t,n,r,a,o,i,c,u=this;return ht.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.raiden,t.mainAddress){e.next=3;break}return e.abrupt("return",[]);case 3:return e.next=5,t.getTokenList();case 5:return n=e.sent,r={},a=function(){var e=kr(ht.a.mark((function e(n){return ht.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t.getTokenBalance(n,t.address).then((function(e){e.gt(Kn["a"].Zero)&&(r[n]={address:n,balance:e})})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.next=10,zn()(6,n,a);case 10:if(o={},Object.keys(r).forEach((function(e){var t=u.store.state.tokens[e];t&&(o[e]=vr(vr({},t),r[e]),delete r[e])})),i=function(){var e=kr(ht.a.mark((function e(n){return ht.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t.getTokenInfo(n).then((function(e){o[n]=vr(vr({},e),r[n])})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c=Object.keys(r),!(c.length>0)){e.next=17;break}return e.next=17,zn()(6,c,i);case 17:return e.abrupt("return",Object.values(o));case 18:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"monitorToken",value:function(){var e=kr(ht.a.mark((function e(t){return ht.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.monitorToken(t);case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getTokenBalance",value:function(){var e=kr(ht.a.mark((function e(t,n){var r;return ht.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.getTokenBalance(t,n);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"getSuggestedPartners",value:function(){var e=kr(ht.a.mark((function e(t){return ht.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.suggestPartners(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}],[{key:"createRaiden",value:function(){var e=kr(ht.a.mark((function e(t){var r,a,o,i,c,u,s,l,f,p=arguments;return ht.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=p.length>1&&void 0!==p[1]?p[1]:0,a=p.length>2?p[2]:void 0,o=p.length>3?p[3]:void 0,i={state:a},"cordova-sqlite"!==Object({VUE_APP_ALLOW_MAINNET:"true",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",VUE_APP_TERMS:"https://github.com/raiden-network/light-client/blob/master/TERMS.md",VUE_APP_CONFIGURATION_URL:"config.production.json",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",VUE_APP_SERVICE_WORKER_DISABLED:"false",BASE_URL:"/"}).VUE_APP_DB_ADAPTER){e.next=12;break}return e.next=7,n.e("chunk-2f161406").then(n.t.bind(null,"09f4",7));case 7:c=e.sent,u=c.default,Gn["a"].plugin(u),s=qn["a"].getPlatform(),"android"===s?i=vr(vr({},i),{},{adapter:"cordova-sqlite",location:"default"}):"ios"===s&&(i=vr(vr({},i),{},{adapter:"cordova-sqlite",iosDatabaseLocation:"Library"}));case 12:return e.next=14,Bt["a"].contracts();case 14:return l=e.sent,e.prev=15,e.next=18,N["f"].create(t,r,i,null!==(f=Object({VUE_APP_ALLOW_MAINNET:"true",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",VUE_APP_TERMS:"https://github.com/raiden-network/light-client/blob/master/TERMS.md",VUE_APP_CONFIGURATION_URL:"config.production.json",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",VUE_APP_SERVICE_WORKER_DISABLED:"false",BASE_URL:"/"}).VUE_APP_UDC_ADDRESS)&&void 0!==f?f:l,vr(vr(vr(vr(vr({pfsSafetyMargin:1.1},Object({VUE_APP_ALLOW_MAINNET:"true",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",VUE_APP_TERMS:"https://github.com/raiden-network/light-client/blob/master/TERMS.md",VUE_APP_CONFIGURATION_URL:"config.production.json",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",VUE_APP_SERVICE_WORKER_DISABLED:"false",BASE_URL:"/"}).VUE_APP_PFS?{pfsMode:N["e"].onlyAdditional,additionalServices:[Object({VUE_APP_ALLOW_MAINNET:"true",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",VUE_APP_TERMS:"https://github.com/raiden-network/light-client/blob/master/TERMS.md",VUE_APP_CONFIGURATION_URL:"config.production.json",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",VUE_APP_SERVICE_WORKER_DISABLED:"false",BASE_URL:"/"}).VUE_APP_PFS]}:{}),{},{matrixServer:Object({VUE_APP_ALLOW_MAINNET:"true",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",VUE_APP_TERMS:"https://github.com/raiden-network/light-client/blob/master/TERMS.md",VUE_APP_CONFIGURATION_URL:"config.production.json",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",VUE_APP_SERVICE_WORKER_DISABLED:"false",BASE_URL:"/"}).VUE_APP_MATRIX_SERVER,matrixServerLookup:Object({VUE_APP_ALLOW_MAINNET:"true",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",VUE_APP_TERMS:"https://github.com/raiden-network/light-client/blob/master/TERMS.md",VUE_APP_CONFIGURATION_URL:"config.production.json",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",VUE_APP_SERVICE_WORKER_DISABLED:"false",BASE_URL:"/"}).VUE_APP_MATRIX_LIST_URL},Object({VUE_APP_ALLOW_MAINNET:"true",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",VUE_APP_TERMS:"https://github.com/raiden-network/light-client/blob/master/TERMS.md",VUE_APP_CONFIGURATION_URL:"config.production.json",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",VUE_APP_SERVICE_WORKER_DISABLED:"false",BASE_URL:"/"}).VUE_APP_REVEAL_TIMEOUT&&+Object({VUE_APP_ALLOW_MAINNET:"true",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",VUE_APP_TERMS:"https://github.com/raiden-network/light-client/blob/master/TERMS.md",VUE_APP_CONFIGURATION_URL:"config.production.json",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",VUE_APP_SERVICE_WORKER_DISABLED:"false",BASE_URL:"/"}).VUE_APP_REVEAL_TIMEOUT?{revealTimeout:+Object({VUE_APP_ALLOW_MAINNET:"true",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",VUE_APP_TERMS:"https://github.com/raiden-network/light-client/blob/master/TERMS.md",VUE_APP_CONFIGURATION_URL:"config.production.json",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",VUE_APP_SERVICE_WORKER_DISABLED:"false",BASE_URL:"/"}).VUE_APP_REVEAL_TIMEOUT}:void 0),Object({VUE_APP_ALLOW_MAINNET:"true",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",VUE_APP_TERMS:"https://github.com/raiden-network/light-client/blob/master/TERMS.md",VUE_APP_CONFIGURATION_URL:"config.production.json",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",VUE_APP_SERVICE_WORKER_DISABLED:"false",BASE_URL:"/"}).VUE_APP_SETTLE_TIMEOUT&&+Object({VUE_APP_ALLOW_MAINNET:"true",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",VUE_APP_TERMS:"https://github.com/raiden-network/light-client/blob/master/TERMS.md",VUE_APP_CONFIGURATION_URL:"config.production.json",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",VUE_APP_SERVICE_WORKER_DISABLED:"false",BASE_URL:"/"}).VUE_APP_SETTLE_TIMEOUT?{settleTimeout:+Object({VUE_APP_ALLOW_MAINNET:"true",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",VUE_APP_TERMS:"https://github.com/raiden-network/light-client/blob/master/TERMS.md",VUE_APP_CONFIGURATION_URL:"config.production.json",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",VUE_APP_SERVICE_WORKER_DISABLED:"false",BASE_URL:"/"}).VUE_APP_SETTLE_TIMEOUT}:void 0),Object({VUE_APP_ALLOW_MAINNET:"true",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",VUE_APP_TERMS:"https://github.com/raiden-network/light-client/blob/master/TERMS.md",VUE_APP_CONFIGURATION_URL:"config.production.json",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",VUE_APP_SERVICE_WORKER_DISABLED:"false",BASE_URL:"/"}).VUE_APP_CONFIRMATION_BLOCKS&&+Object({VUE_APP_ALLOW_MAINNET:"true",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",VUE_APP_TERMS:"https://github.com/raiden-network/light-client/blob/master/TERMS.md",VUE_APP_CONFIGURATION_URL:"config.production.json",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",VUE_APP_SERVICE_WORKER_DISABLED:"false",BASE_URL:"/"}).VUE_APP_CONFIRMATION_BLOCKS?{confirmationBlocks:+Object({VUE_APP_ALLOW_MAINNET:"true",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",VUE_APP_TERMS:"https://github.com/raiden-network/light-client/blob/master/TERMS.md",VUE_APP_CONFIGURATION_URL:"config.production.json",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",VUE_APP_SERVICE_WORKER_DISABLED:"false",BASE_URL:"/"}).VUE_APP_CONFIRMATION_BLOCKS}:void 0),Object({VUE_APP_ALLOW_MAINNET:"true",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",VUE_APP_TERMS:"https://github.com/raiden-network/light-client/blob/master/TERMS.md",VUE_APP_CONFIGURATION_URL:"config.production.json",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",VUE_APP_SERVICE_WORKER_DISABLED:"false",BASE_URL:"/"}).VUE_APP_EXPIRY_FACTOR&&+Object({VUE_APP_ALLOW_MAINNET:"true",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",VUE_APP_TERMS:"https://github.com/raiden-network/light-client/blob/master/TERMS.md",VUE_APP_CONFIGURATION_URL:"config.production.json",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",VUE_APP_SERVICE_WORKER_DISABLED:"false",BASE_URL:"/"}).VUE_APP_EXPIRY_FACTOR?{expiryFactor:+Object({VUE_APP_ALLOW_MAINNET:"true",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",VUE_APP_TERMS:"https://github.com/raiden-network/light-client/blob/master/TERMS.md",VUE_APP_CONFIGURATION_URL:"config.production.json",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",VUE_APP_SERVICE_WORKER_DISABLED:"false",BASE_URL:"/"}).VUE_APP_EXPIRY_FACTOR}:void 0),o,Object({VUE_APP_ALLOW_MAINNET:"true",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",VUE_APP_TERMS:"https://github.com/raiden-network/light-client/blob/master/TERMS.md",VUE_APP_CONFIGURATION_URL:"config.production.json",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",VUE_APP_SERVICE_WORKER_DISABLED:"false",BASE_URL:"/"}).VUE_APP_SUBKEY_ORIGIN_URL);case 18:return e.abrupt("return",e.sent);case 21:throw e.prev=21,e.t0=e["catch"](15),new Nr(e.t0);case 24:case"end":return e.stop()}}),e,null,[[15,21]])})));function t(t){return e.apply(this,arguments)}return t}()}]),e}(),Pr=function(e){rr(n,e);var t=ar(n);function n(){return Er(this,n),t.apply(this,arguments)}return n}(cr(Error)),Nr=function(e){rr(n,e);var t=ar(n);function n(){return Er(this,n),t.apply(this,arguments)}return n}(cr(Error));function Rr(e,t){e.prototype.$raiden=new xr(Te,Hn)}var Ir,Dr,Cr,Lr=n("47c8"),Ur=n.n(Lr);function Mr(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function Br(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Mr(o,r,a,i,c,"next",e)}function c(e){Mr(o,r,a,i,c,"throw",e)}i(void 0)}))}}function Fr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(function(e){e["INSTALLATION_ERROR"]="installation_error",e["RELOAD_WINDOW"]="reload_window",e["CACHE_IS_INVALID"]="cache_is_invalid"})(Ir||(Ir={})),function(e){e["UPDATE"]="update",e["VERIFY_CACHE"]="verify_cache"}(Dr||(Dr={}));var Wr,Vr=(null!==(Cr="/")&&void 0!==Cr?Cr:"/")+"version.json",$r=function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:36e5,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e4;Fr(this,e),this.store=t,this.update=function(){var e;navigator.serviceWorker&&(null===(e=navigator.serviceWorker.controller)||void 0===e||e.postMessage(Dr.UPDATE))},this.onMessage=function(e){if(e.data)switch(e.data){case Ir.INSTALLATION_ERROR:case Ir.CACHE_IS_INVALID:n.setUpdateIsMandatory();break;case Ir.RELOAD_WINDOW:n.reloadWindow();break;default:break}},this.updateAvailableVersion=Br(ht.a.mark((function e(){var t,r,a;return ht.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(Vr);case 3:return t=e.sent,e.next=6,t.json();case 6:if(r=e.sent,a=r.version.version,!b.a.validate(a)){e.next=12;break}n.store.commit("setAvailableVersion",a),e.next=13;break;case 12:throw new Error("Maleformed version string: ".concat(a));case 13:e.next=18;break;case 15:e.prev=15,e.t0=e["catch"](0),console.warn("Failed to get (a valid) version: ".concat(e.t0.message));case 18:case"end":return e.stop()}}),e,null,[[0,15]])}))),this.verifyCacheValidity=function(){var e;null===(e=navigator.serviceWorker.controller)||void 0===e||e.postMessage(Dr.VERIFY_CACHE)},this.reloadWindow=function(){window.location.reload()},this.setUpdateIsMandatory=function(){n.store.commit("setUpdateIsMandatory")},navigator.serviceWorker&&(navigator.serviceWorker.addEventListener("message",this.onMessage),this.updateAvailableVersion(),setInterval(this.updateAvailableVersion,r),setInterval(this.verifyCacheValidity,a))};function Hr(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function qr(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Hr(o,r,a,i,c,"next",e)}function c(e){Hr(o,r,a,i,c,"throw",e)}i(void 0)}))}}var Kr=Ur.a.join(null!==(Wr="/")&&void 0!==Wr?Wr:"/","service-worker.js");function Gr(){var e=!!navigator.serviceWorker.controller;e||navigator.serviceWorker.register(Kr)}function Yr(e,t){return Xr.apply(this,arguments)}function Xr(){return Xr=qr(ht.a.mark((function e(t,n){return ht.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.prototype.$serviceWorkerAssistant=new $r(Te),"serviceWorker"in navigator&&(window.onload=Gr);case 2:case"end":return e.stop()}}),e)}))),Xr.apply(this,arguments)}n("8935"),n("8b61"),n("4fa6");var Qr=n("8d28");a["a"].use(Qr["a"]);var zr=new Qr["a"]({icons:{iconfont:"mdi"},theme:{options:{customProperties:!0},dark:!0,themes:{dark:{notification:"#ea6464",primary:"#28A5C8",secondary:"#0A6E87",pending:"#fdd327",success:"#1dc512",failed:"#ea6464"}}}}),Jr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",{attrs:{dark:""}},[n("install-banner"),n("div",{attrs:{id:"application-wrapper"}},[n("router-view",{attrs:{name:"modal"}}),n("transition",{attrs:{name:"slide"}},[n("router-view",{attrs:{name:"notifications"}})],1),n("div",{attrs:{id:"application-content"}},[n("app-header"),n("v-main",[n("v-container",{staticClass:"application__container fill-height",attrs:{fluid:""}},[n("router-view")],1)],1)],1)],1),e.imprint&&e.terms?n("div",{staticClass:"imprint"},[n("a",{staticClass:"imprint__policy",attrs:{href:e.imprint,target:"_blank"}},[e._v(" "+e._s(e.$t("application.privacy-policy"))+" ")]),n("a",{staticClass:"imprint__terms",attrs:{href:e.terms,target:"_blank"}},[e._v(" "+e._s(e.$t("application.terms"))+" ")])]):e._e(),n("offline-snackbar"),n("update-snackbar"),n("receiving-ongoing-snackbar"),n("notification-snackbar")],1)},Zr=[],ea=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"app-header"},[e.showInfoOverlay?r("info-overlay",{on:{"close-overlay":function(t){e.showInfoOverlay=!1}}}):e._e(),r("header-content",{staticClass:"app-header__content",attrs:{"show-network":!e.showTitleOnly},on:{"show-info":function(t){e.showInfoOverlay=!0},"navigate-back":function(t){return e.navigateBack()}}},[r("div",{staticClass:"app-header__content__icons"},[e.showTitleOnly?e._e():r("v-btn",{staticClass:"app-header__content__icons__notifications-button",attrs:{"data-cy":"app-header_content_icons_notifications-button",icon:"",height:"30px",width:"25px"},nativeOn:{click:function(t){return e.notificationPanel()}}},[e.newNotifications?r("v-badge",{attrs:{color:"notification",overlap:"",bordered:"",dot:""}},[r("v-img",{attrs:{height:"30px",width:"25px",src:n("db7b")}})],1):r("v-img",{attrs:{height:"30px",width:"25px",src:n("db7b")}})],1),e.isDisclaimerRoute?e._e():r("header-identicon",{staticClass:"app-header__content__icons__identicon",attrs:{"data-cy":"app-header_content_icons_identicon"},nativeOn:{click:function(t){return e.accountMenu()}}})],1)])],1)},ta=[],na=n("b592"),ra=n("233e"),aa=n("6af0"),oa=n("152b");function ia(e){return ia="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ia(e)}function ca(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ua(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ca(Object(n),!0).forEach((function(t){sa(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ca(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function la(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pa(e,t,n){return t&&fa(e.prototype,t),n&&fa(e,n),e}function da(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ba(e,t)}function ba(e,t){return ba=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ba(e,t)}function ya(e){var t=va();return function(){var n,r=Oa(e);if(t){var a=Oa(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ha(this,n)}}function ha(e,t){return!t||"object"!==ia(t)&&"function"!==typeof t?ma(e):t}function ma(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function va(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Oa(e){return Oa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Oa(e)}var ga=Object(x["a"])("notifications"),ja=ga.mapState,wa=ga.mapMutations,_a=function(e){da(n,e);var t=ya(n);function n(){var e;return la(this,n),e=t.apply(this,arguments),e.showInfoOverlay=!1,e}return pa(n,[{key:"isDisclaimerRoute",get:function(){return this.$route.name===Se["a"].DISCLAIMER}},{key:"showTitleOnly",get:function(){return this.isDisclaimerRoute||!this.isConnected}},{key:"navigateBack",value:function(){this.onBackClicked()}},{key:"notificationPanel",value:function(){this.notificationsViewed(),this.navigateToNotifications(),this.showInfoOverlay=!1}},{key:"accountMenu",value:function(){this.navigateToAccount(),this.showInfoOverlay=!1}}]),n}(Object($e["c"])(oa["a"]));_a=Object(Ve["b"])([Object($e["a"])({components:{InfoOverlay:aa["a"],HeaderContent:na["a"],HeaderIdenticon:ra["a"]},computed:ua(ua({},Object(x["e"])(["isConnected"])),ja(["newNotifications"])),methods:ua({},wa(["notificationsViewed"]))})],_a);var ka=_a,Ea=ka,Ta=(n("727f"),n("4675")),Sa=n("9c46"),Aa=Object(ot["a"])(Ea,ea,ta,!1,null,"ea324d9c",null),xa=Aa.exports;ct()(Aa,{VBadge:Ta["a"],VBtn:Sa["a"],VImg:Mn["a"]});var Pa=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.visible?n("v-banner",{staticClass:"install-banner",attrs:{color:"#1e1e1e","two-line":""},scopedSlots:e._u([{key:"actions",fn:function(t){var r=t.dismiss;return[n("v-btn",{staticClass:"install-banner__install-button",attrs:{dark:"",text:"",outlined:""},on:{click:e.install}},[e._v(" "+e._s(e.$t("install-banner.install"))+" ")]),n("v-btn",{staticClass:"install-banner__dismiss-button",attrs:{dark:"",text:"",outlined:""},on:{click:r}},[e._v(" "+e._s(e.$t("install-banner.dismiss"))+" ")])]}}],null,!1,3359785919)},[e.$vuetify.breakpoint.mobile?[e._v(" "+e._s(e.$t("install-banner.message-mobile"))+" ")]:[e._v(" "+e._s(e.$t("install-banner.message-desktop"))+" ")]],2):e._e()},Na=[];function Ra(e){return Ra="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ra(e)}function Ia(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function Da(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Ia(o,r,a,i,c,"next",e)}function c(e){Ia(o,r,a,i,c,"throw",e)}i(void 0)}))}}function Ca(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function La(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ua(e,t,n){return t&&La(e.prototype,t),n&&La(e,n),e}function Ma(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ba(e,t)}function Ba(e,t){return Ba=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ba(e,t)}function Fa(e){var t=$a();return function(){var n,r=Ha(e);if(t){var a=Ha(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Wa(this,n)}}function Wa(e,t){return!t||"object"!==Ra(t)&&"function"!==typeof t?Va(e):t}function Va(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $a(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Ha(e){return Ha=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ha(e)}var qa=function(e){Ma(n,e);var t=Fa(n);function n(){var e;return Ca(this,n),e=t.apply(this,arguments),e.visible=!1,e.installEvent=void 0,e}return Ua(n,[{key:"created",value:function(){window.addEventListener("beforeinstallprompt",this.onBeforeInstallPrompt)}},{key:"onBeforeInstallPrompt",value:function(e){e.preventDefault(),this.installEvent=e,this.visible=!0}},{key:"install",value:function(){var e=Da(ht.a.mark((function e(){return ht.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.installEvent){e.next=2;break}return e.abrupt("return");case 2:return this.visible=!1,e.next=5,this.installEvent.prompt();case 5:this.installEvent=void 0;case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),n}($e["g"]);qa=Object(Ve["b"])([$e["a"]],qa);var Ka=qa,Ga=Ka,Ya=n("1a6b"),Xa=Object(ot["a"])(Ga,Pa,Na,!1,null,null,null),Qa=Xa.exports;ct()(Xa,{VBanner:Ya["a"],VBtn:Sa["a"]});var za=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.isVisible?r("v-snackbar",{staticClass:"notification-snackbar",attrs:{value:e.isVisible,timeout:e.notificationToShow.duration,app:"",rounded:"","max-width":"550px",color:"primary"},on:{input:e.dismiss},scopedSlots:e._u([{key:"action",fn:function(t){var n=t.attrs;return[r("v-btn",e._b({attrs:{"data-cy":"notification-snackbar__dismiss-button",icon:"",left:""},on:{click:function(t){return e.dismiss()}}},"v-btn",n,!1),[r("v-icon",[e._v("mdi-close")])],1)]}}],null,!1,2634841300),model:{value:e.notificationToShow.display,callback:function(t){e.$set(e.notificationToShow,"display",t)},expression:"notificationToShow.display"}},[r("div",{staticClass:"notification-snackbar__area",on:{click:e.open}},[r("img",{attrs:{src:n("4cd4")}}),r("span",{staticClass:"notification-snackbar__area__title"},[e._v(" "+e._s(e.notificationToShow.title)+" ")])])]):e._e()},Ja=[];function Za(e){return Za="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Za(e)}function eo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function to(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eo(Object(n),!0).forEach((function(t){no(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function no(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ro(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ao(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oo(e,t,n){return t&&ao(e.prototype,t),n&&ao(e,n),e}function io(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&co(e,t)}function co(e,t){return co=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},co(e,t)}function uo(e){var t=fo();return function(){var n,r=po(e);if(t){var a=po(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return so(this,n)}}function so(e,t){return!t||"object"!==Za(t)&&"function"!==typeof t?lo(e):t}function lo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fo(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function po(e){return po=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},po(e)}var bo=Object(x["a"])("notifications"),yo=bo.mapGetters,ho=bo.mapMutations,mo=function(e){io(n,e);var t=uo(n);function n(){return ro(this,n),t.apply(this,arguments)}return oo(n,[{key:"notificationToShow",get:function(){return this.notificationQueue[0]}},{key:"isVisible",get:function(){return void 0!==this.notificationToShow}},{key:"dismiss",value:function(){this.notificationToShow&&this.setNotificationShown(this.notificationToShow.id)}},{key:"open",value:function(){this.dismiss(),this.navigateToNotifications()}}]),n}(Object($e["c"])(oa["a"]));mo=Object(Ve["b"])([Object($e["a"])({computed:to({},yo(["notificationQueue"])),methods:to({},ho(["setNotificationShown"]))})],mo);var vo=mo,Oo=vo,go=(n("a2b8"),n("b503")),jo=n("5dee"),wo=Object(ot["a"])(Oo,za,Ja,!1,null,"020e2213",null),_o=wo.exports;ct()(wo,{VBtn:Sa["a"],VIcon:go["a"],VSnackbar:jo["a"]});var ko=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.offline?n("span",[n("blurred-overlay",{attrs:{show:e.offline,fullscreen:!0}}),n("v-snackbar",{attrs:{timeout:-1,color:"error"},model:{value:e.offline,callback:function(t){e.offline=t},expression:"offline"}},[e._v(" "+e._s(e.$t("general.offline"))+" "),n("v-icon",[e._v("mdi-alert")])],1)],1):e._e()},Eo=[],To=n("0a08");function So(e){return So="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},So(e)}function Ao(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Po(e,t,n){return t&&xo(e.prototype,t),n&&xo(e,n),e}function No(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ro(e,t)}function Ro(e,t){return Ro=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ro(e,t)}function Io(e){var t=Lo();return function(){var n,r=Uo(e);if(t){var a=Uo(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Do(this,n)}}function Do(e,t){return!t||"object"!==So(t)&&"function"!==typeof t?Co(e):t}function Co(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lo(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Uo(e){return Uo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Uo(e)}var Mo=function(e){No(n,e);var t=Io(n);function n(){var e;return Ao(this,n),e=t.apply(this,arguments),e.offline=!1,e}return Po(n,[{key:"handleOnline",value:function(){this.offline=!1}},{key:"handleOffline",value:function(){this.offline=!0}},{key:"mounted",value:function(){this.offline=!navigator.onLine,window.addEventListener("offline",this.handleOffline),window.addEventListener("online",this.handleOnline)}},{key:"beforeDestroy",value:function(){window.removeEventListener("offline",this.handleOffline),window.removeEventListener("online",this.handleOnline)}}]),n}($e["g"]);Mo=Object(Ve["b"])([Object($e["a"])({components:{BlurredOverlay:To["a"]}})],Mo);var Bo=Mo,Fo=Bo,Wo=Object(ot["a"])(Fo,ko,Eo,!1,null,null,null),Vo=Wo.exports;ct()(Wo,{VIcon:go["a"],VSnackbar:jo["a"]});var $o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.show?n("transition",{attrs:{name:"delay"}},[n("v-snackbar",{staticClass:"receiving-ongoing-snackbar",attrs:{timeout:"-1",color:"primary"},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[n("span",{staticClass:"receiving-ongoing-snackbar__warning"},[e._v(" "+e._s(e.$t("transfer.receiving-transfer-snackbar"))+" ")])])],1):e._e()},Ho=[];function qo(e){return qo="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qo(e)}function Ko(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Go(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ko(Object(n),!0).forEach((function(t){Yo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ko(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Yo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zo(e,t,n){return t&&Qo(e.prototype,t),n&&Qo(e,n),e}function Jo(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zo(e,t)}function Zo(e,t){return Zo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Zo(e,t)}function ei(e){var t=ri();return function(){var n,r=ai(e);if(t){var a=ai(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ti(this,n)}}function ti(e,t){return!t||"object"!==qo(t)&&"function"!==typeof t?ni(e):t}function ni(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ri(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function ai(e){return ai=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ai(e)}var oi=function(e){Jo(n,e);var t=ei(n);function n(){return Xo(this,n),t.apply(this,arguments)}return zo(n,[{key:"pendingReceivedTransfers",get:function(){return Object.values(this.pendingTransfers).filter((function(e){return"received"===e.direction}))}},{key:"show",get:function(){return Object.keys(this.pendingReceivedTransfers).length>0}}]),n}($e["g"]);oi=Object(Ve["b"])([Object($e["a"])({computed:Go({},Object(x["c"])(["pendingTransfers"]))})],oi);var ii=oi,ci=ii,ui=(n("c50f"),Object(ot["a"])(ci,$o,Ho,!1,null,"4795eb56",null)),si=ui.exports;ct()(ui,{VSnackbar:jo["a"]});var li=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.visible?n("span",[n("blurred-overlay",{attrs:{show:e.blocking,fullscreen:!0}}),n("v-snackbar",{staticClass:"update-snackbar",attrs:{timeout:-1,color:"primary"},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[n("v-container",{staticClass:"d-flex align-center py-0"},[n("div",{staticClass:"update-snackbar__message"},[e._v(e._s(e.message))]),n("v-btn",{staticClass:"ml-5",attrs:{dark:"",text:"",loading:e.isUpdating},on:{click:e.update}},[e._v(" "+e._s(e.$t("update.update"))+" ")])],1)],1)],1):e._e()},fi=[];function pi(e){return pi="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pi(e)}function di(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?di(Object(n),!0).forEach((function(t){yi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):di(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hi(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function mi(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){hi(o,r,a,i,c,"next",e)}function c(e){hi(o,r,a,i,c,"throw",e)}i(void 0)}))}}function vi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Oi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gi(e,t,n){return t&&Oi(e.prototype,t),n&&Oi(e,n),e}function ji(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wi(e,t)}function wi(e,t){return wi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},wi(e,t)}function _i(e){var t=Ti();return function(){var n,r=Si(e);if(t){var a=Si(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ki(this,n)}}function ki(e,t){return!t||"object"!==pi(t)&&"function"!==typeof t?Ei(e):t}function Ei(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ti(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Si(e){return Si=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Si(e)}var Ai=function(e){ji(n,e);var t=_i(n);function n(){var e;return vi(this,n),e=t.apply(this,arguments),e.isUpdating=!1,e}return gi(n,[{key:"visible",get:function(){return this.versionUpdateAvailable||this.versionInfo.updateIsMandatory}},{key:"blocking",get:function(){return this.versionInfo.updateIsMandatory}},{key:"message",get:function(){if(this.visible){var e=this.versionInfo.updateIsMandatory?"mandatory":"optional";return this.$t("update.".concat(e))}return""}},{key:"update",value:function(){var e=mi(ht.a.mark((function e(){return ht.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.isUpdating=!0,!this.isConnected){e.next=4;break}return e.next=4,this.$raiden.disconnect();case 4:this.$serviceWorkerAssistant.update();case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),n}($e["g"]);Ai=Object(Ve["b"])([Object($e["a"])({components:{BlurredOverlay:To["a"]},computed:bi(bi({},Object(x["e"])(["isConnected","versionInfo"])),Object(x["c"])(["versionUpdateAvailable"]))})],Ai);var xi=Ai,Pi=xi,Ni=(n("84c0"),n("f56c")),Ri=Object(ot["a"])(Pi,li,fi,!1,null,"2e6862f8",null),Ii=Ri.exports;function Di(e){return Di="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Di(e)}function Ci(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Li(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ui(e,t,n){return t&&Li(e.prototype,t),n&&Li(e,n),e}function Mi(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Bi(e,t)}function Bi(e,t){return Bi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Bi(e,t)}function Fi(e){var t=$i();return function(){var n,r=Hi(e);if(t){var a=Hi(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Wi(this,n)}}function Wi(e,t){return!t||"object"!==Di(t)&&"function"!==typeof t?Vi(e):t}function Vi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $i(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Hi(e){return Hi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Hi(e)}ct()(Ri,{VBtn:Sa["a"],VContainer:Ni["a"],VSnackbar:jo["a"]});var qi=function(e){Mi(n,e);var t=Fi(n);function n(){return Ci(this,n),t.apply(this,arguments)}return Ui(n,[{key:"imprint",get:function(){return"https://raiden.network/privacy.html"}},{key:"terms",get:function(){return"https://github.com/raiden-network/light-client/blob/master/TERMS.md"}},{key:"destroyed",value:function(){this.$raiden.disconnect()}}]),n}(Object($e["c"])(oa["a"]));qi=Object(Ve["b"])([Object($e["a"])({components:{AppHeader:xa,OfflineSnackbar:Vo,UpdateSnackbar:Ii,NotificationSnackbar:_o,ReceivingOngoingSnackbar:si,InstallBanner:Qa}})],qi);var Ki=qi,Gi=Ki,Yi=(n("0933"),n("072b")),Xi=n("e8f8"),Qi=Object(ot["a"])(Gi,Jr,Zr,!1,null,"058f4910",null),zi=Qi.exports;ct()(Qi,{VApp:Yi["a"],VContainer:Ni["a"],VMain:Xi["a"]});var Ji=n("8aa9");a["a"].config.productionTip=!1,Object(Ji["b"])(),a["a"].use(Rr),a["a"].use(f),a["a"].use(Yr),new a["a"]({vuetify:zr,router:Hn,store:Te,i18n:er,render:function(e){return e(zi)}}).$mount("#app")},d009:function(e,t,n){var r={"./backup_state_info.svg":"1924","./channels_info.svg":"18cb","./open_channel_info.svg":"9662","./select_hub_info.svg":"f496","./transfer_eth_info.svg":"60f8","./transfer_info.svg":"6cb9","./transfer_steps_info.svg":"fb60","./udc_info.svg":"d43a","./withdraw_tokens_info.svg":"68e9"};function a(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id="d009"},d011:function(e,t,n){"use strict";n.d(t,"g",(function(){return l})),n.d(t,"h",(function(){return f})),n.d(t,"i",(function(){return p})),n.d(t,"e",(function(){return d})),n.d(t,"f",(function(){return b})),n.d(t,"d",(function(){return y})),n.d(t,"c",(function(){return h})),n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return v})),n.d(t,"k",(function(){return g})),n.d(t,"j",(function(){return j}));var r,a=n("2111"),o=n("48a3"),i=n.n(o),c=n("5778"),u=n("ca14");function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l={PFS:"path_finding",MS:"monitoring"},f=a["j"](i()(l)),p=(r={},s(r,l.PFS,"PATH_FINDING"),s(r,l.MS,"MONITORING"),r),d={disabled:"disabled",auto:"auto",onlyAdditional:"onlyAdditional"},b=a["j"](i()(d)),y=a["p"](a["o"](a["i"]([a["u"]({path:a["p"](u["a"]),fee:Object(u["e"])(32)}),a["n"]({address_metadata:a["o"](a["q"](a["r"],c["a"]))})]))),h=a["o"](a["u"]({address:u["a"],url:a["r"],rtt:a["m"],price:Object(u["l"])(32),token:u["a"]})),m=a["o"](a["u"]({sender:u["a"],receiver:u["a"],amount:Object(u["l"])(32),expiration_block:Object(u["l"])(32),one_to_n_address:u["a"],chain_id:Object(u["l"])(32)})),v=a["o"](a["u"]({last_iou:Object(u["j"])(m)})),O=a["o"](a["u"]({address:u["a"],capacity:Object(u["l"])(32),centrality:a["w"]([a["m"],a["r"]]),score:a["w"]([a["m"],a["r"]]),uptime:a["w"]([a["m"],a["r"]])}),"SuggestedPartner"),g=a["c"](O,"SuggestedPartners"),j=a["o"](a["q"](a["r"],a["m"]),"ServicesValidityMap")},d0dd:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return Te}));var r=n("36d8"),a=n.n(r),o=(n("40b2"),n("c00b")),i=n("30c0"),c=n("87b8"),u=n("2b89"),s=n("f45b"),l=n("8730"),f=n.n(l),p=n("427e"),d=n.n(p),b=n("ea1b"),y=n.n(b),h=n("111d"),m=n.n(h),v=n("7276"),O=n("384a"),g=n("1ed4"),j=n("1b8f"),w=n("f541"),_=n("9ead"),k=n("cea7"),E=n("cd9d"),T=n("56a6"),S=n("b62a"),A=n("247b"),x=n("1319"),P=n("996a"),N=n("d5a4"),R=n("9c65"),I=n("a157"),D=n("aece"),C=n("c0bf"),L=n("1981"),U=n("ef4a"),M=n("f5be"),B=n("f799"),F=n("b8ff"),W=n("8120"),V=n("5bbb"),$=n("2b5b"),H=n("de7d"),q=n("74e4"),K=n("50e7"),G=n("8089"),Y=n("db2c5"),X=n("6c61"),Q=n("eed9"),z=n("d011"),J=n("358d"),Z=n("83ee"),ee=n("1a78"),te=n("59ec"),ne=n("d890"),re=n("05eb"),ae=n("f2df"),oe=n("d276"),ie=n("46f7"),ce=n("ee6c"),ue=n("1b23"),se=n("325b"),le=n("ca14"),fe=n("bf6c");function pe(e){return he(e)||ye(e)||be(e)||de()}function de(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function be(e,t){if(e){if("string"===typeof e)return me(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?me(e,t):void 0}}function ye(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function he(e){if(Array.isArray(e))return me(e)}function me(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(n),!0).forEach((function(t){ge(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ge(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function je(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function we(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){je(o,r,a,i,c,"next",e)}function c(e){je(o,r,a,i,c,"throw",e)}i(void 0)}))}}function _e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ke(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ee(e,t,n){return t&&ke(e.prototype,t),n&&ke(e,n),e}var Te=function(){function t(e,n){var r=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object(K["a"])(),i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:X["a"];_e(this,t),this.deps=n,this.epic=o,this.action$=this.deps.latest$.pipe(Object(se["h"])("action"),Object(A["a"])(1)),this.state$=this.deps.latest$.pipe(Object(se["h"])("state")),this.channels$=this.state$.pipe(Object(se["h"])("channels"),Object(x["a"])(G["m"])),this.events$=this.action$.pipe(Object(P["a"])(Object(oe["e"])(M["b"]))),this.transfers$=Object(G["i"])(this.state$,this.deps.db),this.config$=this.deps.config$,this.blockTime$=this.deps.latest$.pipe(Object(se["h"])("blockTime")),this.synced=Object(G["k"])(this.action$),this.getTokenInfo=Object(G["l"])(this.deps),this.resolveName=this.deps.provider.resolveName.bind(this.deps.provider),this.userDepositTokenAddress=d()(we(a.a.mark((function e(){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",r.deps.userDepositContract.callStatic.token());case 1:case"end":return e.stop()}}),e)})))),n.provider.resetEventsBlock(e.blockNumber+1);var c=!(null===globalThis||void 0===globalThis||!globalThis.location),u=Object(g["createLogger"])(Oe({predicate:function(){return r.log.getLevel()<=m.a.levels.INFO},logger:this.log,level:{prevState:!1,action:"info",error:"error",nextState:"debug"}},c?{}:{colors:!1}));this.epicMiddleware=Object(j["a"])({dependencies:n});var s=Object(Y["a"])(n.db);this.store=Object(v["createStore"])(i,e,Object(O["composeWithDevTools"])(Object(v["applyMiddleware"])(u,s,this.epicMiddleware))),n.config$.subscribe((function(e){return r.config=e})),Object(K["b"])(Object(w["a"])(Object(M["d"])({})),Object(w["a"])(this.store.getState()),n).subscribe((function(e){return n.latest$.next(e)}))}return Ee(t,[{key:"start",value:function(){var n=we(a.a.mark((function n(){var r,o=this;return a.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return Object(ae["a"])(this.epicMiddleware,ce["b"].RDN_ALREADY_STARTED,this.log.info),this.log.info("Starting Raiden Light-Client",{prevBlockNumber:this.state.blockNumber,address:this.address,TokenNetworkRegistry:this.deps.contractsInfo.TokenNetworkRegistry.address,network:{name:this.deps.network.name,chainId:this.deps.network.chainId},"raiden-ts":t.version,"raiden-contracts":t.contractVersion,config:this.config,versions:null===(r=e)||void 0===r?void 0:r.versions}),this.deps.latest$.subscribe({complete:function(){return o.epicMiddleware=null}}),this.epicMiddleware.run(this.epic),this.epicMiddleware=void 0,this.store.dispatch(Object(M["f"])()),n.next=8,this.synced;case 8:case"end":return n.stop()}}),n,this)})));function r(){return n.apply(this,arguments)}return r}()},{key:"started",get:function(){if(!this.epicMiddleware)return void 0===this.epicMiddleware}},{key:"stop",value:function(){var e=we(a.a.mark((function e(){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.started&&this.store.dispatch(Object(M["e"])({reason:$["g"].STOP})),void 0===this.started){e.next=4;break}return e.next=4,Object(_["a"])(this.deps.db.busy$,{defaultValue:void 0});case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"log",get:function(){return this.deps.log}},{key:"state",get:function(){return this.store.getState()}},{key:"address",get:function(){return this.deps.address}},{key:"mainAddress",get:function(){var e;return null===(e=this.deps.main)||void 0===e?void 0:e.address}},{key:"network",get:function(){return this.deps.network}},{key:"getBlockNumber",value:function(){var e=we(a.a.mark((function e(){var t;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.deps.provider.blockNumber,!(t&&t>=this.deps.contractsInfo.TokenNetworkRegistry.block_number)){e.next=5;break}return e.abrupt("return",t);case 5:return e.next=7,this.deps.provider.getBlockNumber();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"contractsInfo",get:function(){return this.deps.contractsInfo}},{key:"updateConfig",value:function(e){"mediationFees"in e&&this.deps.mediationFeeCalculator.decodeConfig(e.mediationFees,this.deps.defaultConfig.mediationFees),this.store.dispatch(Object(M["d"])(Object(le["n"])(V["a"],e)))}},{key:"dumpDatabase",value:function(){var e=we(a.a.mark((function e(){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(void 0===this.started){e.next=3;break}return e.next=3,Object(_["a"])(this.deps.db.busy$,{defaultValue:void 0});case 3:return e.abrupt("return",Object(q["b"])(this.deps.db));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getBalance",value:function(e){var t;return e=null!==(t=e)&&void 0!==t?t:Object(G["b"])(this.deps,this.config.subkey).address,Object(ae["a"])(le["a"].is(e),[ce["b"].DTA_INVALID_ADDRESS,{address:e}],this.log.info),this.deps.provider.getBalance(e)}},{key:"getTokenBalance",value:function(){var e=we(a.a.mark((function e(t,n){var r,o;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=null!==(r=n)&&void 0!==r?r:Object(G["b"])(this.deps,this.config.subkey).address,Object(ae["a"])(le["a"].is(n),[ce["b"].DTA_INVALID_ADDRESS,{address:n}],this.log.info),Object(ae["a"])(le["a"].is(t),[ce["b"].DTA_INVALID_ADDRESS,{token:t}],this.log.info),o=this.deps.getTokenContract(t),e.abrupt("return",o.callStatic.balanceOf(n));case 5:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"getTokenList",value:function(){var e=we(a.a.mark((function e(){var t=this;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=_["a"],e.t1=ue["b"],e.t2=this.deps.provider,e.t3=Oe,e.t4=Oe({},this.deps.registryContract.filters.TokenNetworkCreated(null,null)),e.t5={},e.t6=this.deps.contractsInfo.TokenNetworkRegistry.block_number,e.next=9,this.getBlockNumber();case 9:return e.t7=e.sent,e.t8={fromBlock:e.t6,toBlock:e.t7},e.t9=(0,e.t3)(e.t4,e.t5,e.t8),e.t10=(0,e.t1)(e.t2,e.t9).pipe(Object(x["a"])((function(e){return t.deps.registryContract.interface.parseLog(e)})),Object(P["a"])((function(e){return!!e.args.token_address})),Object(x["a"])((function(e){return e.args.token_address})),Object(N["a"])()),e.next=15,(0,e.t0)(e.t10);case 15:return e.abrupt("return",e.sent);case 16:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"monitorToken",value:function(){var e=we(a.a.mark((function e(t){var n;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(Object(ae["a"])(le["a"].is(t),[ce["b"].DTA_INVALID_ADDRESS,{token:t}],this.log.info),n=this.state.tokens[t],!n){e.next=4;break}return e.abrupt("return",n);case 4:return e.next=6,this.deps.registryContract.token_to_token_networks(t);case 6:return n=e.sent,Object(ae["a"])(n&&n!==i["a"],ce["b"].RDN_UNKNOWN_TOKEN_NETWORK,this.log.info),this.store.dispatch(Object(B["tokenMonitored"])({token:t,tokenNetwork:n,fromBlock:this.deps.contractsInfo.TokenNetworkRegistry.block_number})),e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"openChannel",value:function(){var e=we(a.a.mark((function e(t,n){var r,o,i,c,u,s,l,f,p,d,b,y,h,m,v,O=arguments;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=O.length>2&&void 0!==O[2]?O[2]:{},i=O.length>3?O[3]:void 0,Object(ae["a"])(le["a"].is(t),[ce["b"].DTA_INVALID_ADDRESS,{token:t}],this.log.info),Object(ae["a"])(le["a"].is(n),[ce["b"].DTA_INVALID_ADDRESS,{partner:n}],this.log.info),e.next=6,this.monitorToken(t);case 6:return c=e.sent,Object(ae["a"])(!o.subkey||this.deps.main,ce["b"].RDN_SUBKEY_NOT_SET,this.log.info),u=o.settleTimeout?Object(le["n"])(Object(le["l"])(4),o.settleTimeout,ce["b"].DTA_INVALID_TIMEOUT,this.log.info).toNumber():void 0,s=o.deposit?Object(le["n"])(Object(le["l"])(32),o.deposit,ce["b"].DTA_INVALID_DEPOSIT,this.log.info):void 0,l=null===(r=o.confirmConfirmation)||void 0===r||r,f={tokenNetwork:c,partner:n},p=Object(oe["a"])(B["channelOpen"],f,this.action$).then((function(e){var t=e.txHash;return t})),d=Object(oe["a"])(B["channelOpen"],f,this.action$,!0),null!==s&&void 0!==s&&s.gt(0)&&(b=Object(oe["a"])(B["channelDeposit"],f,this.action$,!0).then((function(e){var t=e.txHash;return t})),y=Object(G["p"])(this.action$,this.state$,{meta:f,config:this.config})),this.store.dispatch(B["channelOpen"].request(Oe(Oe({},o),{},{settleTimeout:u,deposit:s}),f)),e.next=18,p;case 18:return h=e.sent,null===i||void 0===i||i({type:re["a"].OPENED,payload:{txHash:h}}),e.next=22,d;case 22:if(null===i||void 0===i||i({type:re["a"].CONFIRMED,payload:{txHash:h}}),!b){e.next=30;break}return e.next=26,b;case 26:return m=e.sent,null===i||void 0===i||i({type:re["a"].DEPOSITED,payload:{txHash:m}}),e.next=30,y;case 30:if(!l){e.next=39;break}return e.t0=G["o"],e.next=34,this.deps.provider.getTransactionReceipt(null!==(v=m)&&void 0!==v?v:h);case 34:return e.t1=e.sent,e.t2=this.deps,e.t3=2*this.config.confirmationBlocks,e.next=39,(0,e.t0)(e.t1,e.t2,e.t3);case 39:return e.abrupt("return",h);case 40:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"depositChannel",value:function(){var e=we(a.a.mark((function e(t,n,r){var o,i,c,u,s,l,f,p,d,b,y=arguments;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=y.length>3&&void 0!==y[3]?y[3]:{},i=o.subkey,c=o.confirmConfirmation,Object(ae["a"])(le["a"].is(t),[ce["b"].DTA_INVALID_ADDRESS,{token:t}],this.log.info),Object(ae["a"])(le["a"].is(n),[ce["b"].DTA_INVALID_ADDRESS,{partner:n}],this.log.info),u=this.state,s=u.tokens[t],Object(ae["a"])(s,ce["b"].RDN_UNKNOWN_TOKEN_NETWORK,this.log.info),Object(ae["a"])(!i||this.deps.main,ce["b"].RDN_SUBKEY_NOT_SET,this.log.info),l=Object(le["n"])(Object(le["l"])(32),r,ce["b"].DTA_INVALID_DEPOSIT,this.log.info),f={tokenNetwork:s,partner:n},p=Object(G["p"])(this.action$,this.state$,{meta:f,config:this.config}),d=Object(oe["a"])(B["channelDeposit"],f,this.action$,!0).then((function(e){var t=e.txHash;return t})),this.store.dispatch(B["channelDeposit"].request({deposit:l,subkey:i},f)),e.next=14,d;case 14:return b=e.sent,e.next=17,p;case 17:if(null!==c&&void 0!==c&&!c){e.next=26;break}return e.t0=G["o"],e.next=21,this.deps.provider.getTransactionReceipt(b);case 21:return e.t1=e.sent,e.t2=this.deps,e.t3=2*this.config.confirmationBlocks,e.next=26,(0,e.t0)(e.t1,e.t2,e.t3);case 26:return e.abrupt("return",b);case 27:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"closeChannel",value:function(){var e=we(a.a.mark((function e(t,n){var r,o,i,c,u,s,l=arguments;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=l.length>2&&void 0!==l[2]?l[2]:{},o=r.subkey,Object(ae["a"])(le["a"].is(t),[ce["b"].DTA_INVALID_ADDRESS,{token:t}],this.log.info),Object(ae["a"])(le["a"].is(n),[ce["b"].DTA_INVALID_ADDRESS,{partner:n}],this.log.info),i=this.state,c=i.tokens[t],Object(ae["a"])(c,ce["b"].RDN_UNKNOWN_TOKEN_NETWORK,this.log.info),Object(ae["a"])(!o||this.deps.main,ce["b"].RDN_SUBKEY_NOT_SET,this.log.info),u={tokenNetwork:c,partner:n},s=Object(oe["a"])(B["channelClose"],u,this.action$,!0).then((function(e){var t=e.txHash;return t})),this.store.dispatch(B["channelClose"].request(o?{subkey:o}:void 0,u)),e.abrupt("return",s);case 11:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"settleChannel",value:function(){var e=we(a.a.mark((function e(t,n){var r,o,i,c,u,s,l=arguments;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=l.length>2&&void 0!==l[2]?l[2]:{},o=r.subkey,Object(ae["a"])(le["a"].is(t),[ce["b"].DTA_INVALID_ADDRESS,{token:t}],this.log.info),Object(ae["a"])(le["a"].is(n),[ce["b"].DTA_INVALID_ADDRESS,{partner:n}],this.log.info),i=this.state,c=i.tokens[t],Object(ae["a"])(c,ce["b"].RDN_UNKNOWN_TOKEN_NETWORK,this.log.info),Object(ae["a"])(!o||this.deps.main,ce["b"].RDN_SUBKEY_NOT_SET,this.log.info),Object(ae["a"])(!this.config.autoSettle,ce["b"].CNL_SETTLE_AUTO_ENABLED,this.log.info),u={tokenNetwork:c,partner:n},e.next=11,Object(_["a"])(Object(G["n"])(this.state$,u));case 11:return s=Object(oe["a"])(B["channelSettle"],u,this.action$,!0).then((function(e){var t=e.txHash;return t})),this.store.dispatch(B["channelSettle"].request(o?{subkey:o}:void 0,u)),e.abrupt("return",s);case 14:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"getAvailability",value:function(){var e=we(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return Object(ae["a"])(le["a"].is(t),[ce["b"].DTA_INVALID_ADDRESS,{address:t}],this.log.info),n={address:t},r=Object(oe["a"])(ne["matrixPresence"],n,this.action$),this.store.dispatch(ne["matrixPresence"].request(void 0,n)),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"transfer",value:function(){var e=we(a.a.mark((function e(t,n,r){var o,i,c,u,s,l,f,p,d,b=arguments;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=b.length>3&&void 0!==b[3]?b[3]:{},Object(ae["a"])(le["a"].is(t),[ce["b"].DTA_INVALID_ADDRESS,{token:t}],this.log.info),Object(ae["a"])(le["a"].is(n),[ce["b"].DTA_INVALID_ADDRESS,{target:n}],this.log.info),i=this.state.tokens[t],Object(ae["a"])(i,ce["b"].RDN_UNKNOWN_TOKEN_NETWORK,this.log.info),c=Object(le["n"])(Object(le["l"])(32),r,ce["b"].DTA_INVALID_AMOUNT,this.log.info),u=void 0!==o.paymentId?Object(le["n"])(Object(le["l"])(8),o.paymentId,ce["b"].DTA_INVALID_PAYMENT_ID,this.log.info):Object(te["h"])(),s=o.paths&&Object(le["n"])(z["d"],o.paths,ce["b"].DTA_INVALID_PATH,this.log.info),l=o.pfs&&Object(le["n"])(z["c"],o.pfs,ce["b"].DTA_INVALID_PFS,this.log.info),Object(ae["a"])(void 0===o.secret||le["h"].is(o.secret),ce["b"].RDN_INVALID_SECRET,this.log.info),Object(ae["a"])(void 0===o.secrethash||le["c"].is(o.secrethash),ce["b"].RDN_INVALID_SECRETHASH,this.log.info),f=o.secret||(o.secrethash?void 0:Object(te["i"])()),p=o.secrethash||Object(te["e"])(f),Object(ae["a"])(!f||Object(te["e"])(f)===p,ce["b"].RDN_SECRET_SECRETHASH_MISMATCH,this.log.info),d=Object(k["a"])(this.action$.pipe(Object(P["a"])(Object(oe["e"])([Z["transferSigned"],Z["transfer"].failure])),Object(P["a"])((function(e){var t=e.meta;return t.direction===ee["a"].SENT&&t.secrethash===p})),Object(x["a"])((function(e){if(Z["transfer"].failure.is(e))throw e.payload;return Object(te["n"])(e.meta)})))),this.store.dispatch(Z["transfer"].request({tokenNetwork:i,target:n,value:c,paymentId:u,secret:f,resolved:!1,paths:s,pfs:l,lockTimeout:o.lockTimeout,encryptSecret:o.encryptSecret},{secrethash:p,direction:ee["a"].SENT})),e.abrupt("return",d);case 17:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"waitTransfer",value:function(){var e=we(a.a.mark((function e(t){var n,r,o,i,c,u,s;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=Object(te["o"])(t),o=r.direction,i=r.secrethash,c=this.state.transfers[t],c){e.next=14;break}return e.prev=3,e.t0=le["n"],e.t1=ee["e"],e.next=8,this.deps.db.get(t);case 8:e.t2=e.sent,c=(0,e.t0)(e.t1,e.t2),e.next=14;break;case 12:e.prev=12,e.t3=e["catch"](3);case 14:if(Object(ae["a"])(c,ce["b"].RDN_UNKNOWN_TRANSFER,this.log.info),u=Object(te["k"])(c),!u.completed){e.next=22;break}if(!u.success){e.next=21;break}return e.abrupt("return",u);case 21:throw new ce["c"](ce["b"].XFER_ALREADY_COMPLETED,{status:u.status});case 22:return e.next=24,Object(oe["a"])(Z["transfer"],{secrethash:i,direction:o},this.action$);case 24:return e.next=26,Object(k["a"])(this.state$.pipe(Object(R["a"])("transfers",t),Object(P["a"])((function(e){return!!e.unlockProcessed}))));case 26:return s=e.sent,this.log.info("Transfer successful",{key:t,partner:s.partner,initiator:s.transfer.initiator,target:s.transfer.target,fee:s.fee.toString(),lockAmount:s.transfer.lock.amount.toString(),targetReceived:null===(n=s.secretRequest)||void 0===n?void 0:n.amount.toString(),transferTime:s.unlockProcessed.ts-s.transfer.ts}),e.abrupt("return",Object(te["k"])(s));case 29:case"end":return e.stop()}}),e,this,[[3,12]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"findRoutes",value:function(){var e=we(a.a.mark((function e(t,n,r){var o,i,c,u,s,l,f=arguments;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=f.length>3&&void 0!==f[3]?f[3]:{},Object(ae["a"])(le["a"].is(t),[ce["b"].DTA_INVALID_ADDRESS,{token:t}],this.log.info),Object(ae["a"])(le["a"].is(n),[ce["b"].DTA_INVALID_ADDRESS,{target:n}],this.log.info),i=this.state.tokens[t],Object(ae["a"])(i,ce["b"].RDN_UNKNOWN_TOKEN_NETWORK,this.log.info),c=Object(le["n"])(Object(le["l"])(32),r),u=o.pfs?Object(le["n"])(z["c"],o.pfs):void 0,s={tokenNetwork:i,target:n,value:c},l=Object(oe["a"])(Q["pathFind"],s,this.action$).then((function(e){var t=e.paths;return t})),this.store.dispatch(Q["pathFind"].request({pfs:u},s)),e.abrupt("return",l);case 11:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"directRoute",value:function(){var e=we(a.a.mark((function e(t,n,r){var o,i,c,u;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return Object(ae["a"])(le["a"].is(t),[ce["b"].DTA_INVALID_ADDRESS,{token:t}],this.log.info),Object(ae["a"])(le["a"].is(n),[ce["b"].DTA_INVALID_ADDRESS,{target:n}],this.log.info),o=this.state.tokens[t],Object(ae["a"])(o,ce["b"].RDN_UNKNOWN_TOKEN_NETWORK,this.log.info),i=Object(le["n"])(Object(le["l"])(32),r),c={tokenNetwork:o,target:n,value:i},u=Object(oe["a"])(Q["pathFind"],c,this.action$).then((function(e){var t=e.paths;return t}),(function(){})),this.store.dispatch(Q["pathFind"].request({pfs:null},c)),e.abrupt("return",u);case 9:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"findPFS",value:function(){var e=we(a.a.mark((function e(){var t;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return Object(ae["a"])(this.config.pfsMode!==z["e"].disabled,ce["b"].PFS_DISABLED,this.log.info),e.next=3,this.synced;case 3:return t=pe(this.config.additionalServices),this.config.pfsMode===z["e"].auto&&t.push.apply(t,pe(Object.keys(this.state.services))),e.abrupt("return",Object(_["a"])(Object(J["f"])(t,this.deps)));case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"mint",value:function(){var e=we(a.a.mark((function e(t,n){var r,o,i,c,u,s,l,f,p,d,b,y=arguments;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=y.length>2&&void 0!==y[2]?y[2]:{},o=r.subkey,i=r.to,Object(ae["a"])(le["a"].is(t),[ce["b"].DTA_INVALID_ADDRESS,{token:t}],this.log.info),Object(ae["a"])(!o||this.deps.main,ce["b"].RDN_SUBKEY_NOT_SET,this.log.info),Object(ae["a"])(1!==this.deps.network.chainId,ce["b"].RDN_MINT_MAINNET,this.log.info),c=Object(G["b"])(this.deps,null!==o&&void 0!==o?o:this.config.subkey),u=c.signer,s=c.address,l=H["a"].connect(t,u),f=null!==i&&void 0!==i?i:s,Object(ae["a"])(le["a"].is(f),[ce["b"].DTA_INVALID_ADDRESS,{beneficiary:f}],this.log.info),e.next=10,Object(k["a"])(this.deps.latest$.pipe(Object(R["a"])("gasPrice")));case 10:return p=e.sent,d=Object(le["n"])(Object(le["l"])(32),n,ce["b"].DTA_INVALID_AMOUNT),e.next=14,Object(G["a"])(l,"mintFor",[d,f,{gasPrice:p}],ce["b"].RDN_MINT_FAILED,{log:this.log});case 14:return b=e.sent,e.next=17,Object(G["o"])(b,this.deps,1);case 17:return e.abrupt("return",b.transactionHash);case 18:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"registerToken",value:function(){var e=we(a.a.mark((function e(t){var n,r,o,i,u,s,l,f=arguments;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=f.length>1&&void 0!==f[1]?f[1]:c["b"],r=f.length>2&&void 0!==f[2]?f[2]:c["b"],Object(ae["a"])(le["a"].is(t),[ce["b"].DTA_INVALID_ADDRESS,{token:t}],this.log.info),Object(ae["a"])(1!==this.deps.network.chainId,ce["b"].RDN_REGISTER_TOKEN_MAINNET,this.log.info),o=Object(G["b"])(this.deps,this.config.subkey),i=o.signer,u=Object(G["d"])(this.deps.registryContract,i),e.next=8,this.monitorToken(t).then((function(e){throw new ce["c"](ce["b"].RDN_REGISTER_TOKEN_REGISTERED,{tokenNetwork:e})}),(function(){}));case 8:return e.next=10,Object(k["a"])(this.deps.latest$.pipe(Object(R["a"])("gasPrice")));case 10:return s=e.sent,e.next=13,Object(G["a"])(u,"createERC20TokenNetwork",[t,n,r,{gasPrice:s}],ce["b"].RDN_REGISTER_TOKEN_FAILED,{log:this.log});case 13:return l=e.sent,e.next=16,Object(G["o"])(l,this.deps);case 16:return e.next=18,this.monitorToken(t);case 18:return e.abrupt("return",e.sent);case 19:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getUDCCapacity",value:function(){var e=we(a.a.mark((function e(){var t,n,r;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(G["h"])(this.deps.latest$);case 2:return t=e.sent,n=this.state.blockNumber,r=Object.values(this.state.iou).reduce((function(e,t){return[].concat(pe(e),pe(Object.values(t).filter((function(e){return e.expiration_block.gte(n)}))))}),[]).reduce((function(e,t){return e.add(t.amount)}),c["h"]),e.abrupt("return",t.sub(r));case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getUDCTotalDeposit",value:function(){var e=we(a.a.mark((function e(){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(k["a"])(this.deps.latest$.pipe(Object(R["a"])("udcDeposit","totalDeposit"),Object(P["a"])((function(e){return!!e&&e.lt(c["b"])})))));case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"depositToUDC",value:function(){var e=we(a.a.mark((function e(t,n){var r,o,i,u,s,l,f,p,d=arguments;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=d.length>2&&void 0!==d[2]?d[2]:{},o=r.subkey,Object(ae["a"])(!o||this.deps.main,ce["b"].RDN_SUBKEY_NOT_SET,this.log.info),i=Object(le["n"])(Object(le["l"])(32),t,ce["b"].DTA_INVALID_DEPOSIT,this.log.info),Object(ae["a"])(i.gt(c["h"]),ce["b"].DTA_NON_POSITIVE_NUMBER,this.log.info),e.next=6,this.deps.userDepositContract.callStatic.total_deposit(this.address);case 6:return u=e.sent,s={totalDeposit:u.add(i)},l=Object(oe["a"])(Q["udcDeposit"],s,this.action$,!1).then((function(e){return e.txHash})),this.store.dispatch(Q["udcDeposit"].request({deposit:i,subkey:o},s)),e.next=12,l;case 12:return f=e.sent,null===n||void 0===n||n({type:re["a"].DEPOSITED,payload:{txHash:f}}),p=Object(oe["a"])(Q["udcDeposit"],s,this.action$,!0).then((function(e){return e.txHash})),e.next=17,p;case 17:return f=e.sent,null===n||void 0===n||n({type:re["a"].CONFIRMED,payload:{txHash:f}}),e.abrupt("return",f);case 20:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"transferOnchainBalance",value:function(){var e=we(a.a.mark((function e(t){var n,r,i,u,s,l,f,p,d,b,y,h,m,v,O=arguments;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=O.length>1&&void 0!==O[1]?O[1]:c["b"],r=O.length>2&&void 0!==O[2]?O[2]:{},i=r.subkey,u=r.gasPrice,Object(ae["a"])(le["a"].is(t),[ce["b"].DTA_INVALID_ADDRESS,{to:t}],this.log.info),Object(ae["a"])(!i||this.deps.main,ce["b"].RDN_SUBKEY_NOT_SET,this.log.info),s=Object(G["b"])(this.deps,null!==i&&void 0!==i?i:this.config.subkey),l=s.signer,f=s.address,!u){e.next=9;break}e.t0=o["a"].from(u),e.next=12;break;case 9:return e.next=11,Object(k["a"])(this.deps.latest$.pipe(Object(R["a"])("gasPrice")));case 11:e.t0=e.sent;case 12:return p=e.t0,d=o["a"].from(21e3),e.next=16,this.getBalance(f);case 16:return b=e.sent,y=b.sub(p.mul(d)),Object(ae["a"])(y.gt(c["h"]),[ce["b"].RDN_INSUFFICIENT_BALANCE,{transferable:y.toString()}],this.log.info),h=y.lte(n)?y:o["a"].from(n),e.next=22,l.sendTransaction({to:t,value:h,gasPrice:p,gasLimit:d});case 22:return m=e.sent,e.next=25,m.wait();case 25:return v=e.sent,Object(ae["a"])(v.status,ce["b"].RDN_TRANSFER_ONCHAIN_BALANCE_FAILED,this.log.info),e.abrupt("return",m.hash);case 28:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"transferOnchainTokens",value:function(){var e=we(a.a.mark((function e(t,n){var r,i,u,s,l,f,p,d,b,y,h,m=arguments;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=m.length>2&&void 0!==m[2]?m[2]:c["b"],i=m.length>3&&void 0!==m[3]?m[3]:{},u=i.subkey,Object(ae["a"])(le["a"].is(t),[ce["b"].DTA_INVALID_ADDRESS,{token:t}],this.log.info),Object(ae["a"])(le["a"].is(n),[ce["b"].DTA_INVALID_ADDRESS,{to:n}],this.log.info),Object(ae["a"])(!u||this.deps.main,ce["b"].RDN_SUBKEY_NOT_SET,this.log.info),s=Object(G["b"])(this.deps,null!==u&&void 0!==u?u:this.config.subkey),l=s.signer,f=s.address,p=Object(G["d"])(this.deps.getTokenContract(t),l),e.next=9,this.getTokenBalance(t,f);case 9:return d=e.sent,b=d.lte(r)?d:o["a"].from(r),e.next=13,Object(k["a"])(this.deps.latest$.pipe(Object(R["a"])("gasPrice")));case 13:return y=e.sent,e.next=16,Object(G["a"])(p,"transfer",[n,b,{gasPrice:y}],ce["b"].RDN_TRANSFER_ONCHAIN_TOKENS_FAILED,{log:this.log});case 16:return h=e.sent,e.abrupt("return",h.transactionHash);case 18:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"getUDCWithdrawPlan",value:function(){var e=we(a.a.mark((function e(){var t;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.deps.userDepositContract.withdraw_plans(this.address);case 2:if(t=e.sent,!t.withdraw_block.isZero()){e.next=5;break}return e.abrupt("return");case 5:return e.abrupt("return",{amount:t.amount,block:t.withdraw_block.toNumber(),ready:t.withdraw_block.lte(this.state.blockNumber)});case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"planUDCWithdraw",value:function(){var e=we(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={amount:Object(le["n"])(Object(le["l"])(32),t,ce["b"].DTA_INVALID_AMOUNT,this.log.error)},r=Object(oe["a"])(Q["udcWithdrawPlan"],n,this.action$,!0).then((function(e){var t=e.txHash;return t})),this.store.dispatch(Q["udcWithdrawPlan"].request(void 0,n)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"withdrawFromUDC",value:function(){var e=we(a.a.mark((function e(t){var n,r,o;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return Object(ae["a"])(!this.config.autoUDCWithdraw,ce["b"].UDC_WITHDRAW_AUTO_ENABLED,this.log.warn),e.next=3,this.getUDCWithdrawPlan();case 3:if(n=e.sent,Object(ae["a"])(n,ce["b"].UDC_WITHDRAW_NO_PLAN,this.log.warn),t?Object(ae["a"])(n.amount.gte(t),ce["b"].UDC_WITHDRAW_TOO_LARGE,this.log.warn):t=n.amount,r={amount:Object(le["n"])(Object(le["l"])(32),t,ce["b"].DTA_INVALID_AMOUNT,this.log.error)},n.ready){e.next=10;break}return e.next=10,Object(k["a"])(this.state$.pipe(Object(se["h"])("blockNumber"),Object(P["a"])((function(e){return e>=n.block}))));case 10:return o=Object(oe["a"])(Q["udcWithdraw"],r,this.action$,!0).then((function(e){var t=e.txHash;return t})),this.store.dispatch(Q["udcWithdraw"].request(void 0,r)),e.abrupt("return",o);case 13:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"withdrawChannel",value:function(){var e=we(a.a.mark((function e(t,n,r){var o,i,c,u,s,l,f,p,d,b;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return Object(ae["a"])(le["a"].is(t),[ce["b"].DTA_INVALID_ADDRESS,{token:t}],this.log.info),Object(ae["a"])(le["a"].is(n),[ce["b"].DTA_INVALID_ADDRESS,{partner:n}],this.log.info),o=this.state.tokens[t],Object(ae["a"])(o,ce["b"].RDN_UNKNOWN_TOKEN_NETWORK,this.log.info),i=this.state.channels[Object(W["d"])({tokenNetwork:o,partner:n})],Object(ae["a"])((null===i||void 0===i?void 0:i.state)===F["b"].open,ce["b"].CNL_NO_OPEN_CHANNEL_FOUND,this.log.error),c=Object(W["c"])(i),u=c.ownWithdrawable,s=c.ownWithdraw,l=Object(le["n"])(Object(le["l"])(32),null!==r&&void 0!==r?r:u,ce["b"].DTA_INVALID_AMOUNT,this.log.info),f=s.add(l),p=this.state.blockNumber+2*this.config.revealTimeout,d={direction:ee["a"].SENT,tokenNetwork:o,partner:n,totalWithdraw:f,expiration:p},b=Object(oe["a"])(Z["withdraw"],d,this.action$,!0).then((function(e){var t=e.txHash;return t})),this.store.dispatch(Z["withdraw"].request(void 0,d)),e.abrupt("return",b);case 14:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"suggestPartners",value:function(){var e=we(a.a.mark((function e(t){var n,r,o,i,c=this,u=arguments;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=u.length>1&&void 0!==u[1]?u[1]:{},Object(ae["a"])(le["a"].is(t),[ce["b"].DTA_INVALID_ADDRESS,{token:t}],this.log.info),r=this.state.tokens[t],Object(ae["a"])(r,ce["b"].RDN_UNKNOWN_TOKEN_NETWORK,this.log.info),!n.pfs){e.next=8;break}e.t0=[Object(le["n"])(z["c"],n.pfs)],e.next=11;break;case 8:return e.next=10,this.findPFS();case 10:e.t0=e.sent;case 11:return o=e.t0,e.abrupt("return",Object(k["a"])(Object(E["a"])(o).pipe(Object(I["a"])((function(e){return Object(S["a"])("".concat(e.url,"/api/v1/").concat(r,"/suggest_partner"),{method:"GET",headers:{"Content-Type":"application/json"}}).pipe(Object(D["a"])(c.config.httpTimeout),Object(C["a"])(function(){var e=we(a.a.mark((function e(t){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t.text());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(x["a"])((function(e){var t=Object(le["n"])(z["k"],Object(ie["b"])(e));if(!t.length)throw i=[],new Error("PFS returned no suggested partners");return t})),Object(L["a"])((function(t){return c.log.info("Could not fetch PFS suggested partners",e,t),i||(i=t),T["a"]})))})),Object(U["a"])(),Object(L["a"])((function(e){if(Array.isArray(i))return Object(w["a"])(i);var t;throw null!==(t=i)&&void 0!==t?t:e})))));case 13:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}],[{key:"create",value:function(){var e=we(a.a.mark((function e(t,n,r,o,i,c,l){var p,d,b,h,v,O,g,j,w,_,k,E;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return p="string"===typeof t?new u["a"](t):t instanceof u["a"]?t:new s["a"](t),e.next=3,p.getNetwork();case 3:if(d=e.sent,o){e.next=8;break}b=Object(G["e"])(d),e.next=16;break;case 8:if("string"!==typeof o){e.next=15;break}return Object(ae["a"])(le["a"].is(o),[ce["b"].DTA_INVALID_ADDRESS,{contractsOrUserDepositAddress:o}]),e.next=12,Object(G["c"])(p,o);case 12:b=e.sent,e.next=16;break;case 15:b=o;case 16:return e.next=18,Object(G["f"])(n,p,c,l);case 18:return h=e.sent,v=h.signer,O=h.address,g=h.main,e.next=24,Object(G["g"])({network:d,contractsInfo:b,address:O,log:m.a.getLogger("raiden:".concat(O))},r);case 24:return j=e.sent,w=j.state,_=j.db,Object(ae["a"])(O===w.address,[ce["b"].RDN_STATE_ADDRESS_MISMATCH,{account:O,state:w.address}]),Object(ae["a"])(d.chainId===w.chainId&&b.TokenNetworkRegistry.address===w.registry,[ce["b"].RDN_STATE_NETWORK_MISMATCH,{network:d.chainId,contracts:b.TokenNetworkRegistry.address,stateNetwork:w.chainId,stateRegistry:w.registry}]),k=i&&Object(le["n"])(V["a"],y()(i,f.a)),E=Object(G["j"])(w,k,{signer:v,contractsInfo:b,db:_,main:g}),e.abrupt("return",new this(w,E));case 32:case"end":return e.stop()}}),e,this)})));function t(t,n,r,a,o,i,c){return e.apply(this,arguments)}return t}()},{key:"version",get:function(){return fe.sdk}},{key:"contractVersion",get:function(){return fe.contracts}}]),t}()}).call(this,n("6fc9"))},d276:function(e,t,n){"use strict";n.d(t,"b",(function(){return S})),n.d(t,"e",(function(){return A})),n.d(t,"c",(function(){return x})),n.d(t,"g",(function(){return N})),n.d(t,"f",(function(){return R})),n.d(t,"a",(function(){return I})),n.d(t,"d",(function(){return C}));var r=n("36d8"),a=n.n(r),o=n("2111"),i=n("53b1"),c=n.n(i),u=n("cea7"),s=n("996a"),l=n("f39b"),f=n("1319"),p=n("f2df"),d=n("ee6c"),b=n("ca14");function y(e){return O(e)||v(e)||m(e)||h()}function h(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function m(e,t){if(e){if("string"===typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}function v(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function O(e){if(Array.isArray(e))return g(e)}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function j(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function w(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){j(o,r,a,i,c,"next",e)}function c(e){j(o,r,a,i,c,"throw",e)}i(void 0)}))}}function _(e){return _="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){T(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],a=t[1],i=t[2],c=t[3],u=o["o"](o["u"](E(E(E({type:o["k"](r)},a?{payload:a}:null),i?{meta:i}:null),c?{error:o["k"](!0)}:null))),s=function(e){return(null===e||void 0===e?void 0:e["type"])===r};return Object.assign((function(e,t){return E(E(E({type:r},a?{payload:e}:{}),i?{meta:t}:{}),c?{error:c}:{})}),{type:r,is:s,codec:u,error:c})}function A(e){function t(e){return"function"===typeof this?this.is(e):Array.isArray(this)?this.some((function(n){return t.call(n,e)})):"object"===_(this)&&t.call(Object.values(this),e)}return(arguments.length<=1?0:arguments.length-1)>0?t.call(e,arguments.length<=1?void 0:arguments[1]):t.bind(e)}function x(){var e;return{request:S("".concat(arguments.length<=1?void 0:arguments[1],"/request"),arguments.length<=2?void 0:arguments[2],arguments.length<=0?void 0:arguments[0]),success:S("".concat(arguments.length<=1?void 0:arguments[1],"/success"),arguments.length<=3?void 0:arguments[3],arguments.length<=0?void 0:arguments[0]),failure:S("".concat(arguments.length<=1?void 0:arguments[1],"/failure"),null!==(e=arguments.length<=4?void 0:arguments[4])&&void 0!==e?e:o["x"],arguments.length<=0?void 0:arguments[0],!0)}}function P(e){var t=function(t){return c()(t.meta,e,(function(e,t){return b["b"].is(e)&&b["b"].is(t)?e.eq(t):void 0}))};return!(arguments.length<=1)&&arguments.length-1?t(arguments.length<=1?void 0:arguments[1]):t}function N(e,t){var n=function(n){return A([e.success,e.failure],n)&&P(t,n)};return!(arguments.length<=2)&&arguments.length-2?n(arguments.length<=2?void 0:arguments[2]):n}function R(e,t){function n(e){var t;return"boolean"===typeof(null===e||void 0===e||null===(t=e["payload"])||void 0===t?void 0:t["confirmed"])}var r=function(r){return N(e,t,r)&&(e.failure.is(r)||n(r))};return!(arguments.length<=2)&&arguments.length-2?r(arguments.length<=2?void 0:arguments[2]):r}function I(e,t,n,r){return D.apply(this,arguments)}function D(){return D=w(a.a.mark((function e(t,n,r,o){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(u["a"])(r.pipe(Object(s["a"])(o?R(t,n):N(t,n)),Object(s["a"])((function(e){return void 0===o||!t.success.is(e)||"confirmed"in e.payload})),Object(l["a"])(1),Object(f["a"])((function(e){var n;if(t.failure.is(e))throw e.payload;if(!1===(null===(n=e.payload)||void 0===n?void 0:n.confirmed))throw new d["c"](d["b"].RDN_TRANSACTION_REORG,{transactionHash:e.payload.txHash});return e.payload}))),{defaultValue:void 0}));case 1:case"end":return e.stop()}}),e)}))),D.apply(this,arguments)}function C(e){function t(n){var r=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,r=arguments.length>1?arguments[1]:void 0;return r.type in n&&n[r.type][0].is(r)?n[r.type][1](t,r):t};function a(e,r){var a=Array.isArray(e)?e:[e];return Object(p["a"])(!a.some((function(e){return e.type in n})),"Already handled"),t(Object.assign.apply(Object,[{},n].concat(y(a.map((function(e){return T({},e.type,[e,r])}))))))}return Object.assign(r,{handle:a})}return t({})}},d43a:function(e,t,n){e.exports=n.p+"img/udc_info.92f96cdc.svg"},d890:function(e,t,n){"use strict";n.r(t),n.d(t,"matrixSetup",(function(){return s})),n.d(t,"matrixPresence",(function(){return l})),n.d(t,"rtcChannel",(function(){return f}));var r=n("2111"),a=n("d276"),o=n("ca14"),i=n("ee57"),c=n("0602"),u=r["u"]({address:o["a"]}),s=Object(a["b"])("matrix/setup",r["u"]({server:r["r"],setup:i["a"]})),l=Object(a["c"])(u,"matrix/presence",void 0,r["i"]([r["u"]({userId:r["r"],available:r["d"],ts:r["m"],pubkey:o["g"]}),r["n"]({caps:c["a"]})])),f=Object(a["b"])("rtc/channel",r["w"]([r["v"],Object(o["o"])("RTCDataChannel")]),u)},d8a5:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e["NONE"]="none",e["INFO"]="info",e["WARNING"]="warning",e["ERROR"]="error"}(r||(r={}))},d8d0:function(e,t,n){},db2c5:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n("36d8"),a=n.n(r),o=n("605b"),i=n.n(o),c=n("ee6c");function u(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=b(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){return m(e)||h(e,t)||b(e,t)||d()}function d(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function b(e,t){if(e){if("string"===typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function m(e){if(Array.isArray(e))return e}function v(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function O(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){v(o,r,a,i,c,"next",e)}function c(e){v(o,r,a,i,c,"throw",e)}i(void 0)}))}}function g(e){var t={},n=function(){var n=O(a.a.mark((function n(){var r;return a.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.info();case 2:Object(c["d"])(!e.__opts.versionchanged,c["b"].RDN_DATABASE_DELETED),r=a.a.mark((function n(){var r,o,i,c,s,f,d,b;return a.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=t,t={},o=Object.keys(r),n.next=5,e.allDocs({keys:o});case 5:return i=n.sent,c=function(e){var t=i.rows.find((function(t){return t.id===e}));return null!==t&&void 0!==t&&t.value.deleted?{_rev:t.value.rev,deleted:!1}:t&&!("error"in t)?{_rev:t.value.rev}:void 0},n.next=9,e.bulkDocs(Object.entries(r).map((function(e){var t=p(e,2),n=t[0],r=t[1];return l(l({},r),{},{_id:n},c(n))})));case 9:s=n.sent,f=u(s);try{for(f.s();!(d=f.n()).done;)b=d.value,"error"in b&&b.error&&b.id&&!(b.id in t)&&(t[b.id]=r[b.id])}catch(a){f.e(a)}finally{f.f()}case 12:case"end":return n.stop()}}),n)}));case 4:if(i()(t)){n.next=8;break}return n.delegateYield(r(),"t0",6);case 6:n.next=4;break;case 8:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return function(r){return function(a){return function(o){var i=r.getState(),c=a(o),u=r.getState();if(u===i)return c;for(var s in u){var f=s;if(u[f]!==i[f])if("channels"===f||"oldChannels"===f){for(var p in u[f])if(u[f][p]!==i[f][p]){var d="channels.".concat(u[f][p]._id);e.storageKeys.add(d),t[d]=u[f][p]}}else if("transfers"===f){for(var b in u.transfers)u.transfers[b]!==i.transfers[b]&&(e.storageKeys.add(b),t[b]=u.transfers[b]);for(var y in i.transfers)y in u.transfers||(t[y]=l(l({},i.transfers[y]),{},{cleared:Date.now()}))}else{var h="state.".concat(f);e.storageKeys.add(h),t[h]={value:u[f]}}}return e.busy$.value||(e.busy$.next(!0),n().then((function(){return e.busy$.next(!1)}),(function(t){return e.busy$.error(t)}))),c}}}}},db7b:function(e,t,n){e.exports=n.p+"img/notifications.9b9982fe.svg"},de7d:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return O})),n.d(t,"c",(function(){return k})),n.d(t,"d",(function(){return D})),n.d(t,"e",(function(){return B})),n.d(t,"g",(function(){return oe})),n.d(t,"f",(function(){return le})),n.d(t,"h",(function(){return Ee}));var r=n("fbcd"),a=n("bf95");function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}var u=[{inputs:[{internalType:"uint256",name:"initial_supply",type:"uint256"},{internalType:"uint8",name:"decimal_units",type:"uint8"},{internalType:"string",name:"token_name",type:"string"},{internalType:"string",name:"token_symbol",type:"string"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_owner",type:"address"},{indexed:!0,internalType:"address",name:"_spender",type:"address"},{indexed:!1,internalType:"uint256",name:"_value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_to",type:"address"},{indexed:!0,internalType:"uint256",name:"_num",type:"uint256"}],name:"Minted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_from",type:"address"},{indexed:!0,internalType:"address",name:"_to",type:"address"},{indexed:!1,internalType:"uint256",name:"_value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[],name:"_decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"address",name:"_spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"remaining",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_spender",type:"address"},{internalType:"uint256",name:"_value",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"balance",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"balances",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"decimals",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"num",type:"uint256"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"num",type:"uint256"},{internalType:"address",name:"target",type:"address"}],name:"mintFor",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"multiplier",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner_address",outputs:[{internalType:"address payable",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"supply",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_value",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_from",type:"address"},{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"transferFunds",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"version",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}],s=function(){function e(){o(this,e)}return c(e,null,[{key:"createInterface",value:function(){return new r["c"].Interface(u)}},{key:"connect",value:function(e,t){return new a["a"](e,u,t)}}]),e}();function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),e}s.abi=u;var d=[{inputs:[{internalType:"contract Token",name:"_token",type:"address"},{internalType:"uint256",name:"_release_at",type:"uint256"},{internalType:"address",name:"_withdrawer",type:"address"},{internalType:"contract ServiceRegistryConfigurableParameters",name:"_service_registry",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"release_at",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"token",outputs:[{internalType:"contract Token",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address payable",name:"_to",type:"address"}],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdrawer",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}],b=function(){function e(){l(this,e)}return p(e,null,[{key:"createInterface",value:function(){return new r["c"].Interface(d)}},{key:"connect",value:function(e,t){return new a["a"](e,d,t)}}]),e}();function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t,n){return t&&h(e.prototype,t),n&&h(e,n),e}b.abi=d;var v=[{inputs:[{internalType:"uint256",name:"_initialAmount",type:"uint256"},{internalType:"uint8",name:"_decimalUnits",type:"uint8"},{internalType:"string",name:"_tokenName",type:"string"},{internalType:"string",name:"_tokenSymbol",type:"string"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_owner",type:"address"},{indexed:!0,internalType:"address",name:"_spender",type:"address"},{indexed:!1,internalType:"uint256",name:"_value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_from",type:"address"},{indexed:!0,internalType:"address",name:"_to",type:"address"},{indexed:!1,internalType:"uint256",name:"_value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[],name:"_decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"address",name:"_spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"remaining",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_spender",type:"address"},{internalType:"uint256",name:"_value",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_spender",type:"address"},{internalType:"uint256",name:"_value",type:"uint256"},{internalType:"bytes",name:"_extraData",type:"bytes"}],name:"approveAndCall",outputs:[{internalType:"bool",name:"success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"balance",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"balances",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"decimals",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"supply",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_value",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_from",type:"address"},{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"version",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}],O=function(){function e(){y(this,e)}return m(e,null,[{key:"createInterface",value:function(){return new r["c"].Interface(v)}},{key:"connect",value:function(e,t){return new a["a"](e,v,t)}}]),e}();function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t,n){return t&&j(e.prototype,t),n&&j(e,n),e}O.abi=v;var _=[{inputs:[{internalType:"address",name:"_token_address",type:"address"},{internalType:"address",name:"_service_registry_address",type:"address"},{internalType:"address",name:"_udc_address",type:"address"},{internalType:"address",name:"_token_network_registry_address",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"token_network_address",type:"address"},{indexed:!1,internalType:"uint256",name:"channel_identifier",type:"uint256"},{indexed:!1,internalType:"uint256",name:"reward_amount",type:"uint256"},{indexed:!0,internalType:"uint256",name:"nonce",type:"uint256"},{indexed:!0,internalType:"address",name:"ms_address",type:"address"},{indexed:!0,internalType:"address",name:"raiden_node_address",type:"address"}],name:"NewBalanceProofReceived",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"ms_address",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!0,internalType:"bytes32",name:"reward_identifier",type:"bytes32"}],name:"RewardClaimed",type:"event"},{inputs:[{internalType:"uint256",name:"channel_identifier",type:"uint256"},{internalType:"address",name:"token_network_address",type:"address"},{internalType:"address",name:"closing_participant",type:"address"},{internalType:"address",name:"non_closing_participant",type:"address"}],name:"claimReward",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"contract_address",type:"address"}],name:"contractExists",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"closed_at_block",type:"uint256"},{internalType:"uint256",name:"settle_timeout",type:"uint256"},{internalType:"address",name:"participant1",type:"address"},{internalType:"address",name:"participant2",type:"address"},{internalType:"address",name:"monitoring_service_address",type:"address"}],name:"firstBlockAllowedToMonitor",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"contract TokenNetwork",name:"token_network",type:"address"},{internalType:"uint256",name:"channel_identifier",type:"uint256"},{internalType:"address",name:"closing_participant",type:"address"},{internalType:"address",name:"non_closing_participant",type:"address"},{internalType:"address",name:"monitoring_service_address",type:"address"}],name:"firstBlockAllowedToMonitorChannel",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"closing_participant",type:"address"},{internalType:"address",name:"non_closing_participant",type:"address"},{internalType:"bytes32",name:"balance_hash",type:"bytes32"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"bytes32",name:"additional_hash",type:"bytes32"},{internalType:"bytes",name:"closing_signature",type:"bytes"},{internalType:"bytes",name:"non_closing_signature",type:"bytes"},{internalType:"uint256",name:"reward_amount",type:"uint256"},{internalType:"address",name:"token_network_address",type:"address"},{internalType:"bytes",name:"reward_proof_signature",type:"bytes"}],name:"monitor",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"service_registry",outputs:[{internalType:"contract ServiceRegistry",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"token",outputs:[{internalType:"contract Token",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"token_network_registry",outputs:[{internalType:"contract TokenNetworkRegistry",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"user_deposit",outputs:[{internalType:"contract UserDeposit",name:"",type:"address"}],stateMutability:"view",type:"function"}],k=function(){function e(){g(this,e)}return w(e,null,[{key:"createInterface",value:function(){return new r["c"].Interface(_)}},{key:"connect",value:function(e,t){return new a["a"](e,_,t)}}]),e}();function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e,t,n){return t&&T(e.prototype,t),n&&T(e,n),e}k.abi=_;var A=[{inputs:[{internalType:"address",name:"_deposit_contract",type:"address"},{internalType:"uint256",name:"_chain_id",type:"uint256"},{internalType:"address",name:"_service_registry_contract",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"sender",type:"address"},{indexed:!0,internalType:"address",name:"receiver",type:"address"},{indexed:!1,internalType:"uint256",name:"expiration_block",type:"uint256"},{indexed:!1,internalType:"uint256",name:"transferred",type:"uint256"}],name:"Claimed",type:"event"},{inputs:[{internalType:"address[]",name:"senders",type:"address[]"},{internalType:"address[]",name:"receivers",type:"address[]"},{internalType:"uint256[]",name:"amounts",type:"uint256[]"},{internalType:"uint256[]",name:"expiration_blocks",type:"uint256[]"},{internalType:"address",name:"one_to_n_address",type:"address"},{internalType:"bytes",name:"signatures",type:"bytes"}],name:"bulkClaim",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"chain_id",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"receiver",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"expiration_block",type:"uint256"},{internalType:"address",name:"one_to_n_address",type:"address"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"claim",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"contract_address",type:"address"}],name:"contractExists",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"deposit_contract",outputs:[{internalType:"contract UserDeposit",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"service_registry_contract",outputs:[{internalType:"contract ServiceRegistry",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"settled_sessions",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],x=function(){function e(){E(this,e)}return S(e,null,[{key:"createInterface",value:function(){return new r["c"].Interface(A)}},{key:"connect",value:function(e,t){return new a["a"](e,A,t)}}]),e}();function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function R(e,t,n){return t&&N(e.prototype,t),n&&N(e,n),e}x.abi=A;var I=[{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"secrethash",type:"bytes32"},{indexed:!1,internalType:"bytes32",name:"secret",type:"bytes32"}],name:"SecretRevealed",type:"event"},{inputs:[{internalType:"bytes32",name:"secrethash",type:"bytes32"}],name:"getSecretRevealBlockHeight",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"secret",type:"bytes32"}],name:"registerSecret",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32[]",name:"secrets",type:"bytes32[]"}],name:"registerSecretBatch",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}],D=function(){function e(){P(this,e)}return R(e,null,[{key:"createInterface",value:function(){return new r["c"].Interface(I)}},{key:"connect",value:function(e,t){return new a["a"](e,I,t)}}]),e}();function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function U(e,t,n){return t&&L(e.prototype,t),n&&L(e,n),e}D.abi=I;var M=[{inputs:[{internalType:"contract Token",name:"_token_for_registration",type:"address"},{internalType:"address",name:"_controller",type:"address"},{internalType:"uint256",name:"_initial_price",type:"uint256"},{internalType:"uint256",name:"_price_bump_numerator",type:"uint256"},{internalType:"uint256",name:"_price_bump_denominator",type:"uint256"},{internalType:"uint256",name:"_decay_constant",type:"uint256"},{internalType:"uint256",name:"_min_price",type:"uint256"},{internalType:"uint256",name:"_registration_duration",type:"uint256"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"service",type:"address"},{indexed:!1,internalType:"uint256",name:"valid_till",type:"uint256"},{indexed:!1,internalType:"uint256",name:"deposit_amount",type:"uint256"},{indexed:!1,internalType:"contract Deposit",name:"deposit_contract",type:"address"}],name:"RegisteredService",type:"event"},{inputs:[{internalType:"uint256",name:"_price_bump_numerator",type:"uint256"},{internalType:"uint256",name:"_price_bump_denominator",type:"uint256"},{internalType:"uint256",name:"_decay_constant",type:"uint256"},{internalType:"uint256",name:"_min_price",type:"uint256"},{internalType:"uint256",name:"_registration_duration",type:"uint256"}],name:"changeParameters",outputs:[{internalType:"bool",name:"_success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"contract_address",type:"address"}],name:"contractExists",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"controller",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"currentPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decay_constant",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_set_price",type:"uint256"},{internalType:"uint256",name:"_seconds_passed",type:"uint256"}],name:"decayedPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_limit_amount",type:"uint256"}],name:"deposit",outputs:[{internalType:"bool",name:"_success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"deprecated",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"everMadeDepositsLen",outputs:[{internalType:"uint256",name:"_len",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"ever_made_deposits",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_address",type:"address"}],name:"hasValidRegistration",outputs:[{internalType:"bool",name:"_has_registration",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"min_price",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"price_bump_denominator",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"price_bump_numerator",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"registration_duration",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"service_valid_till",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"setDeprecationSwitch",outputs:[{internalType:"bool",name:"_success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"new_url",type:"string"}],name:"setURL",outputs:[{internalType:"bool",name:"_success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"set_price",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"set_price_at",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"token",outputs:[{internalType:"contract Token",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"urls",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}],B=function(){function e(){C(this,e)}return U(e,null,[{key:"createInterface",value:function(){return new r["c"].Interface(M)}},{key:"connect",value:function(e,t){return new a["a"](e,M,t)}}]),e}();function F(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function W(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function V(e,t,n){return t&&W(e.prototype,t),n&&W(e,n),e}B.abi=M;var $=[{inputs:[{internalType:"uint256",name:"_price_bump_numerator",type:"uint256"},{internalType:"uint256",name:"_price_bump_denominator",type:"uint256"},{internalType:"uint256",name:"_decay_constant",type:"uint256"},{internalType:"uint256",name:"_min_price",type:"uint256"},{internalType:"uint256",name:"_registration_duration",type:"uint256"}],name:"changeParameters",outputs:[{internalType:"bool",name:"_success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"controller",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"currentPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decay_constant",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_set_price",type:"uint256"},{internalType:"uint256",name:"_seconds_passed",type:"uint256"}],name:"decayedPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"deprecated",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"min_price",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"price_bump_denominator",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"price_bump_numerator",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"registration_duration",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"setDeprecationSwitch",outputs:[{internalType:"bool",name:"_success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"set_price",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"set_price_at",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],H=function(){function e(){F(this,e)}return V(e,null,[{key:"createInterface",value:function(){return new r["c"].Interface($)}},{key:"connect",value:function(e,t){return new a["a"](e,$,t)}}]),e}();function q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function K(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function G(e,t,n){return t&&K(e.prototype,t),n&&K(e,n),e}H.abi=$;var Y=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_owner",type:"address"},{indexed:!0,internalType:"address",name:"_spender",type:"address"},{indexed:!1,internalType:"uint256",name:"_value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_from",type:"address"},{indexed:!0,internalType:"address",name:"_to",type:"address"},{indexed:!1,internalType:"uint256",name:"_value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"address",name:"_spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"remaining",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_spender",type:"address"},{internalType:"uint256",name:"_value",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"balance",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"balances",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"decimals",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"supply",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_value",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_from",type:"address"},{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"success",type:"bool"}],stateMutability:"nonpayable",type:"function"}],X=function(){function e(){q(this,e)}return G(e,null,[{key:"createInterface",value:function(){return new r["c"].Interface(Y)}},{key:"connect",value:function(e,t){return new a["a"](e,Y,t)}}]),e}();function Q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function J(e,t,n){return t&&z(e.prototype,t),n&&z(e,n),e}X.abi=Y;var Z=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_owner",type:"address"},{indexed:!0,internalType:"address",name:"_spender",type:"address"},{indexed:!1,internalType:"uint256",name:"_value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_from",type:"address"},{indexed:!0,internalType:"address",name:"_to",type:"address"},{indexed:!1,internalType:"uint256",name:"_value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"address",name:"_spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"remaining",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_spender",type:"address"},{internalType:"uint256",name:"_value",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"balance",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"decimals",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"supply",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_value",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_from",type:"address"},{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"success",type:"bool"}],stateMutability:"nonpayable",type:"function"}],ee=function(){function e(){Q(this,e)}return J(e,null,[{key:"createInterface",value:function(){return new r["c"].Interface(Z)}},{key:"connect",value:function(e,t){return new a["a"](e,Z,t)}}]),e}();function te(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function re(e,t,n){return t&&ne(e.prototype,t),n&&ne(e,n),e}ee.abi=Z;var ae=[{inputs:[{internalType:"address",name:"_token_address",type:"address"},{internalType:"address",name:"_secret_registry",type:"address"},{internalType:"uint256",name:"_chain_id",type:"uint256"},{internalType:"uint256",name:"_settlement_timeout_min",type:"uint256"},{internalType:"uint256",name:"_settlement_timeout_max",type:"uint256"},{internalType:"address",name:"_deprecation_executor",type:"address"},{internalType:"uint256",name:"_channel_participant_deposit_limit",type:"uint256"},{internalType:"uint256",name:"_token_network_deposit_limit",type:"uint256"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"channel_identifier",type:"uint256"},{indexed:!0,internalType:"address",name:"closing_participant",type:"address"},{indexed:!0,internalType:"uint256",name:"nonce",type:"uint256"},{indexed:!1,internalType:"bytes32",name:"balance_hash",type:"bytes32"}],name:"ChannelClosed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"channel_identifier",type:"uint256"},{indexed:!0,internalType:"address",name:"participant",type:"address"},{indexed:!1,internalType:"uint256",name:"total_deposit",type:"uint256"}],name:"ChannelNewDeposit",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"channel_identifier",type:"uint256"},{indexed:!0,internalType:"address",name:"participant1",type:"address"},{indexed:!0,internalType:"address",name:"participant2",type:"address"},{indexed:!1,internalType:"uint256",name:"settle_timeout",type:"uint256"}],name:"ChannelOpened",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"channel_identifier",type:"uint256"},{indexed:!1,internalType:"uint256",name:"participant1_amount",type:"uint256"},{indexed:!1,internalType:"bytes32",name:"participant1_locksroot",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"participant2_amount",type:"uint256"},{indexed:!1,internalType:"bytes32",name:"participant2_locksroot",type:"bytes32"}],name:"ChannelSettled",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"channel_identifier",type:"uint256"},{indexed:!0,internalType:"address",name:"receiver",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"bytes32",name:"locksroot",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"unlocked_amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"returned_tokens",type:"uint256"}],name:"ChannelUnlocked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"channel_identifier",type:"uint256"},{indexed:!0,internalType:"address",name:"participant",type:"address"},{indexed:!1,internalType:"uint256",name:"total_withdraw",type:"uint256"}],name:"ChannelWithdraw",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bool",name:"new_value",type:"bool"}],name:"DeprecationSwitch",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"channel_identifier",type:"uint256"},{indexed:!0,internalType:"address",name:"closing_participant",type:"address"},{indexed:!0,internalType:"uint256",name:"nonce",type:"uint256"},{indexed:!1,internalType:"bytes32",name:"balance_hash",type:"bytes32"}],name:"NonClosingBalanceProofUpdated",type:"event"},{inputs:[],name:"MAX_SAFE_UINT256",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"chain_id",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"channel_counter",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"channel_participant_deposit_limit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"channels",outputs:[{internalType:"uint256",name:"settle_block_number",type:"uint256"},{internalType:"enum TokenNetwork.ChannelState",name:"state",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"channel_identifier",type:"uint256"},{internalType:"address",name:"non_closing_participant",type:"address"},{internalType:"address",name:"closing_participant",type:"address"},{internalType:"bytes32",name:"balance_hash",type:"bytes32"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"bytes32",name:"additional_hash",type:"bytes32"},{internalType:"bytes",name:"non_closing_signature",type:"bytes"},{internalType:"bytes",name:"closing_signature",type:"bytes"}],name:"closeChannel",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"contract_address",type:"address"}],name:"contractExists",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"deprecate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"deprecation_executor",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"participant",type:"address"},{internalType:"address",name:"partner",type:"address"}],name:"getChannelIdentifier",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"channel_identifier",type:"uint256"},{internalType:"address",name:"participant1",type:"address"},{internalType:"address",name:"participant2",type:"address"}],name:"getChannelInfo",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"enum TokenNetwork.ChannelState",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"channel_identifier",type:"uint256"},{internalType:"address",name:"participant",type:"address"},{internalType:"address",name:"partner",type:"address"}],name:"getChannelParticipantInfo",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bool",name:"",type:"bool"},{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"participant",type:"address"},{internalType:"address",name:"partner",type:"address"}],name:"getParticipantsHash",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"channel_identifier",type:"uint256"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"receiver",type:"address"}],name:"getUnlockIdentifier",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"participant1",type:"address"},{internalType:"address",name:"participant2",type:"address"},{internalType:"uint256",name:"settle_timeout",type:"uint256"}],name:"openChannel",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"participants_hash_to_channel_identifier",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"safety_deprecation_switch",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"secret_registry",outputs:[{internalType:"contract SecretRegistry",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"channel_identifier",type:"uint256"},{internalType:"address",name:"participant",type:"address"},{internalType:"uint256",name:"total_deposit",type:"uint256"},{internalType:"address",name:"partner",type:"address"}],name:"setTotalDeposit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"channel_identifier",type:"uint256"},{internalType:"address",name:"participant",type:"address"},{internalType:"uint256",name:"total_withdraw",type:"uint256"},{internalType:"uint256",name:"expiration_block",type:"uint256"},{internalType:"bytes",name:"participant_signature",type:"bytes"},{internalType:"bytes",name:"partner_signature",type:"bytes"}],name:"setTotalWithdraw",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"channel_identifier",type:"uint256"},{internalType:"address",name:"participant1",type:"address"},{internalType:"uint256",name:"participant1_transferred_amount",type:"uint256"},{internalType:"uint256",name:"participant1_locked_amount",type:"uint256"},{internalType:"bytes32",name:"participant1_locksroot",type:"bytes32"},{internalType:"address",name:"participant2",type:"address"},{internalType:"uint256",name:"participant2_transferred_amount",type:"uint256"},{internalType:"uint256",name:"participant2_locked_amount",type:"uint256"},{internalType:"bytes32",name:"participant2_locksroot",type:"bytes32"}],name:"settleChannel",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"channel_identifier",type:"uint256"},{components:[{internalType:"address",name:"participant",type:"address"},{internalType:"uint256",name:"transferred_amount",type:"uint256"},{internalType:"uint256",name:"locked_amount",type:"uint256"},{internalType:"bytes32",name:"locksroot",type:"bytes32"}],internalType:"struct TokenNetwork.SettleInput",name:"participant1_settlement",type:"tuple"},{components:[{internalType:"address",name:"participant",type:"address"},{internalType:"uint256",name:"transferred_amount",type:"uint256"},{internalType:"uint256",name:"locked_amount",type:"uint256"},{internalType:"bytes32",name:"locksroot",type:"bytes32"}],internalType:"struct TokenNetwork.SettleInput",name:"participant2_settlement",type:"tuple"}],name:"settleChannel2",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"settlement_timeout_max",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"settlement_timeout_min",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"token",outputs:[{internalType:"contract Token",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"token_network_deposit_limit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"channel_identifier",type:"uint256"},{internalType:"address",name:"receiver",type:"address"},{internalType:"address",name:"sender",type:"address"},{internalType:"bytes",name:"locks",type:"bytes"}],name:"unlock",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"channel_identifier",type:"uint256"},{internalType:"address",name:"closing_participant",type:"address"},{internalType:"address",name:"non_closing_participant",type:"address"},{internalType:"bytes32",name:"balance_hash",type:"bytes32"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"bytes32",name:"additional_hash",type:"bytes32"},{internalType:"bytes",name:"closing_signature",type:"bytes"},{internalType:"bytes",name:"non_closing_signature",type:"bytes"}],name:"updateNonClosingBalanceProof",outputs:[],stateMutability:"nonpayable",type:"function"}],oe=function(){function e(){te(this,e)}return re(e,null,[{key:"createInterface",value:function(){return new r["c"].Interface(ae)}},{key:"connect",value:function(e,t){return new a["a"](e,ae,t)}}]),e}();function ie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ue(e,t,n){return t&&ce(e.prototype,t),n&&ce(e,n),e}oe.abi=ae;var se=[{inputs:[{internalType:"address",name:"_secret_registry_address",type:"address"},{internalType:"uint256",name:"_chain_id",type:"uint256"},{internalType:"uint256",name:"_settlement_timeout_min",type:"uint256"},{internalType:"uint256",name:"_settlement_timeout_max",type:"uint256"},{internalType:"uint256",name:"_max_token_networks",type:"uint256"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"token_address",type:"address"},{indexed:!0,internalType:"address",name:"token_network_address",type:"address"}],name:"TokenNetworkCreated",type:"event"},{inputs:[],name:"chain_id",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"contract_address",type:"address"}],name:"contractExists",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_token_address",type:"address"},{internalType:"uint256",name:"_channel_participant_deposit_limit",type:"uint256"},{internalType:"uint256",name:"_token_network_deposit_limit",type:"uint256"}],name:"createERC20TokenNetwork",outputs:[{internalType:"address",name:"token_network_address",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"deprecation_executor",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"max_token_networks",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"secret_registry_address",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"settlement_timeout_max",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"settlement_timeout_min",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"token_network_created",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"token_to_token_networks",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}],le=function(){function e(){ie(this,e)}return ue(e,null,[{key:"createInterface",value:function(){return new r["c"].Interface(se)}},{key:"connect",value:function(e,t){return new a["a"](e,se,t)}}]),e}();function fe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function de(e,t,n){return t&&pe(e.prototype,t),n&&pe(e,n),e}le.abi=se;var be=[{inputs:[{internalType:"uint256",name:"a",type:"uint256"},{internalType:"uint256",name:"b",type:"uint256"}],name:"failsafe_addition",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"a",type:"uint256"},{internalType:"uint256",name:"b",type:"uint256"}],name:"failsafe_subtract",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"participant1_deposit",type:"uint256"},{internalType:"uint256",name:"participant1_withdrawn",type:"uint256"},{internalType:"uint256",name:"participant1_transferred",type:"uint256"},{internalType:"uint256",name:"participant1_locked",type:"uint256"},{internalType:"uint256",name:"participant2_deposit",type:"uint256"},{internalType:"uint256",name:"participant2_withdrawn",type:"uint256"},{internalType:"uint256",name:"participant2_transferred",type:"uint256"},{internalType:"uint256",name:"participant2_locked",type:"uint256"}],name:"getMaxPossibleReceivableAmount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"a",type:"uint256"},{internalType:"uint256",name:"b",type:"uint256"}],name:"max",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"a",type:"uint256"},{internalType:"uint256",name:"b",type:"uint256"}],name:"min",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[],name:"signature_prefix",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}],ye=function(){function e(){fe(this,e)}return de(e,null,[{key:"createInterface",value:function(){return new r["c"].Interface(be)}},{key:"connect",value:function(e,t){return new a["a"](e,be,t)}}]),e}();function he(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ve(e,t,n){return t&&me(e.prototype,t),n&&me(e,n),e}ye.abi=be;var Oe=[{inputs:[{internalType:"address",name:"udc_address",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"receiver",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"success",type:"bool"}],stateMutability:"nonpayable",type:"function"}],ge=function(){function e(){he(this,e)}return ve(e,null,[{key:"createInterface",value:function(){return new r["c"].Interface(Oe)}},{key:"connect",value:function(e,t){return new a["a"](e,Oe,t)}}]),e}();function je(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function we(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _e(e,t,n){return t&&we(e.prototype,t),n&&we(e,n),e}ge.abi=Oe;var ke=[{inputs:[{internalType:"address",name:"_token_address",type:"address"},{internalType:"uint256",name:"_whole_balance_limit",type:"uint256"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!1,internalType:"uint256",name:"newBalance",type:"uint256"}],name:"BalanceReduced",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"withdrawer",type:"address"},{indexed:!1,internalType:"uint256",name:"plannedBalance",type:"uint256"}],name:"WithdrawPlanned",type:"event"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"balances",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"contract_address",type:"address"}],name:"contractExists",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"beneficiary",type:"address"},{internalType:"uint256",name:"new_total_deposit",type:"uint256"}],name:"deposit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"effectiveBalance",outputs:[{internalType:"uint256",name:"remaining_balance",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_msc_address",type:"address"},{internalType:"address",name:"_one_to_n_address",type:"address"}],name:"init",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"msc_address",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"one_to_n_address",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"planWithdraw",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"token",outputs:[{internalType:"contract Token",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"total_deposit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"receiver",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"whole_balance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"whole_balance_limit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdraw_delay",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"withdraw_plans",outputs:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"withdraw_block",type:"uint256"}],stateMutability:"view",type:"function"}],Ee=function(){function e(){je(this,e)}return _e(e,null,[{key:"createInterface",value:function(){return new r["c"].Interface(ke)}},{key:"connect",value:function(e,t){return new a["a"](e,ke,t)}}]),e}();function Te(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ae(e,t,n){return t&&Se(e.prototype,t),n&&Se(e,n),e}Ee.abi=ke;var xe=[{inputs:[{internalType:"address",name:"contract_address",type:"address"}],name:"contractExists",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}],Pe=function(){function e(){Te(this,e)}return Ae(e,null,[{key:"createInterface",value:function(){return new r["c"].Interface(xe)}},{key:"connect",value:function(e,t){return new a["a"](e,xe,t)}}]),e}();Pe.abi=xe},e3b7:function(e,t,n){"use strict";n("8d26")},edd4:function(e){e.exports=JSON.parse('{"disclaimer":{"user-info":{"header":"Important Information for Users","body":"The Raiden Light Client  is an application that allows you to interact with the Raiden network. If you haven\'t used Raiden before we recommend that you:","bullet-points":{"portal":{"text":"Checkout the","link":"developer portal"},"docs":{"text":"Look at the","link":"documentation"},"videos":{"text":"Learn more by watching","link":"explanatory videos"},"medium":{"text":"Read blog posts on","link":"Medium"}}},"terms":{"header":"Terms of Use","body":"By accessing the Raiden Light Client through our website you agree to the {0} and {1}.","link-name-terms":"Terms of Use","link-name-policy":"Privacy Policy"},"disclaimer":{"header":"Disclaimer","body":"The Raiden Light Client is a beta version of experimental open source software released as a test version under an MIT license and may contain errors and/or bugs. No guarantee or representation whatsoever is made regarding its suitability (or its use) for any purpose or regarding its compliance with any applicable laws and regulations. Use of the Raiden Light Client is at your own risk and discretion and by using the software you warrant and represent that you have read this disclaimer, understand its contents, assume all risk related thereto and hereby release, waive, discharge and covenant not to hold us or any of our officers, employees or affiliates from and for any direct or indirect damage resulting from the Raiden Light Client or the use thereof. Such to the extent as permissible by applicable laws and regulations."},"privacy":{"header":"Privacy Warning","body":["Please be aware, that by using the Raiden Light Client, among others your Ethereum address, channels, channel deposits, settlements and the Ethereum address of your channel counterparty will be stored on the Ethereum chain, i.e. on servers of Ethereum node operators and ergo are to a certain extent publicly available. The same might also be stored on systems of parties running Raiden nodes connected to the same token network. Data present in the Ethereum chain is very unlikely to be able to be changed, removed or deleted from the public arena.","Also be aware, that data on individual Raiden token transfers will be made available via the Matrix protocol to the recipient, intermediating nodes of a specific transfer as well as to the Matrix server operators, see Raiden Transport Specification."]},"accept-checkbox":"I have read, understood and hereby agree to the above Terms of Use, Privacy Policy including the Disclaimer and Privacy Warning","persist-checkbox":"Don’t display this message on start up","accept-button":"Accept"},"info-overlay":{"done":"Close","transfer":{"header":"About Transfer","body":"Enter a recipient address and a token amount to make a transfer. You need to have an open channel with the recipient or with a hub that is connected to the recipient."},"transfer-steps":{"header":"About Direct and Mediated Transfers","body":"A direct transfer will be possible if you have an open channel with the recipient. In any other case, the PFS will try to find the best way to route your transfer to the recipient."},"select-hub":{"header":"About Selecting a Hub","body":"A Hub is a well-connected node. You can connect to a hub or to any other node. Make sure you have enough service tokens to pay for the monitoring and pathfinding service as well as a balance of your selected token."},"open-channel":{"header":"About Opening a Channel","body":"Opening a channel will connect you to your selected hub or node. You need to choose an amount to deposit in the channel. Later you can transfer small amounts of this deposit to any recipient in the network."},"channels":{"header":"About Channels","body":"This is an overview of all your open channels for the selected token. You can choose to close and settle any channel to withdraw your tokens."},"account-backup":{"header":"About Backing Up the State","body":"Your state is stored in the browser. You should continuously keep a backup of your state by downloading the latest JSON file and storing it somewhere safe."},"account-raiden":{"header":"About Transferring ETH","body":"You need ETH on your Raiden Account to withdraw your tokens. You can add ETH by transferring it from your main account."},"account-withdrawal":{"header":"About Withdrawing Tokens","body":"Withdraw tokens from your Raiden account back to your main account."},"account-udc":{"header":"About UDC","body":"Your User Deposit Contract stores the utility tokens necessary for paying the Pathfinding and Monitoring Service."}},"home":{"welcome":"Welcome to the Raiden dApp","disclaimer":"The Raiden dApp is a reference implementation of the Raiden Light Client SDK. As this release still has its limitations and is a beta release, it is crucial to read the documentation with the security notes before using the software.","getting-started":{"description":"Read the {0} for detailed information on how to use the Raiden dApp.","link-name":"getting started guide"}},"notifications":{"no-notifications":"No notifications","clear":"Clear","block-count-progress":"Blocks until confirmation: ","tx-reorged-failure-reason":"The transaction could not get confirmed due to a reorg of the blockchain!","tx-state-confirmed":"confirmed","tx-state-pending":"not confirmed yet","backup-state":{"icon":"notification_state_backup","title":"Backup your state!","description":"Backup your state to not risk losing funds","link":"Click here to go to the backup state menu"},"ms-balance-proof":{"title":"Balance proof submitted","description":"A monitoring service successfully submitted a balance proof for a channel claiming a reward of {reward} {symbol}. Service: {monitoringService}, Partner: {partner}, Transaction: {txHash}"},"no-receive":{"icon":"notification_receive","title":"Receiving transfers disabled","description":"Check configuration and/or UDC balance"},"withdrawal":{"success":{"title":"User Deposit Withdraw Planned","description":"A planned withdrawal of {amount} {symbol} was successfully completed withdrawing {withdrawal} {symbol}"},"failure":{"title":"User Deposit Withdrawal","description":"The planned withdrawal of {amount} {symbol} failed: {message}","descriptions":{"UDC_WITHDRAW_NO_BALANCE":"We could not complete the withdrawal of {amount} {symbol} because there was not enough balance.","UDC_WITHDRAW_FAILED":"We could not complete the withdrawal of {amount} {symbol} because the transaction failed."}}},"withdrawn":{"icon":"notification_withdrawn","title":"User Deposit Tokens Withdrawn","description":"{withdrawnAmount} {symbol} ({plannedAmount} planned) have been withdrawn from the user deposit contract.","link":"Click here to transfer them to your main account."},"settlement":{"icon":"notification_settle","success":{"title":"Channel Settlement","description":"Channel with {partner} was settled."},"failure":{"title":"Channel Settlement","description":"Channel settlement with {partner} failed."}},"channel-open":{"icon":"notification_channels","success":{"title":"Channel Open","description":"Open channel with {partner} is {state}."},"failure":{"title":"Channel Open Failure","description":"{reason}"}}},"general":{"buttons":{"cancel":"Cancel","transfer":"Transfer","continue":"Continue","confirm":"Confirm"},"offline":"Please connect to the internet.","raiden-account":"Raiden Account","main-account":"Main Account"},"account-content":{"account-details":"Account Details","address":"Address:","disconnect-button":"Disconnect","account":{"main":"Main ETH:","raiden":"Raiden ETH:"},"menu-items":{"settings":{"title":"Settings","subtitle":"Change how you interact with the dApp"},"backup-state":{"title":"Backup State","subtitle":"Download or upload your state"},"report-bugs":{"title":"Download Logs","subtitle":"Download your logs"},"raiden-account":{"title":"Transfer ETH","subtitle":"Transfer ETH between main and Raiden account"},"withdrawal":{"title":"Withdraw Tokens","subtitle":"Transfer tokens from your Raiden account to your main account"},"udc":{"title":"Manage UDC Tokens","subtitle":"Transfer tokens from or to your User Deposit Contract"}}},"withdrawal":{"title":"Transfer tokens to your main Ethereum account.","navigation-link-title":"For service tokens, make sure you withdrew them at the UDC screen first.","dialog":{"title":"Withdraw {0}","body":"You are about to withdraw {0} from your Raiden account.","progress":"Withdrawing...","button":"Confirm","no-eth":"Your Raiden account does not have sufficient ETH to withdraw."},"blockie-alt":"Token address blockie","no-tokens":"The Raiden account has no tokens"},"udc":{"balance":"User Deposit Contract Balance","balance-too-low":"Balance is too low for services. Deposit at least {minAmount} {tokenSymbol} to enable receiving.","withdrawal-header":"Withdrawal in progress","withdrawal":"Withdrawal","deposit":"Deposit","asterisk":"*","withdrawal-footnote":"Actual withdrawal amount might vary","withdrawal-planned":"The withdrawal from the user deposit has been planned. You will get notified when the withdrawal is complete.","information":{"no-withdrawal-in-progress":"No withdrawal in progress","pending-message":"Blocks remaining...","ready-message":"Ready・Tokens get claimed automatically"}},"backup-state":{"description":"The state holds all account information except the private key. You can backup your state to make sure the dApp is kept in sync when switching between browsers.","disabled-download":"Downloading the state is only possible when connected to the dApp","disabled-upload":"Uploading the state is only possible when the dApp is disconnected","download":"Download State","download-warning":"Downloading the state will force the dApp to shut down","download-button":"Download","upload":"Upload State and Connect","upload-drag-and-drop":"Drag and drop state file","upload-divider":"or","upload-button":"Browse files","upload-error":"Only one state file in valid JSON format can be uploaded"},"raiden-account":{"in-progress":"Transfer in progress","transfer-from-main-account":"Transfer ETH from Main Account to Raiden Account","transfer-from-raiden-account":"Transfer ETH from Raiden Account to Main Account"},"update":{"optional":"A new version is available.","mandatory":"Something happened to the local cached version. Perhaps the browser storage got cleared. You must update to get the app working again. You will not lose your current state.","update":"Update"},"address-input":{"input":{"placeholder":"Address / ENS name"},"blockie-alt":"Selected token address blockie","error":{"invalid-address":"Enter a valid address or ENS name","no-checksum":"Please enter an address in checksum format. You can convert your address on {ethsum}.","empty":"Enter an address or ENS name","ens-resolve-failed":"Please enter a resolvable ENS name","invalid-excluded-address":"Please enter a different address or ENS name. You can\'t use your own address or the address of the token network.","target-offline":"Target is offline."}},"amount-input":{"input":{"hint":"Please enter an amount"},"error":{"empty":"Please enter an amount","too-many-decimals":"Please use only up to {decimals} decimals for this token","not-enough-funds":"Your maximum usable amount is {funds} {symbol}","zero":"Enter an amount larger than zero","invalid":"Please enter a valid amount"}},"address-display":{"copy":"Click to copy","copied":"Copied!"},"app-header":{"currency":"ETH"},"channel-actions":{"deposit":"Deposit","withdraw":"Withdraw","close":"Close","settle":"Settle"},"channel-deposit":{"buttons":{"confirm":"Deposit"},"input":{"label":"Amount"}},"channel-withdraw":{"buttons":{"confirm":"Withdraw"},"input":{"label":"Amount"},"dialog":{"label":"Withdraw","title":"Withdrawing Tokens","description":"Sign the transaction in MetaMask and close this dialogue to continue using the dApp."},"done":{"label":"Done","title":"Withdraw Successful","description":"Your tokens have been successfully withdrawn."}},"find-routes":{"hops":"Hops","price":"Price","sub-title":"Route(s) provided by {subdomain} including number of hops and estimated fee","error":{"title":"Oops, something went wrong"}},"stepper":{"steps":{"open":{"title":"Open","description":"You can deposit more tokens \\n or close the channel."},"closed":{"title":"Closed","description":"Please wait until your channel is settleable. \\nthis may take some time."},"settleable":{"title":"Settleable","description":"Settle your channel to transfer \\n your tokens back to your account."}}},"channels":{"open":{"header":"Open"},"closed":{"header":"Closed"},"settleable":{"header":"Settleable"},"snackbar-close":"Close","token-info":"{symbol} | {name}","title":"Channels on"},"channel-list":{"channel":{"blockie_alt":"Partner address blockie","capacity":"Capacity: {value}","close_dialog":{"title":"Close Channel","description":"Are you sure you want to close this channel? This action cannot be undone."},"settle_dialog":{"title":"Settle Channel","description":"Are you sure you want to settle the channel with hub {partner} for token {token}?"}},"messages":{"close":{"success":"Channel closed successfully","failure":"Channel close failed"},"deposit":{"success":"Deposit was successful","failure":"Deposit failed"},"withdraw":{"success":"Withdraw was successful","failure":"Withdraw failed"},"settle":{"success":"Channel settle was successful","failure":"Channel settle failed"}}},"confirmation":{"buttons":{"cancel":"Cancel","close":"Close","settle":"Settle"}},"confirmation-dialog":{"buttons":{"cancel":"Cancel","confirm":"Confirm"}},"error-screen":{"title":"Error"},"error-codes":{"deployment-info-parsing-failed":"Failed to read the contract or service deployment information file!","unsupported-network":"The current network is unsupported. Please choose a different network.","sdk-initialization-failed":"SDK initialization failed. Please check the console for more information.","state-migration-failed":"Cannot replace state with older uploaded state."},"tokens":{"connected-tokens":"Connected Tokens","connect-new":"Connect new token","disconnect-dialog":{"header":"Disconnect token","confirmation-message":"This action will close all channels for the {symbol} token! {address}"},"leave-progress":{"label":"Disconnect","title":"Disconnecting from the token network","description":"Closing the channels"},"leave-done":{"label":"Done","title":"Disconnected from the token network","description":"All your channels were successfully closed"}},"application":{"privacy-policy":"Privacy Policy, Disclaimer & Imprint.","terms":"Terms."},"udc-deposit-dialog":{"title":"Deposit to UDC","button":"Mint and deposit","button-main":"Deposit","uniswap-url-title":"Click here to purchase RDN","available-utility-token":"Available {utilityTokenSymbol} to deposit: {utilityTokenBalance}","available-eth":"Available ETH for on-chain transaction: {balance} {currency}","error":"The mint and deposit operation failed.","error-main":"The deposit operation failed.","progress":{"mint":"Minting {currency} tokens","approve":"Allow UDC to access {currency} tokens","deposit":"Deposit {currency} tokens to the UDC"}},"transfer":{"receiving-transfer-snackbar":"Receiving transfer, do not close browser.","capacity-label":"Capacity","recipient-label":"Recipient","amount-label":"Amount","amount-placeholder":"Amount","error":{"button":"Dismiss","title":"Token transfer unsuccessful","deposit-title":"Deposit failed, please try again."},"transfer-menus":{"select-token-title":"Select Token","deposit-button":"Deposit","channel-button":"Channels","no-channels":"No open channels"},"transfer-inputs":{"title":"Transfer"},"no-channels-dialog":{"title":"No open channels for the selected token","button":"Connect new token"},"steps":{"request-route":{"title":"Request Route","tooltip":"Mint and deposit {token} to the User Deposit Contract to pay for PFS requests","tooltip-main":"Deposit {token} to the User Deposit Contract to pay for PFS requests","udc-description":"Balance to pay the Pathfinding Service","udc-description-low-balance":"Your {token} token balance is too low to pay for the Pathfinding Service. Use the button above to mint and deposit more tokens.","in-progress":"Paying for the route request","searching-for-route":"Searching for route...","done":"Route request payment complete"},"select-route":{"title":"Select Route"},"confirm-transfer":{"title":"Confirm Transfer","total-amount":"Total Amount"},"call-to-action":{"1":{"default":"Transfer Route Request","amount":"Confirm PFS Fee of {amount} {symbol}"},"2":{"default":"Confirm Mediation Fees","amount":"Confirm Mediation Fee of {amount} {symbol}"},"3":{"amount":"Transfer {amount} {symbol}"}},"transfer":{"title":"Transferring Tokens"},"done":{"title":"Send Successful","description":"Your transfer was successful."},"deposit":{"label":"Deposit","title":"Depositing Tokens","description":"Sign the transaction in MetaMask and close this dialogue to continue using the dApp."},"deposit-done":{"label":"Done","title":"Deposit Successful","description":"Your tokens have been successfully deposited."},"summary":{"headline":"Summary","route-request":"Route Request","pfs":"Pathfinding Service","service-fee":"Service Fee","mediated-transfer":"Mediated Transfer","direct-transfer":"Direct Transfer","target":"Target","transfer-amount":"Transfer Amount","total-amount":"Total Amount","mediation-fee":"Mediation Fee","identifier":"Identifier","footnotes":{"one":"1","direct-transfer":"Route request and selection skipped, because you are performing a direct transfer.","route-selection-skipped":"Automatically skipped route selection, because there was only a single route with zero fees."}}}},"transfer-history":{"title":"History","pending-transfer":"PENDING","successful-transfer":"CONFIRMED","failed-transfer":"FAILED"},"select-token":{"header":"Available Tokens"},"select-hub":{"select-button":"Select Hub","service-token-tooltip":"Mint and deposit {token} to the User Deposit Contract to pay for the Monitoring Service.","service-token-tooltip-main":"Deposit {token} to the User Deposit Contract to pay for the Monitoring Service.","service-token-description":"balance for monitoring service"},"hub-list":{"header":"Current top 3 suggested hubs (best first)","error":"Error: List of hubs cannot be fetched from the Pathfinding Service.","no-results":"In this token network, the Pathfinding Service does not find a node which is online. Try again later.","select-button":"Select"},"open-channel":{"error":{"title":"Ops, something went wrong","button":"Dismiss","deposit-failed":"Could not deposit to the channel.","open-failed":"Channel open failed."},"open-button":"Open Channel","partner":"Channel Partner","steps":{"open":{"label":"Open","title":"Opening a new channel","description":"Please do not close the browser and confirm the transaction with MetaMask."},"transfer":{"label":"Transfer","title":"Transferring tokens to the network and deposit into the channel","description":"Please do not close the browser and confirm two (2) transactions with MetaMask."},"deposit":{"label":"Deposit","title":"Not implemented - split title above, when done","description":"Not implemented - split description above, when done"},"done":{"label":"Done","title":"New Channel opened","description":"A new channel was successfully opened. You can now start making transfers."}},"confirmation":"Channel opening is in progress, are you sure you want to leave?"},"token-information":{"title":"Token","description":"{symbol} | {name}","balance":"Balance"},"pathfinding-services":{"title":"Select Pathfinding Service","rtt":"{time} ms","headers":{"host":"Pathfinding Service","rtt":"Ping","price":"Price"}},"mint-dialog":{"title":"Mint {symbol}","description":"If you continue, you will get prompted by MetaMask to sign off a minting transaction. In order to mint tokens, you need test net ETH in your wallet."},"error-message":{"problem":"Problem:","solution":"Solution:"},"errors":{"RDN_GENERAL_ERROR":{"title":"An error occurred","problem":"We do not know this error, sorry.","solution":["Please help us and report the issue","Click on your identicon in the top right corner","Click on Report Bugs / Download logs","File a new issue on https://github.com/raiden-network/light-client","Upload logs to the issue"]},"RDN_MINT_FAILED":{"title":"Could not mint token","problem":"It looks like the Light Client does not support minting out-of-the-box for this token contract.","solution":"You may try to mint manually via MetaMask and Etherscan. You can find a step-by-step guide on https://github.com/raiden-network/light-client#minting-manually."},"PFS_UNKNOWN_TOKEN_NETWORK":{"title":"No open channels","problem":"You don\'t seem to have open channels on this token network.","solution":["Hit the ← button in the top left","Click on the current token network","Select Connect new token","Select the token you want to transfer","Proceed with the flow to open a new channel"]},"PFS_INVALID_INFO":{"title":"Couldn\'t understand Pathfinding Service","problem":"The Light Client has received a response from the Pathfinding Service that it couldn\'t understand. It\'s possible that the current Light Client version is out-of-sync with the Pathfinding Service.","solution":["Update the dApp by reloading the page","Attempt a new transfer","If the problem persists, please help us and report the issue","Click on your identicon in the top right corner","Click on Report Bugs / Download logs","File a new issue on https://github.com/raiden-network/light-client","Upload logs to the issue"]},"PFS_NO_ROUTES_FOUND":{"title":"No routes found","problem":"Pathfinding Service wasn\'t able to find a route in the Raiden Network to perform your transfer.","solution":"Make sure that you either have a direct channel with the target or that both of you are connected to a well-connected hub."},"PFS_ERROR_RESPONSE":{"title":"Pathfinding replied with an error","problem":"While communicating with the Pathfinding Service, you have received an error response that we don\'t actively handle yet.","solution":["Simply retry your last action","If the problem persists, please help us and report the issue","Click on your identicon in the top right corner","Click on Report Bugs / Download logs","File a new issue on https://github.com/raiden-network/light-client","Upload logs to the issue"]},"PFS_DISABLED":{"title":"Pathfinding Service disabled","problem":"You tried to find a route in the Raiden Network but Pathfinding was either disabled in your configuration or you did not select a valid Pathfinding Service.","solution":"Try to restart the Light Client by reloading the page and attempt a new transfer."},"PFS_TARGET_OFFLINE":{"title":"Target address is offline","problem":"You are trying to send tokens to an offline target.","solution":"Hit the ← button and verify that the address is online or choose a different target address."},"PFS_LAST_IOU_REQUEST_FAILED":{"title":"Error while depositing tokens for Pathfinding Service","problem":"While trying to deposit tokens for route requests, the Pathfinding Service returned an error.","solution":["This should happen very rarely, please retry to deposit","If the problem persists, please help us and report the issue","Click on your identicon in the top right corner","Click on Report Bugs / Download logs","File a new issue on https://github.com/raiden-network/light-client","Upload logs to the issue"]},"PFS_IOU_SIGNATURE_MISMATCH":{"title":"Error while depositing tokens for Pathfinding Service","problem":"While trying to deposit tokens for route requests, the Pathfinding Service encountered mismatching signatures.","solution":["This should happen very rarely, please retry to deposit","If the problem persists, please help us and report the issue","Click on your identicon in the top right corner","Click on Report Bugs / Download logs","File a new issue on https://github.com/raiden-network/light-client","Upload logs to the issue"]},"PFS_NO_ROUTES_BETWEEN_NODES":{"title":"No route between you and your target","problem":"The Pathfinding Service was not able to find a usable route between you and the target you want to transfer tokens to.","solution":["Hit the ← button in the top left","Click on the current token network","Select Connect new token","Select the token you want to transfer","Connect with a more popular hub, e.g. hub.raiden.eth. That way, Pathfinding Service is more likely to find a route between you and the target","Retry your transfer"]}},"versions":{"sdk":"Raiden SDK: {version}","contracts":"Raiden Contracts: {version}"},"scan":{"permission":{"title":"Grant Camera Access","description":"In order to scan QR codes, you will need to allow camera access."}},"progress-steps":{"transfer":{"PENDING":"Transfer sent","RECEIVED":"Transfer acknowledged by partner","REFUNDED":"Transfer refunded","CLOSED":"Channel closed early","REVEALED":"Secret revealed to target","UNLOCKING":"Unlock sent to partner","EXPIRING":"Lock expired","UNLOCKED":"Unlock acknowledged","EXPIRED":"Lock expired acknowledged","REQUESTED":"Secret requested by target","REGISTERED":"Secret registered on-chain"}},"settings":{"raiden-account":{"title":"Use Raiden Account","description":"By default the dApp uses a generated Raiden account to sign messages. Disable the Raiden account to use your Web3 provider account. All messages will then have to be signed manually."}},"token-list":{"item":{"blockie-alt":"Token address blockie","information-template":"{symbol} | {name}"}},"install-banner":{"install":"Install","dismiss":"Dismiss","message-mobile":"Add the Raiden dApp to your Home screen","message-desktop":"Install the Raiden dApp on your desktop"},"connection-manager":{"dialogs":{"base":{"link-button":"Connect"},"direct-rpc-provider":{"header":"Private Key","description":"Connect directly to an Ethereum node and use your accounts private key. This approach is NOT RECOMMENDED for security concerns.","error-message":"Failed to link to configured provider. Please make sure the given paramaters and the service is available.","options":{"rpc-url":{"name":"RPC","details":"Provide the URL for an RPC endpoint","placeholder":"https://"},"private-key":{"name":"Private Key","details":"Hex encoded private key of your Ethereum account.","placeholder":"f0a78..."}}},"injected-provider":{"header":"Browser Extension","description":"Connect with a provider in your web browser.","error-message":"Failed to link to provider. Please make sure to grant the requested permissions."},"wallet-connect-provider":{"header":"WalletConnect","description":"Connect with any mobile wallet app that supports WalletConnect.","error-message":"Failed to link via WalletConnect. Please make sure the given parmaters are correct and confirm the connection in the wallet.","options":{"bridge-url":{"name":"Bridge Server","details":"Provide the URL for an alternative bridge server","placeholder":"https://"},"infura-id":{"name":"Infura","details":"Provide the ID for an Infura project","placeholder":"Project ID"},"rpc-url":{"name":"RPC","details":"Provide the URL for an RPC endpoint","placeholder":"https://"}}},"connection-pending":{"title":"Connecting","text":"Please check if any actions are required in your wallet.","button":"Cancel"}}}}')},ee57:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("2111"),a=r["o"](r["u"]({userId:r["r"],accessToken:r["r"],deviceId:r["r"],displayName:r["r"]}))},ee6c:function(e,t,n){"use strict";n.d(t,"b",(function(){return L})),n.d(t,"g",(function(){return U})),n.d(t,"i",(function(){return M})),n.d(t,"h",(function(){return B})),n.d(t,"f",(function(){return $})),n.d(t,"e",(function(){return H})),n.d(t,"c",(function(){return q})),n.d(t,"d",(function(){return K})),n.d(t,"a",(function(){return Y}));var r=n("a91f"),a=n("ccde"),o=n("2111"),i=n("5a9d"),c=n.n(i),u=n("a32b");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){return p="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t,n){return t&&b(e.prototype,t),n&&b(e,n),e}function h(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}function m(e){var t=w();return function(){var n,r=E(e);if(t){var a=E(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return v(this,n)}}function v(e,t){return!t||"object"!==p(t)&&"function"!==typeof t?O(e):t}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){var t="function"===typeof Map?new Map:void 0;return g=function(e){if(null===e||!_(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return j(e,arguments,E(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),k(n,e)},g(e)}function j(e,t,n){return j=w()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var a=Function.bind.apply(e,r),o=new a;return n&&k(o,n.prototype),o},j.apply(null,arguments)}function w(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function _(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function k(e,t){return k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},k(e,t)}function E(e){return E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},E(e)}function T(e){return x(e)||A(e)||R(e)||S()}function S(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function A(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function x(e){if(Array.isArray(e))return I(e)}function P(e,t){return C(e)||D(e,t)||R(e,t)||N()}function N(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function R(e,t){if(e){if("string"===typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?I(e,t):void 0}}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function D(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function C(e){if(Array.isArray(e))return e}var L=u;function U(e,t){var n=function e(t,n){var r,a;return a="string"===typeof t?(null===n||void 0===n?void 0:n.name)===t||(null===n||void 0===n||null===(r=n.message)||void 0===r?void 0:r.includes(t)):"number"===typeof t?(null===n||void 0===n?void 0:n.httpStatus)===t:Object.entries(t).every((function(e){var t=P(e,2),r=t[0],a=t[1];return(null===n||void 0===n?void 0:n[r])===a})),!a&&n&&"error"in n&&(a=e(t,n.error)),a},r=Array.isArray(e)?function(t){return e.some((function(e){return n(e,t)}))}:function(t){return n(e,t)};return arguments.length<2?r:r(t)}function M(e){var t,n=-1,r=null!==(t=e.maxRetries)&&void 0!==t?t:10;return function(t){var a;n++;var o=!0;return r>=0&&o&&(o=n<r),e.onErrors&&o&&(o=U(e.onErrors,t)),e.neverOnErrors&&o&&(o=!U(e.neverOnErrors,t)),e.predicate&&o&&(o=!!e.predicate(t,n)),e.stopPredicate&&o&&(o=!e.stopPredicate(t,n)),null===(a=e.log)||void 0===a||a.call(e,o?"retrying":"giving up",{count:n,maxRetries:r},t),o}}var B=["invalid response","missing response",{code:"TIMEOUT"},{code:"SERVER_ERROR"},{code:"NETWORK_ERROR"},{code:"ENOTFOUND"},429,500,502,503],F=["always failing transaction","cannot estimate gas",{code:"UNPREDICTABLE_GAS_LIMIT"}],W=["replacement fee too low","gas price supplied is too low","nonce is too low","nonce has already been used","already known","Transaction with the same hash was already imported"],V=["execution failed due to an exception","transaction failed","execution reverted"],$=[].concat(F,W,B),H=[].concat(T($),V),q=function(e){h(n,e);var t=m(n);function n(e,r){var a;return d(this,n),a=t.call(this,e),a.details=r,a.name="RaidenError",Object.setPrototypeOf(O(a),n.prototype),a}return y(n,[{key:"code",get:function(){var e,t=this;return null!==(e=c()(L,(function(e){return e===t.message})))&&void 0!==e?e:"RDN_GENERAL_ERROR"}}]),n}(g(Error));function K(e,t,n){if(!e)throw null===n||void 0===n||n("__assertion failed:",e,t),t instanceof Error?t:"function"===typeof t?t(e):Array.isArray(t)?j(q,T(t)):new q(null!==t&&void 0!==t?t:L.RDN_ASSERT_ERROR,{condition:e})}var G=o["i"]([o["u"]({name:o["r"]}),o["n"]({message:o["r"],stack:o["r"],details:o["x"]})]),Y=new o["b"]("Error",(function(e){return"object"===p(e)&&!!e&&"name"in e&&"message"in e}),(function(e){return Object(a["pipe"])(G.decode(e),Object(r["map"])((function(e){return"details"in e?Object.assign(new q(e.message,e.details),{name:e.name,stack:e.stack}):Object.assign(new Error(e.message),{name:e.name,stack:e.stack})})))}),(function(e){return l({name:e.name,message:e.message,stack:e.stack},"details"in e?{details:e.details}:{})}))},ee79:function(e){e.exports=JSON.parse('{"contracts_version":null,"chain_id":1,"contracts":{"SecretRegistry":{"address":"0x70f0c29b946E63803BD0Be796E17E47138668A68","transaction_hash":"0xa5a2672315e336dde3b43f3c09a4d0dbc7a59a4fe84f0506ea3abb5025bf94fb","block_number":10095755,"gas_cost":247286,"constructor_arguments":[]},"TokenNetworkRegistry":{"address":"0x6d07A2ef8De5d7D48337510BCEb9FEEa5424b20c","transaction_hash":"0xfde25a57b5ce0c8fcb748d5ff5ba8464cfce022d6eea72b6374b07c1b5f27b14","block_number":10095771,"gas_cost":4001210,"constructor_arguments":["0x70f0c29b946E63803BD0Be796E17E47138668A68",1,100,500,2]}},"token_networks":[{"token_network_address":"0x5b606943b36F3569E00EC4178A9f83eea8730184","constructor_arguments":{"_token_address":"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2","_secret_registry":"0x70f0c29b946E63803BD0Be796E17E47138668A68","_chain_id":1,"_settlement_timeout_min":100,"_settlement_timeout_max":500,"_deprecation_executor":"0xbBF11c2f66E1887681C902095CEfB1018C854c0f","_channel_participant_deposit_limit":4683182690956770000,"_token_network_deposit_limit":4.68318269095677e+21}},{"token_network_address":"0xEA92bD481e54BBB9Bb6C927970a54E82eE26c6B4","constructor_arguments":{"_token_address":"0x6B175474E89094C44Da98b954EedeAC495271d0F","_secret_registry":"0x70f0c29b946E63803BD0Be796E17E47138668A68","_chain_id":1,"_settlement_timeout_min":100,"_settlement_timeout_max":500,"_deprecation_executor":"0xbBF11c2f66E1887681C902095CEfB1018C854c0f","_channel_participant_deposit_limit":1e+21,"_token_network_deposit_limit":1e+24}}]}')},eed9:function(e,t,n){"use strict";n.r(t),n.d(t,"pathFind",(function(){return s})),n.d(t,"servicesValid",(function(){return l})),n.d(t,"iouPersist",(function(){return f})),n.d(t,"iouClear",(function(){return p})),n.d(t,"udcDeposit",(function(){return d})),n.d(t,"udcWithdrawPlan",(function(){return y})),n.d(t,"udcWithdraw",(function(){return h})),n.d(t,"msBalanceProofSent",(function(){return m}));var r=n("2111"),a=n("d276"),o=n("ca14"),i=n("d011"),c=r["u"]({tokenNetwork:o["a"],target:o["a"],value:Object(o["l"])(32)}),u=r["u"]({tokenNetwork:o["a"],serviceAddress:o["a"]}),s=Object(a["c"])(c,"path/find",r["n"]({paths:i["d"],pfs:r["w"]([i["c"],r["l"]])}),r["u"]({paths:i["d"]})),l=Object(a["b"])("services/valid",i["j"]),f=Object(a["b"])("iou/persist",r["u"]({iou:Object(o["j"])(i["a"])}),u),p=Object(a["b"])("iou/clear",void 0,u),d=Object(a["c"])(r["u"]({totalDeposit:Object(o["l"])(32)}),"udc/deposit",r["i"]([r["u"]({deposit:Object(o["l"])(32)}),r["n"]({subkey:r["d"]})]),r["w"]([r["u"]({balance:Object(o["l"])(32)}),r["u"]({balance:Object(o["l"])(32),txHash:o["c"],txBlock:r["m"],confirmed:r["w"]([r["v"],r["d"]])})])),b=r["u"]({amount:Object(o["l"])(32)}),y=Object(a["c"])(b,"udc/withdraw/plan",r["v"],r["i"]([r["u"]({block:r["m"]}),r["n"]({txHash:o["c"],txBlock:r["m"],confirmed:r["w"]([r["v"],r["d"]])})])),h=Object(a["c"])(b,"udc/withdraw",r["v"],r["u"]({withdrawal:Object(o["l"])(32),txHash:o["c"],txBlock:r["m"],confirmed:r["w"]([r["v"],r["d"]])})),m=Object(a["b"])("ms/balanceProof/sent",r["u"]({tokenNetwork:o["a"],partner:o["a"],id:r["m"],reward:Object(o["l"])(32),nonce:Object(o["l"])(8),monitoringService:o["a"],txHash:o["c"],txBlock:r["m"],confirmed:r["w"]([r["v"],r["d"]])}))},ef8c:function(e,t,n){"use strict";n("0731")},f2df:function(e,t,n){"use strict";var r=n("ee6c");n.d(t,"a",(function(){return r["d"]}))},f455:function(e,t,n){"use strict";var r=n("d0dd");n.d(t,"f",(function(){return r["a"]}));var a=n("b8ff");n.d(t,"b",(function(){return a["b"]}));n("5bbb");var o=n("2b5b");n.d(t,"a",(function(){return o["a"]})),n.d(t,"c",(function(){return o["d"]}));var i=n("d011");n.d(t,"e",(function(){return i["e"]}));n("65e1"),n("1a78");var c=n("05eb");n.d(t,"d",(function(){return c["a"]}));n("ee6c");var u=n("1b23");n.d(t,"g",(function(){return u["c"]}));n("ca14")},f496:function(e,t,n){e.exports=n.p+"img/select_hub_info.32d32b20.svg"},f5be:function(e,t,n){"use strict";n.d(t,"e",(function(){return T})),n.d(t,"d",(function(){return S})),n.d(t,"c",(function(){return A})),n.d(t,"f",(function(){return x})),n.d(t,"g",(function(){return P})),n.d(t,"b",(function(){return R})),n.d(t,"a",(function(){return C}));var r=n("a91f"),a=n("ccde"),o=n("2111"),i=n("0128"),c=n.n(i),u=n("d2a5"),s=n.n(u),l=n("6298"),f=n.n(l),p=n("f799"),d=n("5bbb"),b=n("2b5b"),y=n("8173"),h=n("eed9"),m=n("83ee"),v=n("d890"),O=n("0602"),g=n("d276"),j=n("ee6c"),w=n("ca14");function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var T=Object(g["b"])("raiden/shutdown",o["u"]({reason:o["w"]([o["k"](b["g"].STOP),o["k"](b["g"].ACCOUNT_CHANGED),o["k"](b["g"].NETWORK_CHANGED),j["a"]])})),S=Object(g["b"])("raiden/config/update",d["a"]),A=Object(g["b"])("raiden/config/caps",o["u"]({caps:o["w"]([O["a"],o["l"]])})),x=Object(g["b"])("raiden/started"),P=Object(g["b"])("raiden/synced",o["u"]({tookMs:o["m"],initialBlock:o["m"],currentBlock:o["m"]})),N=k(k(k(k(k({raidenShutdown:T,raidenConfigUpdate:S,raidenConfigCaps:A,raidenStarted:x,raidenSynced:P},p),v),y),m),h),R=[N.raidenShutdown,N.newBlock,N.matrixPresence.success,N.tokenMonitored,N.udcWithdrawPlan.success,N.udcWithdrawPlan.failure,N.udcWithdraw.success,N.udcWithdraw.failure,N.msBalanceProofSent,N.channelSettle.success,N.channelSettle.failure,N.channelOpen.success,N.channelOpen.failure],I=f()(N,(function(e,t){return k(k({},e),"type"in t?E({},t.type,t):c()(t,s()("type")))}),{}),D=o["o"](o["u"]({type:o["r"],payload:o["u"]({txHash:w["c"],txBlock:o["m"],confirmed:o["w"]([o["v"],o["d"]])})})),C=new o["b"]("ConfirmableAction",D.is,(function(e,t){return Object(a["pipe"])(D.validate(e,t),Object(r["chain"])((function(e){var n=e.type;return n in I?I[n].codec.validate(e,t):o["g"](e,t)})))}),(function(e){return I[e.type].codec.encode(e)}))},f799:function(e,t,n){"use strict";n.r(t),n.d(t,"newBlock",(function(){return u})),n.d(t,"blockTime",(function(){return s})),n.d(t,"blockStale",(function(){return l})),n.d(t,"blockGasprice",(function(){return f})),n.d(t,"tokenMonitored",(function(){return p})),n.d(t,"channelOpen",(function(){return d})),n.d(t,"channelMonitored",(function(){return b})),n.d(t,"channelDeposit",(function(){return y})),n.d(t,"channelWithdrawn",(function(){return h})),n.d(t,"channelClose",(function(){return m})),n.d(t,"channelSettleable",(function(){return v})),n.d(t,"channelSettle",(function(){return O}));var r=n("2111"),a=n("d276"),o=n("ca14"),i=n("9201"),c=r["u"]({tokenNetwork:o["a"],partner:o["a"]}),u=Object(a["b"])("block/new",r["u"]({blockNumber:r["m"]})),s=Object(a["b"])("block/time",r["u"]({blockTime:r["m"]})),l=Object(a["b"])("block/stale",r["u"]({stale:r["d"]})),f=Object(a["b"])("block/gasPrice",r["u"]({gasPrice:Object(o["l"])(32)})),p=Object(a["b"])("token/monitored",r["i"]([r["u"]({token:o["a"],tokenNetwork:o["a"]}),r["n"]({fromBlock:r["m"],toBlock:r["m"]})])),d=Object(a["c"])(c,"channel/open",r["n"]({settleTimeout:r["m"],subkey:r["d"],deposit:Object(o["l"])(32)}),r["u"]({id:r["m"],token:o["a"],settleTimeout:r["m"],isFirstParticipant:r["d"],txHash:o["c"],txBlock:r["m"],confirmed:r["w"]([r["v"],r["d"]])})),b=Object(a["b"])("channel/monitored",r["u"]({id:r["m"]}),c),y=Object(a["c"])(c,"channel/deposit",r["i"]([r["u"]({deposit:Object(o["l"])(32)}),r["n"]({subkey:r["d"],waitOpen:r["k"](!0)})]),r["u"]({id:r["m"],participant:o["a"],totalDeposit:Object(o["l"])(32),txHash:o["c"],txBlock:r["m"],confirmed:r["w"]([r["v"],r["d"]])})),h=Object(a["b"])("channel/withdraw/success",r["u"]({id:r["m"],participant:o["a"],totalWithdraw:Object(o["l"])(32),txHash:o["c"],txBlock:r["m"],confirmed:r["w"]([r["v"],r["d"]])}),c),m=Object(a["c"])(c,"channel/close",r["w"]([r["n"]({subkey:r["d"]}),r["v"]]),r["u"]({id:r["m"],participant:o["a"],txHash:o["c"],txBlock:r["m"],confirmed:r["w"]([r["v"],r["d"]])})),v=Object(a["b"])("channel/settleable",r["u"]({settleableBlock:r["m"]}),c),O=Object(a["c"])(c,"channel/settle",r["w"]([r["n"]({subkey:r["d"]}),r["v"]]),r["i"]([r["u"]({id:r["m"],txHash:o["c"],txBlock:r["m"],confirmed:r["w"]([r["v"],r["d"]])}),r["n"]({locks:r["p"](i["d"])})]))},fb60:function(e,t,n){e.exports=n.p+"img/transfer_steps_info.1dbe6e75.svg"}});