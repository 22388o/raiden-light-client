(function(e){function t(t){for(var a,r,i=t[0],s=t[1],u=t[2],d=0,l=[];d<i.length;d++)r=i[d],c[r]&&l.push(c[r][0]),c[r]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);p&&p(t);while(l.length)l.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],a=!0,r=1;r<n.length;r++){var i=n[r];0!==c[i]&&(a=!1)}a&&(o.splice(t--,1),e=s(s.s=n[0]))}return e}var a={},r={app:0},c={app:0},o=[];function i(e){return s.p+"js/"+({}[e]||e)+"."+{"chunk-3d62e040":"b39388d7","chunk-4a17ed5f":"409f1ae8","chunk-59360325":"32ca9841","chunk-5f0c9ce9":"8efea8d7","chunk-bc5211e4":"054c1bd9","chunk-23295937":"e44a043b","chunk-fe7e11c8":"a4a12470"}[e]+".js"}function s(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n={"chunk-3d62e040":1,"chunk-4a17ed5f":1,"chunk-59360325":1,"chunk-5f0c9ce9":1,"chunk-bc5211e4":1,"chunk-23295937":1,"chunk-fe7e11c8":1};r[e]?t.push(r[e]):0!==r[e]&&n[e]&&t.push(r[e]=new Promise(function(t,n){for(var a="css/"+({}[e]||e)+"."+{"chunk-3d62e040":"aadb164d","chunk-4a17ed5f":"77969d5d","chunk-59360325":"e2850fef","chunk-5f0c9ce9":"0105a6cd","chunk-bc5211e4":"0b795037","chunk-23295937":"1243e6ad","chunk-fe7e11c8":"470348e7"}[e]+".css",c=s.p+a,o=document.getElementsByTagName("link"),i=0;i<o.length;i++){var u=o[i],d=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(d===a||d===c))return t()}var l=document.getElementsByTagName("style");for(i=0;i<l.length;i++){u=l[i],d=u.getAttribute("data-href");if(d===a||d===c)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var a=t&&t.target&&t.target.src||c,o=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=a,delete r[e],p.parentNode.removeChild(p),n(o)},p.href=c;var b=document.getElementsByTagName("head")[0];b.appendChild(p)}).then(function(){r[e]=0}));var a=c[e];if(0!==a)if(a)t.push(a[2]);else{var o=new Promise(function(t,n){a=c[e]=[t,n]});t.push(a[2]=o);var u,d=document.createElement("script");d.charset="utf-8",d.timeout=120,s.nc&&d.setAttribute("nonce",s.nc),d.src=i(e),u=function(t){d.onerror=d.onload=null,clearTimeout(l);var n=c[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src,o=new Error("Loading chunk "+e+" failed.\n("+a+": "+r+")");o.type=a,o.request=r,n[1](o)}c[e]=void 0}};var l=setTimeout(function(){u({type:"timeout",target:d})},12e4);d.onerror=d.onload=u,document.head.appendChild(d)}return Promise.all(t)},s.m=e,s.c=a,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(n,a,function(t){return e[t]}.bind(null,a));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/",s.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],d=u.push.bind(u);u.push=t,u=u.slice();for(var l=0;l<u.length;l++)t(u[l]);var p=d;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"0cf2":function(e,t,n){"use strict";var a=n("2fdf"),r=n.n(a);r.a},"0f75":function(e,t,n){"use strict";n.d(t,"a",function(){return l});var a=n("d225"),r=n("b0b4"),c=n("2b0e"),o=n("a3d5"),i=n("6625"),s=n.n(i),u=n("e9a7"),d=n.n(u),l=function(){function e(){Object(a["a"])(this,e)}return Object(r["a"])(e,null,[{key:"truncate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12,n="...";if(e.length<=t)return e;var a=Math.floor(t/2);return e.substr(0,a)+n+e.substr(e.length-a)}},{key:"decimals",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return parseFloat(e).toFixed(t)}},{key:"upper",value:function(e){return e?e.toLocaleUpperCase():""}},{key:"displayFormat",value:function(e,t){var n=o["a"].toUnits(e,t),a=parseFloat(n);if(0===a)return"0.0";if(a<1e-5)return"<0.00001";var r=s()(n,".");return r[1]&&r[1].length>5?n.substr(0,n.indexOf(".")+6):n}},{key:"capitalizeFirst",value:function(e){return d()(e)}}]),e}();c["a"].filter("truncate",l.truncate),c["a"].filter("decimals",l.decimals),c["a"].filter("upper",l.upper),c["a"].filter("displayFormat",l.displayFormat),c["a"].filter("capitalizeFirst",l.capitalizeFirst)},"0fe9":function(e){e.exports={contracts_version:"0.4.0",chain_id:5,contracts:{EndpointRegistry:{address:"0xDc2c21086D77292460269E9BB3e0b8FaB9CE69d1",transaction_hash:"0xfce414526a19e79382c176fcb001a437dbcec87b3a9b5b7a9292a888a9faa963",block_number:422957,gas_cost:590219,constructor_arguments:[]},SecretRegistry:{address:"0x95AF54f9cCDF066571445d25D77019f9BaE0Dc0e",transaction_hash:"0x72aa348f95018f84386d486bdde65166143bcf1889536529d6283b1a16bd7367",block_number:422958,gas_cost:332473,constructor_arguments:[]},TokenNetworkRegistry:{address:"0x0B4d768c3abeEd6f4901468482544730B49Bf41D",transaction_hash:"0x23cb492560ca9c5d3d7b8b4b27199f73dfd596722d7571bd996f1fc7afadd8da",block_number:422959,gas_cost:4950722,constructor_arguments:["0x95AF54f9cCDF066571445d25D77019f9BaE0Dc0e",5,500,555428]}}}},1:function(e,t){},"152b":function(e,t,n){"use strict";n("7f7f");var a=n("d225"),r=n("b0b4"),c=n("308d"),o=n("6bb5"),i=n("4e2b"),s=n("9ab4"),u=n("60a3"),d=n("5a48"),l=function(e){function t(){return Object(a["a"])(this,t),Object(c["a"])(this,Object(o["a"])(t).apply(this,arguments))}return Object(i["a"])(t,e),Object(r["a"])(t,[{key:"navigateToSelectHub",value:function(e){this.$router.push({name:d["a"].SELECT_HUB,params:{token:e}})}},{key:"navigateToHome",value:function(){this.$router.push({name:d["a"].HOME})}},{key:"navigateToDeposit",value:function(e,t){this.$router.push({name:d["a"].DEPOSIT,params:{token:e,partner:t}})}},{key:"navigateToSelectPaymentTarget",value:function(e){this.$router.push({name:d["a"].TRANSFER,params:{token:e}})}},{key:"navigateToTokenSelect",value:function(){this.$router.push({name:d["a"].SELECT_TOKEN})}},{key:"onBackClicked",value:function(){switch(this.$route.name){case d["a"].TRANSFER:case d["a"].CHANNELS:case d["a"].SELECT_TOKEN:this.navigateToHome();break;case d["a"].SELECT_HUB:this.navigateToTokenSelect();break;case d["a"].DEPOSIT:this.navigateToSelectHub(this.$route.params.token);break}}}]),t}(u["e"]);l=s["a"]([u["a"]],l),t["a"]=l},"1b25":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.display?n("div",{attrs:{id:"overlay"}},[n("div",{attrs:{id:"card"}},[n("div",{staticClass:"steps"},[e._l(e.steps,function(t,a){return n("div",{key:a,staticClass:"step",class:{active:e.current===a&&!e.done}},[n("span",{staticClass:"label"},[e._v(e._s(t.label))])])}),n("div",{staticClass:"step",class:{active:e.done}},[e._v(e._s(e.doneStep.label))])],2),n("div",{staticClass:"card-content"},[n("div",{staticClass:"step-title"},[e.done?n("span",[e._v("\n          "+e._s(e.doneStep.title)+"\n        ")]):n("span",[e._v(e._s(e.steps[e.current].title))])]),e.done?n("div",[n("v-icon",{staticClass:"success-icon"},[e._v("check_circle")])],1):n("v-progress-circular",{staticClass:"progress",attrs:{size:120,width:7,indeterminate:""}}),n("p",{staticClass:"step-description",attrs:{id:"message"}},[e.done?n("span",[e._v("\n          "+e._s(e.doneStep.description)+"\n        ")]):n("span",[e._v("\n          "+e._s(e.steps[e.current].description)+"\n        ")])])],1)])]):e._e()},r=[],c=n("d225"),o=n("308d"),i=n("6bb5"),s=n("4e2b"),u=n("9ab4"),d=n("60a3"),l=function(e){function t(){return Object(c["a"])(this,t),Object(o["a"])(this,Object(i["a"])(t).apply(this,arguments))}return Object(s["a"])(t,e),t}(d["e"]);u["a"]([Object(d["d"])({required:!0})],l.prototype,"display",void 0),u["a"]([Object(d["d"])({required:!1,default:0})],l.prototype,"current",void 0),u["a"]([Object(d["d"])({required:!0})],l.prototype,"steps",void 0),u["a"]([Object(d["d"])({required:!0})],l.prototype,"doneStep",void 0),u["a"]([Object(d["d"])({})],l.prototype,"done",void 0),l=u["a"]([Object(d["a"])({})],l);var p=l,b=p,f=(n("8db7"),n("2877")),m=n("6544"),h=n.n(m),O=n("132d"),v=n("490a"),k=Object(f["a"])(b,a,r,!1,null,"c5f3bc54",null);t["a"]=k.exports;h()(k,{VIcon:O["a"],VProgressCircular:v["a"]})},"1c1f":function(e){e.exports={contracts_version:"0.4.0",chain_id:42,contracts:{EndpointRegistry:{address:"0xe33Ce65F51CdBbaae4209dD349108A5bd3a1466B",transaction_hash:"0x592c3a03d3202f094d8ba210ef4e6acdab77275704f96c14e2447962514ad8c3",block_number:9096765,gas_cost:590219,constructor_arguments:[]},SecretRegistry:{address:"0xCeea31D4Ead6827D64a98DAf745BDc4168c7B2a8",transaction_hash:"0xb102f5ced254949523d4b1f484e1fec601e97f3d89b292fe9558c577a005ba01",block_number:9096765,gas_cost:332473,constructor_arguments:[]},TokenNetworkRegistry:{address:"0x40bC6AA6514D8b6a3E169e62816385721A594E92",transaction_hash:"0xec6821daa34a502a1a68b4e6cad1480a948cf154cfc643e54e8fffee502defa1",block_number:9096766,gas_cost:4950722,constructor_arguments:["0xCeea31D4Ead6827D64a98DAf745BDc4168c7B2a8",42,500,555428]}}}},"1fcd":function(e){e.exports=[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"supply",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"",type:"address"}],name:"balances",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"decimals",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"_decimals",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"version",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"},{name:"_extraData",type:"bytes"}],name:"approveAndCall",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"remaining",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{inputs:[{name:"_initialAmount",type:"uint256"},{name:"_decimalUnits",type:"uint8"},{name:"_tokenName",type:"string"},{name:"_tokenSymbol",type:"string"}],payable:!1,stateMutability:"nonpayable",type:"constructor"},{payable:!1,stateMutability:"nonpayable",type:"fallback"},{anonymous:!1,inputs:[{indexed:!0,name:"_from",type:"address"},{indexed:!0,name:"_to",type:"address"},{indexed:!1,name:"_value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"_owner",type:"address"},{indexed:!0,name:"_spender",type:"address"},{indexed:!1,name:"_value",type:"uint256"}],name:"Approval",type:"event"}]},2:function(e,t){},"2fdf":function(e,t,n){},3:function(e,t){},3190:function(e){e.exports=[{constant:!0,inputs:[{name:"",type:"address"}],name:"token_to_token_networks",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"settlement_timeout_max",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"deprecation_executor",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"chain_id",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_token_address",type:"address"}],name:"createERC20TokenNetwork",outputs:[{name:"token_network_address",type:"address"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"contract_address",type:"address"}],name:"contractExists",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"contract_version",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"token_network_created",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"settlement_timeout_min",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"secret_registry_address",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{inputs:[{name:"_secret_registry_address",type:"address"},{name:"_chain_id",type:"uint256"},{name:"_settlement_timeout_min",type:"uint256"},{name:"_settlement_timeout_max",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,name:"token_address",type:"address"},{indexed:!0,name:"token_network_address",type:"address"}],name:"TokenNetworkCreated",type:"event"}]},4:function(e,t){},"418e":function(e,t,n){"use strict";var a=n("a4f3"),r=n.n(a);r.a},4548:function(e,t,n){},"49f8":function(e,t,n){var a={"./en.json":"edd4"};function r(e){var t=c(e);return n(t)}function c(e){var t=a[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}r.keys=function(){return Object.keys(a)},r.resolve=c,e.exports=r,r.id="49f8"},"4b66":function(e,t,n){"use strict";var a=n("e6c1"),r=n.n(a);r.a},"4d11":function(e,t,n){"use strict";var a=n("645d"),r=n.n(a);r.a},5:function(e,t){},"55e5":function(e,t,n){"use strict";var a=n("9f89"),r=n.n(a);r.a},"5a48":function(e,t,n){"use strict";var a;n.d(t,"a",function(){return a}),function(e){e["TRANSFER"]="transfer",e["SELECT_TOKEN"]="select-token",e["SELECT_HUB"]="select-hub",e["HOME"]="home",e["CHANNELS"]="channels",e["DEPOSIT"]="deposit"}(a||(a={}))},6:function(e,t){},"645d":function(e,t,n){},"73da":function(e,t,n){e.exports=n.p+"img/back_arrow.268247fb.svg"},"77fd":function(e,t,n){"use strict";var a=n("d225"),r=n("b0b4"),c=n("308d"),o=n("6bb5"),i=n("4e2b"),s=n("9ab4"),u=n("60a3"),d=function(e){function t(){return Object(a["a"])(this,t),Object(c["a"])(this,Object(o["a"])(t).apply(this,arguments))}return Object(i["a"])(t,e),Object(r["a"])(t,[{key:"$blockie",value:function(e){return this.$identicon.getIdenticon(e)}}]),t}(u["e"]);d=s["a"]([u["a"]],d),t["a"]=d},"7fd1":function(e,t,n){},"87a2":function(e,t,n){"use strict";n.d(t,"d",function(){return c}),n.d(t,"e",function(){return o}),n.d(t,"c",function(){return i}),n.d(t,"b",function(){return s}),n.d(t,"a",function(){return a});var a,r=n("8404"),c=function(){return{label:"",title:"",description:""}},o=function(){return{name:"",symbol:"",address:"",opening:0,open:0,closing:0,closed:0,settling:0,settled:0}},i={balance:r["Zero"],decimals:18,units:"0.0",address:""},s={name:"",chainId:-1};(function(e){e[e["UNDEFINED"]=0]="UNDEFINED",e[e["NO_ACCOUNT"]=1]="NO_ACCOUNT",e[e["UNSUPPORTED_NETWORK"]=2]="UNSUPPORTED_NETWORK",e[e["INITIALIZATION_FAILED"]=3]="INITIALIZATION_FAILED"})(a||(a={}))},"8db7":function(e,t,n){"use strict";var a=n("7fd1"),r=n.n(a);r.a},"927e":function(e,t,n){e.exports=n.p+"img/copy_icon.80d12304.svg"},"95d9":function(e,t,n){"use strict";var a=n("4548"),r=n.n(a);r.a},"9b19":function(e,t,n){e.exports=n.p+"img/logo.5c4b022d.svg"},"9f89":function(e,t,n){},a3d5:function(e,t,n){"use strict";n.d(t,"a",function(){return o});n("28a5");var a=n("d225"),r=n("b0b4"),c=n("e7ea"),o=function(){function e(){Object(a["a"])(this,e)}return Object(r["a"])(e,null,[{key:"toEth",value:function(e){return c["utils"].formatEther(e)}},{key:"toUnits",value:function(e,t){return c["utils"].formatUnits(e,t)}},{key:"hasBalance",value:function(t,n){var a=e.parse(t,n.decimals),r=e.parse(n.units,n.decimals);return a.lte(r)}},{key:"decimalsOverflow",value:function(e,t){var n;return n=e.indexOf(".")>0?e.split(".")[1]:e.indexOf(",")>0?e.split(",")[1]:"",n.length>t.decimals}},{key:"parse",value:function(e,t){return c["utils"].parseUnits(e,t)}}]),e}()},a4f3:function(e,t,n){},a91d:function(e,t,n){"use strict";var a=n("be2e"),r=n.n(a);r.a},be2e:function(e,t,n){},bf81:function(e){e.exports={contracts_version:"0.4.0",chain_id:3,contracts:{EndpointRegistry:{address:"0x8DB433a27F8be1d38f316e44441c381b5746f8fe",transaction_hash:"0xc2f74206fce963ddc386dc28dd524e7c7715c56e98387989f37921278294f845",block_number:4236248,gas_cost:590219,constructor_arguments:[]},SecretRegistry:{address:"0xd97b443B69307E771AD2dDaA4bA1458B84d7b60b",transaction_hash:"0x58cd4ae561c8d9047c89a5142f9fc719725b027f0a82fb8cd6423f923a0f601f",block_number:4236255,gas_cost:332473,constructor_arguments:[]},TokenNetworkRegistry:{address:"0x40a5D15fD98b9a351855D64daa9bc621F400cbc5",transaction_hash:"0x368fb55258310a29194ffa13e98058a3f79da91583776d70d2e507940ee00203",block_number:4236264,gas_cost:4950722,constructor_arguments:["0xd97b443B69307E771AD2dDaA4bA1458B84d7b60b",3,500,555428]}}}},cb96:function(e,t,n){},cd49:function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var a=n("2b0e"),r=n("bb71");n("da64");a["a"].use(r["a"],{iconfont:"md",theme:{primary:"#28A5C8",secondary:"#0A6E87"}});var c=n("2fe1");c["b"].registerHooks(["beforeRouteEnter","beforeRouteLeave","beforeRouteUpdate"]);n("0f75");var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",{attrs:{dark:""}},[e.inaccessible?n("splash-screen",{on:{connect:function(t){return e.connect()}}}):n("div",{attrs:{id:"application-wrapper"}},[n("div",{attrs:{id:"application-content"}},[n("app-header"),n("v-content",[n("v-container",{staticClass:"application__container",attrs:{fluid:"","fill-height":""}},[n("router-view")],1)],1)],1)]),n("div",{staticClass:"policy"},[n("a",{attrs:{href:"https://raiden.network/privacy.html",target:"_blank"}},[e._v("\n      "+e._s(e.$t("application.privacy-policy"))+"\n    ")])])],1)},i=[],s=(n("96cf"),n("3b8d")),u=n("d225"),d=n("b0b4"),l=n("308d"),p=n("6bb5"),b=n("4e2b"),f=n("9ab4"),m=n("60a3"),h=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:"","fill-height":""}},[a("v-layout",{attrs:{"align-center":"","justify-center":"",row:""}},[a("v-flex",{attrs:{lg4:"",md6:"",xs8:""}},[a("div",{staticClass:"loading-wrapper display-3"},[a("div",{staticClass:"img-container"},[a("v-img",{attrs:{id:"logo",src:n("9b19"),"aspect-ratio":"1",contain:""}})],1),a("div",{attrs:{id:"text-information"}},[a("div",[e._v("\n            "+e._s(e.name)+"\n          ")])])]),a("div",{staticClass:"font-weight-light text-xs-center disclaimer"},[e._v("\n        "+e._s(e.$t("splash-screen.disclaimer"))+"\n      ")]),a("div",{staticClass:"font-weight-light text-xs-center splash-screen__matrix_sign"},[e._v("\n        "+e._s(e.$t("splash-screen.matrix-sign"))+"\n      ")]),a("div",{staticClass:"connect-button"},[e.injectedProvider?a("v-btn",{on:{click:function(t){return e.connect()}}},[e._v("\n          "+e._s(e.$t("splash-screen.connect-button"))+"\n        ")]):a("span",{staticClass:"no-provider"},[e._v("\n          "+e._s(e.$t("splash-screen.no-provider"))+"\n        ")])],1),a("div",{staticClass:"message-container"},[e.accessDenied?a("no-access-message",{staticClass:"error-message",attrs:{reason:e.accessDenied}}):e._e()],1)])],1)],1)},O=[],v=n("f15c"),k=n("2f62"),y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-alert",{attrs:{value:!0,color:"error",icon:"warning",outline:""}},[n("div",{staticClass:"font-weight-light message"},[e.networkUnsupported?n("span",[e._v("\n      "+e._s(e.$t("no-access.unsupported-network"))+"\n    ")]):e.initializationFailed?n("span",[e._v("\n      "+e._s(e.$t("no-access.sdk-initialization-failure"))+"\n    ")]):n("span",[e._v("\n      "+e._s(e.$t("no-access.generic-error"))+"\n    ")])])])},j=[],g=n("87a2"),w=function(e){function t(){return Object(u["a"])(this,t),Object(l["a"])(this,Object(p["a"])(t).apply(this,arguments))}return Object(b["a"])(t,e),Object(d["a"])(t,[{key:"networkUnsupported",get:function(){return this.reason===g["a"].UNSUPPORTED_NETWORK}},{key:"initializationFailed",get:function(){return this.reason===g["a"].INITIALIZATION_FAILED}}]),t}(m["e"]);f["a"]([Object(m["d"])({required:!0})],w.prototype,"reason",void 0),w=f["a"]([Object(m["a"])({})],w);var _=w,x=_,E=(n("4d11"),n("2877")),C=n("6544"),R=n.n(C),N=n("0798"),A=Object(E["a"])(x,y,j,!1,null,"87e410e6",null),S=A.exports;R()(A,{VAlert:N["a"]});var T=function(e){function t(){var e;return Object(u["a"])(this,t),e=Object(l["a"])(this,Object(p["a"])(t).apply(this,arguments)),e.name="Raiden dApp",e}return Object(b["a"])(t,e),Object(d["a"])(t,[{key:"connect",value:function(){}},{key:"injectedProvider",get:function(){return v["a"].injectedWeb3Available()}}]),t}(m["e"]);f["a"]([Object(m["b"])()],T.prototype,"connect",null),T=f["a"]([Object(m["a"])({components:{NoAccessMessage:S},computed:Object(k["c"])(["accessDenied"])})],T);var I=T,D=I,P=(n("f8f6"),n("8336")),M=n("a523"),B=n("0e8f"),L=n("adda"),$=n("a722"),U=Object(E["a"])(D,h,O,!1,null,"796a8ef9",null),F=U.exports;R()(U,{VBtn:P["a"],VContainer:M["a"],VFlex:B["a"],VImg:L["a"],VLayout:$["a"]});var H=function(){var e=this,t=e.$createElement,a=e._self._c||t;return!e.loading&&e.defaultAccount?a("v-layout",{staticClass:"app-header",attrs:{column:""}},[a("v-layout",{staticClass:"app-header__top",attrs:{"justify-center":"","align-center":""}},[a("v-flex",{attrs:{xs12:""}},[a("div",{staticClass:"app-header__top__content"},[a("div",{staticClass:"app-header__top__content__back"},[e.canGoBack?a("v-btn",{attrs:{flat:"",icon:""},on:{click:function(t){return e.onBackClicked()}}},[a("v-img",{attrs:{src:n("73da")}})],1):e._e()],1),a("v-spacer"),a("v-layout",{attrs:{column:"","align-center":"","justify-center":""}},[a("div",{staticClass:"app-header__top__content__title"},[e._v("\n            "+e._s(e.$route.meta.title)+"\n          ")]),a("div",{staticClass:"app-header__top__content__network"},[e._v("\n            "+e._s(e.network)+"\n          ")])]),a("v-spacer"),a("div",[a("v-img",{staticClass:"app-header__top__content__blockie",attrs:{src:e.$blockie(e.defaultAccount),height:"36",width:"36",contain:"","aspect-ratio":"1"}})],1)],1)])],1),a("v-layout",{staticClass:"app-header__bottom",attrs:{"align-center":""}},[a("v-flex",{attrs:{xs6:""}},[a("div",{staticClass:"app-header__bottom__address text-xs-left"},[a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[a("span",e._g({},n),[e._v("\n              "+e._s(e._f("truncate")(e.defaultAccount,8))+"\n            ")])]}}],null,!1,3329657142)},[a("span",[e._v(e._s(e.defaultAccount))])]),a("v-tooltip",{attrs:{bottom:"",dark:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{flat:"",icon:""},on:{click:function(t){return e.copy()}}},r),[a("v-img",{staticClass:"app-header__bottom__address__copy",attrs:{src:n("927e"),contain:""}})],1)]}}],null,!1,1205151322),model:{value:e.copied,callback:function(t){e.copied=t},expression:"copied"}},[a("span",[e._v("\n            "+e._s(e.$t("app-header.copy-success"))+"\n          ")])])],1)]),a("v-flex",{attrs:{xs6:""}},[a("div",{staticClass:"app-header__bottom__balance text-xs-right"},[e._v("\n        "+e._s(e._f("decimals")(e.accountBalance))+"\n        "),a("span",{staticClass:"app-header__bottom__balance__currency"},[e._v("\n          "+e._s(e.$t("app-header.currency"))+"\n        ")])])])],1),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.defaultAccount,expression:"defaultAccount"}],ref:"copy",staticClass:"app-header__copy-area",domProps:{value:e.defaultAccount},on:{input:function(t){t.target.composing||(e.defaultAccount=t.target.value)}}})],1):e._e()},V=[],Z=(n("8e6e"),n("ac6a"),n("456d"),n("bd86")),K=(n("7f7f"),n("77fd")),q=n("5a48"),z=n("152b");function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(n,!0).forEach(function(t){Object(Z["a"])(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var J=function(e){function t(){var e;return Object(u["a"])(this,t),e=Object(l["a"])(this,Object(p["a"])(t).apply(this,arguments)),e.copied=!1,e.timeout=0,e}return Object(b["a"])(t,e),Object(d["a"])(t,[{key:"copy",value:function(){var e=this,t=this.$refs.copy;t.focus(),t.select(),this.copied=document.execCommand("copy"),this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){e.copied=!1},2e3)}},{key:"canGoBack",get:function(){return this.$route.name!==q["a"].HOME}}]),t}(Object(m["c"])(K["a"],z["a"]));J=f["a"]([Object(m["a"])({computed:G({},Object(k["c"])(["loading","defaultAccount","accountBalance"]),{},Object(k["b"])(["network"]))})],J);var X=J,Q=X,Y=(n("95d9"),n("9910")),ee=n("3a2f"),te=Object(E["a"])(Q,H,V,!1,null,"010deea9",null),ne=te.exports;R()(te,{VBtn:P["a"],VFlex:B["a"],VImg:L["a"],VLayout:$["a"],VSpacer:Y["a"],VTooltip:ee["a"]});var ae=function(e){function t(){var e;return Object(u["a"])(this,t),e=Object(l["a"])(this,Object(p["a"])(t).call(this)),e.initialized=!1,e.name="Raiden dApp",e}return Object(b["a"])(t,e),Object(d["a"])(t,[{key:"connect",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.initialized=!1,this.$store.commit("reset"),e.next=4,this.$raiden.connect();case 4:return e.next=6,this.$raiden.fetchTokens();case 6:this.initialized=!0;case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"destroyed",value:function(){this.$raiden.disconnect()}},{key:"inaccessible",get:function(){return!this.initialized||this.loading||this.accessDenied!==g["a"].UNDEFINED}}]),t}(m["e"]);ae=f["a"]([Object(m["a"])({computed:Object(k["c"])(["loading","accessDenied"]),components:{AppHeader:ne,SplashScreen:F}})],ae);var re=ae,ce=re,oe=(n("0cf2"),n("7496")),ie=n("549c"),se=Object(E["a"])(ce,o,i,!1,null,"26f51c72",null),ue=se.exports;R()(se,{VApp:oe["a"],VContainer:M["a"],VContent:ie["a"]});var de=n("8c4f"),le=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"content-host"},[n("app-core")],1)},pe=[],be=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("TokenNetworks")},fe=[],me=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-layout",{attrs:{column:"","justify-space-between":"","fill-height":""}},[n("list-header",{staticClass:"connected-tokens__header",attrs:{header:e.$t("tokens.connected.header")}}),n("v-layout",{attrs:{"justify-center":"",row:"","fill-height":""}},[n("v-flex",{attrs:{xs12:""}},[n("v-list",{staticClass:"connected-tokens__tokens"},e._l(e.tokens,function(t,a){return n("v-list-group",{key:t.token,staticClass:"connected-tokens__tokens__token",attrs:{id:"token-"+a,"no-action":""},scopedSlots:e._u([{key:"activator",fn:function(){return[n("v-list-tile",[n("v-list-tile-avatar",{staticClass:"list-blockie"},[n("img",{attrs:{src:e.$blockie(t.address),alt:e.$t("tokens.connected.token.blockie-alt")}})]),n("v-list-tile-content",[n("v-list-tile-title",{staticClass:"connected-tokens__tokens__token__info"},[e._v("\n                  "+e._s(e.$t("tokens.connected.token.token-info",{symbol:t.symbol,name:t.name}))+"\n                ")]),n("v-list-tile-sub-title",{staticClass:"connected-tokens__tokens__token__address"},[e._v("\n                  "+e._s(t.address)+"\n                ")])],1)],1)]},proxy:!0}],null,!0)},[n("div",{staticClass:"connected-tokens__tokens__token__expanded",attrs:{id:"expanded-area-"+a}},[n("v-layout",{attrs:{"justify-center":"",row:""}},[n("v-btn",{staticClass:"text-capitalize connected-tokens__tokens__token__button",attrs:{id:"pay-"+a,to:"/transfer/"+t.address}},[e._v("\n                "+e._s(e.$t("tokens.connected.token.buttons.pay"))+"\n              ")]),n("v-btn",{staticClass:"text-capitalize connected-tokens__tokens__token__button leave",attrs:{id:"leave-"+a},on:{click:function(n){return e.leaveNetwork(t)}}},[e._v("\n                "+e._s(e.$t("tokens.connected.token.buttons.disconnect"))+"\n              ")]),n("v-btn",{staticClass:"text-capitalize connected-tokens__tokens__token__button",attrs:{to:"/channels/"+t.address}},[e._v("\n                "+e._s(e.$t("tokens.connected.token.buttons.view-channels"))+"\n              ")])],1)],1)])}),1)],1)],1),n("v-layout",{staticClass:"connected-tokens__button",attrs:{"align-center":"","justify-center":"",row:""}},[n("v-flex",{staticClass:"text-xs-center",attrs:{xs10:""}},[n("v-btn",{staticClass:"text-capitalize confirm-button",attrs:{to:"/connect",large:"",depressed:""}},[e._v("\n        "+e._s(e.$t("tokens.connect-new"))+"\n      ")])],1)],1),n("confirmation-dialog",{attrs:{display:e.leaveModalVisible},on:{confirm:function(t){return e.leaveConfirmed()},cancel:function(t){return e.leaveCancelled()}},scopedSlots:e._u([{key:"header",fn:function(){return[e._v("\n      "+e._s(e.$t("tokens.disconnect-dialog.header"))+"\n    ")]},proxy:!0}])},[e.selectedToken?n("i18n",{attrs:{path:"tokens.disconnect-dialog.confirmation-message",tag:"div"}},[n("b",{attrs:{place:"symbol"}},[e._v(e._s(e.selectedToken.symbol))]),n("span",{staticClass:"connected-tokens__tokens__token__leave__address",attrs:{place:"address"}},[e._v("\n        "+e._s(e.selectedToken.address)+"\n      ")])]):e._e()],1),n("progress-overlay",{attrs:{display:e.loading,steps:e.steps}})],1)},he=[],Oe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-layout",{attrs:{row:"","justify-center":""}},[n("v-dialog",{attrs:{persistent:"","max-width":"625"},model:{value:e.display,callback:function(t){e.display=t},expression:"display"}},[n("v-card",[n("v-card-title",[n("v-flex",[n("h1",{staticClass:"confirmation-dialog__header"},[e._t("header")],2)])],1),n("v-card-text",[n("p",{staticClass:"confirmation-dialog__message"},[e._t("default")],2)]),n("v-card-actions",[n("v-spacer"),n("v-btn",{staticClass:"confirmation-dialog__button",attrs:{flat:""},on:{click:function(t){return e.cancel()}}},[e._v("\n          "+e._s(e.$t("confirmation-dialog.buttons.cancel"))+"\n        ")]),n("v-btn",{staticClass:"confirmation-dialog__button confirmation-dialog__button__primary",attrs:{flat:""},on:{click:function(t){return e.confirm()}}},[e._v("\n          "+e._s(e.$t("confirmation-dialog.buttons.confirm"))+"\n        ")]),n("v-spacer")],1)],1)],1)],1)},ve=[],ke=function(e){function t(){return Object(u["a"])(this,t),Object(l["a"])(this,Object(p["a"])(t).apply(this,arguments))}return Object(b["a"])(t,e),Object(d["a"])(t,[{key:"confirm",value:function(){this.$emit("confirm")}},{key:"cancel",value:function(){this.$emit("cancel")}}]),t}(m["e"]);f["a"]([Object(m["d"])({required:!0})],ke.prototype,"display",void 0),ke=f["a"]([Object(m["a"])({})],ke);var ye=ke,je=ye,ge=(n("55e5"),n("b0af")),we=n("99d9"),_e=n("12b2"),xe=n("169a"),Ee=Object(E["a"])(je,Oe,ve,!1,null,"01da42d8",null),Ce=Ee.exports;R()(Ee,{VBtn:P["a"],VCard:ge["a"],VCardActions:we["a"],VCardText:we["b"],VCardTitle:_e["a"],VDialog:xe["a"],VFlex:B["a"],VLayout:$["a"],VSpacer:Y["a"]});var Re=n("1b25"),Ne=n("d0aa"),Ae=function(e){function t(){var e;return Object(u["a"])(this,t),e=Object(l["a"])(this,Object(p["a"])(t).apply(this,arguments)),e.selectedToken=null,e.leaveModalVisible=!1,e.loading=!1,e.steps=[],e}return Object(b["a"])(t,e),Object(d["a"])(t,[{key:"created",value:function(){this.steps=[this.$t("tokens.leave-progress")]}},{key:"dismissModal",value:function(){this.leaveModalVisible=!1,this.selectedToken=null}},{key:"leaveNetwork",value:function(e){this.selectedToken=e,this.leaveModalVisible=!0}},{key:"leaveConfirmed",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this.selectedToken.address,this.dismissModal(),this.loading=!0,e.next=5,this.$raiden.leaveNetwork(t);case 5:this.loading=!1;case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"leaveCancelled",value:function(){this.dismissModal()}}]),t}(Object(m["c"])(K["a"]));Ae=f["a"]([Object(m["a"])({components:{ListHeader:Ne["a"],ProgressOverlay:Re["a"],ConfirmationDialog:Ce},computed:Object(k["b"])(["tokens"])})],Ae);var Se=Ae,Te=Se,Ie=(n("a91d"),n("8860")),De=n("56b0"),Pe=n("ba95"),Me=n("c954"),Be=n("5d23"),Le=Object(E["a"])(Te,me,he,!1,null,"fcb7959e",null),$e=Le.exports;R()(Le,{VBtn:P["a"],VFlex:B["a"],VLayout:$["a"],VList:Ie["a"],VListGroup:De["a"],VListTile:Pe["a"],VListTileAvatar:Me["a"],VListTileContent:Be["b"],VListTileSubTitle:Be["c"],VListTileTitle:Be["d"]});var Ue=function(e){function t(){return Object(u["a"])(this,t),Object(l["a"])(this,Object(p["a"])(t).apply(this,arguments))}return Object(b["a"])(t,e),t}(m["e"]);Ue=f["a"]([Object(m["a"])({components:{TokenNetworks:$e}})],Ue);var Fe=Ue,He=Fe,Ve=Object(E["a"])(He,be,fe,!1,null,null,null),Ze=Ve.exports,Ke=function(e){function t(){return Object(u["a"])(this,t),Object(l["a"])(this,Object(p["a"])(t).apply(this,arguments))}return Object(b["a"])(t,e),t}(m["e"]);Ke=f["a"]([Object(m["a"])({components:{AppCore:Ze}})],Ke);var qe=Ke,ze=qe,We=(n("4b66"),Object(E["a"])(ze,le,pe,!1,null,"16abdf63",null)),Ge=We.exports;a["a"].use(de["a"]);var Je=new de["a"]({mode:"history",base:"/",routes:[{path:"/",name:q["a"].HOME,meta:{title:"Raiden dApp"},component:Ge},{path:"*",redirect:"/"},{path:"/transfer/:token",name:q["a"].TRANSFER,meta:{title:"Send transaction"},component:function(){return Promise.all([n.e("chunk-3d62e040"),n.e("chunk-bc5211e4"),n.e("chunk-fe7e11c8")]).then(n.bind(null,"69aa"))}},{path:"/connect",name:q["a"].SELECT_TOKEN,meta:{title:"Select token"},component:function(){return Promise.all([n.e("chunk-3d62e040"),n.e("chunk-59360325")]).then(n.bind(null,"7724"))}},{path:"/connect/:token",name:q["a"].SELECT_HUB,meta:{title:"Select hub"},component:function(){return Promise.all([n.e("chunk-3d62e040"),n.e("chunk-5f0c9ce9")]).then(n.bind(null,"c405"))}},{path:"/connect/:token/:partner",name:q["a"].DEPOSIT,meta:{title:"Open channel"},component:function(){return Promise.all([n.e("chunk-3d62e040"),n.e("chunk-bc5211e4"),n.e("chunk-23295937")]).then(n.bind(null,"7542"))}},{path:"/channels/:token",name:q["a"].CHANNELS,meta:{title:"Channels"},component:function(){return Promise.all([n.e("chunk-3d62e040"),n.e("chunk-4a17ed5f")]).then(n.bind(null,"3010"))}}]}),Xe=n("dd61"),Qe=n.n(Xe),Ye=n("e9a8"),et=n.n(Ye),tt=n("b8ce"),nt=n.n(tt),at=n("c5a2"),rt=n.n(at);a["a"].use(k["a"]);var ct={loading:!0,defaultAccount:"",accountBalance:"0.0",providerDetected:!0,accessDenied:g["a"].UNDEFINED,channels:{},tokens:{},network:g["b"]};function ot(){return nt()(ct)}var it={state:ot(),mutations:{noProvider:function(e){e.providerDetected=!1},accessDenied:function(e,t){e.accessDenied=t},account:function(e,t){e.defaultAccount=t},loadComplete:function(e){e.loading=!1},balance:function(e,t){e.accountBalance=t},updateChannels:function(e,t){e.channels=t},updateTokens:function(e,t){e.tokens=Object.assign({},t)},network:function(e,t){e.network=t},reset:function(e){Object.assign(e,ot())}},actions:{},getters:{tokens:function(e){var t=function(e,t){return e.address=t.token,e[t.state]+=1,e};return Qe()(et()(e.channels),function(n){var a=rt()(n,t,Object(g["e"])()),r=e.tokens[a.address];return r&&(a.name=r.name||"",a.symbol=r.symbol||""),a})},allTokens:function(e){return rt()(e.tokens,function(e,t,n){var a={address:n,balance:t.balance,decimals:t.decimals,units:t.units,symbol:t.symbol,name:t.name};return e.push(a),e},[])},channels:function(e){return function(t){var n=[],a=e.channels[t];return a&&(n=et()(a)),n}},token:function(e){return function(t){return t in e.tokens?e.tokens[t]:null}},network:function(e){return e.network.name||"Chain ".concat(e.network.chainId)}}},st=new k["a"].Store(it),ut=n("9483");Object(ut["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}}),c["b"].registerHooks(["beforeRouteEnter","beforeRouteLeave","beforeRouteUpdate"]);var dt=n("e62e");function lt(e,t){e.prototype.$raiden=new dt["c"](st)}var pt=n("103a"),bt=n.n(pt),ft=function(){function e(){Object(u["a"])(this,e),this.cache={}}return Object(d["a"])(e,[{key:"getIdenticon",value:function(e){var t=this.cache[e];if(t)return t;var n=bt()(e);return this.cache[e]=n,n}}]),e}();function mt(e,t){e.prototype.$identicon=new ft}n("4917");var ht=n("a925");function Ot(){var e=n("49f8"),t={};return e.keys().forEach(function(n){var a=n.match(/([A-Za-z0-9-_]+)\./i);if(a&&a.length>1){var r=a[1];t[r]=e(n)}}),t}a["a"].use(ht["a"]);var vt=new ht["a"]({locale:"en",fallbackLocale:"en",messages:Ot()});a["a"].config.productionTip=!1,a["a"].use(lt),a["a"].use(mt),new a["a"]({router:Je,store:st,created:function(){if(sessionStorage.redirect){var e=sessionStorage.redirect;delete sessionStorage.redirect,this.$router.push(e)}},i18n:vt,render:function(e){return e(ue)}}).$mount("#app")},ce2a:function(e,t,n){"use strict";var a={};n.r(a),n.d(a,"newBlock",function(){return Fe}),n.d(a,"tokenMonitored",function(){return He}),n.d(a,"channelOpen",function(){return Ve}),n.d(a,"channelOpened",function(){return Ze}),n.d(a,"channelOpenFailed",function(){return Ke}),n.d(a,"channelMonitored",function(){return qe}),n.d(a,"channelDeposit",function(){return ze}),n.d(a,"channelDeposited",function(){return We}),n.d(a,"channelDepositFailed",function(){return Ge}),n.d(a,"channelClose",function(){return Je}),n.d(a,"channelClosed",function(){return Xe}),n.d(a,"channelCloseFailed",function(){return Qe}),n.d(a,"channelSettleable",function(){return Ye}),n.d(a,"channelSettle",function(){return et}),n.d(a,"channelSettled",function(){return tt}),n.d(a,"channelSettleFailed",function(){return nt});var r={};n.r(r),n.d(r,"matrixSetup",function(){return st}),n.d(r,"matrixRequestMonitorPresence",function(){return ut}),n.d(r,"matrixPresenceUpdate",function(){return dt}),n.d(r,"matrixRequestMonitorPresenceFailed",function(){return lt}),n.d(r,"matrixRoom",function(){return pt}),n.d(r,"matrixRoomLeave",function(){return bt});var c={};n.r(c),n.d(c,"transfer",function(){return Ct}),n.d(c,"transferSigned",function(){return Rt}),n.d(c,"transferProcessed",function(){return Nt}),n.d(c,"transferSecret",function(){return At}),n.d(c,"transferSecretRequest",function(){return St}),n.d(c,"transferUnlock",function(){return Tt}),n.d(c,"transferUnlocked",function(){return It}),n.d(c,"transferUnlockProcessed",function(){return Dt}),n.d(c,"transferred",function(){return Pt}),n.d(c,"transferFailed",function(){return Mt});var o={};n.r(o),n.d(o,"raidenInit",function(){return Xt}),n.d(o,"raidenShutdown",function(){return Qt});var i={};n.r(i),n.d(i,"stateOutputEpic",function(){return en}),n.d(i,"actionOutputEpic",function(){return tn});var s={};n.r(s),n.d(s,"initNewBlockEpic",function(){return _n}),n.d(s,"initMonitorRegistryEpic",function(){return xn}),n.d(s,"initMonitorChannelsEpic",function(){return En}),n.d(s,"initMonitorProviderEpic",function(){return Cn}),n.d(s,"tokenMonitoredEpic",function(){return Rn}),n.d(s,"channelMonitoredEpic",function(){return Nn}),n.d(s,"channelOpenEpic",function(){return An}),n.d(s,"channelOpenedEpic",function(){return Sn}),n.d(s,"channelDepositEpic",function(){return Tn}),n.d(s,"channelCloseEpic",function(){return In}),n.d(s,"channelSettleEpic",function(){return Dn}),n.d(s,"channelSettleableEpic",function(){return Pn});var u={};n.r(u),n.d(u,"messageSend",function(){return Qn}),n.d(u,"messageReceived",function(){return Yn});var d={};n.r(d),n.d(d,"initMatrixEpic",function(){return da}),n.d(d,"matrixStartEpic",function(){return la}),n.d(d,"matrixShutdownEpic",function(){return pa}),n.d(d,"matrixMonitorPresenceEpic",function(){return ba}),n.d(d,"matrixPresenceUpdateEpic",function(){return fa}),n.d(d,"matrixCreateRoomEpic",function(){return ma}),n.d(d,"matrixInviteEpic",function(){return ha}),n.d(d,"matrixHandleInvitesEpic",function(){return Oa}),n.d(d,"matrixLeaveExcessRoomsEpic",function(){return va}),n.d(d,"matrixLeaveUnknownRoomsEpic",function(){return ka}),n.d(d,"matrixCleanLeftRoomsEpic",function(){return ya}),n.d(d,"matrixMessageSendEpic",function(){return ja}),n.d(d,"matrixMessageReceivedEpic",function(){return ga}),n.d(d,"matrixMessageReceivedUpdateRoomEpic",function(){return wa}),n.d(d,"matrixMonitorChannelPresenceEpic",function(){return _a}),n.d(d,"deliveredEpic",function(){return xa});var l={};n.r(l),n.d(l,"transferGenerateAndSignEnvelopeMessageEpic",function(){return Na}),n.d(l,"transferProcessedReceivedEpic",function(){return Aa}),n.d(l,"transferSecretRequestedEpic",function(){return Sa}),n.d(l,"transferRevealSecretEpic",function(){return Ta}),n.d(l,"transferSecretRevealedEpic",function(){return Ia}),n.d(l,"transferUnlockProcessedReceivedEpic",function(){return Da}),n.d(l,"transferSuccessEpic",function(){return Pa});var p=n("2798"),b=n("832b"),f=n("e4b7"),m=n("6ee6"),h=n("be75"),O=n("1296"),v=n("e7c3"),k=(n("457a"),n("a532"),n("d225")),y=n("308d"),j=n("6bb5"),g=n("4e2b"),w=(n("6651"),n("473a")),_=function(e){return null!==e&&void 0!==e&&"function"===typeof e["toString"]},x=function(e){return e&&"BigNumber"===e["_ethersType"]},E=new p["a"]("BigNumber",x,function(e,t){if(x(e))return p["l"](e);try{if(_(e))return p["l"](Object(h["bigNumberify"])(e.toString()))}catch(n){return p["d"](e,t,n.message)}return p["d"](e,t)},function(e){return new v["LosslessNumber"](e.toString())}),C=function(e){function t(e,n){var a;return Object(k["a"])(this,t),a=Object(y["a"])(this,Object(j["a"])(t).call(this,n||"enum",function(e){return Object.values(a.enumObject).some(function(t){return t===e})},function(e,t){return a.is(e)?p["l"](e):p["d"](e,t)},p["e"])),a._tag="EnumType",a.enumObject=e,a}return Object(g["a"])(t,e),t}(p["a"]),R=Object(w["memoize"])(function(e){return p["c"](p["k"],function(t){return"string"===typeof t&&(e?Object(h["hexDataLength"])(t)===e:Object(h["isHexString"])(t))},"HexString")}),N=Object(w["memoize"])(function(e){var t=e?f["Two"].pow(8*e):void 0;return p["c"](E,function(e){return E.is(e)&&e.gte(0)&&(void 0===t||e.lt(t))},"UInt")}),A=R(65),S=R(32),T=R(),I=R(32),D=p["c"](R(20),function(e){try{return"string"===typeof e&&Object(h["getAddress"])(e)===e}catch(t){}return!1},"Address");function P(e,t){var n;if("number"===typeof e&&(e=Object(h["bigNumberify"])(e)),E.is(e)){if(e.lt(0))throw new Error("Number is negative");if(e.gte(f["Two"].pow(8*t)))throw new Error("Number too large");n=Object(O["hexZeroPad"])(Object(O["hexlify"])(e),t)}else{if("string"!==typeof e&&!Object(O["isArrayish"])(e))throw new Error("data is not a HexString or Uint8Array");var a=Object(O["hexlify"])(e);if(Object(O["hexDataLength"])(a)!==t)throw new Error("Uint8Array or hex string must be of exact length");n=a}return n}var M=function(e){return e&&!0===e["isLosslessNumber"]};function B(e){return Object(v["parse"])(e,function(e,t){if(Object(m["a"])(e),M(t))try{return t.valueOf()}catch(n){}return t})}var L,$,U=p["m"]({type:p["g"]("Lock"),amount:N(32),expiration:N(32),secrethash:S},"Lock"),F=p["m"]({chainId:N(32),tokenNetworkAddress:D,channelId:N(32),nonce:N(8),transferredAmount:N(32),lockedAmount:N(32),locksroot:S,messageHash:S,signature:A,sender:D}),H=n("bd86");(function(e){e["DELIVERED"]="Delivered",e["PROCESSED"]="Processed",e["SECRET_REQUEST"]="SecretRequest",e["SECRET_REVEAL"]="RevealSecret",e["LOCKED_TRANSFER"]="LockedTransfer",e["REFUND_TRANSFER"]="RefundTransfer",e["UNLOCK"]="Secret",e["LOCK_EXPIRED"]="LockExpired"})($||($={}));var V,Z=new C($,"MessageType"),K=p["m"]({type:Z}),q=p["f"]([p["m"]({message_identifier:N(8)}),K]),z=p["f"]([p["m"]({type:p["g"]($.DELIVERED),delivered_message_identifier:N(8)}),K]),W=p["f"]([p["m"]({type:p["g"]($.PROCESSED)}),q]),G=p["f"]([p["m"]({type:p["g"]($.SECRET_REQUEST),payment_identifier:N(8),secrethash:S,amount:N(32),expiration:N(32)}),q]),J=p["f"]([p["m"]({type:p["g"]($.SECRET_REVEAL),secret:T}),q]),X=p["f"]([p["m"]({chain_id:N(32),token_network_address:D,channel_identifier:N(32),nonce:N(8),transferred_amount:N(32),locked_amount:N(32),locksroot:S}),q]),Q=p["f"]([p["m"]({payment_identifier:N(8),token:D,recipient:D,lock:U,target:D,initiator:D,fee:N(32)}),X]),Y=p["f"]([p["m"]({type:p["g"]($.LOCKED_TRANSFER)}),Q]),ee=p["f"]([p["m"]({type:p["g"]($.REFUND_TRANSFER)}),Q]),te=p["f"]([p["m"]({type:p["g"]($.UNLOCK),payment_identifier:N(8),secret:T}),X]),ne=p["f"]([p["m"]({type:p["g"]($.LOCK_EXPIRED),recipient:D,secrethash:S}),X]),ae=Object(w["memoize"])(function(e){return p["f"]([e,p["m"]({signature:A})])}),re=(L={},Object(H["a"])(L,$.DELIVERED,ae(z)),Object(H["a"])(L,$.PROCESSED,ae(W)),Object(H["a"])(L,$.SECRET_REQUEST,ae(G)),Object(H["a"])(L,$.SECRET_REVEAL,ae(J)),Object(H["a"])(L,$.LOCKED_TRANSFER,ae(Y)),Object(H["a"])(L,$.REFUND_TRANSFER,ae(ee)),Object(H["a"])(L,$.UNLOCK,ae(te)),Object(H["a"])(L,$.LOCK_EXPIRED,ae(ne)),L);(function(e){e["opening"]="opening",e["open"]="open",e["closing"]="closing",e["closed"]="closed",e["settleable"]="settleable",e["settling"]="settling",e["settled"]="settled"})(V||(V={}));new C(V,"ChannelState");var ce=p["f"]([p["m"]({deposit:N(32)}),p["i"]({locks:p["b"](U),balanceProof:F,history:p["j"](p["k"],p["n"]([ae(Y),ae(te),ae(ne)]))})]),oe=p["f"]([p["m"]({own:ce,partner:ce}),p["n"]([p["m"]({state:p["g"](V.opening)}),p["m"]({state:p["n"]([p["g"](V.open),p["g"](V.closing)]),id:p["h"],settleTimeout:p["h"],openBlock:p["h"]}),p["m"]({state:p["n"]([p["g"](V.closed),p["g"](V.settleable),p["g"](V.settling)]),id:p["h"],settleTimeout:p["h"],openBlock:p["h"],closeBlock:p["h"]})])]),ie=p["j"](p["k"],p["j"](p["k"],oe)),se=p["m"]({userId:p["k"],accessToken:p["k"],deviceId:p["k"],displayName:p["k"]}),ue=p["f"]([p["m"]({transfer:ae(Y)}),p["i"]({transferProcessed:ae(W),secretReveal:ae(J),unlock:ae(te),lockExpired:ae(ne)})]),de=p["j"](p["k"],ue),le=p["m"]({address:D,blockNumber:p["h"],channels:ie,tokens:p["j"](p["k"],D),transport:p["i"]({matrix:p["f"]([p["m"]({server:p["k"]}),p["i"]({setup:se,rooms:p["j"](p["k"],p["b"](p["k"]))})])}),secrets:p["j"](p["k"],p["f"]([p["m"]({secret:T}),p["i"]({registerBlock:p["h"]})])),sent:de});function pe(e){return Object(v["stringify"])(le.encode(e),void 0,2)}function be(e){"string"===typeof e&&(e=B(e));var t=le.decode(e);return b["ThrowReporter"].report(t),t.value}var fe,me={address:f["AddressZero"],blockNumber:0,channels:{},tokens:{},transport:{},secrets:{},sent:{}},he=Object(h["padZeros"])([],65),Oe={default:"https://raw.githubusercontent.com/raiden-network/raiden-transport/master/known_servers.test.yaml"};(function(e){e["STOP"]="raidenStopped",e["ACCOUNT_CHANGED"]="providerAccountChanged",e["NETWORK_CHANGED"]="providerNetworkChanged"})(fe||(fe={}));var ve=50,ke=(n("145b"),n("adb9"),n("1414"),n("95d2"),n("9586"),n("768b")),ye=(n("685a"),n("5d9d"),n("b0b4")),je=n("d577"),ge=n("d96a"),we=n("a069"),_e=n("5f07"),xe=n("18ec"),Ee=(n("7c95"),n("9146")),Ce=n("9b68"),Re=n("b67a"),Ne=n("c361"),Ae=n("9676"),Se=n("80c0"),Te=n("3190"),Ie=n("ea41"),De=n("1fcd"),Pe=n("bf81"),Me=n("fd97"),Be=n("1c1f"),Le=n("0fe9"),$e=n("f008");function Ue(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,a=arguments.length>1?arguments[1]:void 0;for(var r in e){var c=e[r];if(c){var o=n[r]||t[r],i=c(o,a);i!==o&&(n=Object.assign({},n,Object(H["a"])({},r,i)))}}return n}}var Fe=Object(xe["createStandardAction"])("newBlock")(),He=Object(xe["createStandardAction"])("tokenMonitored").map(function(e){var t=e.token,n=e.tokenNetwork,a=e.first,r=void 0!==a&&a;return{payload:{token:t,tokenNetwork:n,first:r}}}),Ve=Object(xe["createStandardAction"])("channelOpen")(),Ze=Object(xe["createStandardAction"])("channelOpened")(),Ke=Object(xe["createStandardAction"])("channelOpenFailed").map(function(e,t){return{payload:e,error:!0,meta:t}}),qe=Object(xe["createStandardAction"])("channelMonitored")(),ze=Object(xe["createStandardAction"])("channelDeposit")(),We=Object(xe["createStandardAction"])("channelDeposited")(),Ge=Object(xe["createStandardAction"])("channelDepositFailed").map(function(e,t){return{payload:e,error:!0,meta:t}}),Je=Object(xe["createStandardAction"])("channelClose")(),Xe=Object(xe["createStandardAction"])("channelClosed")(),Qe=Object(xe["createStandardAction"])("channelCloseFailed").map(function(e,t){return{payload:e,error:!0,meta:t}}),Ye=Object(xe["createStandardAction"])("channelSettleable")(),et=Object(xe["createStandardAction"])("channelSettle")(),tt=Object(xe["createStandardAction"])("channelSettled")(),nt=Object(xe["createStandardAction"])("channelSettleFailed").map(function(e,t){return{payload:e,error:!0,meta:t}});function at(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me.blockNumber,t=arguments.length>1?arguments[1]:void 0;return Object(xe["isActionOf"])(Fe,t)?t.payload.blockNumber:e}function rt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me.tokens,t=arguments.length>1?arguments[1]:void 0;return Object(xe["isActionOf"])(He,t)?Object($e["set"])([t.payload.token],t.payload.tokenNetwork,e):e}function ct(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me.channels,t=arguments.length>1?arguments[1]:void 0;if(Object(xe["isActionOf"])(Ve,t)){var n=[t.meta.tokenNetwork,t.meta.partner];if(Object($e["get"])(n,e))return e;var a={state:V.opening,own:{deposit:f["Zero"]},partner:{deposit:f["Zero"]}};return Object($e["set"])(n,a,e)}if(Object(xe["isActionOf"])(Ze,t)){var r=[t.meta.tokenNetwork,t.meta.partner],c={state:V.open,own:{deposit:f["Zero"]},partner:{deposit:f["Zero"]},id:t.payload.id,settleTimeout:t.payload.settleTimeout,openBlock:t.payload.openBlock};return Object($e["set"])(r,c,e)}if(Object(xe["isActionOf"])(Ke,t)){var o=[t.meta.tokenNetwork,t.meta.partner];return Object($e["get"])([].concat(o,["state"]),e)!==V.opening?e:Object($e["unset"])(o,e)}if(Object(xe["isActionOf"])(We,t)){var i=[t.meta.tokenNetwork,t.meta.partner],s=Object($e["get"])(i,e);return s&&s.state===V.open&&s.id===t.payload.id?(s=t.payload.participant===t.meta.partner?Object($e["set"])(["partner","deposit"],t.payload.totalDeposit,s):Object($e["set"])(["own","deposit"],t.payload.totalDeposit,s),Object($e["set"])(i,s,e)):e}if(Object(xe["isActionOf"])(Je,t)){var u=[t.meta.tokenNetwork,t.meta.partner],d=Object($e["get"])(u,e);return d&&d.state===V.open?(d=Object.assign({},d,{state:V.closing}),Object($e["set"])(u,d,e)):e}if(Object(xe["isActionOf"])(Xe,t)){var l=[t.meta.tokenNetwork,t.meta.partner],p=Object($e["get"])(l,e);return!p||p.state!==V.open&&p.state!==V.closing||p.id!==t.payload.id?e:(p=Object.assign({},p,{state:V.closed,closeBlock:t.payload.closeBlock}),Object($e["set"])(l,p,e))}if(Object(xe["isActionOf"])(Ye,t)){var b=[t.meta.tokenNetwork,t.meta.partner],m=Object($e["get"])(b,e);return m&&m.state===V.closed?(m=Object.assign({},m,{state:V.settleable}),Object($e["set"])(b,m,e)):e}if(Object(xe["isActionOf"])(et,t)){var h=[t.meta.tokenNetwork,t.meta.partner],O=Object($e["get"])(h,e);return O&&O.state===V.settleable?(O=Object.assign({},O,{state:V.settling}),Object($e["set"])(h,O,e)):e}if(Object(xe["isActionOf"])(tt,t)){var v=[t.meta.tokenNetwork,t.meta.partner],k=Object($e["get"])(v,e);return k&&[V.closed,V.settleable,V.settling].includes(k.state)?Object($e["unset"])(v,e):e}return e}var ot=Ue({blockNumber:at,tokens:rt,channels:ct},me),it=n("75fc"),st=Object(xe["createStandardAction"])("matrixSetup")(),ut=Object(xe["createStandardAction"])("matrixRequestMonitorPresence")(),dt=Object(xe["createStandardAction"])("matrixPresenceUpdate").map(function(e,t){var n=e.userId,a=e.available,r=e.ts;return{payload:{userId:n,available:a,ts:r||Date.now()},meta:t}}),lt=Object(xe["createStandardAction"])("matrixRequestMonitorPresenceFailed").map(function(e,t){return{payload:e,error:!0,meta:t}}),pt=Object(xe["createStandardAction"])("matrixRoom")(),bt=Object(xe["createStandardAction"])("matrixRoomLeave")();function ft(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me.transport,t=arguments.length>1?arguments[1]:void 0;if(Object(xe["isActionOf"])(st,t))return Object.assign({},e,{matrix:Object.assign({},e.matrix,t.payload)});if(Object(xe["isActionOf"])(pt,t)){var n=["matrix","rooms",t.meta.address];return Object($e["set"])(n,[t.payload.roomId].concat(Object(it["a"])(Object($e["getOr"])([],n,e).filter(function(e){return e!==t.payload.roomId}))),e)}if(Object(xe["isActionOf"])(bt,t)){var a=["matrix","rooms",t.meta.address];return e=Object($e["set"])(a,Object($e["getOr"])([],a,e).filter(function(e){return e!==t.payload.roomId}),e),Object($e["isEmpty"])(Object($e["get"])(a,e))&&(e=Object($e["unset"])(a,e)),e}return e}var mt,ht=Ue({transport:ft},me),Ot=function(e,t,n,a){return new(n||(n=Promise))(function(r,c){function o(e){try{s(a.next(e))}catch(t){c(t)}}function i(e){try{s(a["throw"](e))}catch(t){c(t)}}function s(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(o,i)}s((a=a.apply(e,t||[])).next())})},vt=(mt={},Object(H["a"])(mt,$.DELIVERED,12),Object(H["a"])(mt,$.PROCESSED,0),Object(H["a"])(mt,$.SECRET_REQUEST,3),Object(H["a"])(mt,$.SECRET_REVEAL,11),Object(H["a"])(mt,$.LOCKED_TRANSFER,7),Object(H["a"])(mt,$.REFUND_TRANSFER,8),Object(H["a"])(mt,$.UNLOCK,4),Object(H["a"])(mt,$.LOCK_EXPIRED,13),mt);function kt(e){switch(e.type){case $.LOCKED_TRANSFER:case $.REFUND_TRANSFER:return Object(h["keccak256"])(Object(O["concat"])([P(vt[e.type],1),P(0,3),P(e.nonce,8),P(e.chain_id,32),P(e.message_identifier,8),P(e.payment_identifier,8),P(e.lock.expiration,32),P(e.token_network_address,20),P(e.token,20),P(e.channel_identifier,32),P(e.recipient,20),P(e.target,20),P(e.initiator,20),P(e.locksroot,32),P(e.lock.secrethash,32),P(e.transferred_amount,32),P(e.locked_amount,32),P(e.lock.amount,32),P(e.fee,32)]));case $.UNLOCK:return Object(h["keccak256"])(Object(O["concat"])([P(vt[e.type],1),P(0,3),P(e.chain_id,32),P(e.message_identifier,8),P(e.payment_identifier,8),P(e.token_network_address,20),P(e.secret,32),P(e.nonce,8),P(e.channel_identifier,32),P(e.transferred_amount,32),P(e.locked_amount,32),P(e.locksroot,32)]));case $.LOCK_EXPIRED:return Object(h["keccak256"])(Object(O["concat"])([P(vt[e.type],1),P(0,3),P(e.nonce,8),P(e.chain_id,32),P(e.message_identifier,8),P(e.token_network_address,20),P(e.channel_identifier,32),P(e.recipient,20),P(e.locksroot,32),P(e.secrethash,32),P(e.transferred_amount,32),P(e.locked_amount,32)]))}}function yt(e){switch(e.type){case $.DELIVERED:return Object(O["hexlify"])(Object(O["concat"])([P(vt[e.type],1),P(0,3),P(e.delivered_message_identifier,8)]));case $.PROCESSED:return Object(O["hexlify"])(Object(O["concat"])([P(vt[e.type],1),P(0,3),P(e.message_identifier,8)]));case $.LOCKED_TRANSFER:case $.REFUND_TRANSFER:case $.UNLOCK:case $.LOCK_EXPIRED:var t=kt(e),n=e.transferred_amount.isZero()&&e.locked_amount.isZero()&&e.locksroot===f["HashZero"]?f["HashZero"]:Object(h["keccak256"])(Object(O["concat"])([P(e.transferred_amount,32),P(e.locked_amount,32),P(e.locksroot,32)]));return Object(O["hexlify"])(Object(O["concat"])([P(e.token_network_address,20),P(e.chain_id,32),P(1,32),P(e.channel_identifier,32),P(n,32),P(e.nonce,32),P(t,32)]));case $.SECRET_REQUEST:return Object(O["hexlify"])(Object(O["concat"])([P(vt[e.type],1),P(0,3),P(e.message_identifier,8),P(e.payment_identifier,8),P(e.secrethash,32),P(e.amount,32),P(e.expiration,32)]));case $.SECRET_REVEAL:return Object(O["hexlify"])(Object(O["concat"])([P(vt[e.type],1),P(0,3),P(e.message_identifier,8),P(e.secret,32)]))}}function jt(e){return A.is(e.signature)}function gt(e){return Object(h["verifyMessage"])(Object(O["arrayify"])(yt(e)),e.signature)}function wt(e){return{chainId:e.chain_id,tokenNetworkAddress:e.token_network_address,channelId:e.channel_identifier,nonce:e.nonce,transferredAmount:e.transferred_amount,lockedAmount:e.locked_amount,locksroot:e.locksroot,messageHash:kt(e),signature:e.signature,sender:gt(e)}}function _t(e){var t=re[e.type];return Object(v["stringify"])(t.encode(e))}function xt(e){var t=B(e);if(!K.is(t))throw new Error('Could not find Message "type" in '.concat(e));var n=re[t.type].decode(t);if(n.isLeft())throw b["ThrowReporter"].report(n);return n.value}function Et(e,t){return Ot(this,void 0,void 0,regeneratorRuntime.mark(function n(){var a;return regeneratorRuntime.wrap(function(n){while(1)switch(n.prev=n.next){case 0:if(!jt(t)){n.next=2;break}return n.abrupt("return",t);case 2:return n.next=4,e.signMessage(Object(O["arrayify"])(yt(t)));case 4:return a=n.sent,n.abrupt("return",Object.assign({},t,{signature:a}));case 6:case"end":return n.stop()}},n)}))}var Ct=Object(xe["createStandardAction"])("transfer")(),Rt=Object(xe["createStandardAction"])("transferSigned")(),Nt=Object(xe["createStandardAction"])("transferProcessed")(),At=Object(xe["createStandardAction"])("transferSecret")(),St=Object(xe["createStandardAction"])("transferSecretRequest")(),Tt=Object(xe["createStandardAction"])("transferUnlock")(),It=Object(xe["createStandardAction"])("transferUnlocked")(),Dt=Object(xe["createStandardAction"])("transferUnlockProcessed")(),Pt=Object(xe["createStandardAction"])("transferred")(),Mt=Object(xe["createStandardAction"])("transferFailed").map(function(e,t){return{payload:e,error:!0,meta:t}});function Bt(e){return Object(h["keccak256"])(Object(O["concat"])([P(e.expiration,32),P(e.amount,32),e.secrethash]))}function Lt(e){if(Object(w["isEmpty"])(e))return f["HashZero"];var t=e.map(Bt);while(t.length>1)for(var n=0;n<t.length-1;n++)t.splice(n,2,Object(h["keccak256"])(t[n]+t[n+1].substr(2)));return t[0]}function $t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32;return Object(O["hexlify"])(Object(h["randomBytes"])(e))}function Ut(){return Object(h["bigNumberify"])(Object(h["randomBytes"])(8))}function Ft(){return Object(h["bigNumberify"])(Date.now())}function Ht(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0;if(Object(xe["isActionOf"])(At,t))return t.meta.secrethash in e.secrets&&e.secrets[t.meta.secrethash].registerBlock?e:Object.assign({},e,{secrets:Object.assign({},e.secrets,Object(H["a"])({},t.meta.secrethash,t.payload))});if(Object(xe["isActionOf"])(Rt,t)){var n=t.payload.message,a=n.lock,r=a.secrethash;if(r in e.sent)return e;var c=["channels",n.token_network_address,n.recipient],o=Object($e["get"])(c,e);if(!o)return e;var i=[].concat(Object(it["a"])(o.own.locks||[]),[a]),s=Lt(i);if(n.locksroot!==s||!n.nonce.eq((o.own.balanceProof?o.own.balanceProof.nonce:f["Zero"]).add(1))||!n.transferred_amount.eq(o.own.balanceProof?o.own.balanceProof.transferredAmount:f["Zero"])||!n.locked_amount.eq((o.own.balanceProof?o.own.balanceProof.lockedAmount:f["Zero"]).add(a.amount)))return e;o=Object.assign({},o,{own:Object.assign({},o.own,{locks:i,balanceProof:wt(n),history:Object.assign({},o.own.history,Object(H["a"])({},Date.now().toString(),n))})});var u={transfer:n};return e=Object($e["set"])(c,o,e),e=Object($e["set"])(["sent",r],u,e),e}if(Object(xe["isActionOf"])(Nt,t))return t.meta.secrethash in e.sent?Object.assign({},e,{sent:Object.assign({},e.sent,Object(H["a"])({},t.meta.secrethash,Object.assign({},e.sent[t.meta.secrethash],{transferProcessed:t.payload.message})))}):e;if(Object(xe["isActionOf"])(Tt,t))return t.meta.secrethash in e.sent?Object.assign({},e,{sent:Object.assign({},e.sent,Object(H["a"])({},t.meta.secrethash,Object.assign({},e.sent[t.meta.secrethash],{secretReveal:t.payload.message})))}):e;if(Object(xe["isActionOf"])(It,t)){var d=t.payload.message,l=t.meta.secrethash;if(!(l in e.sent)||e.sent[l].unlock)return e;var p=e.sent[l].transfer,b=p.lock,m=["channels",p.token_network_address,p.recipient],h=Object($e["get"])(m,e);if(!h||!h.own.locks||!h.own.balanceProof)return e;var O=h.own.locks.filter(function(e){return e.secrethash!==l}),v=Lt(O);if(d.locksroot!==v||!h.own.balanceProof.nonce.add(1).eq(d.nonce)||!d.transferred_amount.eq(h.own.balanceProof.transferredAmount.add(b.amount))||!d.locked_amount.eq(h.own.balanceProof.lockedAmount.sub(b.amount)))return e;h=Object.assign({},h,{own:Object.assign({},h.own,{locks:O,balanceProof:wt(d),history:Object.assign({},h.own.history,Object(H["a"])({},Date.now().toString(),d))})});var k=Object.assign({},e.sent[l],{unlock:d});return e=Object($e["set"])(m,h,e),e=Object($e["set"])(["sent",l],k,e),e}return Object(xe["isActionOf"])(Pt,t)&&t.meta.secrethash in e.sent?(e=Object($e["unset"])(["sent",t.meta.secrethash],e),e=Object($e["unset"])(["secrets",t.meta.secrethash],e),e):e}var Vt={channelsReducer:ot,transportReducer:ht,transfersReducer:Ht},Zt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0;return Object.values(Vt).reduce(function(e,n){return n(e,t)},e)},Kt=n("a7dc"),qt=n("dafc"),zt=n("0011"),Wt=n("ff6c"),Gt=n("4f62"),Jt=n("96a6"),Xt=Object(xe["createStandardAction"])("raidenInit")(),Qt=Object(xe["createStandardAction"])("raidenShutdown")(),Yt=n("85d4"),en=function(e,t,n){Object(m["a"])(e);var a=n.stateOutput$;return t.subscribe(a),Yt["a"]},tn=function(e,t,n){Object(m["a"])(t);var a=n.actionOutput$;return e.subscribe(a),Yt["a"]},nn=(n("726b"),n("2f2e")),an=n("8214"),rn=n("bcb8"),cn=n("62f2"),on=n("1799"),sn=n("a4df"),un=n("7ecd"),dn=n("ca31"),ln=n("f833"),pn=n("cf7f"),bn=n("787e"),fn=n("bdc9"),mn=n("8377"),hn=n("18cc"),On=n("1284"),vn=function(e,t,n,a){return new(n||(n=Promise))(function(r,c){function o(e){try{s(a.next(e))}catch(t){c(t)}}function i(e){try{s(a["throw"](e))}catch(t){c(t)}}function s(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(o,i)}s((a=a.apply(e,t||[])).next())})};function kn(e,t,n){return Object(fn["a"])(function(n){return e.on(t,n)},function(n){return e.removeListener(t,n)},n)}function yn(e,t,n,a){var r=this,c=e.provider,o=Object(Kt["a"])(t).pipe(Object(Gt["a"])(function(t){return kn(e,t,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t})})),i=Yt["a"];return n&&a&&(i=n.pipe(Object(cn["a"])(Object(mn["a"])(function(){return c.blockNumber?Object(qt["a"])(c.blockNumber):a})),Object(Se["a"])(),Object(hn["a"])(function(e){var n=Object(ke["a"])(e,2),a=n[0],o=n[1];return vn(r,void 0,void 0,regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map(function(e){return c.getLogs(Object.assign({},e,{fromBlock:a,toBlock:o}))}));case 2:return n=e.sent,e.abrupt("return",Object(Kt["a"])(Object(w["sortBy"])(Object(w["flatten"])(n),["blockNumber"])));case 4:case"end":return e.stop()}},e)}))}),Object(On["a"])(),Object(Ne["a"])(function(t){var n=e.interface.parseLog(t);if(n){var a=Array.prototype.slice.call(n.values),r=Object.assign({},t,n,{args:a,removeListener:function(){},getBlock:function(){return c.getBlock(t.blockHash)},getTransaction:function(){return c.getTransaction(t.transactionHash)},getTransactionReceipt:function(){return c.getTransactionReceipt(t.transactionHash)},decode:void 0});return[].concat(Object(it["a"])(a),[r])}}),Object(Ae["a"])(function(e){return!!e}))),Object(nn["a"])(i,o)}function jn(e){return vn(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.t0=bn["getNetwork"],t.t1=parseInt,t.next=4,e.send("net_version",[]);case 4:return t.t2=t.sent,t.t3=(0,t.t1)(t.t2),t.abrupt("return",(0,t.t0)(t.t3));case 7:case"end":return t.stop()}},t)}))}var gn=void 0,wn=function(e,t,n,a){return new(n||(n=Promise))(function(r,c){function o(e){try{s(a.next(e))}catch(t){c(t)}}function i(e){try{s(a["throw"](e))}catch(t){c(t)}}function s(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(o,i)}s((a=a.apply(e,t||[])).next())})},_n=function(e,t,n){Object(m["a"])(t);var a=n.provider;return e.pipe(Object(Ae["a"])(Object(xe["isActionOf"])(Xt)),Object(Gt["a"])(function(){return kn(a,"block")}),Object(Ne["a"])(function(e){return Fe({blockNumber:e})}))},xn=function(e,t,n){var a=n.registryContract,r=n.contractsInfo;return e.pipe(Object(Ae["a"])(Object(xe["isActionOf"])(Xt)),Object(cn["a"])(t),Object(Gt["a"])(function(e){var n=Object(ke["a"])(e,2),c=n[1];return Object(nn["a"])(yn(a,[a.filters.TokenNetworkCreated(null,null)],Object(w["isEmpty"])(c.tokens)?Object(qt["a"])(r.TokenNetworkRegistry.block_number):void 0,Object(w["isEmpty"])(c.tokens)?Object(qt["a"])(c.blockNumber):void 0).pipe(Object(cn["a"])(t.pipe(Object(on["a"])(c))),Object(Ne["a"])(function(e){var t=Object(ke["a"])(e,2),n=Object(ke["a"])(t[0],2),a=n[0],r=n[1],c=t[1];return He({token:a,tokenNetwork:r,first:!(a in c.tokens)})})),Object(Kt["a"])(Object.entries(c.tokens)).pipe(Object(Ne["a"])(function(e){var t=Object(ke["a"])(e,2),n=t[0],a=t[1];return He({token:n,tokenNetwork:a})})))}))},En=function(e,t){return e.pipe(Object(Ae["a"])(Object(xe["isActionOf"])(Xt)),Object(cn["a"])(t),Object(Gt["a"])(regeneratorRuntime.mark(function e(t){var n,a,r,c,o,i,s,u,d,l,p,b;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:n=Object(ke["a"])(t,2),a=n[1],r=0,c=Object.entries(a.channels);case 2:if(!(r<c.length)){e.next=17;break}o=Object(ke["a"])(c[r],2),i=o[0],s=o[1],u=0,d=Object.entries(s);case 5:if(!(u<d.length)){e.next=14;break}if(l=Object(ke["a"])(d[u],2),p=l[0],b=l[1],b.state!==V.opening){e.next=9;break}return e.abrupt("continue",11);case 9:return e.next=11,qe({id:b.id},{tokenNetwork:i,partner:p});case 11:u++,e.next=5;break;case 14:r++,e.next=2;break;case 17:case"end":return e.stop()}},e)})))},Cn=function(e,t,n){Object(m["a"])(t);var a=n.address,r=n.network,c=n.provider;return e.pipe(Object(Ae["a"])(Object(xe["isActionOf"])(Xt)),Object(Gt["a"])(function(){return c.listAccounts()}),Object(Ne["a"])(function(e){return e.includes(a)}),Object(Gt["a"])(function(e){return Object(an["a"])(c.pollingInterval).pipe(Object(Gt["a"])(function(){return Object(nn["a"])(e?Object(Kt["a"])(c.listAccounts()).pipe(Object(Gt["a"])(function(e){return e.includes(a)?Yt["a"]:Object(qt["a"])(Qt({reason:fe.ACCOUNT_CHANGED}))})):Yt["a"],Object(Kt["a"])(jn(c)).pipe(Object(Gt["a"])(function(e){return e.chainId!==r.chainId?Object(qt["a"])(Qt({reason:fe.NETWORK_CHANGED})):Yt["a"]})))}))}))},Rn=function(e,t,n){var a=n.address,r=n.getTokenNetworkContract,c=n.contractsInfo;return t.pipe(Object(Ne["a"])(function(e){return e.blockNumber}),Object(sn["a"])(new rn["a"](1),function(t){return e.pipe(Object(Ae["a"])(Object(xe["isActionOf"])(He)),Object(un["a"])(function(e){return e.payload.tokenNetwork}),Object(Gt["a"])(function(e){return e.pipe(Object(dn["a"])(function(e){var n=r(e.payload.tokenNetwork),o=[n.filters.ChannelOpened(null,a,null,null),n.filters.ChannelOpened(null,null,a,null)];return console.log("getEventsStream",e,t),yn(n,o,e.payload.first?Object(qt["a"])(c.TokenNetworkRegistry.block_number):void 0,e.payload.first?t:void 0).pipe(Object(Ae["a"])(function(e){var t=Object(ke["a"])(e,3),n=t[1],r=t[2];return n===a||r===a}),Object(Ne["a"])(function(e){var t=Object(ke["a"])(e,5),r=t[0],c=t[1],o=t[2],i=t[3],s=t[4];return Ze({id:r.toNumber(),settleTimeout:i.toNumber(),openBlock:s.blockNumber,txHash:s.transactionHash},{tokenNetwork:n.address,partner:a===c?o:c})}))}))}))}))},Nn=function(e,t,n){var a=n.getTokenNetworkContract;return t.pipe(Object(Ne["a"])(function(e){return e.blockNumber}),Object(sn["a"])(new rn["a"](1),function(t){return e.pipe(Object(Ae["a"])(Object(xe["isActionOf"])(qe)),Object(un["a"])(function(e){return"".concat(e.payload.id,"#").concat(e.meta.partner,"@").concat(e.meta.tokenNetwork)}),Object(Gt["a"])(function(e){return e.pipe(Object(dn["a"])(function(e){var n=a(e.meta.tokenNetwork),r=n.filters.ChannelNewDeposit(e.payload.id,null,null),c=n.filters.ChannelClosed(e.payload.id,null,null),o=n.filters.ChannelSettled(e.payload.id,null,null);return Object(nn["a"])(yn(n,[r],e.payload.fromBlock?Object(qt["a"])(e.payload.fromBlock):void 0,e.payload.fromBlock?t:void 0).pipe(Object(Ne["a"])(function(t){var n=Object(ke["a"])(t,4),a=n[0],r=n[1],c=n[2],o=n[3];return We({id:a.toNumber(),participant:r,totalDeposit:c,txHash:o.transactionHash},e.meta)})),yn(n,[c],e.payload.fromBlock?Object(qt["a"])(e.payload.fromBlock):void 0,e.payload.fromBlock?t:void 0).pipe(Object(Ne["a"])(function(t){var n=Object(ke["a"])(t,4),a=n[0],r=n[1],c=n[3];return Xe({id:a.toNumber(),participant:r,closeBlock:c.blockNumber,txHash:c.transactionHash},e.meta)})),yn(n,[o],e.payload.fromBlock?Object(qt["a"])(e.payload.fromBlock):void 0,e.payload.fromBlock?t:void 0).pipe(Object(Ne["a"])(function(t){var n=Object(ke["a"])(t,4),a=n[0],r=n[3];return tt({id:a.toNumber(),settleBlock:r.blockNumber,txHash:r.transactionHash},e.meta)}))).pipe(Object(zt["a"])(Object(w["negate"])(Object(xe["isActionOf"])(tt)),!0))}))}))}))},An=function(e,t,n){var a=n.getTokenNetworkContract;return e.pipe(Object(Ae["a"])(Object(xe["isActionOf"])(Ve)),Object(cn["a"])(t),Object(Gt["a"])(function(e){var t=Object(ke["a"])(e,2),n=t[0],r=t[1],c=a(n.meta.tokenNetwork),o=Object(w["get"])(r.channels,[n.meta.tokenNetwork,n.meta.partner,"state"]);return o!==V.opening?Object(qt["a"])(Ke(new Error("Invalid channel state: ".concat(o)),n.meta)):Object(Kt["a"])(c.functions.openChannel(r.address,n.meta.partner,n.payload.settleTimeout)).pipe(Object(Gt["a"])(function(e){return wn(gn,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.wait();case 2:return t.t0=t.sent,t.t1=e,t.abrupt("return",{receipt:t.t0,tx:t.t1});case 5:case"end":return t.stop()}},t)}))}),Object(Ne["a"])(function(e){var t=e.receipt,n=e.tx;if(!t.status)throw new Error('openChannel transaction "'.concat(n.hash,'" failed'));return n.hash}),Object(ln["a"])(Yt["a"]),Object(Jt["a"])(function(e){return Object(qt["a"])(Ke(e,n.meta))}))}))},Sn=function(e,t){return e.pipe(Object(Ae["a"])(Object(xe["isActionOf"])(Ze)),Object(cn["a"])(t),Object(Ae["a"])(function(e){var t=Object(ke["a"])(e,2),n=t[0],a=t[1],r=Object(w["get"])(a.channels,[n.meta.tokenNetwork,n.meta.partner]);return!!r&&r.state===V.open}),Object(Ne["a"])(function(e){var t=Object(ke["a"])(e,1),n=t[0];return qe({id:n.payload.id,fromBlock:n.payload.openBlock},n.meta)}))},Tn=function(e,t,n){var a=n.address,r=n.getTokenContract,c=n.getTokenNetworkContract;return e.pipe(Object(Ae["a"])(Object(xe["isActionOf"])(ze)),Object(cn["a"])(t),Object(Gt["a"])(function(e){var n=Object(ke["a"])(e,2),o=n[0],i=n[1],s=Object(w["findKey"])(i.tokens,function(e){return e===o.meta.tokenNetwork});if(!s){var u=new Error('token for tokenNetwork "'.concat(o.meta.tokenNetwork,'" not found'));return Object(qt["a"])(Ge(u,o.meta))}var d=r(s),l=c(o.meta.tokenNetwork),p=Object(w["get"])(i.channels,[o.meta.tokenNetwork,o.meta.partner]);if(!p||p.state!==V.open||void 0===p.id){var b=new Error('channel for "'.concat(o.meta.tokenNetwork,'" and "').concat(o.meta.partner,"\" not found or not in 'open' state"));return Object(qt["a"])(Ge(b,o.meta))}var f=p.id;return Object(Kt["a"])(d.functions.approve(o.meta.tokenNetwork,o.payload.deposit)).pipe(Object(pn["a"])(function(e){return console.log('sent approve tx "'.concat(e.hash,'" to "').concat(s,'"'))}),Object(Gt["a"])(function(e){return wn(gn,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.wait();case 2:return t.t0=t.sent,t.t1=e,t.abrupt("return",{receipt:t.t0,tx:t.t1});case 5:case"end":return t.stop()}},t)}))}),Object(Ne["a"])(function(e){var t=e.receipt,n=e.tx;if(!t.status)throw new Error('token "'.concat(s,'" approve transaction "').concat(n.hash,'" failed'));return n.hash}),Object(pn["a"])(function(e){return console.log('approve tx "'.concat(e,'" successfuly mined!'))})).pipe(Object(cn["a"])(t),Object(Gt["a"])(function(e){var t=Object(ke["a"])(e,2),n=t[1];return l.functions.setTotalDeposit(f,a,n.channels[o.meta.tokenNetwork][o.meta.partner].own.deposit.add(o.payload.deposit),o.meta.partner,{gasLimit:1e5})}),Object(pn["a"])(function(e){return console.log('sent setTotalDeposit tx "'.concat(e.hash,'" to "').concat(o.meta.tokenNetwork,'"'))}),Object(Gt["a"])(function(e){return wn(gn,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.wait();case 2:return t.t0=t.sent,t.t1=e,t.abrupt("return",{receipt:t.t0,tx:t.t1});case 5:case"end":return t.stop()}},t)}))}),Object(Ne["a"])(function(e){var t=e.receipt,n=e.tx;if(!t.status)throw new Error('tokenNetwork "'.concat(o.meta.tokenNetwork,'" setTotalDeposit transaction "').concat(n.hash,'" failed'));return n.hash}),Object(pn["a"])(function(e){return console.log('setTotalDeposit tx "'.concat(e,'" successfuly mined!'))}),Object(ln["a"])(Yt["a"]),Object(Jt["a"])(function(e){return Object(qt["a"])(Ge(e,o.meta))}))}))},In=function(e,t,n){var a=n.getTokenNetworkContract;return e.pipe(Object(Ae["a"])(Object(xe["isActionOf"])(Je)),Object(cn["a"])(t),Object(Gt["a"])(function(e){var t=Object(ke["a"])(e,2),n=t[0],r=t[1],c=a(n.meta.tokenNetwork),o=Object(w["get"])(r.channels,[n.meta.tokenNetwork,n.meta.partner]);if(!o||o.state!==V.open&&o.state!==V.closing||!o.id){var i=new Error('channel for "'.concat(n.meta.tokenNetwork,'" and "').concat(n.meta.partner,"\" not found or not in 'open' or 'closing' state"));return Object(qt["a"])(Qe(i,n.meta))}var s=o.id;return Object(Kt["a"])(c.functions.closeChannel(s,n.meta.partner,f["HashZero"],0,f["HashZero"],he)).pipe(Object(pn["a"])(function(e){return console.log('sent closeChannel tx "'.concat(e.hash,'" to "').concat(n.meta.tokenNetwork,'"'))}),Object(Gt["a"])(function(e){return wn(gn,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.wait();case 2:return t.t0=t.sent,t.t1=e,t.abrupt("return",{receipt:t.t0,tx:t.t1});case 5:case"end":return t.stop()}},t)}))}),Object(Ne["a"])(function(e){var t=e.receipt,a=e.tx;if(!t.status)throw new Error('tokenNetwork "'.concat(n.meta.tokenNetwork,'" closeChannel transaction "').concat(a.hash,'" failed'));return console.log('closeChannel tx "'.concat(a.hash,'" successfuly mined!')),a.hash}),Object(ln["a"])(Yt["a"]),Object(Jt["a"])(function(e){return Object(qt["a"])(Qe(e,n.meta))}))}))},Dn=function(e,t,n){var a=n.address,r=n.getTokenNetworkContract;return e.pipe(Object(Ae["a"])(Object(xe["isActionOf"])(et)),Object(cn["a"])(t),Object(Gt["a"])(function(e){var t=Object(ke["a"])(e,2),n=t[0],c=t[1],o=r(n.meta.tokenNetwork),i=Object(w["get"])(c.channels,[n.meta.tokenNetwork,n.meta.partner]);if(!i||i.state!==V.settleable&&i.state!==V.settling||!i.id){var s=new Error('channel for "'.concat(n.meta.tokenNetwork,'" and "').concat(n.meta.partner,"\" not found or not in 'settleable' or 'settling' state"));return Object(qt["a"])(nt(s,n.meta))}var u=i.id;return Object(Kt["a"])(o.functions.settleChannel(u,a,f["Zero"],f["Zero"],f["HashZero"],n.meta.partner,f["Zero"],f["Zero"],f["HashZero"])).pipe(Object(pn["a"])(function(e){return console.log('sent settleChannel tx "'.concat(e.hash,'" to "').concat(n.meta.tokenNetwork,'"'))}),Object(Gt["a"])(function(e){return wn(gn,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.wait();case 2:return t.t0=t.sent,t.t1=e,t.abrupt("return",{receipt:t.t0,tx:t.t1});case 5:case"end":return t.stop()}},t)}))}),Object(Ne["a"])(function(e){var t=e.receipt,a=e.tx;if(!t.status)throw new Error('tokenNetwork "'.concat(n.meta.tokenNetwork,'" settleChannel transaction "').concat(a.hash,'" failed'));return console.log('settleChannel tx "'.concat(a.hash,'" successfuly mined!')),a.hash}),Object(ln["a"])(Yt["a"]),Object(Jt["a"])(function(e){return Object(qt["a"])(nt(e,n.meta))}))}))},Pn=function(e,t){return e.pipe(Object(Ae["a"])(Object(xe["isActionOf"])(Fe)),Object(cn["a"])(t),Object(Gt["a"])(regeneratorRuntime.mark(function e(t){var n,a,r,c,o,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:n=Object(ke["a"])(t,2),a=n[0].payload.blockNumber,r=n[1],e.t0=regeneratorRuntime.keys(r.channels);case 2:if((e.t1=e.t0()).done){e.next=15;break}c=e.t1.value,e.t2=regeneratorRuntime.keys(r.channels[c]);case 5:if((e.t3=e.t2()).done){e.next=13;break}if(o=e.t3.value,i=r.channels[c][o],!(i.state===V.closed&&i.settleTimeout&&i.closeBlock&&a>i.closeBlock+i.settleTimeout)){e.next=11;break}return e.next=11,Ye({settleableBlock:a},{tokenNetwork:c,partner:o});case 11:e.next=5;break;case 13:e.next=2;break;case 15:case"end":return e.stop()}},e)})))},Mn=(n("07ef"),n("9b5c"),n("a0fb"),n("314a"),n("fe3e"),n("dced")),Bn=n("7ae8"),Ln=n("66ee"),$n=n("c71d"),Un=n("a66c"),Fn=n("e055"),Hn=n("ba79"),Vn=n("c692"),Zn=n("41e5"),Kn=n("eb30"),qn=n("b7da"),zn=n("bdc3"),Wn=n("33b8"),Gn=n("7932"),Jn=n("6bd1"),Xn=n.n(Jn),Qn=Object(xe["createStandardAction"])("messageSend")(),Yn=Object(xe["createStandardAction"])("messageReceived").map(function(e,t){var n=e.text,a=e.message,r=e.ts,c=e.userId,o=e.roomId;return{payload:{text:n,message:a,ts:r||Date.now(),userId:c,roomId:o},meta:t}}),ea=n("0ab7"),ta=function(e,t,n,a){return new(n||(n=Promise))(function(r,c){function o(e){try{s(a.next(e))}catch(t){c(t)}}function i(e){try{s(a["throw"](e))}catch(t){c(t)}}function s(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(o,i)}s((a=a.apply(e,t||[])).next())})};function na(e){var t,n=/^\s*-\s*(.+?)\s*$/gm,a=[];while(t=n.exec(e))a.push(t[1]);return a}function aa(e){return ta(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,a,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=e,n.includes("://")||(n="https://".concat(n)),n+="/_matrix/client/versions",a=Date.now(),t.prev=4,t.next=7,Xn()(n);case 7:if(r=t.sent,!(r.status<200||r.status>=300)){t.next=10;break}throw NaN;case 10:t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](4),a=NaN;case 15:return t.abrupt("return",{server:e,rtt:Date.now()-a});case 16:case"end":return t.stop()}},t,null,[[4,12]])}))}function ra(e){var t=/^(?:\w*:?\/\/)?([^\/#?&]+)/.exec(e);return t&&t[1]}function ca(e,t){var n=Object(ea["encodeUri"])("/presence/$userId/status",{$userId:t});return e._http.authedRequest(void 0,"GET",n)}n("0800");var oa=function(){function e(t){Object(k["a"])(this,e),this.values=new Map,this.max=t}return Object(ye["a"])(e,[{key:"get",value:function(e){var t=this.values.get(e);return t&&(this.values.delete(e),this.values.set(e,t)),t}},{key:"put",value:function(e,t){if(this.values.size>=this.max){var n=this.values.keys().next().value;this.values.delete(n)}this.values.set(e,t)}}]),e}(),ia=function(e){return e.pipe(Object(Ae["a"])(Object(xe["isActionOf"])(dt)),Object(Zn["a"])(function(e,t){return Object.assign({},e,Object(H["a"])({},t.meta.address,t))},{}),Object(on["a"])({}))},sa=["online","unavailable"],ua=/^@(0x[0-9a-f]{40})[.:]/i,da=function(e,t,n){var a=n.address,r=n.network,c=n.signer,o=n.matrix$;return e.pipe(Object(Ae["a"])(Object(xe["isActionOf"])(Xt)),Object(cn["a"])(t),Object(Gt["a"])(function(e){var t=Object(ke["a"])(e,2),n=t[1],a=Object(w["get"])(n,["transport","matrix","server"]),c=Object(w["get"])(n,["transport","matrix","setup"]);if(a)return Object(qt["a"])({server:a,setup:c});var o=Oe[r.name]||Oe.default;return Object(Kt["a"])(Xn()(o)).pipe(Object(Gt["a"])(function(e){return e.ok?e.text():Object(Mn["a"])(new Error('Could not fetch server list from "'.concat(o,'" => ').concat(e.status)))}),Object(Gt["a"])(function(e){return Object(Kt["a"])(na(e))}),Object(Gt["a"])(function(e){return aa(e)}),Object(Un["a"])(),Object(Ne["a"])(function(e){return Object(w["sortBy"])(e,["rtt"])}),Object(Ne["a"])(function(e){if(!e[0]||"number"!==typeof e[0].rtt||isNaN(e[0].rtt))throw new Error("Could not contact any matrix servers: ".concat(JSON.stringify(e)));return e[0].server}),Object(Ne["a"])(function(e){return{server:e.includes("://")?e:"https://".concat(e),setup:void 0}}))}),Object(Gt["a"])(function(e){var t=e.server,n=e.setup,r=n||{},o=r.userId,i=r.accessToken,s=r.deviceId;if(n){var u=Object(Gn["createClient"])({baseUrl:t,userId:o,accessToken:i,deviceId:s});return Object(qt["a"])({matrix:u,server:t,setup:n})}var d=ra(t);if(!d)return Object(Mn["a"])(new Error('Could not get serverName from "'.concat(t,'"')));var l=Object(Gn["createClient"])({baseUrl:t}),p=a.toLowerCase();return o="@".concat(p,":").concat(d),Object(Kt["a"])(c.signMessage(d)).pipe(Object(Gt["a"])(function(e){return Object(Kt["a"])(l.loginWithPassword(p,e)).pipe(Object(Jt["a"])(function(){return Object(Kt["a"])(l.register(p,e))}))}),Object(pn["a"])(function(e){l.deviceId=e.device_id,l._http.opts.accessToken=e.access_token,l.credentials={userId:e.user_id},i=e.access_token,s=e.device_id}),Object(Gt["a"])(function(){return c.signMessage(o)}),Object(Ne["a"])(function(e){return{matrix:l,server:t,setup:{userId:o,accessToken:i,deviceId:s,displayName:e}}}))}),Object(Gt["a"])(function(e){var t=e.matrix,n=e.server,a=e.setup;return Object(Kt["a"])(t.setDisplayName(a.displayName)).pipe(Object(Gt["a"])(function(){return t.joinRoom("#raiden_".concat(r.name||r.chainId,"_discovery:").concat(ra(n)))}),Object(Fn["a"])({matrix:t,server:n,setup:a}))}),Object(pn["a"])(function(e){var t=e.matrix;o.next(t),o.complete()}),Object(Ne["a"])(function(e){var t=e.server,n=e.setup;return st({server:t,setup:n})}))},la=function(e,t,n){Object(m["a"])(t);var a=n.matrix$;return e.pipe(Object(Ae["a"])(Object(xe["isActionOf"])(st)),Object(hn["a"])(function(){return a}),Object(pn["a"])(function(e){return console.log("MATRIX client",e)}),Object(Gt["a"])(function(e){return e.startClient({initialSyncLimit:0})}),Object(Hn["a"])())},pa=function(e,t,n){Object(m["a"])(t);var a=n.matrix$;return a.pipe(Object(Gt["a"])(function(t){return e.pipe(Object(Vn["a"])(function(){return t.stopClient()}))}),Object(Hn["a"])())},ba=function(e,t,n){Object(m["a"])(t);var a=n.matrix$;return e.pipe(Object(Ae["a"])(Object(xe["isActionOf"])(ut)),Object(Gt["a"])(function(e){return a.pipe(Object(Ne["a"])(function(t){return{action:e,matrix:t}}))}),Object(cn["a"])(ia(e)),Object(Gt["a"])(function(e){var t=Object(ke["a"])(e,2),n=t[0],a=n.action,r=n.matrix,c=t[1];if(a.meta.address in c)return Object(qt["a"])(c[a.meta.address]);var o=[],i=!0,s=!1,u=void 0;try{for(var d,l=r.getUsers()[Symbol.iterator]();!(i=(d=l.next()).done);i=!0){var p=d.value;if(p.displayName&&p.presence){var b=void 0;try{var f=ua.exec(p.userId);if(!f||Object(h["getAddress"])(f[1])!==a.meta.address)continue;if(b=Object(h["verifyMessage"])(p.userId,p.displayName),!b||b!==a.meta.address)continue}catch(O){continue}o.push(p)}}}catch(O){s=!0,u=O}finally{try{i||null==l.return||l.return()}finally{if(s)throw u}}if(o.length>0){var m=Object(w["minBy"])(o,"lastPresenceTs");return Object(qt["a"])(dt({userId:m.userId,available:sa.includes(m.presence)},a.meta))}return Object(Kt["a"])(r.searchUserDirectory({term:a.meta.address.toLowerCase()})).pipe(Object(Ne["a"])(function(e){var t=e.results,n=[],r=!0,c=!1,o=void 0;try{for(var i,s=t[Symbol.iterator]();!(r=(i=s.next()).done);r=!0){var u=i.value;if(u.display_name){try{var d=ua.exec(u.user_id);if(!d||Object(h["getAddress"])(d[1])!==a.meta.address)continue;var l=Object(h["verifyMessage"])(u.user_id,u.display_name);if(!l||l!==a.meta.address)continue}catch(O){continue}n.push(u.user_id)}}}catch(O){c=!0,o=O}finally{try{r||null==s.return||s.return()}finally{if(c)throw o}}if(0===n.length)throw new Error("Could not find any user with valid signature for ".concat(a.meta.address," in ").concat(JSON.stringify(t)));return n}),Object(Gt["a"])(function(e){return Object(Kt["a"])(e)}),Object(Gt["a"])(function(e){return ca(r,e).then(function(t){return Object.assign(t,{user_id:e})})}),Object(Un["a"])(),Object(Ne["a"])(function(e){return Object(w["minBy"])(e,"last_active_ago")}),Object(Ne["a"])(function(e){var t=e.presence,n=e.user_id;return dt({userId:n,available:sa.includes(t)},a.meta)}),Object(Jt["a"])(function(e){return Object(qt["a"])(lt(e,a.meta))}))}))},fa=function(e,t,n){Object(m["a"])(t);var a=n.matrix$;return a.pipe(Object(hn["a"])(function(e){return Object(Bn["a"])(e,"event").pipe(Object(Ne["a"])(function(t){return{event:t,matrix:e}}))}),Object(Ae["a"])(function(e){var t=e.event;return"m.presence"===t.getType()}),Object(Ne["a"])(function(e){var t=e.event,n=e.matrix,a=n.getUser(t.getSender()),r=ua.exec(a.userId),c=r&&r[1];return{user:a,matrix:n,peerAddress:c&&Object(h["getAddress"])(c)}}),Object(Ae["a"])(function(e){var t=e.user,n=e.peerAddress;return!(!t.presence||!n)}),Object(cn["a"])(e.pipe(Object(Ae["a"])(Object(xe["isActionOf"])(ut)),Object(Zn["a"])(function(e,t){return e.add(t.meta.address)},new Set),Object(on["a"])(new Set)),ia(e)),Object(Ae["a"])(function(e){var t=Object(ke["a"])(e,2),n=t[0].peerAddress,a=t[1];return a.has(n)}),Object(Gt["a"])(function(e){var t=Object(ke["a"])(e,3),n=t[0],a=n.user,r=n.matrix,c=n.peerAddress,o=t[2],i=a.userId,s=c,u=a.presence,d=sa.includes(u);if(s in o&&o[s].payload.userId===i&&o[s].payload.available===d)return Yt["a"];var l=a.displayName?Object(qt["a"])(a.displayName):Object(Kt["a"])(r.getProfileInfo(i,"displayname")).pipe(Object(Ne["a"])(function(e){return e.displayname}),Object(Jt["a"])(function(){return Object(qt["a"])(void 0)}));return l.pipe(Object(Ne["a"])(function(e){if(!e)throw new Error('Could not get displayName of "'.concat(i,'"'));var t=Object(h["verifyMessage"])(i,e);if(!t||t!==c)throw new Error('Could not verify displayName signature of "'.concat(i,'": got "').concat(t,'"'));return t}),Object(Ne["a"])(function(e){return dt({userId:i,available:d,ts:a.lastPresenceTs},{address:e})}))}),Object(Jt["a"])(function(e){return console.log("Error validating presence event, ignoring",e),Yt["a"]}))},ma=function(e,t,n){var a=n.matrix$;return Object(Ln["a"])(ia(e),t).pipe(Object(sn["a"])(new rn["a"](1),function(t){return e.pipe(Object(Ae["a"])(Object(xe["isActionOf"])(Qn)),Object(Gt["a"])(function(e){return a.pipe(Object(Ne["a"])(function(t){return{action:e,matrix:t}}))}),Object(Kn["a"])(function(e){var n=e.action,a=e.matrix;return t.pipe(Object(Ae["a"])(function(e){var t=Object(ke["a"])(e,1),a=t[0];return n.meta.address in a}),Object(qn["a"])(1),Object(Ae["a"])(function(e){var t=Object(ke["a"])(e,2),a=t[1];return!Object(w["get"])(a,["transport","matrix","rooms",n.meta.address,0])}),Object(Gt["a"])(function(e){var t=Object(ke["a"])(e,1),r=t[0];return a.createRoom({visibility:"private",invite:[r[n.meta.address].payload.userId]})}),Object(Ne["a"])(function(e){var t=e.room_id;return pt({roomId:t},n.meta)}))}))}))},ha=function(e,t,n){var a=n.matrix$;return e.pipe(Object(Ae["a"])(Object(xe["isActionOf"])(dt)),Object(Ae["a"])(function(e){return e.payload.available}),Object(Gt["a"])(function(e){return a.pipe(Object(Ne["a"])(function(t){return{action:e,matrix:t}}))}),Object(cn["a"])(t),Object(Gt["a"])(function(e){var t=Object(ke["a"])(e,2),n=t[0],a=n.action,r=n.matrix,c=t[1],o=Object(w["get"])(c,["transport","matrix","rooms",a.meta.address,0]);if(o){var i=r.getRoom(o);if(i){var s=i.getMember(a.payload.userId);if(!s)return Object(Kt["a"])(r.invite(o,a.payload.userId))}}return Yt["a"]}),Object(Hn["a"])())},Oa=function(e,t,n){Object(m["a"])(t);var a=n.matrix$;return a.pipe(Object(hn["a"])(function(e){return Object(Bn["a"])(e,"RoomMember.membership",function(t,n){return{event:t,member:n,matrix:e}})}),Object(Ae["a"])(function(e){var t=e.member,n=e.matrix;return t.userId===n.getUserId()&&"invite"===t.membership}),Object(cn["a"])(ia(e)),Object(Gt["a"])(function(t){var n=Object(ke["a"])(t,2),a=n[0],r=a.event,c=a.member,o=a.matrix,i=n[1],s=r.getSender(),u=Object(w["find"])(i,function(e){return e.payload.userId===s}),d=u?Object(qt["a"])(u):e.pipe(Object(Ae["a"])(Object(xe["isActionOf"])(dt)),Object(Ae["a"])(function(e){return e.payload.userId===s}),Object(qn["a"])(1),Object(Wt["a"])(Object($n["a"])(3e4)));return d.pipe(Object(Ne["a"])(function(e){return{matrix:o,member:c,senderPresence:e}}))}),Object(Gt["a"])(function(e){var t=e.matrix,n=e.member,a=e.senderPresence;return Object(Kt["a"])(t.joinRoom(n.roomId,{syncRoom:!0})).pipe(Object(Ne["a"])(function(){return pt({roomId:n.roomId},{address:a.meta.address})}))}))},va=function(e,t,n){var a=n.matrix$;return e.pipe(Object(Ae["a"])(Object(xe["isActionOf"])(pt)),Object(Gt["a"])(function(e){return a.pipe(Object(Ne["a"])(function(t){return{action:e,matrix:t}}))}),Object(cn["a"])(t),Object(Gt["a"])(function(e){var t=Object(ke["a"])(e,2),n=t[0],a=n.action,r=n.matrix,c=t[1],o=3,i=c.transport.matrix.rooms[a.meta.address];return Object(Kt["a"])(i.filter(function(e,t){return Object(m["a"])(e),t>=o})).pipe(Object(Gt["a"])(function(e){return r.leave(e).then(function(){return e})}),Object(Ne["a"])(function(e){return bt({roomId:e},a.meta)}))}))},ka=function(e,t,n){Object(m["a"])(e);var a=n.matrix$,r=n.network;return a.pipe(Object(hn["a"])(function(e){return Object(Bn["a"])(e,"Room").pipe(Object(Ne["a"])(function(t){return{matrix:e,roomId:t.roomId}}))}),Object(zn["a"])(3e4),Object(cn["a"])(t),Object(Ae["a"])(function(e){var t=Object(ke["a"])(e,2),n=t[0],a=n.matrix,c=n.roomId,o=t[1],i=a.getRoom(c);if(!i)return!1;if(i.name&&i.name.match("#raiden_".concat(r.name||r.chainId,"_discovery:")))return!1;var s=Object(w["get"])(o,["transport","matrix","rooms"],{});for(var u in s){var d=!0,l=!1,p=void 0;try{for(var b,f=s[u][Symbol.iterator]();!(d=(b=f.next()).done);d=!0){var m=b.value;if(m===i.roomId)return!1}}catch(h){l=!0,p=h}finally{try{d||null==f.return||f.return()}finally{if(l)throw p}}}return!0}),Object(Gt["a"])(function(e){var t=Object(ke["a"])(e,1),n=t[0],a=n.matrix,r=n.roomId;return a.leave(r)}),Object(Hn["a"])())},ya=function(e,t,n){Object(m["a"])(e);var a=n.matrix$;return a.pipe(Object(hn["a"])(function(e){return Object(Bn["a"])(e,"Room.myMembership",function(t,n){return{room:t,membership:n,matrix:e}})}),Object(Ae["a"])(function(e){var t=e.membership;return"leave"===t}),Object(cn["a"])(t),Object(Gt["a"])(regeneratorRuntime.mark(function e(t){var n,a,r,c,o,i,s,u,d,l,p;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:n=Object(ke["a"])(t,2),a=n[0].room,r=n[1],c=Object(w["get"])(r,["transport","matrix","rooms"],{}),e.t0=regeneratorRuntime.keys(c);case 3:if((e.t1=e.t0()).done){e.next=34;break}o=e.t1.value,i=!0,s=!1,u=void 0,e.prev=8,d=c[o][Symbol.iterator]();case 10:if(i=(l=d.next()).done){e.next=18;break}if(p=l.value,p!==a.roomId){e.next=15;break}return e.next=15,bt({roomId:p},{address:o});case 15:i=!0,e.next=10;break;case 18:e.next=24;break;case 20:e.prev=20,e.t2=e["catch"](8),s=!0,u=e.t2;case 24:e.prev=24,e.prev=25,i||null==d.return||d.return();case 27:if(e.prev=27,!s){e.next=30;break}throw u;case 30:return e.finish(27);case 31:return e.finish(24);case 32:e.next=3;break;case 34:case"end":return e.stop()}},e,null,[[8,20,24,32],[25,,27,31]])})))},ja=function(e,t,n){var a=n.matrix$;return Object(Ln["a"])(ia(e),t).pipe(Object(sn["a"])(new rn["a"](1),function(t){return e.pipe(Object(Ae["a"])(Object(xe["isActionOf"])(Qn)),Object(Gt["a"])(function(e){return a.pipe(Object(Ne["a"])(function(t){return{action:e,matrix:t}}))}),Object(un["a"])(function(e){var t=e.action;return t.meta.address}),Object(Gt["a"])(function(e){return e.pipe(Object(Kn["a"])(function(e){var n=e.action,a=e.matrix;return t.pipe(Object(Ae["a"])(function(e){var t=Object(ke["a"])(e,2),a=t[0],r=t[1];return n.meta.address in a&&a[n.meta.address].payload.available&&Object(w["get"])(r,["transport","matrix","rooms",n.meta.address,0])}),Object(Ne["a"])(function(e){var t=Object(ke["a"])(e,2),a=t[1];return a.transport.matrix.rooms[n.meta.address][0]}),Object(Wn["a"])(),Object(hn["a"])(function(e){var t=a.getRoom(e);return t?Object(qt["a"])(t):Object(Bn["a"])(a,"Room").pipe(Object(Ae["a"])(function(t){return t.roomId===e}),Object(qn["a"])(1))}),Object(cn["a"])(t),Object(Gt["a"])(function(e){var r=Object(ke["a"])(e,2),c=r[0],o=Object(ke["a"])(r[1],1),i=o[0],s=i[n.meta.address].payload.userId,u=c.getMember(s);return u&&"join"===u.membership?Object(qt["a"])(u):Object(Bn["a"])(a,"RoomMember.membership",function(e,t){return Object(m["a"])(e),t}).pipe(Object(cn["a"])(t),Object(Ae["a"])(function(e){var t=Object(ke["a"])(e,2),a=t[0],r=Object(ke["a"])(t[1],1),o=r[0];return a.roomId===c.roomId&&a.userId===o[n.meta.address].payload.userId&&"join"===a.membership}),Object(qn["a"])(1),Object(Ne["a"])(function(e){var t=Object(ke["a"])(e,1),n=t[0];return n}))}),Object(qn["a"])(1),Object(Gt["a"])(function(e){var t="string"===typeof n.payload.message?n.payload.message:_t(n.payload.message);return a.sendEvent(e.roomId,"m.room.message",{body:t,msgtype:"m.text"},"")}))}))}),Object(Hn["a"])())}))},ga=function(e,t,n){var a=n.matrix$;return Object(Ln["a"])(ia(e),t).pipe(Object(sn["a"])(new rn["a"](1),function(e){return a.pipe(Object(hn["a"])(function(e){return Object(Bn["a"])(e,"Room.timeline",function(t,n){return{matrix:e,event:t,room:n}})}),Object(Ae["a"])(function(e){var t=e.event,n=e.matrix;return"m.room.message"===t.getType()&&t.getSender()!==n.getUserId()&&"m.text"===t.event.content.msgtype}),Object(Gt["a"])(function(t){var n=t.event,a=t.room;return e.pipe(Object(Ae["a"])(function(e){var t=Object(ke["a"])(e,2),r=t[0],c=t[1],o=Object(w["find"])(r,["payload.userId",n.getSender()]);if(!o)return!1;var i=Object(w["get"])(c,["transport","matrix","rooms",o.meta.address],[]);return!!i.includes(a.roomId)}),Object(qn["a"])(1),Object(Wt["a"])(Object($n["a"])(3e4)),Object(Gt["a"])(regeneratorRuntime.mark(function e(t){var r,c,o,i,s,u,d,l,p,b,f;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:r=Object(ke["a"])(t,1),c=r[0],o=Object(w["find"])(c,["payload.userId",n.getSender()]),i=!0,s=!1,u=void 0,e.prev=5,d=(n.event.content.body||"").split("\n")[Symbol.iterator]();case 7:if(i=(l=d.next()).done){e.next=26;break}if(p=l.value,b=void 0,e.prev=10,b=xt(p),f=gt(b),f===o.meta.address){e.next=15;break}throw new Error("Signature mismatch: sender=".concat(o.meta.address," != signer=").concat(f));case 15:e.next=21;break;case 17:e.prev=17,e.t0=e["catch"](10),console.warn("Could not decode message: ".concat(p,": ").concat(e.t0)),b=void 0;case 21:return e.next=23,Yn({text:p,message:b,ts:n.event.origin_server_ts,userId:o.payload.userId,roomId:a.roomId},o.meta);case 23:i=!0,e.next=7;break;case 26:e.next=32;break;case 28:e.prev=28,e.t1=e["catch"](5),s=!0,u=e.t1;case 32:e.prev=32,e.prev=33,i||null==d.return||d.return();case 35:if(e.prev=35,!s){e.next=38;break}throw u;case 38:return e.finish(35);case 39:return e.finish(32);case 40:case"end":return e.stop()}},e,null,[[5,28,32,40],[10,17],[33,,35,39]])})))}))}))},wa=function(e,t){return e.pipe(Object(Ae["a"])(Object(xe["isActionOf"])(Yn)),Object(cn["a"])(t),Object(Ae["a"])(function(e){var t=Object(ke["a"])(e,2),n=t[0],a=t[1],r=Object(w["get"])(a,["transport","matrix","rooms",n.meta.address],[]);return!!n.payload.roomId&&r.includes(n.payload.roomId)&&r[0]!==n.payload.roomId}),Object(Ne["a"])(function(e){var t=Object(ke["a"])(e,1),n=t[0];return pt({roomId:n.payload.roomId},n.meta)}))},_a=function(e){return e.pipe(Object(Ae["a"])(Object(xe["isActionOf"])(qe)),Object(Ne["a"])(function(e){return ut(void 0,{address:e.meta.partner})}))},xa=function(e,t,n){Object(m["a"])(t);var a=n.signer,r=new oa(32);return e.pipe(Object(Ae["a"])(Object(xe["isActionOf"])(Yn)),Object(Kn["a"])(function(e){var t=e.payload.message;if(!t||!(ae(W).is(t)||ae(G).is(t)||ae(J).is(t)))return Yt["a"];var n=t.message_identifier,c=n.toString(),o=r.get(c);if(o)return Object(qt["a"])(Qn({message:o},e.meta));var i={type:$.DELIVERED,delivered_message_identifier:n};return Object(Kt["a"])(Et(a,i)).pipe(Object(pn["a"])(function(e){return r.put(c,e)}),Object(Ne["a"])(function(t){return Qn({message:t},e.meta)}))}))};function Ea(e){return[e.pipe(Object(Ne["a"])(function(e){return e[0]}),Object(Wn["a"])()),e.pipe(Object(Ne["a"])(function(e){return e[1]}),Object(Wn["a"])()),e.pipe(Object(Ne["a"])(function(e){return e[2]}),Object(Wn["a"])()),e.pipe(Object(Ne["a"])(function(e){return e[3]}),Object(Wn["a"])())]}function Ca(e,t,n,a){var r=a.network,c=a.address,o=a.signer;return e.pipe(Object(cn["a"])(t),Object(Se["a"])(),Object(Gt["a"])(function(e){var t=Object(ke["a"])(e,2),a=t[0],i=t[1];if(!(n.payload.target in a))throw new Error("target not monitored");if(!a[n.payload.target].payload.available)throw new Error("target not available/online");var s,u=n.payload.secret;if(u&&Object(h["keccak256"])(u)!==n.meta.secrethash)throw new Error("secrethash does not match provided secret");if(n.meta.secrethash in i.sent)s=Object(qt["a"])(i.sent[n.meta.secrethash].transfer);else{for(var d=void 0,l=0,p=Object.entries(i.channels[n.payload.tokenNetwork]);l<p.length;l++){var b=Object(ke["a"])(p[l],2),m=b[0],O=b[1],v=O.own.deposit.sub(O.own.balanceProof?O.own.balanceProof.transferredAmount.add(O.own.balanceProof.lockedAmount):f["Zero"]).add(O.partner.balanceProof?O.partner.balanceProof.transferredAmount:f["Zero"]);if(O.state!==V.open)console.warn('transfer: channel with "'.concat(m,'" in state "').concat(O.state,'" instead of "').concat(V.open,'"'));else if(v.lt(n.payload.amount))console.warn('transfer: channel with "'.concat(m,'" without enough capacity (').concat(v.toString(),")"));else{if(m in a&&a[m].payload.available){d=m;break}console.warn('transfer: partner "'.concat(m,'" not available in transport'))}}if(!d)throw new Error("Could not find an online partner for tokenNetwork with enough capacity");var k=i.channels[n.payload.tokenNetwork][d];if(k.state!==V.open)throw new Error("not open");var y=n.payload.paymentId;y||(y=Ut());var j={type:"Lock",amount:n.payload.amount,expiration:Object(h["bigNumberify"])(i.blockNumber+2*ve),secrethash:n.meta.secrethash},g=[].concat(Object(it["a"])(k.own.locks||[]),[j]),_=Lt(g),x=n.payload.fee||f["Zero"],E=Ft(),C=Object(w["findKey"])(i.tokens,function(e){return e===n.payload.tokenNetwork}),R={type:$.LOCKED_TRANSFER,message_identifier:E,chain_id:Object(h["bigNumberify"])(r.chainId),token_network_address:n.payload.tokenNetwork,channel_identifier:Object(h["bigNumberify"])(k.id),nonce:(k.own.balanceProof?k.own.balanceProof.nonce:f["Zero"]).add(1),transferred_amount:k.own.balanceProof?k.own.balanceProof.transferredAmount:f["Zero"],locked_amount:(k.own.balanceProof?k.own.balanceProof.lockedAmount:f["Zero"]).add(n.payload.amount),locksroot:_,payment_identifier:y,token:C,recipient:d,lock:j,target:n.payload.target,initiator:c,fee:x};s=Object(Kt["a"])(Et(o,R))}return s.pipe(Object(Gt["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!u){e.next=3;break}return e.next=3,At({secret:u},{secrethash:n.meta.secrethash});case 3:return e.next=5,Rt({message:t},{secrethash:n.meta.secrethash});case 5:return e.next=7,Qn({message:t},{address:t.recipient});case 7:case"end":return e.stop()}},e)})))}),Object(Jt["a"])(function(e){return Object(qt["a"])(Mt(e,n.meta))}))}function Ra(e,t,n,a){Object(m["a"])(e);var r=a.signer;return t.pipe(Object(Se["a"])(),Object(Gt["a"])(function(e){var a=n.meta.secrethash;if(!(a in e.sent))throw new Error("unknown transfer");var c,o=e.sent[a].transfer;if(e.sent[a].unlock)c=Object(qt["a"])(e.sent[a].unlock);else{if(!(o.token_network_address in e.channels&&o.recipient in e.channels[o.token_network_address]))throw new Error("channel gone");var i=e.channels[o.token_network_address][o.recipient],s=i.own.balanceProof;if(i.state!==V.open)throw new Error("channel not open");if(!s)throw new Error("assert: balanceProof gone");if(o.lock.expiration.lte(e.blockNumber))throw new Error("lock expired");var u=(i.own.locks||[]).filter(function(e){return e.secrethash!==a}),d=Lt(u),l=Ft(),p={type:$.UNLOCK,message_identifier:l,chain_id:o.chain_id,token_network_address:o.token_network_address,channel_identifier:o.channel_identifier,nonce:s.nonce.add(1),transferred_amount:s.transferredAmount.add(o.lock.amount),locked_amount:s.lockedAmount.sub(o.lock.amount),locksroot:d,payment_identifier:o.payment_identifier,secret:e.secrets[n.meta.secrethash].secret};c=Object(Kt["a"])(Et(r,p))}return c.pipe(Object(cn["a"])(t),Object(Gt["a"])(regeneratorRuntime.mark(function e(t){var a,r,c;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(a=Object(ke["a"])(t,2),r=a[0],c=a[1],!o.lock.expiration.lte(c.blockNumber)){e.next=3;break}throw new Error("lock expired!");case 3:return e.next=5,It({message:r},n.meta);case 5:return e.next=7,Qn({message:r},{address:o.recipient});case 7:case"end":return e.stop()}},e)})))}),Object(Jt["a"])(function(e){return console.error("Error when trying to unlock after SecretReveal",e),Yt["a"]}))}var Na=function(e,t,n){return Object(Ln["a"])(ia(e),t).pipe(Object(sn["a"])(new rn["a"](1),function(t){var a=Ea(t),r=Object(ke["a"])(a,2),c=r[0],o=r[1];return e.pipe(Object(Ae["a"])(Object(xe["isActionOf"])([Ct,Tt])),Object(Kn["a"])(function(e){return Object(xe["isActionOf"])(Ct,e)?Ca(c,o,e,n):Object(xe["isActionOf"])(Tt,e)?Ra(c,o,e,n):Yt["a"]}))}))},Aa=function(e,t){return e.pipe(Object(Ae["a"])(Object(xe["isActionOf"])(Yn)),Object(cn["a"])(t),Object(Gt["a"])(regeneratorRuntime.mark(function e(t){var n,a,r,c,o,i,s,u,d,l;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(n=Object(ke["a"])(t,2),a=n[0],r=n[1],c=a.payload.message,c&&ae(W).is(c)){e.next=4;break}return e.abrupt("return");case 4:o=void 0,i=0,s=Object.entries(r.sent);case 6:if(!(i<s.length)){e.next=14;break}if(u=Object(ke["a"])(s[i],2),d=u[0],l=u[1],!l.transfer.message_identifier.eq(c.message_identifier)||l.transfer.recipient!==a.meta.address){e.next=11;break}return o=d,e.abrupt("break",14);case 11:i++,e.next=6;break;case 14:if(o){e.next=16;break}return e.abrupt("return");case 16:return e.next=18,Nt({message:c},{secrethash:o});case 18:case"end":return e.stop()}},e)})))},Sa=function(e,t){return e.pipe(Object(Ae["a"])(Object(xe["isActionOf"])(Yn)),Object(cn["a"])(t),Object(Gt["a"])(regeneratorRuntime.mark(function e(t){var n,a,r,c,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(n=Object(ke["a"])(t,2),a=n[0],r=n[1],c=a.payload.message,c&&ae(G).is(c)){e.next=4;break}return e.abrupt("return");case 4:if(c.secrethash in r.secrets&&c.secrethash in r.sent){e.next=6;break}return e.abrupt("return");case 6:if(o=r.sent[c.secrethash].transfer,o.target===a.meta.address&&o.payment_identifier.eq(c.payment_identifier)&&o.lock.amount.eq(c.amount)&&o.lock.expiration.eq(c.expiration)){e.next=9;break}return e.abrupt("return");case 9:return e.next=11,St({message:c},{secrethash:c.secrethash});case 11:case"end":return e.stop()}},e)})))},Ta=function(e,t,n){var a=n.signer,r=new oa(32);return t.pipe(Object(sn["a"])(new rn["a"](1),function(t){return e.pipe(Object(Ae["a"])(Object(xe["isActionOf"])(St)),Object(Kn["a"])(function(e){return t.pipe(Object(Se["a"])(),Object(Gt["a"])(function(t){var n=t.sent[e.meta.secrethash].transfer.target,c=r.get(e.meta.secrethash);if(c)return Object(qt["a"])(Qn({message:c},{address:n}));var o={type:$.SECRET_REVEAL,message_identifier:Ft(),secret:t.secrets[e.meta.secrethash].secret};return Object(Kt["a"])(Et(a,o)).pipe(Object(pn["a"])(function(t){return r.put(e.meta.secrethash,t)}),Object(Ne["a"])(function(e){return Qn({message:e},{address:n})}))}))}))}))},Ia=function(e,t){return e.pipe(Object(Ae["a"])(Object(xe["isActionOf"])(Yn)),Object(cn["a"])(t),Object(Gt["a"])(regeneratorRuntime.mark(function e(t){var n,a,r,c,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(n=Object(ke["a"])(t,2),a=n[0],r=n[1],c=a.payload.message,c&&ae(J).is(c)){e.next=4;break}return e.abrupt("return");case 4:if(o=Object(h["keccak256"])(c.secret),o in r.sent&&a.meta.address===r.sent[o].transfer.recipient){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,At({secret:c.secret},{secrethash:o});case 9:return e.next=11,Tt({message:c},{secrethash:o});case 11:case"end":return e.stop()}},e)})))},Da=function(e,t){return e.pipe(Object(Ae["a"])(Object(xe["isActionOf"])(Yn)),Object(cn["a"])(t),Object(Gt["a"])(regeneratorRuntime.mark(function e(t){var n,a,r,c,o,i,s,u,d,l;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(n=Object(ke["a"])(t,2),a=n[0],r=n[1],c=a.payload.message,c&&ae(W).is(c)){e.next=4;break}return e.abrupt("return");case 4:i=0,s=Object.entries(r.sent);case 5:if(!(i<s.length)){e.next=13;break}if(u=Object(ke["a"])(s[i],2),d=u[0],l=u[1],!l.unlock||!l.unlock.message_identifier.eq(c.message_identifier)||l.transfer.recipient!==a.meta.address){e.next=10;break}return o=d,e.abrupt("break",13);case 10:i++,e.next=5;break;case 13:if(o){e.next=15;break}return e.abrupt("return");case 15:return e.next=17,Dt({message:c},{secrethash:o});case 17:case"end":return e.stop()}},e)})))},Pa=function(e,t){return e.pipe(Object(Ae["a"])(Object(xe["isActionOf"])(Dt)),Object(cn["a"])(t),Object(Ne["a"])(function(e){var t=Object(ke["a"])(e,2),n=t[0],a=t[1];return Pt({balanceProof:wt(a.sent[n.meta.secrethash].unlock)},n.meta)}))},Ma=Object.assign({},i,s,d,l),Ba=function(e,t,n){var a=e.pipe(Object(Ae["a"])(Object(xe["isActionOf"])(Qt))),r=e.pipe(Object(zt["a"])(Object(w["negate"])(Object(xe["isActionOf"])(Qt)),!0)),c=t.pipe(Object(Wt["a"])(a));return Object(Kt["a"])(Object.values(Ma)).pipe(Object(Gt["a"])(function(e){return e(r,c,n)}),Object(Jt["a"])(function(e){return Object(qt["a"])(Qt({reason:e}))}),Object(Wt["a"])(a))},La=Object.assign({},o,a,r,u,c),$a=Object(w["pick"])(La,[La.raidenShutdown,La.newBlock,La.matrixPresenceUpdate].map(xe["getType"])),Ua=function(e,t,n,a){return new(n||(n=Promise))(function(r,c){function o(e){try{s(a.next(e))}catch(t){c(t)}}function i(e){try{s(a["throw"](e))}catch(t){c(t)}}function s(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(o,i)}s((a=a.apply(e,t||[])).next())})},Fa=function(){function e(t,n,a,r,c){Object(k["a"])(this,e),this.tokenInfo={},this.provider=t,this.network=n,this.signer=a;var o=c.address;this.contracts={registry:new je["Contract"](r.TokenNetworkRegistry.address,Te,this.signer),tokenNetworks:{},tokens:{}};var i=[];var s=new Ee["a"](c);this.state$=s;var u=new Ce["a"];this.action$=u;var d=new Re["a"];this.channels$=s.pipe(Object(Ne["a"])(function(e){return Object(w["transform"])(e.channels,function(t,n,a){var r=Object(w["findKey"])(e.tokens,function(e){return e===a});r&&(t[r]=Object(w["transform"])(n,function(e,t,n){return e[n]=Object.assign({state:t.state},Object(w["pick"])(t,["id","settleTimeout","openBlock","closeBlock"]),{token:r,tokenNetwork:a,partner:n,ownDeposit:t.own.deposit,partnerDeposit:t.partner.deposit,balance:(t.partner.balanceProof?t.partner.balanceProof.transferredAmount.add(t.partner.balanceProof.lockedAmount):f["Zero"]).sub(t.own.balanceProof?t.own.balanceProof.transferredAmount.add(t.own.balanceProof.lockedAmount):f["Zero"])})}))})})),this.events$=u.pipe(Object(Ae["a"])(Object(xe["isActionOf"])(Object.values($a))));var l=Object(_e["a"])({dependencies:{stateOutput$:s,actionOutput$:u,matrix$:d,provider:t,network:n,signer:a,address:o,contractsInfo:r,registryContract:this.contracts.registry,getTokenNetworkContract:this.getTokenNetworkContract.bind(this),getTokenContract:this.getTokenContract.bind(this)}});this.store=Object(we["b"])(Zt,c,we["a"].apply(void 0,i.concat([l]))),l.run(Ba),c=this.store.getState(),this.provider.resetEventsBlock(c.blockNumber+1),this.resolveName=t.resolveName.bind(t),this.store.dispatch(Xt())}return Object(ye["a"])(e,[{key:"stop",value:function(){this.store.dispatch(Qt({reason:fe.STOP}))}},{key:"getBlockNumber",value:function(){return Ua(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.t0=this.provider.blockNumber,e.t0){e.next=5;break}return e.next=4,this.provider.getBlockNumber();case 4:e.t0=e.sent;case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}},e,this)}))}},{key:"getBalance",value:function(e){if(e=e||this.address,!D.is(e))throw new Error("Invalid address");return this.provider.getBalance(e)}},{key:"getTokenBalance",value:function(e,t){return Ua(this,void 0,void 0,regeneratorRuntime.mark(function n(){var a;return regeneratorRuntime.wrap(function(n){while(1)switch(n.prev=n.next){case 0:if(t=t||this.address,D.is(t)&&D.is(e)){n.next=3;break}throw new Error("Invalid address");case 3:if(e in this.state.tokens){n.next=5;break}throw new Error('token "'.concat(e,'" not monitored'));case 5:return a=this.getTokenContract(e),n.abrupt("return",a.functions.balanceOf(t));case 7:case"end":return n.stop()}},n,this)}))}},{key:"getTokenInfo",value:function(e){return Ua(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,a,r,c,o,i,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(D.is(e)){t.next=2;break}throw new Error("Invalid address");case 2:if(e in this.state.tokens){t.next=4;break}throw new Error('token "'.concat(e,'" not monitored'));case 4:if(e in this.tokenInfo){t.next=15;break}return n=this.getTokenContract(e),t.next=8,Promise.all([n.functions.totalSupply(),n.functions.decimals(),n.functions.name().catch(Object(w["constant"])(void 0)),n.functions.symbol().catch(Object(w["constant"])(void 0))]);case 8:a=t.sent,r=Object(ke["a"])(a,4),c=r[0],o=r[1],i=r[2],s=r[3],this.tokenInfo[e]={totalSupply:c,decimals:o,name:i,symbol:s};case 15:return t.abrupt("return",this.tokenInfo[e]);case 16:case"end":return t.stop()}},t,this)}))}},{key:"getTokenList",value:function(){return Ua(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!Object(w["isEmpty"])(this.state.tokens)){e.next=3;break}return e.next=3,this.action$.pipe(Object(Ae["a"])(Object(xe["isActionOf"])(He)),Object(Se["a"])()).toPromise();case 3:return e.abrupt("return",Object.keys(this.state.tokens));case 4:case"end":return e.stop()}},e,this)}))}},{key:"getTokenNetworkContract",value:function(e){return e in this.contracts.tokenNetworks||(this.contracts.tokenNetworks[e]=new je["Contract"](e,Ie,this.signer)),this.contracts.tokenNetworks[e]}},{key:"getTokenContract",value:function(e){return e in this.contracts.tokens||(this.contracts.tokens[e]=new je["Contract"](e,De,this.signer)),this.contracts.tokens[e]}},{key:"openChannel",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:500;return Ua(this,void 0,void 0,regeneratorRuntime.mark(function a(){var r,c,o;return regeneratorRuntime.wrap(function(a){while(1)switch(a.prev=a.next){case 0:if(D.is(e)&&D.is(t)){a.next=2;break}throw new Error("Invalid address");case 2:if(r=this.state,c=r.tokens[e],c){a.next=6;break}throw new Error("Unknown token network");case 6:return o=this.action$.pipe(Object(Ae["a"])(Object(xe["isActionOf"])([Ze,Ke])),Object(Ae["a"])(function(e){return e.meta.tokenNetwork===c&&e.meta.partner===t}),Object(Se["a"])(),Object(Ne["a"])(function(e){if(Object(xe["isActionOf"])(Ke,e))throw e.payload;return e.payload.txHash})).toPromise(),this.store.dispatch(Ve({settleTimeout:n},{tokenNetwork:c,partner:t})),a.abrupt("return",o);case 9:case"end":return a.stop()}},a,this)}))}},{key:"depositChannel",value:function(e,t,n){return Ua(this,void 0,void 0,regeneratorRuntime.mark(function a(){var r,c,o;return regeneratorRuntime.wrap(function(a){while(1)switch(a.prev=a.next){case 0:if(D.is(e)&&D.is(t)){a.next=2;break}throw new Error("Invalid address");case 2:if(r=this.state,c=r.tokens[e],c){a.next=6;break}throw new Error("Unknown token network");case 6:return o=this.action$.pipe(Object(Ae["a"])(Object(xe["isActionOf"])([We,Ge])),Object(Ae["a"])(function(e){return e.meta.tokenNetwork===c&&e.meta.partner===t}),Object(Se["a"])(),Object(Ne["a"])(function(e){if(Object(xe["isActionOf"])(Ge,e))throw e.payload;return e.payload.txHash})).toPromise(),this.store.dispatch(ze({deposit:Object(h["bigNumberify"])(n)},{tokenNetwork:c,partner:t})),a.abrupt("return",o);case 9:case"end":return a.stop()}},a,this)}))}},{key:"closeChannel",value:function(e,t){return Ua(this,void 0,void 0,regeneratorRuntime.mark(function n(){var a,r,c;return regeneratorRuntime.wrap(function(n){while(1)switch(n.prev=n.next){case 0:if(D.is(e)&&D.is(t)){n.next=2;break}throw new Error("Invalid address");case 2:if(a=this.state,r=a.tokens[e],r){n.next=6;break}throw new Error("Unknown token network");case 6:return c=this.action$.pipe(Object(Ae["a"])(Object(xe["isActionOf"])([Xe,Qe])),Object(Ae["a"])(function(e){return e.meta.tokenNetwork===r&&e.meta.partner===t}),Object(Se["a"])(),Object(Ne["a"])(function(e){if(Object(xe["isActionOf"])(Qe,e))throw e.payload;return e.payload.txHash})).toPromise(),this.store.dispatch(Je(void 0,{tokenNetwork:r,partner:t})),n.abrupt("return",c);case 9:case"end":return n.stop()}},n,this)}))}},{key:"settleChannel",value:function(e,t){return Ua(this,void 0,void 0,regeneratorRuntime.mark(function n(){var a,r,c;return regeneratorRuntime.wrap(function(n){while(1)switch(n.prev=n.next){case 0:if(D.is(e)&&D.is(t)){n.next=2;break}throw new Error("Invalid address");case 2:if(a=this.state,r=a.tokens[e],r){n.next=6;break}throw new Error("Unknown token network");case 6:return c=this.action$.pipe(Object(Ae["a"])(Object(xe["isActionOf"])([tt,nt])),Object(Ae["a"])(function(e){return e.meta.tokenNetwork===r&&e.meta.partner===t}),Object(Se["a"])(),Object(Ne["a"])(function(e){if(Object(xe["isActionOf"])(nt,e))throw e.payload;return e.payload.txHash})).toPromise(),this.store.dispatch(et(void 0,{tokenNetwork:r,partner:t})),n.abrupt("return",c);case 9:case"end":return n.stop()}},n,this)}))}},{key:"getAvailability",value:function(e){return Ua(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(D.is(e)){t.next=2;break}throw new Error("Invalid address");case 2:return n=this.action$.pipe(Object(Ae["a"])(Object(xe["isActionOf"])([dt,lt])),Object(Ae["a"])(function(t){return t.meta.address===e}),Object(Se["a"])(),Object(Ne["a"])(function(e){if(Object(xe["isActionOf"])(lt,e))throw e.payload;return e.payload})).toPromise(),this.store.dispatch(ut(void 0,{address:e})),t.abrupt("return",n);case 5:case"end":return t.stop()}},t,this)}))}},{key:"transfer",value:function(e,t,n,a){return Ua(this,void 0,void 0,regeneratorRuntime.mark(function r(){var c,o,i,s,u,d,l;return regeneratorRuntime.wrap(function(r){while(1)switch(r.prev=r.next){case 0:if(D.is(e)&&D.is(t)){r.next=2;break}throw new Error("Invalid address");case 2:if(c=this.state.tokens[e],c){r.next=5;break}throw new Error("Unknown token network");case 5:if(n=Object(h["bigNumberify"])(n),N(32).is(n)){r.next=8;break}throw new Error("Invalid amount");case 8:if(o=a&&a.paymentId?Object(h["bigNumberify"])(a.paymentId):void 0,!o||N(8).is(o)){r.next=11;break}throw new Error("Invalid opts.paymentId");case 11:if(!a){r.next=20;break}if(u=a.secret,void 0===u||T.is(u)){r.next=15;break}throw new Error("Invalid opts.secret");case 15:if(d=a.secrethash,void 0===d||S.is(d)){r.next=18;break}throw new Error("Invalid opts.secrethash");case 18:i=u,s=d;case 20:if(s){r.next=25;break}i||(i=$t()),s=Object(h["keccak256"])(i),r.next=27;break;case 25:if(!i||Object(h["keccak256"])(i)===s){r.next=27;break}throw new Error("Secret and secrethash must match if passing both");case 27:return l=this.action$.pipe(Object(Ae["a"])(Object(xe["isActionOf"])([Pt,Mt])),Object(Ae["a"])(function(e){return e.meta.secrethash===s}),Object(Se["a"])(),Object(Ne["a"])(function(e){if(Object(xe["isActionOf"])(Mt,e))throw e.payload;return e.payload.balanceProof.transferredAmount})).toPromise(),this.store.dispatch(Ct({tokenNetwork:c,target:t,amount:n,paymentId:o,secret:i},{secrethash:s})),r.abrupt("return",l);case 30:case"end":return r.stop()}},r,this)}))}},{key:"state",get:function(){return this.store.getState()}},{key:"address",get:function(){return this.state.address}}],[{key:"create",value:function(t,n,a,r){return Ua(this,void 0,void 0,regeneratorRuntime.mark(function c(){var o,i,s,u,d,l,p,b,f,m,h,O,v;return regeneratorRuntime.wrap(function(c){while(1)switch(c.prev=c.next){case 0:return p=function(e){return e&&"function"===typeof e.getItem},o="string"===typeof t?new ge["JsonRpcProvider"](t):t instanceof ge["JsonRpcProvider"]?t:new ge["Web3Provider"](t),c.next=4,o.getNetwork();case 4:if(i=c.sent,r){c.next=18;break}c.t0=i.name,c.next="rinkeby"===c.t0?9:"ropsten"===c.t0?11:"kovan"===c.t0?13:"goerli"===c.t0?15:17;break;case 9:return r=Me.contracts,c.abrupt("break",18);case 11:return r=Pe.contracts,c.abrupt("break",18);case 13:return r=Be.contracts,c.abrupt("break",18);case 15:return r=Le.contracts,c.abrupt("break",18);case 17:throw new Error("No deploy info provided nor recognized network: ".concat(JSON.stringify(i)));case 18:if("number"!==typeof n){c.next=22;break}s=o.getSigner(n),c.next=36;break;case 22:if(!D.is(n)){c.next=31;break}return c.next=25,o.listAccounts();case 25:if(u=c.sent,u.includes(n)){c.next=28;break}throw new Error('Account "'.concat(n,'" not found in provider, got=').concat(u));case 28:s=o.getSigner(n),c.next=36;break;case 31:if(!I.is(n)){c.next=35;break}s=new je["Wallet"](n,o),c.next=36;break;case 35:throw new Error("String account must be either a 0x-encoded address or private key");case 36:return c.next=38,s.getAddress();case 38:if(d=c.sent,l=Object.assign({},me,{blockNumber:r.TokenNetworkRegistry.block_number||0,address:d}),b=void 0,f=void 0,!a||!p(a)){c.next=61;break}return m="raiden_".concat(i.name||i.chainId,"_").concat(r.TokenNetworkRegistry.address,"_").concat(d),c.t1=Object,c.t2={},c.t3=l,c.t4=JSON,c.next=49,a.getItem(m);case 49:if(c.t5=c.sent,c.t5){c.next=52;break}c.t5="null";case 52:c.t6=c.t5,c.t7=c.t4.parse.call(c.t4,c.t6),h=c.t1.assign.call(c.t1,c.t2,c.t3,c.t7),l=be(h),O=Object(w["debounce"])(function(e){a.setItem(m,pe(e))},1e3,{maxWait:5e3}),b=O,f=function(){return O.flush()},c.next=62;break;case 61:a&&le.is(a)?l=a:a&&(l=be(a));case 62:if(d===l.address){c.next=64;break}throw new Error('Mismatch between provided account and loaded state: "'.concat(d,'" !== "').concat(l.address,'"'));case 64:return v=new e(o,i,s,r,l),b&&v.state$.subscribe(b,f,f),c.abrupt("return",v);case 67:case"end":return c.stop()}},c)}))}}]),e}();n.d(t,"a",function(){return V}),n.d(t,"b",function(){return Fa})},d0aa:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-layout",{attrs:{row:""}},[n("v-flex",{attrs:{xs12:""}},[n("div",{staticClass:"header-text"},[e._v(e._s(e.header))]),n("div",{staticClass:"divider"})])],1)},r=[],c=n("d225"),o=n("308d"),i=n("6bb5"),s=n("4e2b"),u=n("9ab4"),d=n("60a3"),l=function(e){function t(){return Object(c["a"])(this,t),Object(o["a"])(this,Object(i["a"])(t).apply(this,arguments))}return Object(s["a"])(t,e),t}(d["e"]);u["a"]([Object(d["d"])({required:!0})],l.prototype,"header",void 0),l=u["a"]([Object(d["a"])({})],l);var p=l,b=p,f=(n("418e"),n("2877")),m=n("6544"),h=n.n(m),O=n("0e8f"),v=n("a722"),k=Object(f["a"])(b,a,r,!1,null,"023677a9",null);t["a"]=k.exports;h()(k,{VFlex:O["a"],VLayout:v["a"]})},e62e:function(e,t,n){"use strict";n.d(t,"c",function(){return O}),n.d(t,"b",function(){return y}),n.d(t,"a",function(){return j});var a=n("308d"),r=n("6bb5"),c=n("4e2b"),o=n("f28b"),i=(n("7f7f"),n("5df3"),n("768b")),s=(n("ac6a"),n("96cf"),n("3b8d")),u=n("d225"),d=n("b0b4"),l=n("ce2a"),p=n("f15c"),b=n("a3d5"),f=n("87a2"),m=n("8404"),h=n("cab6"),O=function(){function e(t){Object(u["a"])(this,e),this._raiden=void 0,this.store=t}return Object(d["a"])(e,[{key:"updateTokenBalances",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(){var t,n,a,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t=this.store.state.tokens,e.t0=regeneratorRuntime.keys(t);case 2:if((e.t1=e.t0()).done){e.next=13;break}if(n=e.t1.value,t.hasOwnProperty(n)){e.next=6;break}return e.abrupt("continue",2);case 6:return a=t[n],e.next=9,this.raiden.getTokenBalance(n);case 9:r=e.sent,t[n]=Object.assign({},a,{balance:r,units:b["a"].toUnits(r,a.decimals)}),e.next=2;break;case 13:this.store.commit("updateTokens",t);case 14:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"raiden",get:function(){if(void 0===this._raiden)throw new Error("Raiden instance was not initialized");return this._raiden}}],[{key:"createRaiden",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l["b"].create(t,0,window.localStorage);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e["catch"](0),new _(e.t0);case 9:case"end":return e.stop()}},e,null,[[0,6]])}));function t(t){return e.apply(this,arguments)}return t}()}]),Object(d["a"])(e,[{key:"ensResolve",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.raiden.resolveName(t);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e["catch"](0),new g(e.t0);case 9:case"end":return e.stop()}},e,this,[[0,6]])}));function t(t){return e.apply(this,arguments)}return t}()},{key:"connect",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var n,a,r,c=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p["a"].provider();case 3:if(n=t.sent,n){t.next=8;break}this.store.commit("noProvider"),t.next=25;break;case 8:return t.next=10,e.createRaiden(n);case 10:return a=t.sent,this._raiden=a,t.t0=this.store,t.next=15,this.getAccount();case 15:return t.t1=t.sent,t.t0.commit.call(t.t0,"account",t.t1),t.t2=this.store,t.next=20,this.getBalance();case 20:t.t3=t.sent,t.t2.commit.call(t.t2,"balance",t.t3),this.setupEventListeners(a),a.channels$.subscribe(function(e){c.store.commit("updateChannels",e)}),this.store.commit("network",a.network);case 25:t.next=32;break;case 27:t.prev=27,t.t4=t["catch"](0),console.error(t.t4),r=t.t4.message&&t.t4.message.indexOf("No deploy info provided")>-1?f["a"].UNSUPPORTED_NETWORK:t.t4 instanceof _?f["a"].INITIALIZATION_FAILED:f["a"].NO_ACCOUNT,this.store.commit("accessDenied",r);case 32:this.store.commit("loadComplete");case 33:case"end":return t.stop()}},t,this,[[0,27]])}));function n(){return t.apply(this,arguments)}return n}()},{key:"setupEventListeners",value:function(e){var t=this;e.events$.pipe(Object(h["filter"])(function(e){return"raidenShutdown"===e.type})).subscribe(function(){return t.store.commit("reset")}),e.events$.pipe(Object(h["filter"])(function(e){return"newBlock"===e.type})).subscribe(Object(s["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.updateTokenBalances();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)})))}},{key:"disconnect",value:function(){this.raiden.stop()}},{key:"getAccount",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.raiden.address);case 1:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"getBalance",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.getBalance();case 2:return t=e.sent,e.abrupt("return",b["a"].toEth(t));case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"getToken",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(t){var n,a,r,c,o,s,u,d;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=this.raiden,e.prev=1,e.next=4,Promise.all([n.getTokenBalance(t),n.getTokenInfo(t)]);case 4:return a=e.sent,r=Object(i["a"])(a,2),c=r[0],o=r[1],s=o.decimals,u=o.symbol,d=o.name,e.abrupt("return",{name:d,symbol:u,balance:c,decimals:s,units:b["a"].toUnits(c,s),address:t});case 14:return e.prev=14,e.t0=e["catch"](1),console.error(e.t0),e.abrupt("return",null);case 18:case"end":return e.stop()}},e,this,[[1,14]])}));function t(t){return e.apply(this,arguments)}return t}()},{key:"openChannel",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(t,n,a,r){var c,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return c=function(e,t){r&&r({current:e,total:t})},o=this.raiden,c(1,3),e.prev=3,e.next=6,o.openChannel(t,n);case 6:e.next=11;break;case 8:throw e.prev=8,e.t0=e["catch"](3),new y(e.t0);case 11:if(c(2,3),!a.gt(m["Zero"])){e.next=15;break}return e.next=15,this.deposit(t,n,a);case 15:case"end":return e.stop()}},e,this,[[3,8]])}));function t(t,n,a,r){return e.apply(this,arguments)}return t}()},{key:"leaveNetwork",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(t,n){var a,r,c,o,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:a=this.store.getters.channels(t),r={closed:0,failed:0},c=a.length,o=0;case 4:if(!(o<c)){e.next=19;break}return n&&n({current:o+1,total:c}),i=a[o],e.prev=7,e.next=10,this.closeChannel(i.token,i.partner);case 10:r.closed+=1,e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](7),r.failed+=1;case 16:o++,e.next=4;break;case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}},e,this,[[7,13]])}));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"closeChannel",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.raiden.closeChannel(t,n);case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e["catch"](0),new k(e.t0);case 8:case"end":return e.stop()}},e,this,[[0,5]])}));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"deposit",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(t,n,a){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.raiden.depositChannel(t,n,a);case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e["catch"](0),new j(e.t0);case 8:case"end":return e.stop()}},e,this,[[0,5]])}));function t(t,n,a){return e.apply(this,arguments)}return t}()},{key:"settleChannel",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.raiden.settleChannel(t,n);case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e["catch"](0),new v(e.t0);case 8:case"end":return e.stop()}},e,this,[[0,5]])}));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"fetchTokens",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(){var t,n,a,r,c,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this.store.state.tokens,n=0,e.prev=2,e.next=5,this.raiden.getTokenList();case 5:a=e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](2),a=[];case 11:r=0;case 12:if(!(r<a.length)){e.next=23;break}if(c=a[r],!(c in t)){e.next=16;break}return e.abrupt("continue",20);case 16:return e.next=18,this.getToken(c);case 18:o=e.sent,o&&(t[c]=o,n+=1);case 20:r++,e.next=12;break;case 23:n>0&&this.store.commit("updateTokens",t);case 24:case"end":return e.stop()}},e,this,[[2,8]])}));function t(){return e.apply(this,arguments)}return t}()},{key:"transfer",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(t,n,a){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.raiden.getAvailability(n);case 3:return e.next=5,this.raiden.transfer(t,n,a);case 5:e.next=10;break;case 7:throw e.prev=7,e.t0=e["catch"](0),new w(e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));function t(t,n,a){return e.apply(this,arguments)}return t}()}]),e}(),v=function(e){function t(){return Object(u["a"])(this,t),Object(a["a"])(this,Object(r["a"])(t).apply(this,arguments))}return Object(c["a"])(t,e),t}(Object(o["a"])(Error)),k=function(e){function t(){return Object(u["a"])(this,t),Object(a["a"])(this,Object(r["a"])(t).apply(this,arguments))}return Object(c["a"])(t,e),t}(Object(o["a"])(Error)),y=function(e){function t(){return Object(u["a"])(this,t),Object(a["a"])(this,Object(r["a"])(t).apply(this,arguments))}return Object(c["a"])(t,e),t}(Object(o["a"])(Error)),j=function(e){function t(){return Object(u["a"])(this,t),Object(a["a"])(this,Object(r["a"])(t).apply(this,arguments))}return Object(c["a"])(t,e),t}(Object(o["a"])(Error)),g=function(e){function t(){return Object(u["a"])(this,t),Object(a["a"])(this,Object(r["a"])(t).apply(this,arguments))}return Object(c["a"])(t,e),t}(Object(o["a"])(Error)),w=function(e){function t(){return Object(u["a"])(this,t),Object(a["a"])(this,Object(r["a"])(t).apply(this,arguments))}return Object(c["a"])(t,e),t}(Object(o["a"])(Error)),_=function(e){function t(){return Object(u["a"])(this,t),Object(a["a"])(this,Object(r["a"])(t).apply(this,arguments))}return Object(c["a"])(t,e),t}(Object(o["a"])(Error))},e6c1:function(e,t,n){},ea41:function(e){e.exports=[{constant:!1,inputs:[{name:"channel_identifier",type:"uint256"},{name:"participant",type:"address"},{name:"partner",type:"address"},{name:"merkle_tree_leaves",type:"bytes"}],name:"unlock",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"participant1",type:"address"},{name:"participant2",type:"address"},{name:"settle_timeout",type:"uint256"}],name:"openChannel",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"deprecate",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"settlement_timeout_max",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"deprecation_executor",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"secret_registry",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"chain_id",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"token_network_deposit_limit",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"bytes32"}],name:"participants_hash_to_channel_identifier",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"channel_participant_deposit_limit",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"channel_identifier",type:"uint256"},{name:"participant",type:"address"},{name:"total_deposit",type:"uint256"},{name:"partner",type:"address"}],name:"setTotalDeposit",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"channel_counter",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"MAX_SAFE_UINT256",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"contract_address",type:"address"}],name:"contractExists",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"participant",type:"address"},{name:"partner",type:"address"}],name:"getParticipantsHash",outputs:[{name:"",type:"bytes32"}],payable:!1,stateMutability:"pure",type:"function"},{constant:!0,inputs:[{name:"channel_identifier",type:"uint256"},{name:"participant1",type:"address"},{name:"participant2",type:"address"}],name:"getChannelInfo",outputs:[{name:"",type:"uint256"},{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"signature_prefix",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"participant",type:"address"},{name:"partner",type:"address"}],name:"getChannelIdentifier",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"channel_identifier",type:"uint256"},{name:"participant1",type:"address"},{name:"participant1_transferred_amount",type:"uint256"},{name:"participant1_locked_amount",type:"uint256"},{name:"participant1_locksroot",type:"bytes32"},{name:"participant2",type:"address"},{name:"participant2_transferred_amount",type:"uint256"},{name:"participant2_locked_amount",type:"uint256"},{name:"participant2_locksroot",type:"bytes32"}],name:"settleChannel",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"contract_version",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"safety_deprecation_switch",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"settlement_timeout_min",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"channel_identifier",type:"uint256"},{name:"partner",type:"address"},{name:"balance_hash",type:"bytes32"},{name:"nonce",type:"uint256"},{name:"additional_hash",type:"bytes32"},{name:"signature",type:"bytes"}],name:"closeChannel",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"",type:"uint256"}],name:"channels",outputs:[{name:"settle_block_number",type:"uint256"},{name:"state",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"channel_identifier",type:"uint256"},{name:"participant",type:"address"},{name:"partner",type:"address"}],name:"getChannelParticipantInfo",outputs:[{name:"",type:"uint256"},{name:"",type:"uint256"},{name:"",type:"bool"},{name:"",type:"bytes32"},{name:"",type:"uint256"},{name:"",type:"bytes32"},{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"channel_identifier",type:"uint256"},{name:"closing_participant",type:"address"},{name:"non_closing_participant",type:"address"},{name:"balance_hash",type:"bytes32"},{name:"nonce",type:"uint256"},{name:"additional_hash",type:"bytes32"},{name:"closing_signature",type:"bytes"},{name:"non_closing_signature",type:"bytes"}],name:"updateNonClosingBalanceProof",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"token",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"channel_identifier",type:"uint256"},{name:"participant",type:"address"},{name:"partner",type:"address"}],name:"getUnlockIdentifier",outputs:[{name:"",type:"bytes32"}],payable:!1,stateMutability:"pure",type:"function"},{inputs:[{name:"_token_address",type:"address"},{name:"_secret_registry",type:"address"},{name:"_chain_id",type:"uint256"},{name:"_settlement_timeout_min",type:"uint256"},{name:"_settlement_timeout_max",type:"uint256"},{name:"_deprecation_executor",type:"address"}],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,name:"channel_identifier",type:"uint256"},{indexed:!0,name:"participant1",type:"address"},{indexed:!0,name:"participant2",type:"address"},{indexed:!1,name:"settle_timeout",type:"uint256"}],name:"ChannelOpened",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"channel_identifier",type:"uint256"},{indexed:!0,name:"participant",type:"address"},{indexed:!1,name:"total_deposit",type:"uint256"}],name:"ChannelNewDeposit",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"channel_identifier",type:"uint256"},{indexed:!0,name:"closing_participant",type:"address"},{indexed:!0,name:"nonce",type:"uint256"}],name:"ChannelClosed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"channel_identifier",type:"uint256"},{indexed:!0,name:"participant",type:"address"},{indexed:!0,name:"partner",type:"address"},{indexed:!1,name:"locksroot",type:"bytes32"},{indexed:!1,name:"unlocked_amount",type:"uint256"},{indexed:!1,name:"returned_tokens",type:"uint256"}],name:"ChannelUnlocked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"channel_identifier",type:"uint256"},{indexed:!0,name:"closing_participant",type:"address"},{indexed:!0,name:"nonce",type:"uint256"}],name:"NonClosingBalanceProofUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"channel_identifier",type:"uint256"},{indexed:!1,name:"participant1_amount",type:"uint256"},{indexed:!1,name:"participant2_amount",type:"uint256"}],name:"ChannelSettled",type:"event"}]},edd4:function(e){e.exports={"address-input":{input:{placeholder:"Enter an address or ens name..."},"blockie-alt":"Selected token address blockie",error:{"invalid-address":"The input doesn't seem like a valid address or ens name","no-checksum":"The address is not in checksum format",empty:"The address cannot be empty","ens-resolve-failed":"Could not resolve an address for {url}"}},"amount-input":{input:{hint:"Please enter the amount you wish to deposit into this channel."},error:{empty:"The amount cannot be empty","too-many-decimals":"The token supports only up to {decimals} decimals","not-enough-funds":"`Your maximum deposit amount is {funds}"}},"app-header":{"copy-success":"Address copied successfully",currency:"ETH"},"channel-actions":{deposit:"Deposit",close:"Close",settle:"Settle"},"channel-deposit":{buttons:{cancel:"Cancel",confirm:"Deposit"},input:{label:"Amount"}},stepper:{steps:{open:{title:"Open",description:"You can deposit more tokens \n or close the channel."},closed:{title:"Closed",description:"Please wait until your channel is settleable. \nhis may take up some time."},settleable:{title:"Settleable",description:"Settle your channel to transfer \n your tokens back to your account."}}},channels:{open:{header:"Open"},closed:{header:"Closed"},settleable:{header:"Settleable"},"snackbar-close":"Close",channel:{blockie_alt:"Partner address blockie",state:"Deposit {deposit} | State: {state}",close_dialog:{title:"Close Channel",description:"Are you sure you want to close this channel? This action cannot be undone."},settle_dialog:{title:"Settle Channel",description:"Are you sure you want to settle the channel with hub {partner} for token {token}?"}},messages:{close:{success:"Channel close successful",failure:"Channel close failed"},deposit:{success:"Deposit was successful",failure:"Deposit failed"},settle:{success:"Channel settle was successful",failure:"Channel settle failed"}}},confirmation:{buttons:{cancel:"Cancel",close:"Close"}},"confirmation-dialog":{buttons:{cancel:"Cancel",confirm:"Confirm"}},"error-screen":{title:"Error"},"no-access":{"unsupported-network":"The current network is unsupported.","sdk-initialization-failure":"SDK initialization failed. Please check the console for more information.","generic-error":"A valid account could not be detected. Please make sure that your provider is unlocked and accessible."},"splash-screen":{disclaimer:"The Raiden dApp is a reference implementation of the Raiden Light Client SDK. It is work in progress and can just be used on the Ethereum Testnets.","matrix-sign":"On the first launch you get asked to sign two messages to connect to the Raiden transport layer. You sign the matrix server name and the public user name.","connect-button":"Connect","no-provider":"No web3 provider was detected"},tokens:{connected:{header:"Connected Tokens",token:{"blockie-alt":"Partner address blockie","token-info":"{symbol} | {name}",buttons:{pay:"Pay",disconnect:"Disconnect Token","view-channels":"View Channels"}}},"connect-new":"Connect new token","disconnect-dialog":{header:"Disconnect token",description:"This action will close all channels for the","confirmation-message":"This action will close all channels for the {symbol} token! {address}"},"leave-progress":{label:"Disconnect",title:"Disconnecting from the token network",description:"Closing the channels"}},application:{"privacy-policy":"Privacy Policy, Disclaimer & Imprint"},transfer:{information:{title:"Token",token:"{symbol} | {name}"},"pay-button":"Pay",error:{button:"Dismiss",title:"Something went wrong"},steps:{transfer:{label:"Transfer",title:"Sending Tokens",description:"Please do not close the browser and confirm the transactions with MetaMask."},done:{label:"Done",title:"Send Successful",description:"Your transfer was successful"}}},"select-token":{header:"Available",tokens:{token:{"blockie-alt":"Token address blockie","token-information":"{symbol} | {name}"}}},"select-hub":{"select-button":"Select Hub"},"open-channel":{error:{title:"Ops, something went wrong",button:"Dismiss","deposit-failed":"Could not deposit to the channel.","open-failed":"Channel open failed."},"open-button":"Open Channel",hub:"Hub",steps:{open:{label:"Open",title:"Opening a new Channel",description:"Please do not close the browser and confirm the transaction with MetaMask."},transfer:{label:"Transfer",title:"Transferring tokens to the network and deposit into the channel",description:"Please do not close the browser and confirm two (2) transactions with MetaMask."},deposit:{label:"Deposit",title:"Not implemented - split title above, when done",description:"Not implemented - split description above, when done"},done:{label:"Done",title:"New Channel opened",description:"A new channel has been opened successfully. You may now select a payment target."}},confirmation:"Channel opening is in progress, are you sure you want to leave?"},"token-information":{title:"Token",description:"{symbol} | {name}"}}},f15c:function(e,t,n){"use strict";n.d(t,"a",function(){return o});n("96cf");var a=n("3b8d"),r=n("d225"),c=n("b0b4"),o=function(){function e(){Object(r["a"])(this,e)}return Object(c["a"])(e,null,[{key:"provider",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=window.ethereum,n=null,"undefined"===typeof t){e.next=8;break}return e.next=5,t.enable();case 5:n=t,e.next=9;break;case 8:window.web3&&(n=window.web3.currentProvider);case 9:return n&&n.isMetaMask&&(n.autoRefreshOnNetworkChange=!1),e.abrupt("return",n);case 11:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}()}]),e}();o.injectedWeb3Available=function(){return window.ethereum||window.web3}},f8f6:function(e,t,n){"use strict";var a=n("cb96"),r=n.n(a);r.a},fd97:function(e){e.exports={contracts_version:"0.4.0",chain_id:4,contracts:{EndpointRegistry:{address:"0x73F77285E154FD681D7E3145DE399E7Ad9BeC702",transaction_hash:"0xcbb7c7fdf9f3c9f078aca2ebba971df88e9965894ba76526284c5326b41a6372",block_number:3172536,gas_cost:590219,constructor_arguments:[]},SecretRegistry:{address:"0x3324D3e5e7478F4Dc332BDEeF3b3180d3C975762",transaction_hash:"0x4c4322070629a7cc82b0a4c2942da105d83045cfc27b3c4e8e352f9658002bcc",block_number:3172537,gas_cost:332473,constructor_arguments:[]},TokenNetworkRegistry:{address:"0xCa0eD1b8EC7b8bcD9689d22790A44C0f5e53b0ed",transaction_hash:"0xe05e4fcfb8d492c6e6ecca367a5eac256f898ae27d4ee5954f381431d7b5a114",block_number:3172538,gas_cost:4950722,constructor_arguments:["0x3324D3e5e7478F4Dc332BDEeF3b3180d3C975762",4,500,555428]}}}}});
//# sourceMappingURL=app.d4a4c900.js.map