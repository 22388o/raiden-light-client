{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/filters.ts","webpack:///./src/mixins/navigation-mixin.ts","webpack:///./src/components/ActionButton.vue?ae2f","webpack:///./src/assets/done.svg","webpack:///./src/components/Tokens.vue?46e9","webpack:///./src/locales sync [A-Za-z0-9-_,\\s]+\\.json$/","webpack:///./src/route-names.ts","webpack:///./src/App.vue?ff7a","webpack:///./src/assets/back_arrow.svg","webpack:///./src/components/ListHeader.vue?248d","webpack:///./src/components/ActionButton.vue?037d","webpack:///./src/components/ActionButton.vue","webpack:///./src/components/ActionButton.vue?574f","webpack:///./src/components/ActionButton.vue?547b","webpack:///./src/mixins/blockie-mixin.ts","webpack:///./src/components/ConfirmationDialog.vue?185a","webpack:///./src/model/types.ts","webpack:///./src/components/NoAccessMessage.vue?7e04","webpack:///./src/assets/copy_icon.svg","webpack:///./src/components/AppHeader.vue?00b0","webpack:///./src/assets/logo.svg","webpack:///./src/components/Stepper.vue?194f","webpack:///./src/components/Stepper.vue","webpack:///./src/components/Stepper.vue?04e6","webpack:///./src/components/Stepper.vue?e0bd","webpack:///./src/utils/balance-utils.ts","webpack:///./src/components/SplashScreen.vue?1309","webpack:///./src/App.vue?e60c","webpack:///./src/components/SplashScreen.vue?ddc6","webpack:///./src/components/NoAccessMessage.vue?347b","webpack:///./src/components/NoAccessMessage.vue","webpack:///./src/components/NoAccessMessage.vue?cd93","webpack:///./src/components/NoAccessMessage.vue?71ea","webpack:///./src/components/SplashScreen.vue","webpack:///./src/components/SplashScreen.vue?10ae","webpack:///./src/components/SplashScreen.vue?1ffb","webpack:///./src/components/AppHeader.vue?3301","webpack:///./src/components/AppHeader.vue","webpack:///./src/components/AppHeader.vue?1bd0","webpack:///./src/components/AppHeader.vue?4bd4","webpack:///./src/App.vue","webpack:///./src/App.vue?2594","webpack:///./src/App.vue?4f7e","webpack:///./src/plugins/class-component.hooks.ts","webpack:///./src/views/Home.vue?f0d2","webpack:///./src/components/AppCore.vue?27f6","webpack:///./src/components/Tokens.vue?7993","webpack:///./src/components/ConfirmationDialog.vue?d035","webpack:///./src/components/ConfirmationDialog.vue","webpack:///./src/components/ConfirmationDialog.vue?800c","webpack:///./src/components/ConfirmationDialog.vue?1a16","webpack:///./src/components/Tokens.vue","webpack:///./src/components/Tokens.vue?b132","webpack:///./src/components/Tokens.vue?8375","webpack:///./src/components/AppCore.vue","webpack:///./src/components/AppCore.vue?851c","webpack:///./src/components/AppCore.vue?48f8","webpack:///./src/views/Home.vue","webpack:///./src/views/Home.vue?54ed","webpack:///./src/views/Home.vue?2908","webpack:///./src/router.ts","webpack:///./src/store.ts","webpack:///./src/registerServiceWorker.ts","webpack:///./src/class-component-hooks.ts","webpack:///./src/plugins/raiden.ts","webpack:///./src/services/identicon-cache.ts","webpack:///./src/plugins/identicon-plugin.ts","webpack:///./src/i18n.ts","webpack:///./src/plugins/vuetify.ts","webpack:///./src/main.ts","webpack:///../../src/utils/types.ts","webpack:///../../src/utils/data.ts","webpack:///../../src/messages/types.ts","webpack:///../../src/channels/types.ts","webpack:///../../src/channels/state.ts","webpack:///../../src/transport/state.ts","webpack:///../../src/transfers/state.ts","webpack:///../src/state.ts","webpack:///../src/constants.ts","webpack:///../../src/utils/redux.ts","webpack:///../../src/channels/actions.ts","webpack:///../../src/channels/reducer.ts","webpack:///../../src/transport/actions.ts","webpack:///../../src/transport/reducer.ts","webpack:///../../src/messages/utils.ts","webpack:///../../src/transfers/actions.ts","webpack:///../../src/transfers/utils.ts","webpack:///../../src/transfers/reducer.ts","webpack:///../src/reducer.ts","webpack:///../../src/messages/actions.ts","webpack:///../src/actions.ts","webpack:///../../src/utils/ethers.ts","webpack:///../../src/channels/epics.ts","webpack:///../../src/utils/matrix.ts","webpack:///../../src/utils/lru.ts","webpack:///../../src/transport/utils.ts","webpack:///../../src/transport/epics.ts","webpack:///../../src/utils/rxjs.ts","webpack:///../../src/transfers/epics.ts","webpack:///../src/epics.ts","webpack:///../src/raiden.ts","webpack:///../src/index.ts","webpack:///./src/components/ListHeader.vue?5cbc","webpack:///./src/components/ListHeader.vue","webpack:///./src/components/ListHeader.vue?ec8b","webpack:///./src/components/ListHeader.vue?0972","webpack:///./src/services/raiden-service.ts","webpack:///./src/components/Stepper.vue?c88f","webpack:///./src/services/web3-provider.ts"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","installedCssChunks","app","jsonpScriptSrc","p","chunk-6c27a6d4","chunk-1e82793a","chunk-33764611","chunk-99460910","chunk-14a2b175","chunk-504be81e","chunk-f2b87ff0","exports","module","l","e","promises","cssChunks","Promise","resolve","reject","href","fullhref","existingLinkTags","document","getElementsByTagName","tag","dataHref","getAttribute","rel","existingStyleTags","linkTag","createElement","type","onload","onerror","event","request","target","src","err","Error","code","parentNode","removeChild","head","appendChild","then","installedChunkData","promise","onScriptComplete","script","charset","timeout","nc","setAttribute","clearTimeout","chunk","errorType","realSrc","error","undefined","setTimeout","all","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","console","jsonpArray","window","oldJsonpFunction","slice","Filters","width","arguments","separator","substWidth","Math","floor","substr","_decimals","parseFloat","toFixed","toLocaleUpperCase","amount","decimals","units","_utils_balance_utils__WEBPACK_IMPORTED_MODULE_3__","toUnits","deposit","splitted","lodash_split__WEBPACK_IMPORTED_MODULE_4___default","indexOf","lodash_capitalize__WEBPACK_IMPORTED_MODULE_5___default","vue__WEBPACK_IMPORTED_MODULE_2__","filter","truncate","upper","displayFormat","capitalizeFirst","NavigationMixin","_Vue","_home_circleci_src_raiden_dapp_node_modules_babel_runtime_corejs2_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__","this","_home_circleci_src_raiden_dapp_node_modules_babel_runtime_corejs2_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__","_home_circleci_src_raiden_dapp_node_modules_babel_runtime_corejs2_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__","_home_circleci_src_raiden_dapp_node_modules_babel_runtime_corejs2_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_5__","_home_circleci_src_raiden_dapp_node_modules_babel_runtime_corejs2_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_2__","token","$router","_route_names__WEBPACK_IMPORTED_MODULE_8__","SELECT_HUB","params","HOME","partner","OPEN_CHANNEL","PAYMENT","SELECT_TOKEN","$route","CHANNELS","navigateToHome","navigateToTokenSelect","navigateToSelectHub","vue_property_decorator__WEBPACK_IMPORTED_MODULE_7__","tslib__WEBPACK_IMPORTED_MODULE_6__","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_vuetify_loader_lib_loader_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ActionButton_vue_vue_type_style_index_0_id_7666ae40_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_vuetify_loader_lib_loader_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ActionButton_vue_vue_type_style_index_0_id_7666ae40_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_vuetify_loader_lib_loader_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Tokens_vue_vue_type_style_index_0_id_1970fd66_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_vuetify_loader_lib_loader_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Tokens_vue_vue_type_style_index_0_id_1970fd66_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","map","./en.json","webpackContext","req","id","webpackContextResolve","keys","RouteNames","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_vuetify_loader_lib_loader_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_0_id_72ad4681_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_vuetify_loader_lib_loader_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_0_id_72ad4681_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_vuetify_loader_lib_loader_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ListHeader_vue_vue_type_style_index_0_id_59800fee_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_vuetify_loader_lib_loader_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ListHeader_vue_vue_type_style_index_0_id_59800fee_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","align-center","justify-center","xs10","disabled","enabled","depressed","large","on","click","$event","_v","_s","text","staticRenderFns","ActionButtonvue_type_script_lang_ts_ActionButton","ActionButton","classCallCheck","possibleConstructorReturn","getPrototypeOf","inherits","createClass","vue_property_decorator","tslib_es6","required","Boolean","ActionButtonvue_type_script_lang_ts_","components_ActionButtonvue_type_script_lang_ts_","component","componentNormalizer","installComponents_default","VBtn","VFlex","VLayout","BlockieMixin","_home_circleci_src_raiden_dapp_node_modules_babel_runtime_corejs2_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","_home_circleci_src_raiden_dapp_node_modules_babel_runtime_corejs2_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","_home_circleci_src_raiden_dapp_node_modules_babel_runtime_corejs2_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","_home_circleci_src_raiden_dapp_node_modules_babel_runtime_corejs2_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__","_home_circleci_src_raiden_dapp_node_modules_babel_runtime_corejs2_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__","address","$identicon","getIdenticon","vue_property_decorator__WEBPACK_IMPORTED_MODULE_6__","tslib__WEBPACK_IMPORTED_MODULE_5__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_vuetify_loader_lib_loader_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ConfirmationDialog_vue_vue_type_style_index_0_id_013b36dc_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_vuetify_loader_lib_loader_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ConfirmationDialog_vue_vue_type_style_index_0_id_013b36dc_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","emptyDescription","emptyTokenModel","TokenPlaceholder","PlaceHolderNetwork","DeniedReason","ethers_constants__WEBPACK_IMPORTED_MODULE_0__","label","title","description","symbol","opening","open","closing","closed","settling","settled","balance","chainId","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_vuetify_loader_lib_loader_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_NoAccessMessage_vue_vue_type_style_index_0_id_6b8163f4_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_vuetify_loader_lib_loader_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_NoAccessMessage_vue_vue_type_style_index_0_id_6b8163f4_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_vuetify_loader_lib_loader_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_AppHeader_vue_vue_type_style_index_0_id_2fb64e76_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_vuetify_loader_lib_loader_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_AppHeader_vue_vue_type_style_index_0_id_2fb64e76_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","_l","step","index","class","stepper__card__steps__step--active","current","done","doneStep","steps","size","indeterminate","_e","Steppervue_type_script_lang_ts_Stepper","Stepper","default","Steppervue_type_script_lang_ts_","components_Steppervue_type_script_lang_ts_","VImg","VProgressCircular","BalanceUtils","wei","ethers__WEBPACK_IMPORTED_MODULE_3__","formatEther","formatUnits","depositTokens","decimalPart","split","parseUnits","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_vuetify_loader_lib_loader_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_SplashScreen_vue_vue_type_style_index_0_id_65cd354f_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_vuetify_loader_lib_loader_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_SplashScreen_vue_vue_type_style_index_0_id_65cd354f_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","Appvue_type_template_id_72ad4681_scoped_true_render","dark","connect","fluid","fill-height","$t","SplashScreenvue_type_template_id_65cd354f_scoped_true_render","xs8","md6","lg4","min-width","aspect-ratio","contain","reason","accessDenied","SplashScreenvue_type_template_id_65cd354f_scoped_true_staticRenderFns","NoAccessMessagevue_type_template_id_6b8163f4_scoped_true_render","color","icon","NoAccessMessagevue_type_template_id_6b8163f4_scoped_true_staticRenderFns","NoAccessMessagevue_type_script_lang_ts_NoAccessMessage","NoAccessMessage","types","UNSUPPORTED_NETWORK","INITIALIZATION_FAILED","NoAccessMessagevue_type_script_lang_ts_","components_NoAccessMessagevue_type_script_lang_ts_","components_NoAccessMessage","VAlert","SplashScreenvue_type_script_lang_ts_Loading","Loading","_this","web3_provider","injectedWeb3Available","components","computed","vuex_esm","SplashScreenvue_type_script_lang_ts_","components_SplashScreenvue_type_script_lang_ts_","SplashScreen_component","SplashScreen","VContainer","AppHeadervue_type_template_id_2fb64e76_scoped_true_render","loading","defaultAccount","column","xs12","height","onBackClicked","max-width","meta","network","$blockie","xs6","bottom","scopedSlots","_u","fn","ref","_g","_f","copy","model","callback","$$v","copied","expression","accountBalance","directives","rawName","domProps","input","composing","AppHeadervue_type_template_id_2fb64e76_scoped_true_staticRenderFns","AppHeadervue_type_script_lang_ts_AppHeader","_Mixins","AppHeader","_this2","copyArea","$refs","focus","select","execCommand","route_names","blockie_mixin","navigation_mixin","_objectSpread","AppHeadervue_type_script_lang_ts_","components_AppHeadervue_type_script_lang_ts_","AppHeader_component","components_AppHeader","VSpacer","VTooltip","Appvue_type_script_lang_ts_App","App","initialized","_connect","asyncToGenerator","regeneratorRuntime","mark","_callee","wrap","_context","prev","next","$store","commit","$raiden","fetchTokens","stop","disconnect","UNDEFINED","Appvue_type_script_lang_ts_","src_Appvue_type_script_lang_ts_","App_component","src_App","VApp","VContent","vue_class_component_esm","registerHooks","Homevue_type_template_id_5122a23d_render","Homevue_type_template_id_5122a23d_staticRenderFns","AppCorevue_type_template_id_78c5b79c_render","AppCorevue_type_template_id_78c5b79c_staticRenderFns","Tokensvue_type_template_id_1970fd66_scoped_true_render","justify-space-between","header","expand","no-action","alt","proxy","to","leaveNetwork","display","leaveModalVisible","confirm","leaveConfirmed","cancel","leaveCancelled","path","place","selectedToken","Tokensvue_type_template_id_1970fd66_scoped_true_staticRenderFns","ConfirmationDialogvue_type_template_id_013b36dc_scoped_true_render","persistent","_t","ConfirmationDialogvue_type_template_id_013b36dc_scoped_true_staticRenderFns","ConfirmationDialogvue_type_script_lang_ts_ConfirmationDialog","ConfirmationDialog","$emit","ConfirmationDialogvue_type_script_lang_ts_","components_ConfirmationDialogvue_type_script_lang_ts_","ConfirmationDialog_component","components_ConfirmationDialog","VCard","VCardActions","components_VCard","VCardText","VCardTitle","VDialog","Tokensvue_type_script_lang_ts_Tokens","Tokens","_leaveConfirmed","dismissModal","ListHeader","Tokensvue_type_script_lang_ts_","components_Tokensvue_type_script_lang_ts_","Tokens_component","components_Tokens","VList","VListGroup","VListItem","VListItemAvatar","VListItemContent","components_VList","VListItemSubtitle","VListItemTitle","AppCorevue_type_script_lang_ts_AppCore","AppCore","AppCorevue_type_script_lang_ts_","components_AppCorevue_type_script_lang_ts_","AppCore_component","components_AppCore","Homevue_type_script_lang_ts_Home","Home","Homevue_type_script_lang_ts_","views_Homevue_type_script_lang_ts_","Home_component","views_Home","vue_runtime_esm","use","vue_router_esm","router","base","routes","redirect","_defaultState","providerDetected","channels","tokens","defaultState","clone_default","store","state","mutations","noProvider","account","_account","loadComplete","_balance","updateChannels","updateTokens","assign","_network","reset","actions","getters","reducer","acc","channel","map_default","flatMap_default","tokenChannels","reduce_default","tokenInfo","allTokens","tokenAddress","concat","channelWithBiggestCapacity","_","openChannels","dist","orderBy_default","src_store","Store","register_service_worker","ready","log","registered","cached","updatefound","updated","offline","_error","RaidenPlugin","Vue","options","raiden_service","identicon_cache_IdenticonCache","IdenticonCache","cache","generated","main_default","IdenticonPlugin","loadLocaleMessages","locales","messages","forEach","matched","match","locale","vue_i18n_esm","i18n","fallbackLocale","framework","vuetify","icons","iconfont","theme","themes","primary","secondary","config","productionTip","created","sessionStorage","h","$mount","isStringifiable","u","isBigNumber","BigNumberC","es6","utils","toString","message","a","lossless_json","types_EnumType","_t$Type","EnumType","values","enumObject","some","v","is","_tag","HexString","lodash","UInt","max","constants","pow","gte","lt","Signature","Hash","Secret","PrivateKey","Address","encode","hex","bytes","str","isLosslessNumber","losslessParse","_ref","objectDestructuringEmpty","valueOf","MessageType","Lock","expiration","secrethash","SignedBalanceProof","tokenNetworkAddress","channelId","nonce","transferredAmount","lockedAmount","locksroot","messageHash","signature","sender","ChannelState","MessageTypeC","Message","RetrieableMessage","message_identifier","Delivered","DELIVERED","delivered_message_identifier","Processed","PROCESSED","SecretRequest","SECRET_REQUEST","payment_identifier","SecretReveal","SECRET_REVEAL","secret","EnvelopeMessage","chain_id","token_network_address","channel_identifier","transferred_amount","locked_amount","LockedTransferBase","recipient","lock","initiator","fee","LockedTransfer","LOCKED_TRANSFER","RefundTransfer","REFUND_TRANSFER","Unlock","UNLOCK","LockExpired","LOCK_EXPIRED","Signed","codec","SignedMessageCodecs","_SignedMessageCodecs","ChannelEnd","locks","balanceProof","history","Channel","own","settleTimeout","openBlock","settleable","closeBlock","Channels","RaidenMatrixSetup","userId","accessToken","deviceId","displayName","SentTransfer","transfer","transferProcessed","secretReveal","unlock","lockExpired","refund","SentTransfers","RaidenState","blockNumber","transport","matrix","server","setup","rooms","secrets","registerBlock","sent","encodeRaidenState","decodeRaidenState","decode","Either","ThrowReporter","report","right","ShutdownReason","state_initialState","SignatureZero","MATRIX_KNOWN_SERVERS_URL","REVEAL_TIMEOUT","partialCombineReducers","reducers","initialState","action","subState","newSubState","newBlock","typesafe_actions_umd_production","tokenMonitored","tokenNetwork","_ref$first","first","payload","channelOpen","channelOpened","channelOpenFailed","channelMonitored","channelDeposit","channelDeposited","channelDepositFailed","channelClose","channelClosed","channelCloseFailed","channelSettleable","channelSettle","channelSettled","channelSettleFailed","reducer_blockNumber","fp","_path","_channel","_path2","_path3","_channel2","participant","totalDeposit","_path4","_channel3","_path5","_channel4","_path6","_channel5","_path7","_channel6","_path8","_channel7","includes","channelsReducer","matrixSetup","matrixRequestMonitorPresence","matrixPresenceUpdate","available","ts","Date","now","matrixRequestMonitorPresenceFailed","matrixRoom","matrixRoomLeave","roomId","toConsumableArray","room","transportReducer","CMDIDs","_CMDIDs","createMessageHash","packMessage","balanceHash","isZero","isSigned","getMessageSigner","getBalanceProofFromEnvelopeMessage","encodeJsonMessage","decodeJsonMessage","parsed","decoded","signMessage","signer","actions_transfer","transferSigned","transferSecret","transferSecretRequest","transferSecretReveal","transferUnlock","transferUnlocked","transferExpire","transferExpired","transferExpireFailed","transferRefunded","transferred","transferFailed","transferClear","lockhash","getLocksroot","leaves","makeSecret","makePaymentId","makeMessageId","transfersReducer","channelPath","eq","add","sentTransfer","_secrethash","_transfer","_lock","_channelPath","_locks","_locksroot","sub","_sentTransfer","_secrethash2","_transfer2","_lock2","_channelPath2","_locks2","_locksroot2","_sentTransfer2","_secrethash3","_channelPath3","_sentTransfer3","raidenReducers","reducer_raidenReducer","reduce","messageSend","messageSent","messageReceived","raidenShutdown","RaidenActions","actions_namespaceObject","transport_actions_namespaceObject","messages_actions_namespaceObject","transfers_actions_namespaceObject","RaidenEvents","fromEthersEvent","resultSelector","fromEventPattern","handler","removeListener","getEventsStream","contract","filters","fromBlock$","lastSeenBlock$","provider","newEvents$","from","pipe","mergeMap","_len","args","Array","_key","pastEvents$","empty","withLatestFrom","defer","of","switchMap","_ref2","slicedToArray","fromBlock","toBlock","ethers_awaiter","logs","getLogs","abrupt","mergeAll","interface","parseLog","getBlock","blockHash","getTransaction","transactionHash","getTransactionReceipt","merge","getNetwork","networks","parseInt","send","patchSignSend","origSend","method","catch","epics_initNewBlockEpic","state$","epics_initMonitorRegistryEpic","_ref3","_ref4","registryContract","contractsInfo","TokenNetworkCreated","TokenNetworkRegistry","block_number","startWith","_ref5","_ref6","_ref6$","entries","_ref7","_ref8","epics_initMonitorChannelsEpic","_ref9","_i","_Object$entries","_Object$entries$_i","obj","_i2","_Object$entries2","_Object$entries2$_i","epics_initMonitorProviderEpic","_ref10","_ref11","listAccounts","accounts","isProviderAccount","interval","pollingInterval","ACCOUNT_CHANGED","curNetwork","NETWORK_CHANGED","epics_tokenMonitoredEpic","action$","_ref12","getTokenNetworkContract","multicast","ReplaySubject","blockNumber$","groupBy","grouped$","exhaustMap","tokenNetworkContract","ChannelOpened","_ref13","_ref14","p1","p2","_ref15","_ref16","toNumber","txHash","epics_channelMonitoredEpic","_ref17","depositFilter","ChannelNewDeposit","closedFilter","ChannelClosed","settledFilter","ChannelSettled","_ref18","_ref19","_ref20","_ref21","_ref22","_ref23","settleBlock","takeWhile","epics_channelOpenEpic","_ref24","_ref25","_ref26","channelState","functions","openChannel","tx","epics_awaiter","epics_this","_callee2","_context2","wait","t0","t1","receipt","_ref27","status","hash","mergeMapTo","catchError","epics_channelOpenedEpic","_ref28","_ref29","_ref30","_ref31","epics_channelDepositEpic","_ref32","getTokenContract","_ref33","_ref34","tn","tokenContract","approve","tap","_callee3","_context3","_ref35","_ref36","_ref37","setTotalDeposit","gasLimit","_callee4","_context4","_ref38","epics_channelCloseEpic","_ref39","_ref40","_ref41","closeChannel","_callee5","_context5","_ref42","epics_channelSettleEpic","_ref43","_ref44","_ref45","settleChannel","_callee6","_context6","_ref46","epics_channelSettleableEpic","_callee7","_ref47","_ref48","_context7","t2","t3","settleableBlock","yamlListToArray","yml","reg","results","exec","matrixRTT","url","start","browser_ponyfill_default","resp","NaN","rtt","getServerName","getUserPresence","lib_utils","$userId","_http","authedRequest","lru_LruCache","LruCache","Map","entry","delete","set","keyToDelete","utils_getPresences$","scan","presences","update","AVAILABLE","userRe","epics_initMatrixEpic","matrix$","knownServersUrl","response","ok","throwError","toArray","rtts","isNaN","JSON","stringify","browser_index","baseUrl","serverName","_matrix","userName","toLowerCase","password","loginWithPassword","register","device_id","opts","access_token","credentials","user_id","signedUserId","setDisplayName","joinRoom","mapTo","complete","epics_matrixStartEpic","startClient","initialSyncLimit","ignoreElements","epics_matrixShutdownEpic","finalize","stopClient","epics_matrixMonitorPresenceEpic","_ref15$","validUsers","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","getUsers","iterator","_user2","presence","recovered","return","user","searchUserDirectory","term","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","_user","display_name","userIds","epics_matrixPresenceUpdateEpic","fromEvent","getType","getUser","getSender","peerAddress","toMonitor","Set","has","_ref26$","displayName$","getProfileInfo","profile","displayname","lastPresenceTs","epics_matrixCreateRoomEpic","combineLatest","presencesStateReplay$","concatMap","take","createRoom","visibility","invite","room_id","epics_matrixInviteEpic","_ref38$","getRoom","member","getMember","epics_matrixHandleInvitesEpic","getUserId","membership","_ref43$","cachedPresence","senderPresence$","takeUntil","timer","senderPresence","syncRoom","epics_matrixLeaveExcessRoomsEpic","_ref47$","THRESHOLD","leave","epics_matrixLeaveUnknownRoomsEpic","_ref49","_ref50","delay","_ref51","_ref52","_ref52$","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","_roomId","_ref53","_ref54","_ref54$","epics_matrixCleanLeftRoomsEpic","_ref55","_ref56","_ref57","_ref58","_ref59","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_iterator4","_step4","finish","epics_matrixMessageSendEpic","_ref60","_ref61","_ref62","_ref63","_ref64","_ref65","_ref66","distinctUntilChanged","_ref67","_ref68","_ref68$","_ref69","_ref70","_ref71","_ref71$","_ref72","_ref73","body","sendEvent","msgtype","epics_matrixMessageReceivedEpic","_ref74","_ref75","content","_ref76","_ref77","_ref78","_ref79","_ref80","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","_iterator5","_step5","line","warn","origin_server_ts","epics_matrixMessageReceivedUpdateRoomEpic","_ref81","_ref82","_ref83","_ref84","epics_matrixMonitorChannelPresenceEpic","epics_deliveredEpic","_ref85","_ref86","msgId","delivered","signed","put","splitCombined","tuple$","makeAndSignTransfer","presences$","capacity","paymentId","makeAndSignUnlock","signed$","lte","makeAndSignLockExpired","epics_transferGenerateAndSignEnvelopeMessageEpic","deps","publishReplay","_splitCombined","_splitCombined2","epics_transferSignedRetryMessageEpic","sendOnceAndWaitSent$","repeatWhen","completed$","epics_transferUnlockedRetryMessageEpic","epics_transferExpiredRetryMessageEpic","epics_transferAutoExpireEpic","requests$","_loop","requestAndWait$","epics_initQueuePendingEnvelopeMessagesEpic","_i3","_Object$entries3","_Object$entries3$_i","epics_transferProcessedReceivedEpic","_i4","_Object$entries4","_Object$entries4$_i","epics_transferSecretRequestedEpic","epics_transferSecretRevealEpic","reveal$","epics_transferSecretRevealedEpic","epics_transferUnlockProcessedReceivedEpic","_callee8","_i5","_Object$entries5","_Object$entries5$_i","_context8","epics_transferExpireProcessedClearsEpic","_callee9","_i6","_Object$entries6","_Object$entries6$_i","_context9","epics_transferChannelClosedEpic","_callee10","_i7","_Object$entries7","_Object$entries7$_i","_context10","epics_transferReceivedReplyProcessedEpic","processed","epics_transferRefundedEpic","_callee11","_context11","RaidenEpics","epics_namespaceObject","transport_epics_namespaceObject","transfers_epics_namespaceObject","epics_raidenRootEpic","shutdownNotification","limitedAction$","limitedState$","subscribe","stateOutput$","actionOutput$","epic","raiden_Raiden","Raiden","resolveName","resetEventsBlock","contracts","registry","ethers_min","tokenNetworks","BehaviorSubject","Subject","channels$","partner2channel","partner2raidenChannel","partnerTotal","ownTotal","ownDeposit","partnerDeposit","events$","middlewares","AsyncSubject","epicMiddleware","createEpicMiddleware","dependencies","redux","run","dispatch","STOP","getBlockNumber","getBalance","balanceOf","totalSupply","toPromise","TokenNetwork","Token","_secret","getState","connection","storageOrState","isStorage","getItem","providers","deployment_rinkeby","deployment_ropsten","deployment_kovan","deployment_goerli","getSigner","getAddress","loadedState","onState","onStateComplete","parse","loaded","debouncedState","setItem","maxWait","flush","raiden","ListHeadervue_type_script_lang_ts_ListHeader","ListHeadervue_type_script_lang_ts_","components_ListHeadervue_type_script_lang_ts_","RaidenService","_home_circleci_src_raiden_dapp_node_modules_babel_runtime_corejs2_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_10__","_raiden","cachedTokens","getTokenBalance","_utils_balance_utils__WEBPACK_IMPORTED_MODULE_14__","raiden__WEBPACK_IMPORTED_MODULE_12__","localStorage","RaidenInitializationFailed","EnsResolveFailed","_services_web3_provider__WEBPACK_IMPORTED_MODULE_13__","createRaiden","getAccount","setupEventListeners","t4","deniedReason","_model_types__WEBPACK_IMPORTED_MODULE_15__","NO_ACCOUNT","rxjs_internal_operators__WEBPACK_IMPORTED_MODULE_17__","_home_circleci_src_raiden_dapp_node_modules_babel_runtime_corejs2_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_9__","updateTokenBalances","toEth","getTokenInfo","progress","progressUpdater","total","ChannelOpenFailed","gt","ethers_constants__WEBPACK_IMPORTED_MODULE_16__","failed","ChannelCloseFailed","depositChannel","ChannelDepositFailed","_context12","ChannelSettleFailed","_context13","updateEntries","getTokenList","getToken","retrievedToken","getAvailability","TransferFailed","_context15","_Error","_home_circleci_src_raiden_dapp_node_modules_babel_runtime_corejs2_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_0__","_home_circleci_src_raiden_dapp_node_modules_babel_runtime_corejs2_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_1__","_home_circleci_src_raiden_dapp_node_modules_babel_runtime_corejs2_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_2__","_home_circleci_src_raiden_dapp_node_modules_babel_runtime_corejs2_helpers_esm_wrapNativeSuper__WEBPACK_IMPORTED_MODULE_3__","_Error2","_Error3","_Error4","_Error5","_Error6","_Error7","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_vuetify_loader_lib_loader_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Stepper_vue_vue_type_style_index_0_id_91bd146a_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_vuetify_loader_lib_loader_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Stepper_vue_vue_type_style_index_0_id_91bd146a_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","Web3Provider","_home_circleci_src_raiden_dapp_node_modules_babel_runtime_corejs2_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__","_home_circleci_src_raiden_dapp_node_modules_babel_runtime_corejs2_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_3__","_provider","_home_circleci_src_raiden_dapp_node_modules_babel_runtime_corejs2_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","ethereum","enable","web3","currentProvider","isMetaMask","autoRefreshOnNetworkChange"],"mappings":"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","file":"js/app.2d4bb160.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded CSS chunks\n \tvar installedCssChunks = {\n \t\t\"app\": 0\n \t}\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"js/\" + ({}[chunkId]||chunkId) + \".\" + {\"chunk-6c27a6d4\":\"c29af689\",\"chunk-1e82793a\":\"7cfab643\",\"chunk-33764611\":\"4451309a\",\"chunk-99460910\":\"2b000672\",\"chunk-14a2b175\":\"80efca2f\",\"chunk-504be81e\":\"4253677d\",\"chunk-f2b87ff0\":\"ef03ca87\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// mini-css-extract-plugin CSS loading\n \t\tvar cssChunks = {\"chunk-6c27a6d4\":1,\"chunk-1e82793a\":1,\"chunk-33764611\":1,\"chunk-99460910\":1,\"chunk-14a2b175\":1,\"chunk-504be81e\":1,\"chunk-f2b87ff0\":1};\n \t\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n \t\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n \t\t\tpromises.push(installedCssChunks[chunkId] = new Promise(function(resolve, reject) {\n \t\t\t\tvar href = \"css/\" + ({}[chunkId]||chunkId) + \".\" + {\"chunk-6c27a6d4\":\"32932ba2\",\"chunk-1e82793a\":\"04e03df3\",\"chunk-33764611\":\"c5238795\",\"chunk-99460910\":\"7ac87bea\",\"chunk-14a2b175\":\"5f0bf2a0\",\"chunk-504be81e\":\"271ccd4e\",\"chunk-f2b87ff0\":\"7b1d0618\"}[chunkId] + \".css\";\n \t\t\t\tvar fullhref = __webpack_require__.p + href;\n \t\t\t\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n \t\t\t\tfor(var i = 0; i < existingLinkTags.length; i++) {\n \t\t\t\t\tvar tag = existingLinkTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n \t\t\t\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return resolve();\n \t\t\t\t}\n \t\t\t\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n \t\t\t\tfor(var i = 0; i < existingStyleTags.length; i++) {\n \t\t\t\t\tvar tag = existingStyleTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\");\n \t\t\t\t\tif(dataHref === href || dataHref === fullhref) return resolve();\n \t\t\t\t}\n \t\t\t\tvar linkTag = document.createElement(\"link\");\n \t\t\t\tlinkTag.rel = \"stylesheet\";\n \t\t\t\tlinkTag.type = \"text/css\";\n \t\t\t\tlinkTag.onload = resolve;\n \t\t\t\tlinkTag.onerror = function(event) {\n \t\t\t\t\tvar request = event && event.target && event.target.src || fullhref;\n \t\t\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + request + \")\");\n \t\t\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n \t\t\t\t\terr.request = request;\n \t\t\t\t\tdelete installedCssChunks[chunkId]\n \t\t\t\t\tlinkTag.parentNode.removeChild(linkTag)\n \t\t\t\t\treject(err);\n \t\t\t\t};\n \t\t\t\tlinkTag.href = fullhref;\n\n \t\t\t\tvar head = document.getElementsByTagName(\"head\")[0];\n \t\t\t\thead.appendChild(linkTag);\n \t\t\t}).then(function() {\n \t\t\t\tinstalledCssChunks[chunkId] = 0;\n \t\t\t}));\n \t\t}\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\tvar error = new Error('Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')');\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import Vue from 'vue';\nimport { BigNumber } from 'ethers/utils';\nimport { BalanceUtils } from '@/utils/balance-utils';\nimport split from 'lodash/split';\nimport capitalize from 'lodash/capitalize';\n\nexport default class Filters {\n  static truncate(value: string, width: number = 12) {\n    const separator = '...';\n    if (value.length <= width) {\n      return value;\n    } else {\n      const substWidth = Math.floor(width / 2);\n      return (\n        value.substr(0, substWidth) +\n        separator +\n        value.substr(value.length - substWidth)\n      );\n    }\n  }\n\n  static decimals(value: string, decimals: number = 3) {\n    return parseFloat(value).toFixed(decimals);\n  }\n\n  static upper(value: string) {\n    if (!value) {\n      return '';\n    }\n    return value.toLocaleUpperCase();\n  }\n\n  static displayFormat(amount: BigNumber, decimals: number): string {\n    const units = BalanceUtils.toUnits(amount, decimals);\n    const deposit = parseFloat(units);\n    if (deposit === 0) {\n      return '0.0';\n    } else if (deposit < 0.00001) {\n      return '<0.00001';\n    } else {\n      const splitted = split(units, '.');\n      if (splitted[1] && splitted[1].length > 5) {\n        return units.substr(0, units.indexOf('.') + 6);\n      } else {\n        return units;\n      }\n    }\n  }\n\n  static capitalizeFirst(value: string): string {\n    return capitalize(value);\n  }\n}\n\nVue.filter('truncate', Filters.truncate);\nVue.filter('decimals', Filters.decimals);\nVue.filter('upper', Filters.upper);\nVue.filter('displayFormat', Filters.displayFormat);\nVue.filter('capitalizeFirst', Filters.capitalizeFirst);\n","import { Component, Vue } from 'vue-property-decorator';\nimport { RouteNames } from '@/route-names';\n\n@Component\nexport default class NavigationMixin extends Vue {\n  navigateToSelectHub(token: string) {\n    this.$router.push({\n      name: RouteNames.SELECT_HUB,\n      params: {\n        token: token\n      }\n    });\n  }\n\n  navigateToHome() {\n    this.$router.push({\n      name: RouteNames.HOME\n    });\n  }\n\n  navigateToOpenChannel(token: string, partner: string) {\n    this.$router.push({\n      name: RouteNames.OPEN_CHANNEL,\n      params: {\n        token: token,\n        partner: partner\n      }\n    });\n  }\n\n  navigateToSelectPaymentTarget(token: string) {\n    this.$router.push({\n      name: RouteNames.PAYMENT,\n      params: { token: token }\n    });\n  }\n\n  navigateToTokenSelect() {\n    this.$router.push({\n      name: RouteNames.SELECT_TOKEN\n    });\n  }\n\n  onBackClicked() {\n    switch (this.$route.name) {\n      case RouteNames.PAYMENT:\n      case RouteNames.CHANNELS:\n      case RouteNames.SELECT_TOKEN:\n        this.navigateToHome();\n        break;\n      case RouteNames.SELECT_HUB:\n        this.navigateToTokenSelect();\n        break;\n      case RouteNames.OPEN_CHANNEL:\n        this.navigateToSelectHub(this.$route.params.token);\n        break;\n    }\n  }\n}\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ActionButton.vue?vue&type=style&index=0&id=7666ae40&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ActionButton.vue?vue&type=style&index=0&id=7666ae40&lang=scss&scoped=true&\"","module.exports = __webpack_public_path__ + \"img/done.24f4e34a.svg\";","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tokens.vue?vue&type=style&index=0&id=1970fd66&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tokens.vue?vue&type=style&index=0&id=1970fd66&lang=scss&scoped=true&\"","var map = {\n\t\"./en.json\": \"edd4\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"49f8\";","export enum RouteNames {\n  PAYMENT = 'send-transaction',\n  SELECT_TOKEN = 'select-token',\n  SELECT_HUB = 'select-hub',\n  HOME = 'home',\n  CHANNELS = 'channels',\n  OPEN_CHANNEL = 'open-channel'\n}\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../node_modules/vuetify-loader/lib/loader.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&id=72ad4681&lang=scss&scoped=true&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../node_modules/vuetify-loader/lib/loader.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&id=72ad4681&lang=scss&scoped=true&\"","module.exports = __webpack_public_path__ + \"img/back_arrow.268247fb.svg\";","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListHeader.vue?vue&type=style&index=0&id=59800fee&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListHeader.vue?vue&type=style&index=0&id=59800fee&scoped=true&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-layout',{staticClass:\"action-button\",attrs:{\"align-center\":\"\",\"justify-center\":\"\"}},[_c('v-flex',{staticClass:\"text-center\",attrs:{\"xs10\":\"\"}},[_c('v-btn',{staticClass:\"text-capitalize action-button__button\",attrs:{\"disabled\":!_vm.enabled,\"depressed\":\"\",\"large\":\"\"},on:{\"click\":function($event){return _vm.click()}}},[_vm._v(\"\\n      \"+_vm._s(_vm.text)+\"\\n    \")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Emit, Prop, Vue } from 'vue-property-decorator';\n\n@Component({})\nexport default class ActionButton extends Vue {\n  @Prop({ required: true, type: Boolean })\n  enabled!: boolean;\n\n  @Prop({ required: true })\n  text!: string;\n\n  @Emit()\n  click() {}\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ActionButton.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ActionButton.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ActionButton.vue?vue&type=template&id=7666ae40&scoped=true&\"\nimport script from \"./ActionButton.vue?vue&type=script&lang=ts&\"\nexport * from \"./ActionButton.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ActionButton.vue?vue&type=style&index=0&id=7666ae40&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7666ae40\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VFlex } from 'vuetify/lib/components/VGrid';\nimport { VLayout } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VBtn,VFlex,VLayout})\n","import { Component, Vue } from 'vue-property-decorator';\n\n@Component\nexport default class BlockieMixin extends Vue {\n  $blockie(address: string) {\n    return this.$identicon.getIdenticon(address);\n  }\n}\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfirmationDialog.vue?vue&type=style&index=0&id=013b36dc&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfirmationDialog.vue?vue&type=style&index=0&id=013b36dc&scoped=true&lang=scss&\"","import { BigNumberish, Network } from 'ethers/utils';\nimport { Zero } from 'ethers/constants';\n\nexport interface Token {\n  readonly balance: BigNumberish;\n  readonly decimals: number;\n  readonly units: string;\n  readonly address: string;\n  readonly symbol?: string;\n  readonly name?: string;\n}\n\nexport interface AccTokenModel {\n  name: string;\n  symbol: string;\n  address: string;\n  opening: number;\n  open: number;\n  closing: number;\n  closed: number;\n  settling: number;\n  settled: number;\n\n  [index: string]: number | string;\n}\n\nexport interface TokenModel extends AccTokenModel {\n  readonly name: string;\n  readonly symbol: string;\n  readonly address: string;\n  readonly opening: number;\n  readonly open: number;\n  readonly closing: number;\n  readonly closed: number;\n  readonly settling: number;\n  readonly settled: number;\n}\n\nexport interface LeaveNetworkResult {\n  readonly closed: number;\n  readonly failed: number;\n}\n\nexport interface Progress {\n  readonly current: number;\n  readonly total: number;\n}\n\nexport interface StepDescription {\n  readonly label: string;\n  readonly title: string;\n  readonly description: string;\n}\n\nexport const emptyDescription = (): StepDescription => ({\n  label: '',\n  title: '',\n  description: ''\n});\n\nexport const emptyTokenModel = (): AccTokenModel => ({\n  name: '',\n  symbol: '',\n  address: '',\n  opening: 0,\n  open: 0,\n  closing: 0,\n  closed: 0,\n  settling: 0,\n  settled: 0\n});\n\n/**\n * A placeholder token used on the views while awaiting for the actual\n * token information to load.\n */\nexport const TokenPlaceholder: Token = {\n  balance: Zero,\n  decimals: 18,\n  units: '0.0',\n  address: ''\n};\n\nexport const PlaceHolderNetwork: Network = {\n  name: '',\n  chainId: -1\n};\n\nexport enum DeniedReason {\n  UNDEFINED,\n  NO_ACCOUNT,\n  UNSUPPORTED_NETWORK,\n  INITIALIZATION_FAILED\n}\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NoAccessMessage.vue?vue&type=style&index=0&id=6b8163f4&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NoAccessMessage.vue?vue&type=style&index=0&id=6b8163f4&scoped=true&lang=scss&\"","module.exports = __webpack_public_path__ + \"img/copy_icon.80d12304.svg\";","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppHeader.vue?vue&type=style&index=0&id=2fb64e76&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppHeader.vue?vue&type=style&index=0&id=2fb64e76&scoped=true&lang=scss&\"","module.exports = __webpack_public_path__ + \"img/logo.5c4b022d.svg\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.display)?_c('div',{staticClass:\"stepper\"},[_c('div',{staticClass:\"stepper__card\"},[_c('div',{staticClass:\"stepper__card__steps\"},[_vm._l((_vm.steps),function(step,index){return _c('div',{key:index,staticClass:\"stepper__card__steps__step\",class:{\n          'stepper__card__steps__step--active': _vm.current === index && !_vm.done\n        }},[_c('span',{staticClass:\"stepper__card__steps__step__label\"},[_vm._v(\"\\n          \"+_vm._s(step.label)+\"\\n        \")])])}),_c('div',{staticClass:\"stepper__card__steps__step\",class:{ 'stepper__card__steps__step--active': _vm.done }},[_vm._v(\"\\n        \"+_vm._s(_vm.doneStep.label)+\"\\n      \")])],2),_c('div',{staticClass:\"stepper__card__content\"},[_c('div',{staticClass:\"stepper__card__content__title\"},[(_vm.done)?_c('span',[_vm._v(\"\\n          \"+_vm._s(_vm.doneStep.title)+\"\\n        \")]):_c('span',[_vm._v(_vm._s(_vm.steps[_vm.current].title))])]),(_vm.done)?_c('div',[_c('v-img',{staticClass:\"stepper__card__content--done\",attrs:{\"src\":require('../assets/done.svg')}})],1):_c('v-progress-circular',{staticClass:\"stepper__card__content--progress\",attrs:{\"size\":110,\"width\":7,\"indeterminate\":\"\"}}),_c('p',{staticClass:\"stepper__card__content__description\"},[(_vm.done)?_c('span',[_vm._v(\"\\n          \"+_vm._s(_vm.doneStep.description)+\"\\n        \")]):_c('span',[_vm._v(\"\\n          \"+_vm._s(_vm.steps[_vm.current].description)+\"\\n        \")])])],1)])]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue } from 'vue-property-decorator';\nimport { StepDescription } from '@/model/types';\n\n@Component({})\nexport default class Stepper extends Vue {\n  @Prop({ required: true })\n  display!: boolean;\n\n  @Prop({ required: false, default: 0 })\n  current!: number;\n\n  @Prop({ required: true })\n  steps!: StepDescription[];\n\n  @Prop({ required: true })\n  doneStep!: StepDescription;\n\n  @Prop({})\n  done?: boolean;\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Stepper.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Stepper.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Stepper.vue?vue&type=template&id=91bd146a&scoped=true&\"\nimport script from \"./Stepper.vue?vue&type=script&lang=ts&\"\nexport * from \"./Stepper.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Stepper.vue?vue&type=style&index=0&id=91bd146a&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"91bd146a\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VProgressCircular } from 'vuetify/lib/components/VProgressCircular';\ninstallComponents(component, {VImg,VProgressCircular})\n","import { BigNumber } from 'ethers/utils';\nimport { utils } from 'ethers';\nimport { Token } from '@/model/types';\n\nexport class BalanceUtils {\n  static toEth(wei: BigNumber): string {\n    return utils.formatEther(wei);\n  }\n\n  static toUnits(wei: BigNumber, decimals: number): string {\n    return utils.formatUnits(wei, decimals);\n  }\n\n  static decimalsOverflow(depositTokens: string, decimals: number): boolean {\n    let decimalPart: string;\n    if (depositTokens.indexOf('.') > 0) {\n      decimalPart = depositTokens.split('.')[1];\n    } else {\n      decimalPart = '';\n    }\n    return decimalPart.length > decimals;\n  }\n\n  static parse(deposit: string, decimals: number) {\n    return utils.parseUnits(deposit, decimals);\n  }\n}\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SplashScreen.vue?vue&type=style&index=0&id=65cd354f&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SplashScreen.vue?vue&type=style&index=0&id=65cd354f&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',{attrs:{\"dark\":\"\"}},[(_vm.inaccessible)?_c('splash-screen',{on:{\"connect\":function($event){return _vm.connect()}}}):_c('div',{attrs:{\"id\":\"application-wrapper\"}},[_c('div',{attrs:{\"id\":\"application-content\"}},[_c('app-header'),_c('v-content',[_c('v-container',{staticClass:\"application__container\",attrs:{\"fluid\":\"\",\"fill-height\":\"\"}},[_c('router-view')],1)],1)],1)]),_c('div',{staticClass:\"policy\"},[_c('a',{attrs:{\"href\":\"https://raiden.network/privacy.html\",\"target\":\"_blank\"}},[_vm._v(\"\\n      \"+_vm._s(_vm.$t('application.privacy-policy'))+\"\\n    \")])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{staticClass:\"splash-screen\",attrs:{\"fluid\":\"\",\"fill-height\":\"\"}},[_c('v-layout',{attrs:{\"align-center\":\"\",\"justify-center\":\"\"}},[_c('v-flex',{attrs:{\"xs8\":\"\",\"md6\":\"\",\"lg4\":\"\"}},[_c('div',{staticClass:\"splash-screen__wrapper display-3\"},[_c('div',{staticClass:\"splash-screen__logo-container\"},[_c('v-img',{staticClass:\"splash-screen__logo\",attrs:{\"src\":require('../assets/logo.svg'),\"min-width\":\"50px\",\"aspect-ratio\":\"1\",\"contain\":\"\"}})],1),_c('div',{staticClass:\"splash-screen__app-name\"},[_c('div',[_vm._v(\"\\n            \"+_vm._s(_vm.name)+\"\\n          \")])])]),_c('div',{staticClass:\"font-weight-light text-center splash-screen__disclaimer\"},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('splash-screen.disclaimer'))+\"\\n      \")]),_c('div',{staticClass:\"font-weight-light text-center splash-screen__matrix_sign\"},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('splash-screen.matrix-sign'))+\"\\n      \")]),_c('div',{staticClass:\"splash-screen__button\"},[(_vm.injectedProvider)?_c('action-button',{attrs:{\"text\":_vm.$t('splash-screen.connect-button'),\"enabled\":\"\"},on:{\"click\":function($event){return _vm.connect()}}}):_c('span',{staticClass:\"splash-screen__no-provider\"},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('splash-screen.no-provider'))+\"\\n        \")])],1),_c('div',{staticClass:\"splash-screen__message\"},[(_vm.accessDenied)?_c('no-access-message',{attrs:{\"reason\":_vm.accessDenied}}):_vm._e()],1)])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-alert',{staticClass:\"no-access-message\",attrs:{\"value\":true,\"color\":\"error\",\"icon\":\"warning\"}},[_c('div',{staticClass:\"font-weight-light no-access-message__message\"},[(_vm.networkUnsupported)?_c('span',[_vm._v(\"\\n      \"+_vm._s(_vm.$t('no-access.unsupported-network'))+\"\\n    \")]):(_vm.initializationFailed)?_c('span',[_vm._v(\"\\n      \"+_vm._s(_vm.$t('no-access.sdk-initialization-failure'))+\"\\n    \")]):_c('span',[_vm._v(\"\\n      \"+_vm._s(_vm.$t('no-access.generic-error'))+\"\\n    \")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue } from 'vue-property-decorator';\nimport { DeniedReason } from '@/model/types';\n\n@Component({})\nexport default class NoAccessMessage extends Vue {\n  @Prop({ required: true })\n  reason!: DeniedReason;\n\n  get networkUnsupported(): boolean {\n    return this.reason === DeniedReason.UNSUPPORTED_NETWORK;\n  }\n\n  get initializationFailed(): boolean {\n    return this.reason === DeniedReason.INITIALIZATION_FAILED;\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NoAccessMessage.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NoAccessMessage.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./NoAccessMessage.vue?vue&type=template&id=6b8163f4&scoped=true&\"\nimport script from \"./NoAccessMessage.vue?vue&type=script&lang=ts&\"\nexport * from \"./NoAccessMessage.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./NoAccessMessage.vue?vue&type=style&index=0&id=6b8163f4&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6b8163f4\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAlert } from 'vuetify/lib/components/VAlert';\ninstallComponents(component, {VAlert})\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Emit, Vue } from 'vue-property-decorator';\nimport { Web3Provider } from '@/services/web3-provider';\nimport { DeniedReason } from '@/model/types';\nimport { mapState } from 'vuex';\nimport NoAccessMessage from '@/components/NoAccessMessage.vue';\nimport ActionButton from '@/components/ActionButton.vue';\n\n@Component({\n  components: {\n    ActionButton,\n    NoAccessMessage\n  },\n  computed: mapState(['accessDenied'])\n})\nexport default class Loading extends Vue {\n  accessDenied!: DeniedReason;\n  name: string = 'Raiden dApp';\n\n  // noinspection JSMethodCanBeStatic\n  get injectedProvider(): boolean {\n    return Web3Provider.injectedWeb3Available();\n  }\n\n  @Emit()\n  connect() {}\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SplashScreen.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SplashScreen.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SplashScreen.vue?vue&type=template&id=65cd354f&scoped=true&\"\nimport script from \"./SplashScreen.vue?vue&type=script&lang=ts&\"\nexport * from \"./SplashScreen.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./SplashScreen.vue?vue&type=style&index=0&id=65cd354f&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"65cd354f\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VFlex } from 'vuetify/lib/components/VGrid';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VLayout } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VContainer,VFlex,VImg,VLayout})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (!_vm.loading && _vm.defaultAccount)?_c('v-layout',{staticClass:\"app-header\",attrs:{\"column\":\"\"}},[_c('v-layout',{staticClass:\"app-header__top\",attrs:{\"justify-center\":\"\",\"align-center\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('div',{staticClass:\"app-header__top__content\"},[_c('div',{staticClass:\"app-header__top__content__back\"},[(_vm.canGoBack)?_c('v-btn',{attrs:{\"height\":\"40px\",\"width\":\"40px\",\"text\":\"\",\"icon\":\"\"},on:{\"click\":function($event){return _vm.onBackClicked()}}},[_c('v-img',{attrs:{\"src\":require('../assets/back_arrow.svg'),\"max-width\":\"34px\"}})],1):_vm._e()],1),_c('v-spacer'),_c('v-layout',{attrs:{\"column\":\"\",\"align-center\":\"\",\"justify-center\":\"\"}},[_c('div',{staticClass:\"app-header__top__content__title\"},[_vm._v(\"\\n            \"+_vm._s(_vm.$route.meta.title)+\"\\n          \")]),_c('div',{staticClass:\"app-header__top__content__network\"},[_vm._v(\"\\n            \"+_vm._s(_vm.network)+\"\\n          \")])]),_c('v-spacer'),_c('div',[_c('v-img',{staticClass:\"app-header__top__content__blockie\",attrs:{\"src\":_vm.$blockie(_vm.defaultAccount),\"height\":\"36\",\"width\":\"36\",\"contain\":\"\",\"aspect-ratio\":\"1\"}})],1)],1)])],1),_c('v-layout',{staticClass:\"app-header__bottom\",attrs:{\"align-center\":\"\"}},[_c('v-flex',{attrs:{\"xs6\":\"\"}},[_c('div',{staticClass:\"app-header__bottom__address text-left\"},[_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('span',_vm._g({},on),[_vm._v(\"\\n              \"+_vm._s(_vm._f(\"truncate\")(_vm.defaultAccount,8))+\"\\n            \")])]}}],null,false,3329657142)},[_c('span',[_vm._v(_vm._s(_vm.defaultAccount))])]),_c('v-tooltip',{attrs:{\"bottom\":\"\",\"dark\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-btn',_vm._g({attrs:{\"text\":\"\",\"icon\":\"\"},on:{\"click\":function($event){return _vm.copy()}}},on),[_c('v-img',{staticClass:\"app-header__bottom__address__copy\",attrs:{\"src\":require('../assets/copy_icon.svg'),\"contain\":\"\"}})],1)]}}],null,false,958517048),model:{value:(_vm.copied),callback:function ($$v) {_vm.copied=$$v},expression:\"copied\"}},[_c('span',[_vm._v(\"\\n            \"+_vm._s(_vm.$t('app-header.copy-success'))+\"\\n          \")])])],1)]),_c('v-flex',{attrs:{\"xs6\":\"\"}},[_c('div',{staticClass:\"app-header__bottom__balance text-right\"},[_vm._v(\"\\n        \"+_vm._s(_vm._f(\"decimals\")(_vm.accountBalance))+\"\\n        \"),_c('span',{staticClass:\"app-header__bottom__balance__currency\"},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('app-header.currency'))+\"\\n        \")])])])],1),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.defaultAccount),expression:\"defaultAccount\"}],ref:\"copy\",staticClass:\"app-header__copy-area\",domProps:{\"value\":(_vm.defaultAccount)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.defaultAccount=$event.target.value}}})],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Mixins } from 'vue-property-decorator';\nimport { mapGetters, mapState } from 'vuex';\nimport BlockieMixin from '@/mixins/blockie-mixin';\nimport { RouteNames } from '@/route-names';\nimport NavigationMixin from '@/mixins/navigation-mixin';\n\n@Component({\n  computed: {\n    ...mapState(['loading', 'defaultAccount', 'accountBalance']),\n    ...mapGetters(['network'])\n  }\n})\nexport default class AppHeader extends Mixins(BlockieMixin, NavigationMixin) {\n  defaultAccount!: string;\n  loading!: boolean;\n  accountBalance!: string;\n  network!: string;\n\n  copied: boolean = false;\n  private timeout: number = 0;\n\n  get canGoBack(): boolean {\n    return this.$route.name !== RouteNames.HOME;\n  }\n\n  copy() {\n    const copyArea = this.$refs.copy as HTMLTextAreaElement;\n    copyArea.focus();\n    copyArea.select();\n    this.copied = document.execCommand('copy');\n\n    if (this.timeout) {\n      clearTimeout(this.timeout);\n    }\n\n    this.timeout = (setTimeout(() => {\n      this.copied = false;\n    }, 2000) as unknown) as number;\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppHeader.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppHeader.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./AppHeader.vue?vue&type=template&id=2fb64e76&scoped=true&\"\nimport script from \"./AppHeader.vue?vue&type=script&lang=ts&\"\nexport * from \"./AppHeader.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./AppHeader.vue?vue&type=style&index=0&id=2fb64e76&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2fb64e76\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VFlex } from 'vuetify/lib/components/VGrid';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VLayout } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\ninstallComponents(component, {VBtn,VFlex,VImg,VLayout,VSpacer,VTooltip})\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue } from 'vue-property-decorator';\nimport SplashScreen from '@/components/SplashScreen.vue';\nimport AppHeader from '@/components/AppHeader.vue';\nimport { mapState } from 'vuex';\nimport { DeniedReason } from '@/model/types';\n\n@Component({\n  computed: mapState(['loading', 'accessDenied']),\n  components: { AppHeader, SplashScreen }\n})\nexport default class App extends Vue {\n  name: string;\n  initialized: boolean = false;\n  accessDenied!: DeniedReason;\n  loading!: boolean;\n\n  constructor() {\n    super();\n    this.name = 'Raiden dApp';\n  }\n\n  get inaccessible() {\n    return (\n      !this.initialized ||\n      this.loading ||\n      this.accessDenied !== DeniedReason.UNDEFINED\n    );\n  }\n\n  async connect() {\n    this.initialized = false;\n    this.$store.commit('reset');\n    await this.$raiden.connect();\n    await this.$raiden.fetchTokens();\n    this.initialized = true;\n  }\n\n  destroyed() {\n    this.$raiden.disconnect();\n  }\n}\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--14-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--14-3!../node_modules/vuetify-loader/lib/loader.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--14-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--14-3!../node_modules/vuetify-loader/lib/loader.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=72ad4681&scoped=true&\"\nimport script from \"./App.vue?vue&type=script&lang=ts&\"\nexport * from \"./App.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&id=72ad4681&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"72ad4681\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VApp } from 'vuetify/lib/components/VApp';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VContent } from 'vuetify/lib/components/VContent';\ninstallComponents(component, {VApp,VContainer,VContent})\n","/* istanbul ignore file */\nimport Component from 'vue-class-component';\n\n// Register the router hooks with their names\nComponent.registerHooks([\n  'beforeRouteEnter',\n  'beforeRouteLeave',\n  'beforeRouteUpdate' // for vue-router 2.2+\n]);\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('app-core')}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('tokens')}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-layout',{attrs:{\"column\":\"\",\"justify-space-between\":\"\",\"fill-height\":\"\"}},[_c('list-header',{staticClass:\"connected-tokens__header\",attrs:{\"header\":_vm.$t('tokens.connected.header')}}),_c('v-layout',{attrs:{\"justify-center\":\"\",\"fill-height\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-list',{staticClass:\"connected-tokens__tokens\",attrs:{\"expand\":\"\"}},_vm._l((_vm.tokens),function(token,index){return _c('v-list-group',{key:token.token,staticClass:\"connected-tokens__tokens__token\",attrs:{\"no-action\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(){return [_c('v-list-item',{attrs:{\"id\":(\"token-\" + index)}},[_c('v-list-item-avatar',{staticClass:\"list-blockie\"},[_c('img',{attrs:{\"src\":_vm.$blockie(token.address),\"alt\":_vm.$t('tokens.connected.token.blockie-alt')}})]),_c('v-list-item-content',[_c('v-list-item-title',{staticClass:\"connected-tokens__tokens__token__info\"},[_vm._v(\"\\n                  \"+_vm._s(_vm.$t('tokens.connected.token.token-info', {\n                      symbol: token.symbol,\n                      name: token.name\n                    }))+\"\\n                \")]),_c('v-list-item-subtitle',{staticClass:\"connected-tokens__tokens__token__address\"},[_vm._v(\"\\n                  \"+_vm._s(token.address)+\"\\n                \")])],1)],1)]},proxy:true}],null,true)},[_c('div',{staticClass:\"connected-tokens__tokens__token__expanded\",attrs:{\"id\":(\"expanded-area-\" + index)}},[_c('v-layout',{attrs:{\"justify-center\":\"\"}},[_c('v-btn',{staticClass:\"text-capitalize connected-tokens__tokens__token__button\",attrs:{\"id\":(\"pay-\" + index),\"to\":(\"/payment/\" + (token.address))}},[_vm._v(\"\\n                \"+_vm._s(_vm.$t('tokens.connected.token.buttons.pay'))+\"\\n              \")]),_c('v-btn',{staticClass:\"text-capitalize connected-tokens__tokens__token__button leave\",attrs:{\"id\":(\"leave-\" + index)},on:{\"click\":function($event){return _vm.leaveNetwork(token)}}},[_vm._v(\"\\n                \"+_vm._s(_vm.$t('tokens.connected.token.buttons.disconnect'))+\"\\n              \")]),_c('v-btn',{staticClass:\"text-capitalize connected-tokens__tokens__token__button\",attrs:{\"to\":(\"/channels/\" + (token.address))}},[_vm._v(\"\\n                \"+_vm._s(_vm.$t('tokens.connected.token.buttons.view-channels'))+\"\\n              \")])],1)],1)])}),1)],1)],1),_c('action-button',{staticClass:\"connected-tokens__button\",attrs:{\"text\":_vm.$t('tokens.connect-new'),\"enabled\":\"\"},on:{\"click\":function($event){return _vm.navigateToTokenSelect()}}}),_c('confirmation-dialog',{attrs:{\"display\":_vm.leaveModalVisible},on:{\"confirm\":function($event){return _vm.leaveConfirmed()},\"cancel\":function($event){return _vm.leaveCancelled()}},scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_vm._v(\"\\n      \"+_vm._s(_vm.$t('tokens.disconnect-dialog.header'))+\"\\n    \")]},proxy:true}])},[(_vm.selectedToken)?_c('i18n',{attrs:{\"path\":\"tokens.disconnect-dialog.confirmation-message\",\"tag\":\"div\"}},[_c('b',{attrs:{\"place\":\"symbol\"}},[_vm._v(_vm._s(_vm.selectedToken.symbol))]),_c('span',{staticClass:\"connected-tokens__tokens__token__leave__address\",attrs:{\"place\":\"address\"}},[_vm._v(\"\\n        \"+_vm._s(_vm.selectedToken.address)+\"\\n      \")])]):_vm._e()],1),_c('stepper',{attrs:{\"display\":_vm.loading,\"steps\":_vm.steps,\"doneStep\":_vm.doneStep}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-layout',{attrs:{\"justify-center\":\"\"}},[_c('v-dialog',{attrs:{\"persistent\":\"\",\"max-width\":\"625\"},model:{value:(_vm.display),callback:function ($$v) {_vm.display=$$v},expression:\"display\"}},[_c('v-card',[_c('v-card-title',[_c('v-flex',[_c('h1',{staticClass:\"confirmation-dialog__header\"},[_vm._t(\"header\")],2)])],1),_c('v-card-text',[_c('p',{staticClass:\"confirmation-dialog__message\"},[_vm._t(\"default\")],2)]),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{staticClass:\"confirmation-dialog__button\",attrs:{\"text\":\"\"},on:{\"click\":function($event){return _vm.cancel()}}},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('confirmation-dialog.buttons.cancel'))+\"\\n        \")]),_c('v-btn',{staticClass:\"confirmation-dialog__button confirmation-dialog__button__primary\",attrs:{\"text\":\"\"},on:{\"click\":function($event){return _vm.confirm()}}},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('confirmation-dialog.buttons.confirm'))+\"\\n        \")]),_c('v-spacer')],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue } from 'vue-property-decorator';\n\n@Component({})\nexport default class ConfirmationDialog extends Vue {\n  @Prop({ required: true })\n  display!: boolean;\n\n  confirm() {\n    this.$emit('confirm');\n  }\n\n  cancel() {\n    this.$emit('cancel');\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfirmationDialog.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfirmationDialog.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ConfirmationDialog.vue?vue&type=template&id=013b36dc&scoped=true&\"\nimport script from \"./ConfirmationDialog.vue?vue&type=script&lang=ts&\"\nexport * from \"./ConfirmationDialog.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ConfirmationDialog.vue?vue&type=style&index=0&id=013b36dc&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"013b36dc\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VFlex } from 'vuetify/lib/components/VGrid';\nimport { VLayout } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VDialog,VFlex,VLayout,VSpacer})\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Mixins } from 'vue-property-decorator';\nimport { mapGetters } from 'vuex';\nimport ConfirmationDialog from '@/components/ConfirmationDialog.vue';\nimport { emptyDescription, StepDescription, TokenModel } from '@/model/types';\nimport Stepper from '@/components/Stepper.vue';\nimport BlockieMixin from '@/mixins/blockie-mixin';\nimport ListHeader from '@/components/ListHeader.vue';\nimport ActionButton from '@/components/ActionButton.vue';\nimport NavigationMixin from '@/mixins/navigation-mixin';\n\n@Component({\n  components: { ListHeader, Stepper, ConfirmationDialog, ActionButton },\n  computed: mapGetters(['tokens'])\n})\nexport default class Tokens extends Mixins(BlockieMixin, NavigationMixin) {\n  tokens!: TokenModel[];\n  selectedToken: TokenModel | null = null;\n  leaveModalVisible: boolean = false;\n\n  loading: boolean = false;\n  steps: StepDescription[] = [];\n  doneStep: StepDescription = emptyDescription();\n\n  created() {\n    this.steps = [(this.$t('tokens.leave-progress') as any) as StepDescription];\n    this.doneStep = (this.$t('tokens.leave-done') as any) as StepDescription;\n  }\n\n  private dismissModal() {\n    this.leaveModalVisible = false;\n    this.selectedToken = null;\n  }\n\n  leaveNetwork(token: TokenModel) {\n    this.selectedToken = token;\n    this.leaveModalVisible = true;\n  }\n\n  async leaveConfirmed() {\n    const address = this.selectedToken!.address;\n    this.dismissModal();\n    this.loading = true;\n    await this.$raiden.leaveNetwork(address);\n    this.loading = false;\n  }\n\n  leaveCancelled() {\n    this.dismissModal();\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tokens.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tokens.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Tokens.vue?vue&type=template&id=1970fd66&scoped=true&\"\nimport script from \"./Tokens.vue?vue&type=script&lang=ts&\"\nexport * from \"./Tokens.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Tokens.vue?vue&type=style&index=0&id=1970fd66&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1970fd66\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VFlex } from 'vuetify/lib/components/VGrid';\nimport { VLayout } from 'vuetify/lib/components/VGrid';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListGroup } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemAvatar } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemSubtitle } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\ninstallComponents(component, {VBtn,VFlex,VLayout,VList,VListGroup,VListItem,VListItemAvatar,VListItemContent,VListItemSubtitle,VListItemTitle})\n","\n\n\n\n\nimport { Component, Vue } from 'vue-property-decorator';\nimport Tokens from '@/components/Tokens.vue';\n\n@Component({\n  components: { Tokens }\n})\nexport default class AppCore extends Vue {}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppCore.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppCore.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./AppCore.vue?vue&type=template&id=78c5b79c&\"\nimport script from \"./AppCore.vue?vue&type=script&lang=ts&\"\nexport * from \"./AppCore.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\nimport { Component, Vue } from 'vue-property-decorator';\nimport AppCore from '@/components/AppCore.vue';\n\n@Component({\n  components: {\n    AppCore\n  }\n})\nexport default class Home extends Vue {}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=5122a23d&\"\nimport script from \"./Home.vue?vue&type=script&lang=ts&\"\nexport * from \"./Home.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/* istanbul ignore file */\nimport Vue from 'vue';\nimport Router from 'vue-router';\nimport Home from './views/Home.vue';\nimport { RouteNames } from '@/route-names';\n\nVue.use(Router);\n\nexport default new Router({\n  mode: 'history',\n  base: process.env.BASE_URL,\n  routes: [\n    {\n      path: '/',\n      name: RouteNames.HOME,\n      meta: {\n        title: 'Raiden dApp'\n      },\n      component: Home\n    },\n    {\n      path: '*',\n      redirect: '/'\n    },\n    {\n      path: '/payment/:token',\n      name: RouteNames.PAYMENT,\n      meta: {\n        title: 'Send'\n      },\n      component: () => import('./views/Payment.vue')\n    },\n    {\n      path: '/connect',\n      name: RouteNames.SELECT_TOKEN,\n      meta: {\n        title: 'Select token'\n      },\n      component: () => import('./views/SelectToken.vue')\n    },\n    {\n      path: '/connect/:token',\n      name: RouteNames.SELECT_HUB,\n      meta: {\n        title: 'Select hub'\n      },\n      component: () => import('./views/SelectHub.vue')\n    },\n    {\n      path: '/connect/:token/:partner',\n      name: RouteNames.OPEN_CHANNEL,\n      meta: {\n        title: 'Open channel'\n      },\n      component: () => import('./views/OpenChannel.vue')\n    },\n    {\n      path: '/channels/:token',\n      name: RouteNames.CHANNELS,\n      meta: {\n        title: 'Channels'\n      },\n      component: () => import('./views/Channels.vue')\n    }\n  ]\n});\n","import Vue from 'vue';\nimport Vuex, { StoreOptions } from 'vuex';\nimport { RootState, Tokens } from '@/types';\nimport { ChannelState, RaidenChannel, RaidenChannels } from 'raiden';\nimport {\n  AccTokenModel,\n  DeniedReason,\n  emptyTokenModel,\n  PlaceHolderNetwork,\n  Token,\n  TokenModel\n} from '@/model/types';\nimport map from 'lodash/map';\nimport flatMap from 'lodash/flatMap';\nimport clone from 'lodash/clone';\nimport reduce from 'lodash/reduce';\nimport orderBy from 'lodash/orderBy';\nimport { Network } from 'ethers/utils';\n\nVue.use(Vuex);\n\nconst _defaultState: RootState = {\n  loading: true,\n  defaultAccount: '',\n  accountBalance: '0.0',\n  providerDetected: true,\n  accessDenied: DeniedReason.UNDEFINED,\n  channels: {},\n  tokens: {},\n  network: PlaceHolderNetwork\n};\n\nexport function defaultState(): RootState {\n  return clone(_defaultState);\n}\n\nconst store: StoreOptions<RootState> = {\n  state: defaultState(),\n  mutations: {\n    noProvider(state: RootState) {\n      state.providerDetected = false;\n    },\n    accessDenied(state: RootState, reason: DeniedReason) {\n      state.accessDenied = reason;\n    },\n    account(state: RootState, account: string) {\n      state.defaultAccount = account;\n    },\n    loadComplete(state: RootState) {\n      state.loading = false;\n    },\n    balance(state: RootState, balance: string) {\n      state.accountBalance = balance;\n    },\n    updateChannels(state: RootState, channels: RaidenChannels) {\n      state.channels = channels;\n    },\n    updateTokens(state: RootState, tokens: Tokens) {\n      state.tokens = Object.assign({}, tokens);\n    },\n    network(state: RootState, network: Network) {\n      state.network = network;\n    },\n    reset(state: RootState) {\n      Object.assign(state, defaultState());\n    }\n  },\n  actions: {},\n  getters: {\n    tokens: function(state: RootState): TokenModel[] {\n      const reducer = (\n        acc: AccTokenModel,\n        channel: RaidenChannel\n      ): AccTokenModel => {\n        acc.address = channel.token;\n        (acc[channel.state] as number) += 1;\n        return acc;\n      };\n\n      return map(flatMap(state.channels), tokenChannels => {\n        const model = reduce(tokenChannels, reducer, emptyTokenModel());\n        const tokenInfo = state.tokens[model.address];\n        if (tokenInfo) {\n          model.name = tokenInfo.name || '';\n          model.symbol = tokenInfo.symbol || '';\n        }\n\n        return model;\n      });\n    },\n    allTokens: (state: RootState): Token[] => {\n      return reduce(\n        state.tokens,\n        (result: Token[], value: Token, key: string) => {\n          const model: Token = {\n            address: key,\n            balance: value.balance,\n            decimals: value.decimals,\n            units: value.units,\n            symbol: value.symbol,\n            name: value.name\n          };\n          result.push(model);\n          return result;\n        },\n        []\n      );\n    },\n    channels: (state: RootState) => (tokenAddress: string) => {\n      let channels: RaidenChannel[] = [];\n      const tokenChannels = state.channels[tokenAddress];\n      if (tokenChannels) {\n        channels = flatMap(tokenChannels);\n      }\n      return channels;\n    },\n    token: (state: RootState) => (tokenAddress: string) => {\n      if (tokenAddress in state.tokens) {\n        return state.tokens[tokenAddress];\n      } else {\n        return null;\n      }\n    },\n    network: (state: RootState) => {\n      return state.network.name || `Chain ${state.network.chainId}`;\n    },\n    channelWithBiggestCapacity: (_, getters) => (tokenAddress: string) => {\n      const channels: RaidenChannel[] = getters.channels(tokenAddress);\n      const openChannels = channels.filter(\n        value => value.state === ChannelState.open\n      );\n      return orderBy(openChannels, ['capacity'], ['desc'])[0];\n    }\n  }\n};\n\nexport default new Vuex.Store(store);\n","/* eslint-disable no-console */\n/* istanbul ignore file */\n\nimport { register } from 'register-service-worker';\n\nif (process.env.NODE_ENV === 'production') {\n  register(`${process.env.BASE_URL}service-worker.js`, {\n    ready() {\n      console.log(\n        'App is being served from cache by a service worker.\\n' +\n          'For more details, visit https://goo.gl/AFskqB'\n      );\n    },\n    registered() {\n      console.log('Service worker has been registered.');\n    },\n    cached() {\n      console.log('Content has been cached for offline use.');\n    },\n    updatefound() {\n      console.log('New content is downloading.');\n    },\n    updated() {\n      console.log('New content is available; please refresh.');\n    },\n    offline() {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    },\n    error(error) {\n      console.error('Error during service worker registration:', error);\n    }\n  });\n}\n","/* istanbul ignore file */\nimport Component from 'vue-class-component';\n\n// Register the router hooks with their names\nComponent.registerHooks([\n  'beforeRouteEnter',\n  'beforeRouteLeave',\n  'beforeRouteUpdate'\n]);\n","import _Vue from 'vue';\nimport RaidenService from '@/services/raiden-service';\nimport store from '@/store';\n\nexport function RaidenPlugin(Vue: typeof _Vue, options?: any): void {\n  Vue.prototype.$raiden = new RaidenService(store);\n}\n\ndeclare module 'vue/types/vue' {\n  // 3. Declare augmentation for Vue\n  interface Vue {\n    $raiden: RaidenService;\n  }\n}\n","import makeBlockie from 'ethereum-blockies-base64';\n\nexport class IdenticonCache {\n  private cache: { [id: string]: string } = {};\n\n  constructor() {}\n\n  public getIdenticon(address: string): string {\n    const cached = this.cache[address];\n\n    if (!cached) {\n      const generated = makeBlockie(address);\n      this.cache[address] = generated;\n      return generated;\n    } else {\n      return cached;\n    }\n  }\n}\n","import _Vue from 'vue';\nimport { IdenticonCache } from '@/services/identicon-cache';\n\nexport function IdenticonPlugin(Vue: typeof _Vue, options?: any): void {\n  Vue.prototype.$identicon = new IdenticonCache();\n}\n\ndeclare module 'vue/types/vue' {\n  // 3. Declare augmentation for Vue\n  interface Vue {\n    $identicon: IdenticonCache;\n  }\n}\n","/* istanbul ignore file */\nimport Vue from 'vue';\nimport VueI18n, { LocaleMessages } from 'vue-i18n';\n\nVue.use(VueI18n);\n\nfunction loadLocaleMessages(): LocaleMessages {\n  const locales = require.context(\n    './locales',\n    true,\n    /[A-Za-z0-9-_,\\s]+\\.json$/i\n  );\n  const messages: LocaleMessages = {};\n  locales.keys().forEach(key => {\n    const matched = key.match(/([A-Za-z0-9-_]+)\\./i);\n    if (matched && matched.length > 1) {\n      const locale = matched[1];\n      messages[locale] = locales(key);\n    }\n  });\n  return messages;\n}\n\nexport default new VueI18n({\n  locale: process.env.VUE_APP_I18N_LOCALE || 'en',\n  fallbackLocale: process.env.VUE_APP_I18N_FALLBACK_LOCALE || 'en',\n  messages: loadLocaleMessages()\n});\n","/* istanbul ignore file */\n\nimport Vue from 'vue';\nimport Vuetify from 'vuetify/lib';\n\nVue.use(Vuetify);\n\nexport default new Vuetify({\n  icons: {\n    iconfont: 'mdi'\n  },\n  theme: {\n    dark: true,\n    themes: {\n      dark: {\n        primary: '#28A5C8',\n        secondary: '#0A6E87'\n      }\n    }\n  }\n});\n","/* istanbul ignore file */\nimport Vue from 'vue';\nimport App from './App.vue';\nimport '@/plugins/class-component.hooks';\nimport '@/filters';\nimport router from './router';\nimport store from './store';\nimport './registerServiceWorker';\nimport './class-component-hooks';\nimport { RaidenPlugin } from '@/plugins/raiden';\nimport { IdenticonPlugin } from '@/plugins/identicon-plugin';\nimport i18n from './i18n';\nimport vuetify from '@/plugins/vuetify';\n\nVue.config.productionTip = false;\n\nVue.use(RaidenPlugin);\nVue.use(IdenticonPlugin);\n\nnew Vue({\n  vuetify,\n  router,\n  store,\n\n  created() {\n    if (sessionStorage.redirect) {\n      const redirect = sessionStorage.redirect;\n      delete sessionStorage.redirect;\n      this.$router.push(redirect);\n    }\n  },\n\n  i18n,\n  render: h => h(App)\n}).$mount('#app');\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport * as t from 'io-ts';\nimport { bigNumberify, getAddress, isHexString, hexDataLength } from 'ethers/utils';\nimport { Two } from 'ethers/constants';\nimport { LosslessNumber } from 'lossless-json';\nimport { memoize } from 'lodash';\nconst isStringifiable = (u) => \n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nu !== null && u !== undefined && typeof u['toString'] === 'function';\nconst isBigNumber = (u) => u && u['_ethersType'] === 'BigNumber';\n/**\n * Codec of ethers.utils.BigNumber objects\n * Input can be anything bigNumberify-able: number, string, LosslessNumber or BigNumber\n * Output is LosslessNumber, so we can JSON-serialize with 'number' types bigger than JS VM limits\n * of ±2^53, as Raiden full-client/python stdlib json encode/decode longs as json number.\n */\nexport const BigNumberC = new t.Type('BigNumber', isBigNumber, (u, c) => {\n    if (isBigNumber(u))\n        return t.success(u);\n    try {\n        if (isStringifiable(u))\n            return t.success(bigNumberify(u.toString()));\n    }\n    catch (err) {\n        return t.failure(u, c, err.message);\n    }\n    return t.failure(u, c);\n}, a => new LosslessNumber(a.toString()));\n/**\n * Creates a NEW codec for a specific [non-const] enum object\n */\nexport class EnumType extends t.Type {\n    constructor(e, name) {\n        super(name || 'enum', (u) => Object.values(this.enumObject).some(v => v === u), (u, c) => (this.is(u) ? t.success(u) : t.failure(u, c)), t.identity);\n        this._tag = 'EnumType';\n        this.enumObject = e;\n    }\n}\n/**\n * Helper function to create codecs to validate an arbitrary or variable-sized hex bytestring\n * A branded codec to indicate validated hex-strings\n *\n * @param size  Required number of bytes. Pass undefined or zero to have a variable-sized type\n * @returns branded  codec for hex-encoded bytestrings\n */\nexport const HexString = memoize(function (size) {\n    return t.brand(t.string, (n) => typeof n === 'string' && (size ? hexDataLength(n) === size : isHexString(n)), 'HexString');\n});\n/**\n * Helper function to create codecs to validate an arbitrary or variable-sized BigNumbers\n * A branded codec/type to indicate size-validated BigNumbers\n *\n * @param size  Required number of bytes. Pass undefined or zero to have a variable-sized type\n * @returns branded  codec for hex-encoded bytestrings\n */\nexport const UInt = memoize(function (size) {\n    const max = size ? Two.pow(size * 8) : undefined;\n    return t.brand(BigNumberC, (n) => BigNumberC.is(n) && n.gte(0) && (max === undefined || n.lt(max)), 'UInt');\n});\n// specific types\n// strig brand: ECDSA signature as an hex-string\nexport const Signature = HexString(65);\n// string brand: 256-bit hash, usually keccak256 or sha256\nexport const Hash = HexString(32);\n// string brand: a secret bytearray, non-sized\nexport const Secret = HexString();\n// string brand: ECDSA private key, 32 bytes\nexport const PrivateKey = HexString(32);\n// string brand: checksummed address, 20 bytes\nexport const Address = t.brand(HexString(20), (u) => {\n    try {\n        return typeof u === 'string' && getAddress(u) === u;\n    }\n    catch (e) { }\n    return false;\n}, // type guard for branded values\n'Address');\n//# sourceMappingURL=types.js.map","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { Two } from 'ethers/constants';\nimport { bigNumberify } from 'ethers/utils';\nimport { hexlify, isArrayish, hexZeroPad, hexDataLength } from 'ethers/utils/bytes';\nimport { parse } from 'lossless-json';\nimport { BigNumberC } from './types';\n/**\n * Encode data to hex string of exactly length size (in bytes)\n * Throw if data can't be made to fit in length.\n *\n * @param data May be of multiple types:\n *      - number|BigNumber: Encoded in the big-endian byte-order and left-zero-padded to length\n *      - string: Must be hex-encoded string of length bytes\n *      - number[] Must be of exactly of length size (left/right-pad it before if needed)\n * @param length The expected length of the hex string, in bytes\n * @returns HexString byte-array of length\n */\nexport function encode(data, length) {\n    let hex;\n    if (typeof data === 'number')\n        data = bigNumberify(data);\n    if (BigNumberC.is(data)) {\n        if (data.lt(0))\n            throw new Error('Number is negative');\n        if (data.gte(Two.pow(length * 8)))\n            throw new Error('Number too large');\n        hex = hexZeroPad(hexlify(data), length);\n    }\n    else if (typeof data === 'string' || isArrayish(data)) {\n        const str = hexlify(data);\n        if (hexDataLength(str) !== length)\n            throw new Error('Uint8Array or hex string must be of exact length');\n        hex = str;\n    }\n    else {\n        throw new Error('data is not a HexString or Uint8Array');\n    }\n    return hex;\n}\nconst isLosslessNumber = (u) => \n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nu && u['isLosslessNumber'] === true;\n/**\n * Opportunistic JSON.parse regarding numbers\n * If possible to decode a JSON number as JS number (i.e. value < 2^53) and return 'number',\n * otherwise returns LosslessNumber object, which can be decoded as BigNumber by BigNumberC\n * Throws if handled invalid JSON\n *\n * @param text JSON string to parse\n * @returns Decoded object\n */\nexport function losslessParse(text) {\n    return parse(text, ({}, value) => {\n        if (isLosslessNumber(value)) {\n            try {\n                return value.valueOf(); // return number, if possible, or throw if > 2^53\n            }\n            catch (e) { } // else, pass to return LosslessNumber, which can be decoded by BigNumberC\n        }\n        return value;\n    });\n}\nexport { stringify as losslessStringify } from 'lossless-json';\n//# sourceMappingURL=data.js.map","/* istanbul ignore file */\n/* eslint-disable @typescript-eslint/camelcase */\n/**\n * These io-ts codecs validate and decode JSON Raiden messages\n * They include BigNumber strings validation, enum validation (if needed), Address checksum\n * validation, etc, and converting everything to its respective object, where needed.\n */\nimport * as t from 'io-ts';\nimport { memoize } from 'lodash';\n// import { ThrowReporter } from 'io-ts/lib/ThrowReporter';\nimport { Address, EnumType, Hash, Secret, Signature, UInt } from '../utils/types';\nimport { Lock } from '../channels/types';\n// types\nexport var MessageType;\n(function (MessageType) {\n    MessageType[\"DELIVERED\"] = \"Delivered\";\n    MessageType[\"PROCESSED\"] = \"Processed\";\n    MessageType[\"SECRET_REQUEST\"] = \"SecretRequest\";\n    MessageType[\"SECRET_REVEAL\"] = \"RevealSecret\";\n    MessageType[\"LOCKED_TRANSFER\"] = \"LockedTransfer\";\n    MessageType[\"REFUND_TRANSFER\"] = \"RefundTransfer\";\n    MessageType[\"UNLOCK\"] = \"Secret\";\n    MessageType[\"LOCK_EXPIRED\"] = \"LockExpired\";\n})(MessageType || (MessageType = {}));\nexport const MessageTypeC = new EnumType(MessageType, 'MessageType');\n// Mixin for all tagged messages\nexport const Message = t.readonly(t.type({ type: MessageTypeC }));\n// Mixin of a message that contains an identifier and should be ack'ed with a respective Delivered\nconst RetrieableMessage = t.readonly(t.intersection([\n    t.type({\n        message_identifier: UInt(8),\n    }),\n    Message,\n]));\n// Acknowledges to the sender that a RetrieableMessage was received\nexport const Delivered = t.readonly(t.intersection([\n    t.type({\n        type: t.literal(MessageType.DELIVERED),\n        delivered_message_identifier: UInt(8),\n    }),\n    Message,\n]));\n// Confirms some message that required state validation was successfuly processed\nexport const Processed = t.readonly(t.intersection([\n    t.type({\n        type: t.literal(MessageType.PROCESSED),\n    }),\n    RetrieableMessage,\n]));\n// Requests the initiator to reveal the secret for a LockedTransfer targeted to us\nexport const SecretRequest = t.readonly(t.intersection([\n    t.type({\n        type: t.literal(MessageType.SECRET_REQUEST),\n        payment_identifier: UInt(8),\n        secrethash: Hash,\n        amount: UInt(32),\n        expiration: UInt(32),\n    }),\n    RetrieableMessage,\n]));\n// Reveal to the target or the previous hop a secret we just learned off-chain\nexport const SecretReveal = t.readonly(t.intersection([\n    t.type({\n        type: t.literal(MessageType.SECRET_REVEAL),\n        secret: Secret,\n    }),\n    RetrieableMessage,\n]));\n// Mixin for messages containing a balance proof\nexport const EnvelopeMessage = t.readonly(t.intersection([\n    t.type({\n        chain_id: UInt(32),\n        token_network_address: Address,\n        channel_identifier: UInt(32),\n        nonce: UInt(8),\n        transferred_amount: UInt(32),\n        locked_amount: UInt(32),\n        locksroot: Hash,\n    }),\n    RetrieableMessage,\n]));\n// base for locked and refund transfer, they differentiate only on the type tag\nconst LockedTransferBase = t.readonly(t.intersection([\n    t.type({\n        payment_identifier: UInt(8),\n        token: Address,\n        recipient: Address,\n        lock: Lock,\n        target: Address,\n        initiator: Address,\n        fee: UInt(32),\n    }),\n    EnvelopeMessage,\n]));\n// a mediated transfer containing a locked amount\nexport const LockedTransfer = t.readonly(t.intersection([\n    t.type({\n        type: t.literal(MessageType.LOCKED_TRANSFER),\n    }),\n    LockedTransferBase,\n]));\n// if a mediated transfer didn't succeed, mediator can refund the amount with the same secrethash\n// so the previous hop can retry it with another neighbor\nexport const RefundTransfer = t.readonly(t.intersection([\n    t.type({\n        type: t.literal(MessageType.REFUND_TRANSFER),\n    }),\n    LockedTransferBase,\n]));\n// when the secret is revealed, unlock sends a new balance proof without the lock and increasing\n// the total transfered to finish the offchain transfer\nexport const Unlock = t.readonly(t.intersection([\n    t.type({\n        type: t.literal(MessageType.UNLOCK),\n        payment_identifier: UInt(8),\n        secret: Secret,\n    }),\n    EnvelopeMessage,\n]));\n// after mediated transfer fails and the lock expire, clean it from the locks tree\nexport const LockExpired = t.readonly(t.intersection([\n    t.type({\n        type: t.literal(MessageType.LOCK_EXPIRED),\n        recipient: Address,\n        secrethash: Hash,\n    }),\n    EnvelopeMessage,\n]));\n// type to require a message to be signed!\n// generic type codec for messages that must be signed\n// use it like: Codec = Signed(Message)\n// The t.TypeOf<typeof codec> will be Signed<Message>, defined later\nexport const Signed = memoize((codec) => t.intersection([codec, t.readonly(t.type({ signature: Signature }))]));\nexport const SignedMessageCodecs = {\n    [MessageType.DELIVERED]: Signed(Delivered),\n    [MessageType.PROCESSED]: Signed(Processed),\n    [MessageType.SECRET_REQUEST]: Signed(SecretRequest),\n    [MessageType.SECRET_REVEAL]: Signed(SecretReveal),\n    [MessageType.LOCKED_TRANSFER]: Signed(LockedTransfer),\n    [MessageType.REFUND_TRANSFER]: Signed(RefundTransfer),\n    [MessageType.UNLOCK]: Signed(Unlock),\n    [MessageType.LOCK_EXPIRED]: Signed(LockExpired),\n};\n//# sourceMappingURL=types.js.map","import * as t from 'io-ts';\nimport { Address, Hash, Signature, UInt } from '../utils/types';\n// Represents a HashTime-Locked amount in a channel\nexport const Lock = t.type({\n    type: t.literal('Lock'),\n    amount: UInt(32),\n    expiration: UInt(32),\n    secrethash: Hash,\n}, 'Lock');\n/**\n * Balance Proof constructed from an EnvelopeMessage\n * Either produced by us or received from the partner, the BPs are generated from the messages\n * because BP signature requires the hash of the message, for authentication of data not included\n * nor relevant for the smartcontract/BP itself, but so for the peers (e.g. payment_id)\n */\nexport const SignedBalanceProof = t.type({\n    // channel data\n    chainId: UInt(32),\n    tokenNetworkAddress: Address,\n    channelId: UInt(32),\n    // balance proof data\n    nonce: UInt(8),\n    transferredAmount: UInt(32),\n    lockedAmount: UInt(32),\n    locksroot: Hash,\n    messageHash: Hash,\n    signature: Signature,\n    sender: Address,\n});\n//# sourceMappingURL=types.js.map","import * as t from 'io-ts';\nimport { EnumType, UInt } from '../utils/types';\nimport { Signed, LockedTransfer, Unlock, LockExpired, RefundTransfer } from '../messages/types';\nimport { Lock, SignedBalanceProof } from './types';\nexport var ChannelState;\n(function (ChannelState) {\n    ChannelState[\"opening\"] = \"opening\";\n    ChannelState[\"open\"] = \"open\";\n    ChannelState[\"closing\"] = \"closing\";\n    ChannelState[\"closed\"] = \"closed\";\n    ChannelState[\"settleable\"] = \"settleable\";\n    ChannelState[\"settling\"] = \"settling\";\n    ChannelState[\"settled\"] = \"settled\";\n})(ChannelState || (ChannelState = {}));\nexport const ChannelStateC = new EnumType(ChannelState, 'ChannelState');\n/**\n * Contains info of each side of a channel\n */\nexport const ChannelEnd = t.readonly(t.intersection([\n    t.type({\n        deposit: UInt(32),\n    }),\n    t.partial({\n        locks: t.array(Lock),\n        balanceProof: SignedBalanceProof,\n        history: t.record(t.string /* timestamp */, t.union([\n            Signed(LockedTransfer),\n            Signed(Unlock),\n            Signed(LockExpired),\n            Signed(RefundTransfer),\n        ]) /* sent by this end */),\n    }),\n]));\nexport const Channel = t.intersection([\n    t.readonly(t.type({\n        own: ChannelEnd,\n        partner: ChannelEnd,\n    })),\n    t.union([\n        /* union of types with literals intersection allows narrowing other props presence. e.g.:\n         * if (channel.state === ChannelState.open) {\n         *   id = channel.id; // <- id can't be undefined\n         *   closeBlock = channel.closeBlock; // error: closeBlock only exist on states closed|settling\n         * }\n         */\n        t.readonly(t.type({ state: t.literal(ChannelState.opening) })),\n        t.readonly(t.type({\n            state: t.union([t.literal(ChannelState.open), t.literal(ChannelState.closing)]),\n            id: t.number,\n            settleTimeout: t.number,\n            openBlock: t.number,\n        })),\n        t.readonly(t.type({\n            state: t.union([\n                t.literal(ChannelState.closed),\n                t.literal(ChannelState.settleable),\n                t.literal(ChannelState.settling),\n            ]),\n            id: t.number,\n            settleTimeout: t.number,\n            openBlock: t.number,\n            closeBlock: t.number,\n        })),\n    ]),\n]);\n/**\n * Channels is a mapping from tokenNetwork -> partner -> Channel\n * As in: { [tokenNetwork: Address]: { [partner: Address]: Channel } }\n * It's used as codec and type for 'channels' key in RaidenState\n * We use t.string instead of the Address branded codecs because specialized types can't be used\n * as index mapping keys.\n */\nexport const Channels = t.readonly(t.record(t.string /* tokenNetwork: Address */, t.readonly(t.record(t.string /* partner: Address */, Channel))));\n//# sourceMappingURL=state.js.map","import * as t from 'io-ts';\nexport const RaidenMatrixSetup = t.readonly(t.type({\n    userId: t.string,\n    accessToken: t.string,\n    deviceId: t.string,\n    displayName: t.string,\n}));\n//# sourceMappingURL=state.js.map","import * as t from 'io-ts';\nimport { Signed, LockedTransfer, Processed, SecretReveal, Unlock, LockExpired, RefundTransfer, } from '../messages/types';\n/**\n * This struct holds the relevant messages exchanged in a transfer\n * The transfer state is defined by the exchanged messages\n */\nexport const SentTransfer = t.readonly(t.intersection([\n    t.type({\n        /** -> outgoing locked transfer */\n        transfer: Signed(LockedTransfer),\n    }),\n    t.partial({\n        /** <- incoming processed for locked transfer */\n        transferProcessed: Signed(Processed),\n        /**\n         * -> outgoing secret reveal to target\n         * If this is set, it means the secret was revealed (so transfer succeeded, even if it didn't\n         * complete yet)\n         */\n        secretReveal: Signed(SecretReveal),\n        /**\n         * -> outgoing unlock to recipient\n         * If this is set, it means the Unlock was sent (even if partner didn't acknowledge it yet)\n         */\n        unlock: Signed(Unlock),\n        /**\n         * -> outgoing lock expired (if so)\n         * If this is set, transfer failed, and we expired the lock (retrieving the locked amount).\n         * Transfer failed may not have completed yet, e.g. waiting for LockExpired's Processed reply\n         */\n        lockExpired: Signed(LockExpired),\n        // Processed for Unlock or LockExpired clear this transfer, so aren't persisted here\n        /**\n         * <- incoming refund transfer (if so)\n         * If this is set, transfer failed and partner tried refunding the transfer to us. We don't\n         * handle receiving transfers, but just store it here to sign this transfer failed with a\n         * refund, until the lock expires normally\n         */\n        refund: Signed(RefundTransfer),\n    }),\n]));\n/**\n * Mapping of outgoing transfers, indexed by the secrethash\n */\nexport const SentTransfers = t.readonly(t.record(t.string /* secrethash: Hash */, SentTransfer));\n//# sourceMappingURL=state.js.map","import * as t from 'io-ts';\nimport { isLeft } from 'fp-ts/lib/Either';\nimport { ThrowReporter } from 'io-ts/lib/ThrowReporter';\nimport { AddressZero } from 'ethers/constants';\nimport { losslessParse, losslessStringify } from './utils/data';\nimport { Address, Secret } from './utils/types';\nimport { Channels } from './channels/state';\nimport { RaidenMatrixSetup } from './transport/state';\nimport { SentTransfers } from './transfers/state';\n// types\nexport const RaidenState = t.readonly(t.type({\n    address: Address,\n    blockNumber: t.number,\n    channels: Channels,\n    tokens: t.readonly(t.record(t.string /* token: Address */, Address)),\n    transport: t.readonly(t.partial({\n        matrix: t.readonly(t.intersection([\n            t.type({\n                server: t.string,\n            }),\n            t.partial({\n                setup: RaidenMatrixSetup,\n                rooms: t.readonly(t.record(t.string /* partner: Address */, t.array(t.string))),\n            }),\n        ])),\n    })),\n    secrets: t.readonly(t.record(t.string /* secrethash: Hash */, t.readonly(t.intersection([t.type({ secret: Secret }), t.partial({ registerBlock: t.number })])))),\n    sent: SentTransfers,\n}));\n// helpers, utils & constants\n/**\n * Encode RaidenState to a JSON string\n * For Raiden client compliance, this JSON encodes BigNumbers as 'number' (using lossless-json lib)\n * which is valid json though not very common as common JS implementations lose precision when\n * decoding through JSON.parse. This is solved in SDK by both encoding and decoding BigNumbers\n * using lossless-json, without going through the intermediary JS-number form.\n *\n * @param state RaidenState object\n * @returns JSON encoded string\n */\nexport function encodeRaidenState(state) {\n    return losslessStringify(RaidenState.encode(state), undefined, 2);\n}\n/**\n * Try to decode any data as a RaidenState.\n * If handled a string, will parse it with lossless-json, to preserve BigNumbers encoded as JSON\n * 'number'.\n *\n * @param data string | any which may be decoded as RaidenState\n * @returns RaidenState parsed and validated\n */\nexport function decodeRaidenState(data) {\n    if (typeof data === 'string')\n        data = losslessParse(data);\n    const result = RaidenState.decode(data);\n    if (isLeft(result))\n        throw ThrowReporter.report(result); // throws if decode failed\n    return result.right;\n}\nexport const initialState = {\n    address: AddressZero,\n    blockNumber: 0,\n    channels: {},\n    tokens: {},\n    transport: {},\n    secrets: {},\n    sent: {},\n};\n//# sourceMappingURL=state.js.map","import { padZeros } from 'ethers/utils';\nexport const SignatureZero = padZeros([], 65);\nexport const MATRIX_KNOWN_SERVERS_URL = {\n    default: 'https://raw.githubusercontent.com/raiden-network/raiden-transport/master/known_servers.test.yaml',\n};\nexport var ShutdownReason;\n(function (ShutdownReason) {\n    ShutdownReason[\"STOP\"] = \"raidenStopped\";\n    ShutdownReason[\"ACCOUNT_CHANGED\"] = \"providerAccountChanged\";\n    ShutdownReason[\"NETWORK_CHANGED\"] = \"providerNetworkChanged\";\n})(ShutdownReason || (ShutdownReason = {}));\nexport const REVEAL_TIMEOUT = 50;\n//# sourceMappingURL=constants.js.map","/**\n * Like redux's combineReducers, but allows passing only a partial reducer mapping\n * redux's combineReducers output state must be exactly the mapping passed as parameter,\n * which doesn't allow to only provide a partial set of reducers and passthrough the other state's\n * keys. This function allows that, also preserving state/object reference when reducers doesn't\n * change state value.\n *\n * @param reducers  A mapping of a subset of state's key to nested reducers functions\n * @param initialState  global initial state, required when initializing first object with partial\n *                      reducers\n * @returns Full reducer for state S and actions A\n */\nexport function partialCombineReducers(reducers, initialState) {\n    return function (state = initialState, action) {\n        for (const key in reducers) {\n            const reducer = reducers[key];\n            if (!reducer)\n                continue; // shouldn't happen, only here for type safety below\n            const subState = state[key] || initialState[key];\n            const newSubState = reducer(subState, action);\n            if (newSubState !== subState) {\n                state = Object.assign({}, state, { [key]: newSubState });\n            }\n        }\n        return state;\n    };\n}\n//# sourceMappingURL=redux.js.map","import { createStandardAction } from 'typesafe-actions';\n/* A new head in the blockchain is detected by provider */\nexport const newBlock = createStandardAction('newBlock')();\n/* A new token network is detected in the TokenNetworkRegistry instance */\nexport const tokenMonitored = createStandardAction('tokenMonitored').map(({ token, tokenNetwork, first = false, }) => ({\n    payload: { token, tokenNetwork, first },\n}));\n/**\n * Channel actions receive ChannelId as 'meta' action property\n * This way, 'meta' can be used equally for request, success and error actions\n */\n/* Request a channel to be opened with meta={ tokenNetwork, partner } and payload.settleTimeout */\nexport const channelOpen = createStandardAction('channelOpen')();\n/* A channel is detected on-chain. Also works as 'success' for channelOpen action */\nexport const channelOpened = createStandardAction('channelOpened')();\n/* A channelOpen request action (with meta: ChannelId) failed with payload=Error */\nexport const channelOpenFailed = createStandardAction('channelOpenFailed').map((payload, meta) => ({ payload, error: true, meta }));\n/* Channel with meta:ChannelId + payload.id should be monitored */\nexport const channelMonitored = createStandardAction('channelMonitored')();\n/* Request a payload.deposit to be made to channel meta:ChannelId */\nexport const channelDeposit = createStandardAction('channelDeposit')();\n/* A deposit is detected on-chain. Also works as 'success' for channelDeposit action */\nexport const channelDeposited = createStandardAction('channelDeposited')();\n/* A channelDeposit request action (with meta: ChannelId) failed with payload=Error */\nexport const channelDepositFailed = createStandardAction('channelDepositFailed').map((payload, meta) => ({ payload, error: true, meta }));\n/* Request channel meta:ChannelId to be closed */\nexport const channelClose = createStandardAction('channelClose')();\n/* A close channel event is detected on-chain. Also works as 'success' for channelClose action */\nexport const channelClosed = createStandardAction('channelClosed')();\n/* A channelClose request action (with meta: ChannelId) failed with payload=Error */\nexport const channelCloseFailed = createStandardAction('channelCloseFailed').map((payload, meta) => ({ payload, error: true, meta }));\n/* A channel meta:ChannelId becomes settleable, starting from payload.settleableBlock */\nexport const channelSettleable = createStandardAction('channelSettleable')();\n/* Request channel meta:ChannelId to be settled */\nexport const channelSettle = createStandardAction('channelSettle')();\n/* A settle channel event is detected on-chain. Also works as 'success' for channelSettle action */\nexport const channelSettled = createStandardAction('channelSettled')();\n/* A channelSettle request action (with meta: ChannelId) failed with payload=Error */\nexport const channelSettleFailed = createStandardAction('channelSettleFailed').map((payload, meta) => ({ payload, error: true, meta }));\n//# sourceMappingURL=actions.js.map","import { isActionOf } from 'typesafe-actions';\nimport { get, set, unset } from 'lodash/fp';\nimport { Zero } from 'ethers/constants';\nimport { partialCombineReducers } from '../utils/redux';\nimport { initialState } from '../state';\nimport { channelClose, channelClosed, channelDeposited, channelOpen, channelOpened, channelOpenFailed, channelSettle, channelSettleable, channelSettled, newBlock, tokenMonitored, } from './actions';\nimport { ChannelState } from './state';\n// state.blockNumber specific reducer, handles only newBlock action\nfunction blockNumber(state = initialState.blockNumber, action) {\n    if (isActionOf(newBlock, action))\n        return action.payload.blockNumber;\n    else\n        return state;\n}\n// state.tokens specific reducer, handles only tokenMonitored action\nfunction tokens(state = initialState.tokens, action) {\n    if (isActionOf(tokenMonitored, action))\n        return set([action.payload.token], action.payload.tokenNetwork, state);\n    else\n        return state;\n}\n// handles all channel actions and requests\nfunction channels(state = initialState.channels, action) {\n    if (isActionOf(channelOpen, action)) {\n        const path = [action.meta.tokenNetwork, action.meta.partner];\n        if (get(path, state))\n            return state; // there's already a channel with partner\n        const channel = {\n            state: ChannelState.opening,\n            own: { deposit: Zero },\n            partner: { deposit: Zero },\n        };\n        return set(path, channel, state);\n    }\n    else if (isActionOf(channelOpened, action)) {\n        const path = [action.meta.tokenNetwork, action.meta.partner], channel = {\n            state: ChannelState.open,\n            own: { deposit: Zero },\n            partner: { deposit: Zero },\n            id: action.payload.id,\n            settleTimeout: action.payload.settleTimeout,\n            openBlock: action.payload.openBlock,\n        };\n        return set(path, channel, state);\n    }\n    else if (isActionOf(channelOpenFailed, action)) {\n        const path = [action.meta.tokenNetwork, action.meta.partner];\n        if (get([...path, 'state'], state) !== ChannelState.opening)\n            return state;\n        return unset(path, state);\n    }\n    else if (isActionOf(channelDeposited, action)) {\n        const path = [action.meta.tokenNetwork, action.meta.partner];\n        let channel = get(path, state);\n        if (!channel || channel.state !== ChannelState.open || channel.id !== action.payload.id)\n            return state;\n        if (action.payload.participant === action.meta.partner)\n            channel = set(['partner', 'deposit'], action.payload.totalDeposit, channel);\n        else\n            channel = set(['own', 'deposit'], action.payload.totalDeposit, channel);\n        return set(path, channel, state);\n    }\n    else if (isActionOf(channelClose, action)) {\n        const path = [action.meta.tokenNetwork, action.meta.partner];\n        let channel = get(path, state);\n        if (!channel || channel.state !== ChannelState.open)\n            return state;\n        channel = Object.assign({}, channel, { state: ChannelState.closing });\n        return set(path, channel, state);\n    }\n    else if (isActionOf(channelClosed, action)) {\n        const path = [action.meta.tokenNetwork, action.meta.partner];\n        let channel = get(path, state);\n        if (!channel ||\n            !(channel.state === ChannelState.open || channel.state === ChannelState.closing) ||\n            channel.id !== action.payload.id)\n            return state;\n        channel = Object.assign({}, channel, { state: ChannelState.closed, closeBlock: action.payload.closeBlock });\n        return set(path, channel, state);\n    }\n    else if (isActionOf(channelSettleable, action)) {\n        const path = [action.meta.tokenNetwork, action.meta.partner];\n        let channel = get(path, state);\n        if (!channel || channel.state !== ChannelState.closed)\n            return state;\n        channel = Object.assign({}, channel, { state: ChannelState.settleable });\n        return set(path, channel, state);\n    }\n    else if (isActionOf(channelSettle, action)) {\n        const path = [action.meta.tokenNetwork, action.meta.partner];\n        let channel = get(path, state);\n        if (!channel || channel.state !== ChannelState.settleable)\n            return state;\n        channel = Object.assign({}, channel, { state: ChannelState.settling });\n        return set(path, channel, state);\n    }\n    else if (isActionOf(channelSettled, action)) {\n        const path = [action.meta.tokenNetwork, action.meta.partner];\n        let channel = get(path, state);\n        if (!channel ||\n            ![ChannelState.closed, ChannelState.settleable, ChannelState.settling].includes(channel.state))\n            return state;\n        return unset(path, state);\n    }\n    else\n        return state;\n}\n/**\n * Nested/combined reducer for channels\n * blockNumber, tokens & channels reducers get its own slice of the state, corresponding to the\n * name of the reducer. channels root reducer instead must be handled the complete state instead,\n * so it compose the output with each key/nested/combined state.\n */\nexport const channelsReducer = partialCombineReducers({ blockNumber, tokens, channels }, initialState);\n//# sourceMappingURL=reducer.js.map","import { createStandardAction } from 'typesafe-actions';\n/* MatrixClient instance is ready and logged in to payload.server with credentials payload.setup */\nexport const matrixSetup = createStandardAction('matrixSetup')();\n/* Request matrix to start monitoring presence updates for meta.address */\nexport const matrixRequestMonitorPresence = createStandardAction('matrixRequestMonitorPresence')();\n/**\n * Monitored user meta.address presence updated.\n * First event for this address also works as 'success' for matrixRequestMonitorPresence\n */\nexport const matrixPresenceUpdate = createStandardAction('matrixPresenceUpdate').map(({ userId, available, ts }, meta) => ({ payload: { userId, available, ts: ts || Date.now() }, meta }));\n/* A matrixRequestMonitorPresence request action (with meta.address) failed with payload=Error */\nexport const matrixRequestMonitorPresenceFailed = createStandardAction('matrixRequestMonitorPresenceFailed').map((payload, meta) => ({ payload, error: true, meta }));\n/* payload.roomId must go front on meta.address's room queue */\nexport const matrixRoom = createStandardAction('matrixRoom')();\n/* payload.roomId must be excluded from meta.address room queue, if present */\nexport const matrixRoomLeave = createStandardAction('matrixRoomLeave')();\n//# sourceMappingURL=actions.js.map","import { isActionOf } from 'typesafe-actions';\nimport { get, getOr, isEmpty, set, unset } from 'lodash/fp';\nimport { partialCombineReducers } from '../utils/redux';\nimport { initialState } from '../state';\nimport { matrixSetup, matrixRoom, matrixRoomLeave } from './actions';\n/**\n * state.transport reducer\n * Handles all transport actions and requests\n *\n * @param state  Current RaidenState['transport'] slice\n * @param action  RaidenAction to handle\n * @returns New RaidenState['transport'] slice\n */\nfunction transport(state = initialState.transport, action) {\n    if (isActionOf(matrixSetup, action)) {\n        return Object.assign({}, state, { matrix: Object.assign({}, state.matrix, action.payload) });\n    }\n    else if (isActionOf(matrixRoom, action)) {\n        const path = ['matrix', 'rooms', action.meta.address];\n        return set(path, [\n            action.payload.roomId,\n            ...getOr([], path, state).filter(room => room !== action.payload.roomId),\n        ], state);\n    }\n    else if (isActionOf(matrixRoomLeave, action)) {\n        const path = ['matrix', 'rooms', action.meta.address];\n        state = set(path, getOr([], path, state).filter(r => r !== action.payload.roomId), state);\n        if (isEmpty(get(path, state)))\n            state = unset(path, state);\n        return state;\n    }\n    else\n        return state;\n}\n/**\n * Nested/combined reducer for transport\n * Currently only handles 'transport' substate\n */\nexport const transportReducer = partialCombineReducers({ transport }, initialState);\n//# sourceMappingURL=reducer.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n// import * as t from 'io-ts';\nimport { ThrowReporter } from 'io-ts/lib/ThrowReporter';\nimport { isLeft } from 'fp-ts/lib/Either';\nimport { keccak256, verifyMessage } from 'ethers/utils';\nimport { concat, hexlify, arrayify } from 'ethers/utils/bytes';\nimport { HashZero } from 'ethers/constants';\nimport { Signature } from '../utils/types';\nimport { encode, losslessParse, losslessStringify } from '../utils/data';\nimport { Message, MessageType, SignedMessageCodecs } from './types';\nconst CMDIDs = {\n    [MessageType.DELIVERED]: 12,\n    [MessageType.PROCESSED]: 0,\n    [MessageType.SECRET_REQUEST]: 3,\n    [MessageType.SECRET_REVEAL]: 11,\n    [MessageType.LOCKED_TRANSFER]: 7,\n    [MessageType.REFUND_TRANSFER]: 8,\n    [MessageType.UNLOCK]: 4,\n    [MessageType.LOCK_EXPIRED]: 13,\n};\n/**\n * Create the messageHash for a given EnvelopeMessage\n *\n * @param message EnvelopeMessage to pack\n * @returns Hash of the message pack\n */\nexport function createMessageHash(message) {\n    switch (message.type) {\n        case MessageType.LOCKED_TRANSFER:\n        case MessageType.REFUND_TRANSFER:\n            // hash of packed representation of the whole message\n            return keccak256(concat([\n                encode(CMDIDs[message.type], 1),\n                encode(0, 3),\n                encode(message.nonce, 8),\n                encode(message.chain_id, 32),\n                encode(message.message_identifier, 8),\n                encode(message.payment_identifier, 8),\n                encode(message.lock.expiration, 32),\n                encode(message.token_network_address, 20),\n                encode(message.token, 20),\n                encode(message.channel_identifier, 32),\n                encode(message.recipient, 20),\n                encode(message.target, 20),\n                encode(message.initiator, 20),\n                encode(message.locksroot, 32),\n                encode(message.lock.secrethash, 32),\n                encode(message.transferred_amount, 32),\n                encode(message.locked_amount, 32),\n                encode(message.lock.amount, 32),\n                encode(message.fee, 32),\n            ]));\n        case MessageType.UNLOCK:\n            return keccak256(concat([\n                encode(CMDIDs[message.type], 1),\n                encode(0, 3),\n                encode(message.chain_id, 32),\n                encode(message.message_identifier, 8),\n                encode(message.payment_identifier, 8),\n                encode(message.token_network_address, 20),\n                encode(message.secret, 32),\n                encode(message.nonce, 8),\n                encode(message.channel_identifier, 32),\n                encode(message.transferred_amount, 32),\n                encode(message.locked_amount, 32),\n                encode(message.locksroot, 32),\n            ]));\n        case MessageType.LOCK_EXPIRED:\n            return keccak256(concat([\n                encode(CMDIDs[message.type], 1),\n                encode(0, 3),\n                encode(message.nonce, 8),\n                encode(message.chain_id, 32),\n                encode(message.message_identifier, 8),\n                encode(message.token_network_address, 20),\n                encode(message.channel_identifier, 32),\n                encode(message.recipient, 20),\n                encode(message.locksroot, 32),\n                encode(message.secrethash, 32),\n                encode(message.transferred_amount, 32),\n                encode(message.locked_amount, 32),\n            ]));\n    }\n}\n/**\n * Pack a message in a hex-string format, **without** signature\n * This packed hex-byte-array can then be used for signing.\n * On Raiden python client, this is the output of `_data_to_sign` method of the messages, as the\n * actual packed encoding was once used for binary transport protocols, but nowadays is used only\n * for generating data to be signed, which is the purpose of our implementation.\n *\n * @param message Message to be packed\n * @returns HexBytes hex-encoded string data representing message in binary format\n */\nexport function packMessage(message) {\n    switch (message.type) {\n        case MessageType.DELIVERED:\n            return hexlify(concat([\n                encode(CMDIDs[message.type], 1),\n                encode(0, 3),\n                encode(message.delivered_message_identifier, 8),\n            ]));\n        case MessageType.PROCESSED:\n            return hexlify(concat([\n                encode(CMDIDs[message.type], 1),\n                encode(0, 3),\n                encode(message.message_identifier, 8),\n            ]));\n        case MessageType.LOCKED_TRANSFER:\n        case MessageType.REFUND_TRANSFER:\n        case MessageType.UNLOCK:\n        case MessageType.LOCK_EXPIRED: {\n            const messageHash = createMessageHash(message), balanceHash = (message.transferred_amount.isZero() &&\n                message.locked_amount.isZero() &&\n                message.locksroot === HashZero\n                ? HashZero\n                : keccak256(concat([\n                    encode(message.transferred_amount, 32),\n                    encode(message.locked_amount, 32),\n                    encode(message.locksroot, 32),\n                ])));\n            return hexlify(concat([\n                encode(message.token_network_address, 20),\n                encode(message.chain_id, 32),\n                encode(1, 32),\n                encode(message.channel_identifier, 32),\n                encode(balanceHash, 32),\n                encode(message.nonce, 32),\n                encode(messageHash, 32),\n            ]));\n        }\n        case MessageType.SECRET_REQUEST:\n            return hexlify(concat([\n                encode(CMDIDs[message.type], 1),\n                encode(0, 3),\n                encode(message.message_identifier, 8),\n                encode(message.payment_identifier, 8),\n                encode(message.secrethash, 32),\n                encode(message.amount, 32),\n                encode(message.expiration, 32),\n            ]));\n        case MessageType.SECRET_REVEAL:\n            return hexlify(concat([\n                encode(CMDIDs[message.type], 1),\n                encode(0, 3),\n                encode(message.message_identifier, 8),\n                encode(message.secret, 32),\n            ]));\n    }\n}\n/**\n * Typeguard to check if a message contains a valid signature\n *\n * @param message  May or may not be a signed message\n * @returns  Boolean if message is signed\n */\nexport function isSigned(message) {\n    return Signature.is(message.signature);\n}\n/**\n * Requires a signed message and returns its signer address\n *\n * @param message  Signed message to retrieve signer address\n * @returns  Address which signed message\n */\nexport function getMessageSigner(message) {\n    return verifyMessage(arrayify(packMessage(message)), message.signature);\n}\n/**\n * Get the SignedBalanceProof associated with an EnvelopeMessage\n *\n * @param message  Signed EnvelopeMessage\n * @returns SignedBalanceProof object for message\n */\nexport function getBalanceProofFromEnvelopeMessage(message) {\n    return {\n        chainId: message.chain_id,\n        tokenNetworkAddress: message.token_network_address,\n        channelId: message.channel_identifier,\n        nonce: message.nonce,\n        transferredAmount: message.transferred_amount,\n        lockedAmount: message.locked_amount,\n        locksroot: message.locksroot,\n        messageHash: createMessageHash(message),\n        signature: message.signature,\n        sender: getMessageSigner(message),\n    };\n}\n/**\n * Encode a Message as a JSON string\n * Uses lossless-json to encode BigNumbers as JSON 'number' type, as Raiden\n *\n * @param message Message object to be serialized\n * @returns JSON string\n */\nexport function encodeJsonMessage(message) {\n    const codec = SignedMessageCodecs[message.type];\n    return losslessStringify(codec.encode(message));\n}\n/**\n * Try to decode text as a Message, using lossless-json to decode BigNumbers\n * Throws if can't decode, or message is invalid regarding any of the encoded constraints\n *\n * @param text JSON string to try to decode\n * @returns Message object\n */\nexport function decodeJsonMessage(text) {\n    const parsed = losslessParse(text);\n    if (!Message.is(parsed))\n        throw new Error(`Could not find Message \"type\" in ${text}`);\n    const decoded = SignedMessageCodecs[parsed.type].decode(parsed);\n    if (isLeft(decoded))\n        throw ThrowReporter.report(decoded); // throws if decode failed\n    return decoded.right;\n}\n/**\n * Pack message and request signer to sign it, and returns signed message\n *\n * @param signer  Signer instance\n * @param message Unsigned message to pack and sign\n * @returns  Promise to signed message\n */\nexport function signMessage(signer, message) {\n    return __awaiter(this, void 0, void 0, function* () {\n        if (isSigned(message))\n            return message;\n        const signature = (yield signer.signMessage(arrayify(packMessage(message))));\n        return Object.assign({}, message, { signature });\n    });\n}\n//# sourceMappingURL=utils.js.map","import { createStandardAction } from 'typesafe-actions';\n/** A request to initiate a transfer */\nexport const transfer = createStandardAction('transfer')();\n/** A LockedTransfer was signed and should be sent to partner */\nexport const transferSigned = createStandardAction('transferSigned')();\n/** Partner acknowledge they received and processed our LockedTransfer */\nexport const transferProcessed = createStandardAction('transferProcessed')();\n/** Register a secret */\nexport const transferSecret = createStandardAction('transferSecret')();\n/** A valid SecretRequest received from target */\nexport const transferSecretRequest = createStandardAction('transferSecretRequest')();\n/** A SecretReveal sent to target */\nexport const transferSecretReveal = createStandardAction('transferSecretReveal')();\n/** Unlock request after partner also revealed they know the secret */\nexport const transferUnlock = createStandardAction('transferUnlock')();\n/** Signed Unlock to be sent to partner */\nexport const transferUnlocked = createStandardAction('transferUnlocked')();\n/** A request to expire a given transfer */\nexport const transferExpire = createStandardAction('transferExpire')();\n/** A transfer LockExpired message/BalanceProof successfuly generated */\nexport const transferExpired = createStandardAction('transferExpired')();\n/**\n * A transfer expiration request failed for any reason\n * e.g. user rejected sign promopt. It should eventually get prompted again, on a future newBlock\n * action which sees this transfer should be expired but sent.lockExpired didn't get set yet.\n */\nexport const transferExpireFailed = createStandardAction('transferExpireFailed').map((payload, meta) => ({ payload, error: true, meta }));\n/** A transfer was refunded */\nexport const transferRefunded = createStandardAction('transferRefunded')();\n/**\n * A transfer completed successfuly\n *\n * A transfer is considered as having succeeded from the time the secret is revealed to the target,\n * as from there, target and mediators can claim the payment down to us. But the full off-chain\n * happy case completes only after partner/neighbor acknowledges receiving the Unlock.\n * So, we usually only emits this action in the end of the happy case, and it'll then contain the\n * unlock's balanceProof, which indicates the full off-chain path succeeded.\n * It'll be emitted without a balanceProof if something forces the transfer to complete\n * (e.g.  channel closed), the secret was revealed (so target was paid) but for any reason the\n * unlock didn't happen yet.\n */\nexport const transferred = createStandardAction('transferred')();\n/**\n * A transfer failed and can't succeed anymore\n *\n * It is emitted as soon as we know the transfer failed definitely, like when a RefundTransfer is\n * received or the lock expires before revealing the secret. It notifies the user (e.g. pending\n * Promises) that the transfer failed and won't be paid (eventually, locked amount will be\n * recovered by expiring the lock).\n */\nexport const transferFailed = createStandardAction('transferFailed').map((payload, meta) => ({ payload, error: true, meta }));\n/** A pending transfer isn't needed anymore and should be cleared from state */\nexport const transferClear = createStandardAction('transferClear')();\n//# sourceMappingURL=actions.js.map","import { concat, hexlify } from 'ethers/utils/bytes';\nimport { keccak256, randomBytes, bigNumberify } from 'ethers/utils';\nimport { HashZero } from 'ethers/constants';\nimport { isEmpty } from 'lodash';\nimport { encode } from '../utils/data';\n/**\n * Return the hash of a lock\n *\n * @param lock The lock to have the hash calculated from\n * @returns hash of lock\n */\nexport function lockhash(lock) {\n    return keccak256(concat([encode(lock.expiration, 32), encode(lock.amount, 32), lock.secrethash]));\n}\n/**\n * Get the locksroot of a given locks array using keccak256\n * On Red-Eyes, locksroot is the root of the merkle tree of the hashes of the locks\n * TODO: replace by list concat hash instead, after moving to raiden-contracts@^0.25\n *\n * @param locks Lock array to calculate the locksroot from\n * @returns hash of the locks array\n */\nexport function getLocksroot(locks) {\n    if (isEmpty(locks))\n        return HashZero;\n    const leaves = locks.map(lockhash);\n    while (leaves.length > 1) {\n        for (let i = 0; i < leaves.length - 1; i++) {\n            leaves.splice(i, 2, keccak256(leaves[i] + leaves[i + 1].substr(2)));\n        }\n    }\n    return leaves[0]; // merkle tree root\n}\n/**\n * Generates a random secret of given length, as an HexString<32>\n *\n * @param length of the secret to generate\n * @returns HexString<32>\n */\nexport function makeSecret(length = 32) {\n    return hexlify(randomBytes(length));\n}\n/**\n * Generates a random payment identifier, as an UInt<8> (64 bits)\n *\n * @returns UInt<8>\n */\nexport function makePaymentId() {\n    return bigNumberify(randomBytes(8));\n}\n/**\n * Generates a message identifier, as an UInt<8> (64 bits)\n *\n * @returns UInt<8>\n */\nexport function makeMessageId() {\n    return bigNumberify(Date.now());\n}\n//# sourceMappingURL=utils.js.map","import { isActionOf } from 'typesafe-actions';\nimport { get, set, unset } from 'lodash/fp';\nimport { Zero } from 'ethers/constants';\nimport { initialState } from '../state';\nimport { getBalanceProofFromEnvelopeMessage } from '../messages/utils';\nimport { transferSigned, transferSecret, transferProcessed, transferUnlocked, transferExpired, transferSecretReveal, transferClear, transferRefunded, } from './actions';\nimport { getLocksroot } from './utils';\n/**\n * Handles all transfers actions and requests\n *\n * @param state  Current RaidenState\n * @param action  RaidenAction to handle\n * @returns New RaidenState (or current, if action didn't change anything)\n */\nexport function transfersReducer(state = initialState, action) {\n    if (isActionOf(transferSecret, action)) {\n        if (action.meta.secrethash in state.secrets &&\n            state.secrets[action.meta.secrethash].registerBlock)\n            return state; // avoid storing without registerBlock if we already got with\n        return Object.assign({}, state, { secrets: Object.assign({}, state.secrets, { [action.meta.secrethash]: action.payload }) });\n    }\n    else if (isActionOf(transferSigned, action)) {\n        const transfer = action.payload.message, lock = transfer.lock, secrethash = lock.secrethash;\n        // transferSigned must be the first action, to init SentTransfer state\n        if (secrethash in state.sent)\n            return state;\n        const channelPath = ['channels', transfer.token_network_address, transfer.recipient];\n        let channel = get(channelPath, state);\n        if (!channel)\n            return state;\n        const locks = [...(channel.own.locks || []), lock], // append lock\n        locksroot = getLocksroot(locks);\n        if (transfer.locksroot !== locksroot ||\n            !transfer.nonce.eq((channel.own.balanceProof ? channel.own.balanceProof.nonce : Zero).add(1)) || // nonce must be next\n            !transfer.transferred_amount.eq(channel.own.balanceProof ? channel.own.balanceProof.transferredAmount : Zero) ||\n            !transfer.locked_amount.eq((channel.own.balanceProof ? channel.own.balanceProof.lockedAmount : Zero).add(lock.amount)))\n            return state;\n        channel = Object.assign({}, channel, { own: Object.assign({}, channel.own, { locks, \n                // set current/latest channel.own.balanceProof to LockedTransfer's\n                balanceProof: getBalanceProofFromEnvelopeMessage(transfer), history: Object.assign({}, channel.own.history, { [Date.now().toString()]: transfer }) }) });\n        const sentTransfer = { transfer };\n        state = set(channelPath, channel, state);\n        state = set(['sent', secrethash], sentTransfer, state);\n        return state;\n    }\n    else if (isActionOf(transferProcessed, action)) {\n        if (!(action.meta.secrethash in state.sent))\n            return state;\n        return Object.assign({}, state, { sent: Object.assign({}, state.sent, { [action.meta.secrethash]: Object.assign({}, state.sent[action.meta.secrethash], { transferProcessed: action.payload.message }) }) });\n    }\n    else if (isActionOf(transferSecretReveal, action)) {\n        if (!(action.meta.secrethash in state.sent) || state.sent[action.meta.secrethash].secretReveal)\n            return state;\n        return Object.assign({}, state, { sent: Object.assign({}, state.sent, { [action.meta.secrethash]: Object.assign({}, state.sent[action.meta.secrethash], { secretReveal: action.payload.message }) }) });\n    }\n    else if (isActionOf(transferUnlocked, action)) {\n        const unlock = action.payload.message, secrethash = action.meta.secrethash;\n        if (!(secrethash in state.sent) || state.sent[secrethash].unlock)\n            return state;\n        const transfer = state.sent[secrethash].transfer, lock = transfer.lock;\n        const channelPath = ['channels', transfer.token_network_address, transfer.recipient];\n        let channel = get(channelPath, state);\n        if (!channel || !channel.own.locks || !channel.own.balanceProof)\n            return state;\n        const locks = channel.own.locks.filter(l => l.secrethash !== secrethash), locksroot = getLocksroot(locks);\n        if (unlock.locksroot !== locksroot ||\n            !channel.own.balanceProof.nonce.add(1).eq(unlock.nonce) || // nonce must be next\n            !unlock.transferred_amount.eq(channel.own.balanceProof.transferredAmount.add(lock.amount)) ||\n            !unlock.locked_amount.eq(channel.own.balanceProof.lockedAmount.sub(lock.amount)))\n            return state;\n        channel = Object.assign({}, channel, { own: Object.assign({}, channel.own, { locks, \n                // set current/latest channel.own.balanceProof to Unlock's\n                balanceProof: getBalanceProofFromEnvelopeMessage(unlock), history: Object.assign({}, channel.own.history, { [Date.now().toString()]: unlock }) }) });\n        const sentTransfer = Object.assign({}, state.sent[secrethash], { unlock });\n        state = set(channelPath, channel, state);\n        state = set(['sent', secrethash], sentTransfer, state);\n        return state;\n    }\n    else if (isActionOf(transferExpired, action)) {\n        const lockExpired = action.payload.message, secrethash = action.meta.secrethash;\n        if (!(secrethash in state.sent) ||\n            state.sent[secrethash].unlock || // don't accept expire if already unlocked\n            state.sent[secrethash].lockExpired // already expired\n        )\n            return state;\n        const transfer = state.sent[secrethash].transfer, lock = transfer.lock;\n        const channelPath = ['channels', transfer.token_network_address, transfer.recipient];\n        let channel = get(channelPath, state);\n        if (!channel || !channel.own.locks || !channel.own.balanceProof)\n            return state;\n        const locks = channel.own.locks.filter(l => l.secrethash !== secrethash), locksroot = getLocksroot(locks);\n        if (lockExpired.locksroot !== locksroot ||\n            !channel.own.balanceProof.nonce.add(1).eq(lockExpired.nonce) || // nonce must be next\n            !lockExpired.transferred_amount.eq(channel.own.balanceProof.transferredAmount) ||\n            !lockExpired.locked_amount.eq(channel.own.balanceProof.lockedAmount.sub(lock.amount)))\n            return state;\n        channel = Object.assign({}, channel, { own: Object.assign({}, channel.own, { locks, \n                // set current/latest channel.own.balanceProof to LockExpired's\n                balanceProof: getBalanceProofFromEnvelopeMessage(lockExpired), history: Object.assign({}, channel.own.history, { [Date.now().toString()]: lockExpired }) }) });\n        const sentTransfer = Object.assign({}, state.sent[secrethash], { lockExpired });\n        state = set(channelPath, channel, state);\n        state = set(['sent', secrethash], sentTransfer, state);\n        return state;\n    }\n    else if (isActionOf(transferRefunded, action)) {\n        const refund = action.payload.message, secrethash = action.meta.secrethash, channelPath = ['channels', refund.token_network_address, refund.initiator];\n        let channel = get(channelPath, state);\n        if (!(secrethash in state.sent) || !channel)\n            return state;\n        channel = Object.assign({}, channel, { own: Object.assign({}, channel.own, { history: Object.assign({}, channel.own.history, { [Date.now().toString()]: refund }) }) });\n        const sentTransfer = Object.assign({}, state.sent[secrethash], { refund });\n        state = set(channelPath, channel, state);\n        state = set(['sent', secrethash], sentTransfer, state);\n        return state;\n    }\n    else if (isActionOf(transferClear, action)) {\n        if (!(action.meta.secrethash in state.sent))\n            return state;\n        state = unset(['sent', action.meta.secrethash], state);\n        state = unset(['secrets', action.meta.secrethash], state);\n        return state;\n    }\n    else\n        return state;\n}\n//# sourceMappingURL=reducer.js.map","import { channelsReducer } from './channels/reducer';\nimport { transportReducer } from './transport/reducer';\nimport { transfersReducer } from './transfers/reducer';\nimport { initialState } from './state';\nconst raidenReducers = {\n    channelsReducer,\n    transportReducer,\n    transfersReducer,\n};\n/**\n * Raiden root reducer\n * Apply action over each submodule root reducer in a flattened manner (iteratively).\n * Notice the submodules reducers aren't handled only a partial/deep property of the state\n * (as combineReducers), but instead receive the whole state, so they can act on any part of the\n * state. This approach is similar to `reduce-reducers` util.\n * Each submodule root reducer may then choose to split its concerns into nested or flattened\n * reducers (like this one).\n *\n * @param state  Current RaidenState to reduce\n * @param action  RaidenAction to apply over state\n * @returns New RaidenState\n */\nexport const raidenReducer = (state = initialState, action) => Object.values(raidenReducers).reduce((s, reducer) => reducer(s, action), state);\n//# sourceMappingURL=reducer.js.map","import { createStandardAction } from 'typesafe-actions';\n/** One-shot send payload.message to meta.address user in transport */\nexport const messageSend = createStandardAction('messageSend')();\n/**\n * Success action when message is actually sent\n * messageSend doesn't fail (except unexpectedly, like network errors), instead just hang there\n * until a suitable set of conditions is met, i.e.: there's a room for recipient's address, an\n * online validated user for this address, and it had joined that room, then the message is sent\n * and this success action is emitted. 'payload.message' and 'meta.address' should be kept strictly\n * equal to messageSend (even by reference, in case of Message), to ease filtering.\n * Useful to control retry without queueing multiple identical messages while the first is still\n * pending\n */\nexport const messageSent = createStandardAction('messageSent')();\n/**\n * payload.message was received on payload.ts (timestamp) from meta.address\n * payload.userId and payload.roomId are optional and specific to matrix transport, as sender info\n */\nexport const messageReceived = createStandardAction('messageReceived').map(({ text, message, ts, userId, roomId, }, meta) => ({ payload: { text, message, ts: ts || Date.now(), userId, roomId }, meta }));\n//# sourceMappingURL=actions.js.map","/**\n * Aggregate types and exported properties from actions from all modules\n */\nimport { pick } from 'lodash';\nimport { createStandardAction, getType } from 'typesafe-actions';\nimport * as ChannelsActions from './channels/actions';\nimport * as TransportActions from './transport/actions';\nimport * as MessagesActions from './messages/actions';\nimport * as TransfersActions from './transfers/actions';\nexport const raidenShutdown = createStandardAction('raidenShutdown')();\nexport const RaidenActions = Object.assign({ raidenShutdown }, ChannelsActions, TransportActions, MessagesActions, TransfersActions);\n/* Mapping { [type: string]: Action } of a subset of RaidenActions exposed as events */\nexport const RaidenEvents = pick(RaidenActions, [RaidenActions.raidenShutdown, RaidenActions.newBlock, RaidenActions.matrixPresenceUpdate].map(getType));\n//# sourceMappingURL=actions.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { getNetwork as parseNetwork } from 'ethers/utils/networks';\nimport { flatten, sortBy } from 'lodash';\nimport { fromEventPattern, merge, from, of, defer, EMPTY } from 'rxjs';\nimport { filter, first, map, mergeAll, switchMap, withLatestFrom, mergeMap } from 'rxjs/operators';\n/**\n * Like rxjs' fromEvent, but event can be an EventFilter\n *\n * @param target  Object to hook event listener, maybe a Provider or Contract\n * @param event  EventFilter or string representing the event to listen to\n * @param resultSelector  A map of events arguments to output parameters\n *      Default is to pass only first parameter\n * @returns Observable of target.on(event) events\n */\nexport function fromEthersEvent(target, event, resultSelector) {\n    return fromEventPattern((handler) => target.on(event, handler), (handler) => target.removeListener(event, handler), resultSelector);\n}\n/**\n * getEventsStream returns a stream of T-type tuples (arrays) from Contract's\n * events from filters. These events are polled since provider's [re]setEventsBlock to newest\n * polled block. If both 'fromBlock$' and 'lastSeenBlock$' are specified, also fetch past events\n * since fromBlock up to lastSeenBlock$ === provider.resetEventsBlock - 1\n * T must be a tuple-like type receiving all filters arguments plus the respective Event in the end\n *\n * @param contract  Contract source instance for filters, connected to a provider\n * @param filters  array of OR filters from tokenNetwork\n * @param fromBlock$  Observable of a past blockNumber since when to fetch past events\n * @param lastSeenBlock$  Observable of latest seen block, to be used as toBlock of pastEvents.\n *      lastSeenBlock + 1 is supposed to be first one fetched by contract.on newEvents$\n *      Both fromBlock$ and lastSeenBlock$ need to be set to fetch pastEvents$\n * @returns Observable of contract's events\n */\nexport function getEventsStream(contract, filters, fromBlock$, lastSeenBlock$) {\n    const provider = contract.provider;\n    // filters for channels opened by and with us\n    const newEvents$ = from(filters).pipe(mergeMap(filter => fromEthersEvent(contract, filter, (...args) => args)));\n    let pastEvents$ = EMPTY;\n    if (fromBlock$ && lastSeenBlock$) {\n        pastEvents$ = fromBlock$.pipe(withLatestFrom(defer(() => (provider.blockNumber ? of(provider.blockNumber) : lastSeenBlock$))), first(), switchMap(([fromBlock, toBlock]) => __awaiter(this, void 0, void 0, function* () {\n            const logs = yield Promise.all(filters.map(filter => provider.getLogs(Object.assign({}, filter, { fromBlock, toBlock }))));\n            // flatten array of each getLogs query response and sort them\n            // emit log array elements as separate logs into stream\n            return from(sortBy(flatten(logs), ['blockNumber']));\n        })), mergeAll(), // async return above will be a Promise of an Observable, so unpack inner$\n        map(log => {\n            // parse log into [...args, event: Event] array,\n            // the same that contract.on events/callbacks\n            const parsed = contract.interface.parseLog(log);\n            if (!parsed)\n                return;\n            const args = Array.prototype.slice.call(parsed.values);\n            // not all parameters quite needed right now, but let's comply with the interface\n            const event = Object.assign({}, log, parsed, { args, removeListener: () => { }, getBlock: () => provider.getBlock(log.blockHash), getTransaction: () => provider.getTransaction(log.transactionHash), getTransactionReceipt: () => provider.getTransactionReceipt(log.transactionHash), decode: undefined });\n            return [...args, event];\n        }), filter((event) => !!event));\n    }\n    return merge(pastEvents$, newEvents$);\n}\n/**\n * Like Provider.getNetwork, but fetches every time instead of using cached property\n *\n * @param provider Provider to fetch data from\n * @returns Promise of Network info\n */\nexport function getNetwork(provider) {\n    return __awaiter(this, void 0, void 0, function* () {\n        return parseNetwork(parseInt(yield provider.send('net_version', [])));\n    });\n}\n/**\n * Patch JsonRpcProvider.send to try personal_sign first, and fallback to eth_sign if it fails\n * Call it once on the provider instance\n *\n * @param provider  A JsonRpcProvider instance to patch\n */\nexport function patchSignSend(provider) {\n    const origSend = provider.send;\n    provider.send = function (method, params) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (method === 'eth_sign') {\n                // try 'personal_sign' by default instead of 'eth_sign'\n                return origSend.apply(this, ['personal_sign', [params[1], params[0]]]).catch(err => {\n                    // on first error, if personal_sign isn't available\n                    if (err instanceof Error &&\n                        (err.message.includes('The method personal_sign does not exist') ||\n                            err.message.includes('Method personal_sign not supported'))) {\n                        provider.send = origSend; // un-patch\n                        return provider.send(method, params); // and retry with eth_sign\n                    }\n                    throw err; // else, re-raise\n                });\n            }\n            return origSend.apply(this, [method, params]);\n        });\n    };\n}\n//# sourceMappingURL=ethers.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { from, of, EMPTY, merge, interval, ReplaySubject } from 'rxjs';\nimport { catchError, filter, map, mergeMap, mergeMapTo, startWith, tap, takeWhile, withLatestFrom, groupBy, exhaustMap, multicast, first, } from 'rxjs/operators';\nimport { isActionOf } from 'typesafe-actions';\nimport { findKey, get, isEmpty, negate } from 'lodash';\nimport { HashZero, Zero } from 'ethers/constants';\nimport { raidenShutdown } from '../actions';\nimport { ChannelState } from '../channels';\nimport { newBlock, tokenMonitored, channelOpenFailed, channelMonitored, channelDepositFailed, channelCloseFailed, channelSettleFailed, channelOpen, channelOpened, channelDeposit, channelClose, channelSettle, channelSettleable, channelDeposited, channelClosed, channelSettled, } from './actions';\nimport { SignatureZero, ShutdownReason } from '../constants';\nimport { fromEthersEvent, getEventsStream, getNetwork } from '../utils/ethers';\n/**\n * Register for new block events and emit newBlock actions for new blocks\n *\n * @param action$  Observable of RaidenActions\n * @param state$  Observable of RaidenStates\n * @param provider  RaidenEpicDeps members\n * @returns  Observable of newBlock actions\n */\nexport const initNewBlockEpic = ({}, state$, { provider }) => state$.pipe(first(), mergeMap(() => fromEthersEvent(provider, 'block')), map(blockNumber => newBlock({ blockNumber })));\n/**\n * Monitor registry for new token networks and monitor them\n *\n * @param action$  Observable of RaidenActions\n * @param state$  Observable of RaidenStates\n * @param registryContract,contractsInfo  RaidenEpicDeps members\n * @returns  Observable of tokenMonitored actions\n */\nexport const initMonitorRegistryEpic = ({}, state$, { registryContract, contractsInfo }) => state$.pipe(first(), mergeMap(state => merge(\n// monitor old (in case of empty tokens) and new registered tokens\n// and starts monitoring every registered token\ngetEventsStream(registryContract, [registryContract.filters.TokenNetworkCreated(null, null)], isEmpty(state.tokens) ? of(contractsInfo.TokenNetworkRegistry.block_number) : undefined, isEmpty(state.tokens) ? of(state.blockNumber) : undefined).pipe(withLatestFrom(state$.pipe(startWith(state))), map(([[token, tokenNetwork], state]) => tokenMonitored({\n    token,\n    tokenNetwork,\n    first: !(token in state.tokens),\n}))), \n// monitor previously monitored tokens\nfrom(Object.entries(state.tokens)).pipe(map(([token, tokenNetwork]) => tokenMonitored({ token: token, tokenNetwork: tokenNetwork }))))));\n/**\n * Monitor channels previously already on state\n *\n * @param action$  Observable of RaidenActions\n * @param state$  Observable of RaidenStates\n * @returns  Observable of channelMonitored actions\n */\nexport const initMonitorChannelsEpic = ({}, state$) => state$.pipe(first(), mergeMap(function* (state) {\n    for (const [tokenNetwork, obj] of Object.entries(state.channels)) {\n        for (const [partner, channel] of Object.entries(obj)) {\n            if (channel.state === ChannelState.opening)\n                continue;\n            yield channelMonitored({ id: channel.id }, { tokenNetwork: tokenNetwork, partner: partner });\n        }\n    }\n}));\n/**\n * Monitor provider to ensure account continues to be available and network stays the same\n *\n * @param action$  Observable of RaidenActions\n * @param state$  Observable of RaidenStates\n * @param address,network,provider  RaidenEpicDeps members\n * @returns  Observable of raidenShutdown actions\n */\nexport const initMonitorProviderEpic = ({}, state$, { address, network, provider }) => state$.pipe(first(), mergeMap(() => provider.listAccounts()), \n// at init time, check if our address is in provider's accounts list\n// if not, it means Signer is a local Wallet or another non-provider-side account\n// if yes, poll accounts every 1s and monitors if address is still there\n// also, every 1s poll current provider network and monitors if it's the same\n// if any check fails, emits RaidenShutdownAction, nothing otherwise\n// Poll reason from: https://github.com/MetaMask/faq/blob/master/DEVELOPERS.md\n// first/init-time check\nmap(accounts => accounts.includes(address)), mergeMap(isProviderAccount => interval(provider.pollingInterval).pipe(mergeMap(() => merge(\n// if isProviderAccount, also polls and monitors accounts list\nisProviderAccount\n    ? from(provider.listAccounts()).pipe(mergeMap(accounts => !accounts.includes(address)\n        ? of(raidenShutdown({ reason: ShutdownReason.ACCOUNT_CHANGED }))\n        : EMPTY))\n    : EMPTY, \n// unconditionally monitors network changes\nfrom(getNetwork(provider)).pipe(mergeMap(curNetwork => curNetwork.chainId !== network.chainId\n    ? of(raidenShutdown({ reason: ShutdownReason.NETWORK_CHANGED }))\n    : EMPTY)))))));\n/**\n * Starts monitoring a token network for events\n * When this action goes through (because a former or new token registry event was deteceted),\n * subscribe to events and emit respective actions to the stream. Currently:\n * - ChannelOpened events with us or by us\n *\n * @param action$  Observable of tokenMonitored actions\n * @param state$  Observable of RaidenStates\n * @param matrix$  RaidenEpicDeps members\n * @returns  Observable of channelOpened actions\n */\nexport const tokenMonitoredEpic = (action$, state$, { address, getTokenNetworkContract, contractsInfo }) => state$.pipe(map(state => state.blockNumber), multicast(new ReplaySubject(1), blockNumber$ => action$.pipe(filter(isActionOf(tokenMonitored)), groupBy(action => action.payload.tokenNetwork), mergeMap(grouped$ => grouped$.pipe(exhaustMap(action => {\n    const tokenNetworkContract = getTokenNetworkContract(action.payload.tokenNetwork);\n    const filters = [\n        tokenNetworkContract.filters.ChannelOpened(null, address, null, null),\n        tokenNetworkContract.filters.ChannelOpened(null, null, address, null),\n    ];\n    console.log('getEventsStream', action, blockNumber$);\n    return getEventsStream(tokenNetworkContract, filters, \n    // if first time monitoring this token network,\n    // fetch TokenNetwork's pastEvents since registry deployment as fromBlock$\n    action.payload.first\n        ? of(contractsInfo.TokenNetworkRegistry.block_number)\n        : undefined, action.payload.first ? blockNumber$ : undefined).pipe(filter(([, p1, p2]) => p1 === address || p2 === address), map(([id, p1, p2, settleTimeout, event]) => channelOpened({\n        id: id.toNumber(),\n        settleTimeout: settleTimeout.toNumber(),\n        openBlock: event.blockNumber,\n        txHash: event.transactionHash,\n    }, {\n        tokenNetwork: tokenNetworkContract.address,\n        partner: address === p1 ? p2 : p1,\n    })));\n}))))));\n/**\n * Monitors a channel for channel Events\n * Can be called either at initialization time (for previously known channels on previously\n * monitored TokenNetwork) or by a new detected ChannelOpenedAction. On the later case,\n * also fetches events since Channel.openBlock.\n * Currently monitored events:\n * - ChannelNewDeposit, fires a channelDeposited action\n * - ChannelClosedEvent, fires a channelClosed action\n * - ChannelSettledEvent, fires a channelSettled action and completes that channel observable\n *\n * @param action$  Observable of channelMonitored actions\n * @param state$  Observable of RaidenStates\n * @param matrix$  RaidenEpicDeps members\n * @returns  Observable of channelDeposited,channelClosed,channelSettled actions\n */\nexport const channelMonitoredEpic = (action$, state$, { getTokenNetworkContract }) => state$.pipe(map(state => state.blockNumber), multicast(new ReplaySubject(1), blockNumber$ => action$.pipe(filter(isActionOf(channelMonitored)), groupBy(action => `${action.payload.id}#${action.meta.partner}@${action.meta.tokenNetwork}`), mergeMap(grouped$ => grouped$.pipe(exhaustMap(action => {\n    const tokenNetworkContract = getTokenNetworkContract(action.meta.tokenNetwork);\n    // TODO: instead of one filter for each event, optimize to one filter per channel\n    // it requires ethers to support OR filters for topics:\n    // https://github.com/ethers-io/ethers.js/issues/437\n    // can we hook to provider.on directly and decoding the events ourselves?\n    const depositFilter = tokenNetworkContract.filters.ChannelNewDeposit(action.payload.id, null, null), closedFilter = tokenNetworkContract.filters.ChannelClosed(action.payload.id, null, null), settledFilter = tokenNetworkContract.filters.ChannelSettled(action.payload.id, null, null);\n    return merge(getEventsStream(tokenNetworkContract, [depositFilter], \n    // if channelMonitored triggered by ChannelOpenedAction,\n    // fetch Channel's pastEvents since channelOpened blockNumber as fromBlock$\n    action.payload.fromBlock ? of(action.payload.fromBlock) : undefined, action.payload.fromBlock ? blockNumber$ : undefined).pipe(map(([id, participant, totalDeposit, event]) => channelDeposited({\n        id: id.toNumber(),\n        participant,\n        totalDeposit,\n        txHash: event.transactionHash,\n    }, action.meta))), getEventsStream(tokenNetworkContract, [closedFilter], action.payload.fromBlock ? of(action.payload.fromBlock) : undefined, action.payload.fromBlock ? blockNumber$ : undefined).pipe(map(([id, participant, , event]) => channelClosed({\n        id: id.toNumber(),\n        participant,\n        closeBlock: event.blockNumber,\n        txHash: event.transactionHash,\n    }, action.meta))), getEventsStream(tokenNetworkContract, [settledFilter], action.payload.fromBlock ? of(action.payload.fromBlock) : undefined, action.payload.fromBlock ? blockNumber$ : undefined).pipe(map(([id, , , event]) => channelSettled({\n        id: id.toNumber(),\n        settleBlock: event.blockNumber,\n        txHash: event.transactionHash,\n    }, action.meta)))).pipe(\n    // takeWhile tends to broad input to generic Action. We need to narrow it by hand\n    takeWhile(negate(isActionOf(channelSettled)), true));\n}))))));\n/**\n * A channelOpen action requested by user\n * Needs to be called on a previously monitored tokenNetwork. Calls TokenNetwork.openChannel\n * with given parameters. If tx goes through successfuly, stop as ChannelOpened success action\n * will instead be detected and fired by tokenMonitoredEpic. If anything detectable goes wrong,\n * fires a ChannnelOpenActionFailed instead\n *\n * @param action$  Observable of channelOpen actions\n * @param state$  Observable of RaidenStates\n * @param getTokenNetworkContract  RaidenEpicDeps members\n * @returns  Observable of channelOpenFailed actions\n */\nexport const channelOpenEpic = (action$, state$, { getTokenNetworkContract }) => action$.pipe(filter(isActionOf(channelOpen)), withLatestFrom(state$), mergeMap(([action, state]) => {\n    const tokenNetwork = getTokenNetworkContract(action.meta.tokenNetwork);\n    const channelState = get(state.channels, [\n        action.meta.tokenNetwork,\n        action.meta.partner,\n        'state',\n    ]);\n    // proceed only if channel is in 'opening' state, set by this action\n    if (channelState !== ChannelState.opening)\n        return of(channelOpenFailed(new Error(`Invalid channel state: ${channelState}`), action.meta));\n    // send openChannel transaction !!!\n    return from(tokenNetwork.functions.openChannel(state.address, action.meta.partner, action.payload.settleTimeout)).pipe(mergeMap((tx) => __awaiter(this, void 0, void 0, function* () { return ({ receipt: yield tx.wait(), tx }); })), map(({ receipt, tx }) => {\n        if (!receipt.status)\n            throw new Error(`openChannel transaction \"${tx.hash}\" failed`);\n        return tx.hash;\n    }), \n    // if succeeded, return a empty/completed observable\n    // actual ChannelOpenedAction will be detected and handled by tokenMonitoredEpic\n    // if any error happened on tx call/pipeline, mergeMap below won't be hit, and catchError\n    // will then emit the channelOpenFailed action instead\n    mergeMapTo(EMPTY), catchError(error => of(channelOpenFailed(error, action.meta))));\n}));\n/**\n * When we see a new ChannelOpenedAction event, starts monitoring channel\n *\n * @param action$  Observable of channelOpened actions\n * @param state$  Observable of RaidenStates\n * @returns  Observable of channelMonitored actions\n */\nexport const channelOpenedEpic = (action$, state$) => action$.pipe(filter(isActionOf(channelOpened)), withLatestFrom(state$), \n// proceed only if channel is in 'open' state and a deposit is required\nfilter(([action, state]) => {\n    const channel = get(state.channels, [\n        action.meta.tokenNetwork,\n        action.meta.partner,\n    ]);\n    return !!channel && channel.state === ChannelState.open;\n}), map(([action]) => channelMonitored({\n    id: action.payload.id,\n    fromBlock: action.payload.openBlock,\n}, action.meta)));\n/**\n * A ChannelDeposit action requested by user\n * Needs to be called on a previously monitored channel. Calls Token.approve for TokenNetwork\n * and then set respective setTotalDeposit. If all tx go through successfuly, stop as\n * ChannelDeposited success action will instead be detected and reacted by\n * channelMonitoredEpic. If anything detectable goes wrong, fires a ChannelDepositActionFailed\n * instead\n *\n * @param action$  Observable of channelDeposit actions\n * @param state$  Observable of RaidenStates\n * @param address,getTokenContract,getTokenNetworkContract  RaidenEpicDeps members\n * @returns  Observable of channelDepositFailed actions\n */\nexport const channelDepositEpic = (action$, state$, { address, getTokenContract, getTokenNetworkContract }) => action$.pipe(filter(isActionOf(channelDeposit)), withLatestFrom(state$), mergeMap(([action, state]) => {\n    const token = findKey(state.tokens, tn => tn === action.meta.tokenNetwork);\n    if (!token) {\n        const error = new Error(`token for tokenNetwork \"${action.meta.tokenNetwork}\" not found`);\n        return of(channelDepositFailed(error, action.meta));\n    }\n    const tokenContract = getTokenContract(token);\n    const tokenNetworkContract = getTokenNetworkContract(action.meta.tokenNetwork);\n    const channel = get(state.channels, [\n        action.meta.tokenNetwork,\n        action.meta.partner,\n    ]);\n    if (!channel || channel.state !== ChannelState.open || channel.id === undefined) {\n        const error = new Error(`channel for \"${action.meta.tokenNetwork}\" and \"${action.meta.partner}\" not found or not in 'open' state`);\n        return of(channelDepositFailed(error, action.meta));\n    }\n    const channelId = channel.id;\n    // send approve transaction\n    return from(tokenContract.functions.approve(action.meta.tokenNetwork, action.payload.deposit))\n        .pipe(tap(tx => console.log(`sent approve tx \"${tx.hash}\" to \"${token}\"`)), mergeMap((tx) => __awaiter(this, void 0, void 0, function* () { return ({ receipt: yield tx.wait(), tx }); })), map(({ receipt, tx }) => {\n        if (!receipt.status)\n            throw new Error(`token \"${token}\" approve transaction \"${tx.hash}\" failed`);\n        return tx.hash;\n    }), tap(txHash => console.log(`approve tx \"${txHash}\" successfuly mined!`)))\n        .pipe(withLatestFrom(state$), mergeMap(([, state]) => \n    // send setTotalDeposit transaction\n    tokenNetworkContract.functions.setTotalDeposit(channelId, address, state.channels[action.meta.tokenNetwork][action.meta.partner].own.deposit.add(action.payload.deposit), action.meta.partner, { gasLimit: 100e3 })), tap(tx => console.log(`sent setTotalDeposit tx \"${tx.hash}\" to \"${action.meta.tokenNetwork}\"`)), mergeMap((tx) => __awaiter(this, void 0, void 0, function* () { return ({ receipt: yield tx.wait(), tx }); })), map(({ receipt, tx }) => {\n        if (!receipt.status)\n            throw new Error(`tokenNetwork \"${action.meta.tokenNetwork}\" setTotalDeposit transaction \"${tx.hash}\" failed`);\n        return tx.hash;\n    }), tap(txHash => console.log(`setTotalDeposit tx \"${txHash}\" successfuly mined!`)), \n    // if succeeded, return a empty/completed observable\n    // actual ChannelDepositedAction will be detected and handled by channelMonitoredEpic\n    // if any error happened on tx call/pipeline, mergeMap below won't be hit, and catchError\n    // will then emit the channelDepositFailed action instead\n    mergeMapTo(EMPTY), catchError(error => of(channelDepositFailed(error, action.meta))));\n}));\n/**\n * A ChannelClose action requested by user\n * Needs to be called on an opened or closing (for retries) channel.\n * If tx goes through successfuly, stop as ChannelClosed success action will instead be\n * detected and reacted by channelMonitoredEpic. If anything detectable goes wrong, fires a\n * ChannelCloseActionFailed instead\n *\n * @param action$  Observable of channelClose actions\n * @param state$  Observable of RaidenStates\n * @param getTokenNetworkContract  RaidenEpicDeps members\n * @returns  Observable of channelCloseFailed actions\n */\nexport const channelCloseEpic = (action$, state$, { getTokenNetworkContract }) => action$.pipe(filter(isActionOf(channelClose)), withLatestFrom(state$), mergeMap(([action, state]) => {\n    const tokenNetworkContract = getTokenNetworkContract(action.meta.tokenNetwork);\n    const channel = get(state.channels, [\n        action.meta.tokenNetwork,\n        action.meta.partner,\n    ]);\n    if (!channel ||\n        !(channel.state === ChannelState.open || channel.state === ChannelState.closing) ||\n        !channel.id) {\n        const error = new Error(`channel for \"${action.meta.tokenNetwork}\" and \"${action.meta.partner}\" not found or not in 'open' or 'closing' state`);\n        return of(channelCloseFailed(error, action.meta));\n    }\n    const channelId = channel.id;\n    // send closeChannel transaction\n    return from(tokenNetworkContract.functions.closeChannel(channelId, action.meta.partner, HashZero, 0, HashZero, SignatureZero)).pipe(tap(tx => console.log(`sent closeChannel tx \"${tx.hash}\" to \"${action.meta.tokenNetwork}\"`)), mergeMap((tx) => __awaiter(this, void 0, void 0, function* () { return ({ receipt: yield tx.wait(), tx }); })), map(({ receipt, tx }) => {\n        if (!receipt.status)\n            throw new Error(`tokenNetwork \"${action.meta.tokenNetwork}\" closeChannel transaction \"${tx.hash}\" failed`);\n        console.log(`closeChannel tx \"${tx.hash}\" successfuly mined!`);\n        return tx.hash;\n    }), \n    // if succeeded, return a empty/completed observable\n    // actual ChannelClosedAction will be detected and handled by channelMonitoredEpic\n    // if any error happened on tx call/pipeline, mergeMap below won't be hit, and catchError\n    // will then emit the channelCloseFailed action instead\n    mergeMapTo(EMPTY), catchError(error => of(channelCloseFailed(error, action.meta))));\n}));\n/**\n * A ChannelSettle action requested by user\n * Needs to be called on an settleable or settling (for retries) channel.\n * If tx goes through successfuly, stop as ChannelSettled success action will instead be\n * detected and reacted by channelMonitoredEpic. If anything detectable goes wrong, fires a\n * ChannelSettleActionFailed instead\n *\n * @param action$  Observable of channelSettle actions\n * @param state$  Observable of RaidenStates\n * @param address,getTokenNetworkContract  RaidenEpicDeps members\n * @returns  Observable of channelSettleFailed actions\n */\nexport const channelSettleEpic = (action$, state$, { address, getTokenNetworkContract }) => action$.pipe(filter(isActionOf(channelSettle)), withLatestFrom(state$), mergeMap(([action, state]) => {\n    const tokenNetworkContract = getTokenNetworkContract(action.meta.tokenNetwork);\n    const channel = get(state.channels, [\n        action.meta.tokenNetwork,\n        action.meta.partner,\n    ]);\n    if (!channel ||\n        !(channel.state === ChannelState.settleable || channel.state === ChannelState.settling) ||\n        !channel.id) {\n        const error = new Error(`channel for \"${action.meta.tokenNetwork}\" and \"${action.meta.partner}\" not found or not in 'settleable' or 'settling' state`);\n        return of(channelSettleFailed(error, action.meta));\n    }\n    const channelId = channel.id;\n    // send settleChannel transaction\n    return from(tokenNetworkContract.functions.settleChannel(channelId, address, Zero, Zero, HashZero, action.meta.partner, Zero, Zero, HashZero)).pipe(tap(tx => console.log(`sent settleChannel tx \"${tx.hash}\" to \"${action.meta.tokenNetwork}\"`)), mergeMap((tx) => __awaiter(this, void 0, void 0, function* () { return ({ receipt: yield tx.wait(), tx }); })), map(({ receipt, tx }) => {\n        if (!receipt.status)\n            throw new Error(`tokenNetwork \"${action.meta.tokenNetwork}\" settleChannel transaction \"${tx.hash}\" failed`);\n        console.log(`settleChannel tx \"${tx.hash}\" successfuly mined!`);\n        return tx.hash;\n    }), \n    // if succeeded, return a empty/completed observable\n    // actual ChannelSettledAction will be detected and handled by channelMonitoredEpic\n    // if any error happened on tx call/pipeline, mergeMap below won't be hit, and catchError\n    // will then emit the channelSettleFailed action instead\n    mergeMapTo(EMPTY), catchError(error => of(channelSettleFailed(error, action.meta))));\n}));\n/**\n * Process newBlocks, emits ChannelSettleableAction if any closed channel is now settleable\n *\n * @param action$  Observable of newBlock actions\n * @param state$  Observable of RaidenStates\n * @returns  Observable of channelSettleable actions\n */\nexport const channelSettleableEpic = (action$, state$) => action$.pipe(filter(isActionOf(newBlock)), withLatestFrom(state$), mergeMap(function* ([{ payload: { blockNumber }, }, state,]) {\n    for (const tokenNetwork in state.channels) {\n        for (const partner in state.channels[tokenNetwork]) {\n            const channel = state.channels[tokenNetwork][partner];\n            if (channel.state === ChannelState.closed &&\n                channel.settleTimeout && // closed channels always have settleTimeout & closeBlock set\n                channel.closeBlock &&\n                blockNumber > channel.closeBlock + channel.settleTimeout) {\n                yield channelSettleable({ settleableBlock: blockNumber }, { tokenNetwork: tokenNetwork, partner: partner });\n            }\n        }\n    }\n}));\n//# sourceMappingURL=epics.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport fetch from 'cross-fetch';\nimport { encodeUri } from 'matrix-js-sdk/lib/utils';\n/**\n * From a yaml list string, return as Array\n * E.g. yamlListToArray(`\n * # comment\n *   - test1\n *   - test2\n *   - test3\n * `) === ['test1', 'test2', 'test3']\n *\n * @param yml  String containing only YAML list\n * @returns  List of strings inside yml-encoded text\n */\nexport function yamlListToArray(yml) {\n    // match all strings starting with optional spaces followed by a dash + space\n    // capturing only the content of the list item, trimming spaces\n    const reg = /^\\s*-\\s*(.+?)\\s*$/gm;\n    const results = [];\n    let match;\n    while ((match = reg.exec(yml))) {\n        results.push(match[1]);\n    }\n    return results;\n}\n/**\n * Given a server name (with or without schema and port), return HTTP GET round trip time\n *\n * @param server Server name with or without schema\n * @returns Promise to a { server, rtt } object, where `rtt` may be NaN\n */\nexport function matrixRTT(server) {\n    return __awaiter(this, void 0, void 0, function* () {\n        let url = server;\n        if (!url.includes('://')) {\n            url = `https://${url}`;\n        }\n        url += `/_matrix/client/versions`;\n        let start = Date.now();\n        try {\n            const resp = yield fetch(url);\n            if (resp.status < 200 || resp.status >= 300)\n                throw NaN;\n        }\n        catch (e) {\n            start = NaN; // return will also be NaN\n        }\n        return { server, rtt: Date.now() - start };\n    });\n}\n/**\n * Return server name without schema or path\n *\n * @param server any URL\n * @returns server URL with domain and port (if present), without schema, paths or query params\n */\nexport function getServerName(server) {\n    const match = /^(?:\\w*:?\\/\\/)?([^/#?&]+)/.exec(server);\n    return match && match[1];\n}\n/**\n * MatrixClient doesn't expose this API, but it does exist, so we create it here\n *\n * @param matrix an already setup and started MatrixClient\n * @param userId to fetch status/presence from\n * @returns Promise to object containing status data\n */\nexport function getUserPresence(matrix, userId) {\n    const path = encodeUri('/presence/$userId/status', { $userId: userId });\n    return matrix._http.authedRequest(undefined, 'GET', path);\n}\n//# sourceMappingURL=matrix.js.map","/**\n * Simple Map-based LRU cache\n *\n * @param max Maximum size of cache\n */\nexport class LruCache {\n    constructor(max) {\n        this.values = new Map();\n        this.max = max;\n    }\n    get(key) {\n        const entry = this.values.get(key);\n        if (entry) {\n            // peek the entry, re-insert for LRU strategy\n            this.values.delete(key);\n            this.values.set(key, entry);\n        }\n        return entry;\n    }\n    put(key, value) {\n        if (this.values.size >= this.max) {\n            // least-recently used cache eviction strategy\n            const keyToDelete = this.values.keys().next().value;\n            this.values.delete(keyToDelete);\n        }\n        this.values.set(key, value);\n    }\n}\n//# sourceMappingURL=lru.js.map","import { filter, scan, startWith } from 'rxjs/operators';\nimport { isActionOf } from 'typesafe-actions';\nimport { matrixPresenceUpdate } from './actions';\n/**\n * Helper to map/get an aggregated Presences observable from action$ bus\n * Known presences as { address: <last seen MatrixPresenceUpdateAction> } mapping\n * As this helper is basically a scan/reduce, you can't simply startWith the first/initial value,\n * as it needs to also be the initial mapping for the scan itself, so instead of pipe+startWith,\n * as we usually do with state$, we need to get the initial value as parameter when it's used in\n * withLatestFrom in some inner observable\n *\n * @param action$ Observable\n * @returns Observable of aggregated Presences from subscription to now\n */\nexport const getPresences$ = (action$) => action$.pipe(filter(isActionOf(matrixPresenceUpdate)), scan(\n// scan all presence update actions and populate/output a per-address mapping\n(presences, update) => (Object.assign({}, presences, { [update.meta.address]: update })), {}), startWith({}));\n//# sourceMappingURL=utils.js.map","import { combineLatest, from, of, EMPTY, fromEvent, timer, ReplaySubject, throwError, } from 'rxjs';\nimport { catchError, concatMap, delay, distinctUntilChanged, filter, groupBy, ignoreElements, map, mergeMap, multicast, withLatestFrom, scan, startWith, switchMap, take, takeUntil, tap, toArray, mapTo, finalize, first, } from 'rxjs/operators';\nimport { isActionOf } from 'typesafe-actions';\nimport { find, get, minBy, sortBy } from 'lodash';\nimport { getAddress, verifyMessage } from 'ethers/utils';\nimport { createClient } from 'matrix-js-sdk';\nimport fetch from 'cross-fetch';\nimport { MATRIX_KNOWN_SERVERS_URL } from '../constants';\nimport { channelMonitored } from '../channels/actions';\nimport { MessageType, Processed, SecretRequest, SecretReveal, Signed, } from '../messages/types';\nimport { decodeJsonMessage, encodeJsonMessage, getMessageSigner, signMessage, } from '../messages/utils';\nimport { messageSend, messageReceived, messageSent } from '../messages/actions';\nimport { getServerName, getUserPresence, matrixRTT, yamlListToArray } from '../utils/matrix';\nimport { LruCache } from '../utils/lru';\nimport { matrixPresenceUpdate, matrixRequestMonitorPresenceFailed, matrixRoom, matrixRoomLeave, matrixSetup, matrixRequestMonitorPresence, } from './actions';\nimport { getPresences$ } from './utils';\n// unavailable just means the user didn't do anything over a certain amount of time, but they're\n// still there, so we consider the user as available then\nconst AVAILABLE = ['online', 'unavailable'];\nconst userRe = /^@(0x[0-9a-f]{40})[.:]/i;\n/**\n * Initialize matrix transport\n * The matrix client instance will be outputed to RaidenEpicDeps.matrix$ AsyncSubject\n * The setup info (including credentials, for persistence) will be the matrixSetup output action\n *\n * @param action$  Observable of RaidenActions\n * @param state$  Observable of RaidenStates\n * @param address,network,signer,matrix$  RaidenEpicDeps members\n * @returns  Observable of matrixSetup generated by initializing matrix client\n */\nexport const initMatrixEpic = ({}, state$, { address, network, signer, matrix$ }) => state$.pipe(first(), mergeMap(state => {\n    const server = get(state, ['transport', 'matrix', 'server']), setup = get(state, ['transport', 'matrix', 'setup']);\n    if (server) {\n        // use server from state/settings\n        return of({ server, setup });\n    }\n    else {\n        const knownServersUrl = MATRIX_KNOWN_SERVERS_URL[network.name] || MATRIX_KNOWN_SERVERS_URL.default;\n        // fetch servers list and use the one with shortest http round trip time (rtt)\n        return from(fetch(knownServersUrl)).pipe(mergeMap(response => {\n            if (!response.ok)\n                return throwError(new Error(`Could not fetch server list from \"${knownServersUrl}\" => ${response.status}`));\n            return response.text();\n        }), mergeMap(text => from(yamlListToArray(text))), mergeMap(server => matrixRTT(server)), toArray(), map(rtts => sortBy(rtts, ['rtt'])), map(rtts => {\n            if (!rtts[0] || typeof rtts[0].rtt !== 'number' || isNaN(rtts[0].rtt))\n                throw new Error(`Could not contact any matrix servers: ${JSON.stringify(rtts)}`);\n            return rtts[0].server;\n        }), map(server => ({\n            server: server.includes('://') ? server : `https://${server}`,\n            setup: undefined,\n        })));\n    }\n}), mergeMap(function ({ server, setup, }) {\n    let { userId, accessToken, deviceId } = setup || {};\n    if (setup) {\n        // if matrixSetup was already issued before, and credentials are already in state\n        const matrix = createClient({\n            baseUrl: server,\n            userId,\n            accessToken,\n            deviceId,\n        });\n        return of({ matrix, server, setup });\n    }\n    else {\n        const serverName = getServerName(server);\n        if (!serverName)\n            return throwError(new Error(`Could not get serverName from \"${server}\"`));\n        const matrix = createClient({ baseUrl: server });\n        const userName = address.toLowerCase();\n        userId = `@${userName}:${serverName}`;\n        // create password as signature of serverName, then try login or register\n        return from(signer.signMessage(serverName)).pipe(mergeMap(password => from(matrix.loginWithPassword(userName, password)).pipe(catchError(() => from(matrix.register(userName, password))))), tap(result => {\n            // matrix.register implementation doesn't set returned credentials\n            // which would require an unnecessary additional login request if we didn't\n            // set it here, and login doesn't set deviceId, so we set all credential\n            // parameters again here after successful login or register\n            matrix.deviceId = result.device_id;\n            matrix._http.opts.accessToken = result.access_token;\n            matrix.credentials = {\n                userId: result.user_id,\n            };\n            // set vars for later MatrixSetupAction\n            accessToken = result.access_token;\n            deviceId = result.device_id;\n        }), \n        // displayName must be signature of full userId for our messages to be accepted\n        mergeMap(() => signer.signMessage(userId)), map(signedUserId => ({\n            matrix,\n            server,\n            setup: {\n                userId: userId,\n                accessToken: accessToken,\n                deviceId: deviceId,\n                displayName: signedUserId,\n            },\n        })));\n    }\n}), mergeMap(({ matrix, server, setup }) => \n// ensure displayName is set even on restarts\nfrom(matrix.setDisplayName(setup.displayName)).pipe(\n// ensure we joined discovery room\nmergeMap(() => matrix.joinRoom(`#raiden_${network.name || network.chainId}_discovery:${getServerName(server)}`)), mapTo({ matrix, server, setup }))), tap(({ matrix }) => {\n    // like Promise.resolve for AsyncSubjects\n    matrix$.next(matrix);\n    matrix$.complete();\n}), map(({ server, setup }) => matrixSetup({ server, setup })));\n/**\n * Start MatrixClient sync polling when detecting MatrixSetupAction, **after** init time fromEvents\n * were already registered.\n * This is required to ensure init-time events registering are done before initial sync, to avoid\n * losing one-shot events, like invitations.\n *\n * @param action$  Observable of matrixSetup actions\n * @param state$  Observable of RaidenStates\n * @param matrix$  RaidenEpicDeps members\n * @returns  Empty observable (whole side-effect on matrix instance)\n */\nexport const matrixStartEpic = (action$, {}, { matrix$ }) => action$.pipe(filter(isActionOf(matrixSetup)), switchMap(() => matrix$), tap(matrix => console.log('MATRIX client', matrix)), mergeMap(matrix => matrix.startClient({ initialSyncLimit: 0 })), ignoreElements());\n/**\n * Calls matrix.stopClient when raiden is shutting down, i.e. action$ completes\n *\n * @param action$  Observable of matrixSetup actions\n * @param state$  Observable of RaidenStates\n * @param matrix$  RaidenEpicDeps members\n * @returns  Empty observable (whole side-effect on matrix instance)\n */\nexport const matrixShutdownEpic = (action$, {}, { matrix$ }) => matrix$.pipe(mergeMap(matrix => action$.pipe(finalize(() => matrix.stopClient()))), ignoreElements());\n/**\n * Handles MatrixRequestMonitorPresenceAction and emits a MatrixPresenceUpdateAction\n * If presence is already known, emits it, else fetch from user profile\n * Even if the presence stays the same, we emit a MatrixPresenceUpdateAction, as this may be a\n * request being waited by a promise or something like that\n * IOW: every request should be followed by a presence update or a failed action, but presence\n * updates may happen later without new requests (e.g. when the user goes offline)\n *\n * @param action$  Observable of matrixRequestMonitorPresence actions\n * @param state$  Observable of RaidenStates\n * @param matrix$  RaidenEpicDeps members\n * @returns  Observable of presence updates or fail action\n */\nexport const matrixMonitorPresenceEpic = (action$, {}, { matrix$ }) => action$.pipe(filter(isActionOf(matrixRequestMonitorPresence)), \n// this mergeMap is like withLatestFrom, but waits until matrix$ emits its only value\nmergeMap(action => matrix$.pipe(map(matrix => ({ action, matrix })))), withLatestFrom(getPresences$(action$)), \n// TODO: groupBy(address)+concatMap serialize presence fetching\nmergeMap(([{ action, matrix }, presences]) => {\n    if (action.meta.address in presences)\n        // we already monitored/saw this user's presence\n        return of(presences[action.meta.address]);\n    const validUsers = [];\n    for (const user of matrix.getUsers()) {\n        if (!user.displayName)\n            continue;\n        if (!user.presence)\n            continue;\n        let recovered;\n        try {\n            const match = userRe.exec(user.userId);\n            if (!match || getAddress(match[1]) !== action.meta.address)\n                continue;\n            recovered = verifyMessage(user.userId, user.displayName);\n            if (!recovered || recovered !== action.meta.address)\n                continue;\n        }\n        catch (err) {\n            continue;\n        }\n        validUsers.push(user);\n    }\n    // IFF we see a cached/stored user (matrix.getUsers), with displayName and presence already\n    // populated, which displayName signature verifies to our address of interest,\n    // then construct and return the MatrixPresenceUpdateAction from the stored data\n    if (validUsers.length > 0) {\n        const user = minBy(validUsers, 'lastPresenceTs');\n        return of(matrixPresenceUpdate({ userId: user.userId, available: AVAILABLE.includes(user.presence) }, action.meta));\n    }\n    // if anything failed up to here, go the slow path: searchUserDirectory + getUserPresence\n    return from(\n    // search user directory for any user containing the address of interest in its userId\n    matrix.searchUserDirectory({ term: action.meta.address.toLowerCase() })).pipe(\n    // for every result matches, verify displayName signature is address of interest\n    map(({ results }) => {\n        const validUsers = [];\n        for (const user of results) {\n            if (!user.display_name)\n                continue;\n            try {\n                const match = userRe.exec(user.user_id);\n                if (!match || getAddress(match[1]) !== action.meta.address)\n                    continue;\n                const recovered = verifyMessage(user.user_id, user.display_name);\n                if (!recovered || recovered !== action.meta.address)\n                    continue;\n            }\n            catch (err) {\n                continue;\n            }\n            validUsers.push(user.user_id);\n        }\n        if (validUsers.length === 0)\n            // if no valid user could be found, throw an error to be handled below\n            throw new Error(`Could not find any user with valid signature for ${action.meta.address} in ${JSON.stringify(results)}`);\n        else\n            return validUsers;\n    }), mergeMap(userIds => from(userIds)), mergeMap(userId => getUserPresence(matrix, userId).then(presence => \n    // eslint-disable-next-line @typescript-eslint/camelcase\n    Object.assign(presence, { user_id: userId }))), toArray(), \n    // for all matched/verified users, get its presence through dedicated API\n    // it's required because, as the user events could already have been handled and\n    // filtered out by matrixPresenceUpdateEpic because it wasn't yet a user-of-interest,\n    // we could have missed presence updates, then we need to fetch it here directly,\n    // and from now on, that other epic will monitor its updates, and sort by most recently\n    // seen user\n    map(presences => minBy(presences, 'last_active_ago')), map(({ presence, user_id: userId }) => matrixPresenceUpdate({\n        userId,\n        available: AVAILABLE.includes(presence),\n    }, action.meta)), catchError(err => of(matrixRequestMonitorPresenceFailed(err, action.meta))));\n}));\n/**\n * Monitor peers matrix presence from User.presence events\n * We aggregate all users of interest (i.e. for which a monitor request was emitted at some point)\n * and emit presence updates for any presence change happening to a user validating to this address\n *\n * @param action$  Observable of RaidenActions\n * @param state$  Observable of RaidenStates\n * @param matrix$  RaidenEpicDeps members\n * @returns  Observable of presence updates\n */\nexport const matrixPresenceUpdateEpic = (action$, {}, { matrix$ }) => matrix$.pipe(\n// when matrix finishes initialization, register to matrix presence events\nswitchMap(matrix => \n// matrix's 'User.presence' sometimes fail to fire, but generic 'event' is always fired,\n// and User (retrieved via matrix.getUser) is up-to-date before 'event' emits\nfromEvent(matrix, 'event').pipe(map(event => ({ event, matrix })))), filter(({ event }) => event.getType() === 'm.presence'), \n// parse peer address from userId\nmap(({ event, matrix }) => {\n    // as 'event' is emitted after user is (created and) updated, getUser always returns it\n    const user = matrix.getUser(event.getSender()), match = userRe.exec(user.userId), peerAddress = match && match[1];\n    // getAddress will convert any valid address into checksummed-format\n    return {\n        user,\n        matrix,\n        peerAddress: (peerAddress && getAddress(peerAddress)),\n    };\n}), \n// filter out events without userId in the right format (startWith hex-address)\nfilter(({ user, peerAddress }) => !!(user.presence && peerAddress)), withLatestFrom(\n// observable of all addresses whose presence monitoring was requested since init\naction$.pipe(filter(isActionOf(matrixRequestMonitorPresence)), scan((toMonitor, request) => toMonitor.add(request.meta.address), new Set()), startWith(new Set())), \n// known presences as { address: <last seen MatrixPresenceUpdateAction> } mapping\ngetPresences$(action$)), \n// filter out events from users we don't care about\n// i.e.: presence monitoring never requested\nfilter(([{ peerAddress }, toMonitor]) => toMonitor.has(peerAddress)), mergeMap(([{ user, matrix, peerAddress }, , presences]) => {\n    // first filter can't tell typescript this property will always be set!\n    const userId = user.userId, address = peerAddress, presence = user.presence, available = AVAILABLE.includes(presence);\n    if (address in presences &&\n        presences[address].payload.userId === userId &&\n        presences[address].payload.available === available)\n        // even if signature verification passes, this wouldn't change presence, so return early\n        return EMPTY;\n    // fetch profile info if user doesn't contain a displayName\n    const displayName$ = user.displayName\n        ? of(user.displayName)\n        : from(matrix.getProfileInfo(userId, 'displayname')).pipe(map(profile => profile.displayname), catchError(() => of(undefined)));\n    return displayName$.pipe(map(displayName => {\n        // errors raised here will be logged and ignored on catchError below\n        if (!displayName)\n            throw new Error(`Could not get displayName of \"${userId}\"`);\n        // ecrecover address, validating displayName is the signature of the userId\n        const recovered = verifyMessage(userId, displayName);\n        if (!recovered || recovered !== peerAddress)\n            throw new Error(`Could not verify displayName signature of \"${userId}\": got \"${recovered}\"`);\n        return recovered;\n    }), map(address => matrixPresenceUpdate({ userId, available, ts: user.lastPresenceTs }, { address })));\n}), catchError(err => (console.log('Error validating presence event, ignoring', err), EMPTY)));\n/**\n * Upon receiving a MessageSendAction, ensure there's a room for the given address\n * Requires address to have its presence monitored.\n *\n * @param action$  Observable of messageSend actions\n * @param state$  Observable of RaidenStates\n * @param matrix$  RaidenEpicDeps members\n * @returns  Observable of matrixRoom actions\n */\nexport const matrixCreateRoomEpic = (action$, state$, { matrix$ }) => combineLatest(getPresences$(action$), state$).pipe(\n// multicasting combined presences+state with a ReplaySubject makes it act as withLatestFrom\n// but working inside concatMap, which is called only at outer next and subscribe delayed\nmulticast(new ReplaySubject(1), presencesStateReplay$ => \n// actual output observable, handles MessageSendAction serially and create room if needed\naction$.pipe(filter(isActionOf(messageSend)), \n// this mergeMap is like withLatestFrom, but waits until matrix$ emits its only value\nmergeMap(action => matrix$.pipe(map(matrix => ({ action, matrix })))), \n// concatMap is used to prevent bursts of messages for a given address (eg. on startup)\n// of creating multiple rooms for same address\nconcatMap(({ action, matrix }) => \n// presencesStateReplay$+take(1) acts like withLatestFrom with cached result\npresencesStateReplay$.pipe(\n// wait for user to be monitored\nfilter(([presences]) => action.meta.address in presences), take(1), \n// if there's already a room state for address and it's present in matrix, skip\nfilter(([, state]) => !get(state, ['transport', 'matrix', 'rooms', action.meta.address, 0])), \n// else, create a room, invite known user and dispatch the respective MatrixRoomAction\n// to store it in state\nmergeMap(([presences]) => matrix.createRoom({\n    visibility: 'private',\n    invite: [presences[action.meta.address].payload.userId],\n})), map(({ room_id: roomId }) => matrixRoom({ roomId }, action.meta)))))));\n/**\n * Invites users coming online to rooms we may have with them\n *\n * @param action$  Observable of matrixPresenceUpdate actions\n * @param state$  Observable of RaidenStates\n * @param matrix$  RaidenEpicDeps members\n * @returns  Empty observable (whole side-effect on matrix instance)\n */\nexport const matrixInviteEpic = (action$, state$, { matrix$ }) => action$.pipe(filter(isActionOf(matrixPresenceUpdate)), filter(action => action.payload.available), \n// this mergeMap is like withLatestFrom, but waits until matrix$ emits its only value\nmergeMap(action => matrix$.pipe(map(matrix => ({ action, matrix })))), withLatestFrom(state$), mergeMap(([{ action, matrix }, state]) => {\n    const roomId = get(state, [\n        'transport',\n        'matrix',\n        'rooms',\n        action.meta.address,\n        0,\n    ]);\n    if (roomId) {\n        const room = matrix.getRoom(roomId);\n        if (room) {\n            const member = room.getMember(action.payload.userId);\n            if (!member)\n                return from(matrix.invite(roomId, action.payload.userId));\n        }\n    }\n    return EMPTY;\n}), ignoreElements());\n/**\n * Handle invites sent to us and accepts them iff sent by a monitored user\n *\n * @param action$  Observable of RaidenActions\n * @param state$  Observable of RaidenStates\n * @param matrix$  RaidenEpicDeps members\n * @returns  Observable of matrixRoom actions\n */\nexport const matrixHandleInvitesEpic = (action$, {}, { matrix$ }) => matrix$.pipe(\n// when matrix finishes initialization, register to matrix invite events\nswitchMap(matrix => fromEvent(matrix, 'RoomMember.membership', (event, member) => ({ event, member, matrix }))), filter(\n// filter for invite events to us\n({ member, matrix }) => member.userId === matrix.getUserId() && member.membership === 'invite'), withLatestFrom(getPresences$(action$)), mergeMap(([{ event, member, matrix }, presences]) => {\n    const sender = event.getSender(), cachedPresence = find(presences, p => p.payload.userId === sender), senderPresence$ = cachedPresence\n        ? of(cachedPresence)\n        : action$.pipe(\n        // as these membership events can come up quite early, we delay continue processing\n        // them a while, to see if the sender is of interest to us (presence monitored)\n        filter(isActionOf(matrixPresenceUpdate)), filter(a => a.payload.userId === sender), take(1), \n        // Don't wait more than some arbitrary time for this sender presence update to show\n        // up; completes without emitting anything otherwise, ending this pipeline.\n        // This also works as a filter to continue processing invites only for monitored\n        // users, as it'll complete without emitting if no MatrixPresenceUpdateAction is\n        // found for sender in time\n        takeUntil(timer(30e3)));\n    return senderPresence$.pipe(map(senderPresence => ({ matrix, member, senderPresence })));\n}), mergeMap(({ matrix, member, senderPresence }) => \n// join room and emit MatrixRoomAction to make it default/first option for sender address\nfrom(matrix.joinRoom(member.roomId, { syncRoom: true })).pipe(map(() => matrixRoom({ roomId: member.roomId }, { address: senderPresence.meta.address })))));\n/**\n * Leave any excess room for a partner when creating or joining a new one.\n * Excess rooms are the ones behind a given threshold (currently 3) in the address's rooms queue\n *\n * @param action$  Observable of matrixRoom actions\n * @param state$  Observable of RaidenStates\n * @param matrix$  RaidenEpicDeps members\n * @returns  Observable of matrixRoomLeave actions\n */\nexport const matrixLeaveExcessRoomsEpic = (action$, state$, { matrix$ }) => action$.pipe(\n// act whenever a new room is added to the address queue in state\nfilter(isActionOf(matrixRoom)), \n// this mergeMap is like withLatestFrom, but waits until matrix$ emits its only value\nmergeMap(action => matrix$.pipe(map(matrix => ({ action, matrix })))), withLatestFrom(state$), mergeMap(([{ action, matrix }, state]) => {\n    const THRESHOLD = 3;\n    const rooms = state.transport.matrix.rooms[action.meta.address];\n    return from(rooms.filter(({}, i) => i >= THRESHOLD)).pipe(mergeMap(roomId => matrix.leave(roomId).then(() => roomId)), map(roomId => matrixRoomLeave({ roomId }, action.meta)));\n}));\n/**\n * Leave any room which is neither discovery/global nor known to state as a room for a user of\n * interest\n *\n * @param action$  Observable of RaidenActions\n * @param state$  Observable of RaidenStates\n * @param matrix$  RaidenEpicDeps members\n * @returns  Empty observable (whole side-effect on matrix instance)\n */\nexport const matrixLeaveUnknownRoomsEpic = ({}, state$, { matrix$, network }) => matrix$.pipe(\n// when matrix finishes initialization, register to matrix Room events\nswitchMap(matrix => fromEvent(matrix, 'Room').pipe(map(room => ({ matrix, roomId: room.roomId })))), delay(30e3), // this room may become known later for some reason, so wait a little\nwithLatestFrom(state$), \n// filter for leave events to us\nfilter(([{ matrix, roomId }, state]) => {\n    const room = matrix.getRoom(roomId);\n    if (!room)\n        return false; // room already gone while waiting\n    if (room.name && room.name.match(`#raiden_${network.name || network.chainId}_discovery:`))\n        return false;\n    const rooms = get(state, ['transport', 'matrix', 'rooms'], {});\n    for (const address in rooms) {\n        for (const roomId of rooms[address]) {\n            if (roomId === room.roomId)\n                return false;\n        }\n    }\n    return true;\n}), mergeMap(([{ matrix, roomId }]) => matrix.leave(roomId)), ignoreElements());\n/**\n * If we leave a room for any reason (eg. a kick event), purge it from state\n * Notice excess rooms left by matrixLeaveExcessRoomsEpic are cleaned before the matrix event is\n * detected, and then no MatrixRoomLeaveAction is emitted for them by this epic.\n *\n * @param action$  Observable of RaidenActions\n * @param state$  Observable of RaidenStates\n * @param matrix$  RaidenEpicDeps members\n * @returns  Observable of matrixRoomLeave actions\n */\nexport const matrixCleanLeftRoomsEpic = ({}, state$, { matrix$ }) => matrix$.pipe(\n// when matrix finishes initialization, register to matrix invite events\nswitchMap(matrix => fromEvent(matrix, 'Room.myMembership', (room, membership) => ({ room, membership, matrix }))), \n// filter for leave events to us\nfilter(({ membership }) => membership === 'leave'), withLatestFrom(state$), mergeMap(function* ([{ room }, state]) {\n    const rooms = get(state, ['transport', 'matrix', 'rooms'], {});\n    for (const address in rooms) {\n        for (const roomId of rooms[address]) {\n            if (roomId === room.roomId) {\n                yield matrixRoomLeave({ roomId }, { address: address });\n            }\n        }\n    }\n}));\n/**\n * Handles a MessageSendAction and send its message to the first room on queue for address\n *\n * @param action$  Observable of messageSend actions\n * @param state$  Observable of RaidenStates\n * @param matrix$  RaidenEpicDeps members\n * @returns  Empty observable (whole side-effect on matrix instance)\n */\nexport const matrixMessageSendEpic = (action$, state$, { matrix$ }) => combineLatest(getPresences$(action$), state$).pipe(\n// multicasting combined presences+state with a ReplaySubject makes it act as withLatestFrom\n// but working inside concatMap, called only at outer emit and subscription delayed\nmulticast(new ReplaySubject(1), presencesStateReplay$ => \n// actual output observable, gets/wait for the user to be in a room, and then sendMessage\naction$.pipe(filter(isActionOf(messageSend)), \n// this mergeMap is like withLatestFrom, but waits until matrix$ emits its only value\nmergeMap(action => matrix$.pipe(map(matrix => ({ action, matrix })))), groupBy(({ action }) => action.meta.address), \n// merge all inner/grouped observables, so different user's \"queues\" can be parallel\nmergeMap(grouped$ => \n// per-user \"queue\"\ngrouped$.pipe(\n// each per-user \"queue\" (observable) are processed serially (because concatMap)\n// TODO: batch all pending messages in a single send message request, with retry\nconcatMap(({ action, matrix }) => presencesStateReplay$.pipe(\n// wait for address to be monitored, online and roomId to be in state.\n// ReplaySubject ensures it happens immediatelly if all conditions are satisfied\nfilter(([presences, state]) => action.meta.address in presences &&\n    presences[action.meta.address].payload.available &&\n    get(state, ['transport', 'matrix', 'rooms', action.meta.address, 0])), map(([, state]) => state.transport.matrix.rooms[action.meta.address][0]), distinctUntilChanged(), \n// get/wait room object for roomId\nswitchMap(roomId => {\n    const room = matrix.getRoom(roomId);\n    // wait for the room state to be populated (happens after createRoom resolves)\n    return room\n        ? of(room)\n        : fromEvent(matrix, 'Room').pipe(filter(room => room.roomId === roomId), take(1));\n}), \n// get up-to-date/last presences at this point in time, which may have been updated\nwithLatestFrom(presencesStateReplay$), \n// get room member for partner userId\nmergeMap(([room, [presences]]) => {\n    // get latest known userId for address at this point in time\n    const userId = presences[action.meta.address].payload.userId;\n    const member = room.getMember(userId);\n    // if it's already present in room, return its membership\n    if (member && member.membership === 'join')\n        return of(member);\n    // else, wait for the user to join our newly created room\n    return fromEvent(matrix, 'RoomMember.membership', ({}, member) => member).pipe(\n    // use up-to-date presences again, which may have been updated while\n    // waiting for member join event (e.g. user roamed and was re-invited)\n    withLatestFrom(presencesStateReplay$), filter(([member, [presences]]) => member.roomId === room.roomId &&\n        member.userId === presences[action.meta.address].payload.userId &&\n        member.membership === 'join'), take(1), map(([member]) => member));\n}), take(1), // use first room/user which meets all requirements/filters so far\n// send message!\nmergeMap(member => {\n    const body = typeof action.payload.message === 'string'\n        ? action.payload.message\n        : encodeJsonMessage(action.payload.message);\n    return matrix.sendEvent(member.roomId, 'm.room.message', { body, msgtype: 'm.text' }, '');\n}), map(() => messageSent(action.payload, action.meta)))))))));\n/**\n * Subscribe to matrix messages and emits MessageReceivedAction upon receiving a valid message from\n * an user of interest (one valid signature from an address we monitor) in a room we have for them\n *\n * @param action$  Observable of RaidenActions\n * @param state$  Observable of RaidenStates\n * @param matrix$  RaidenEpicDeps members\n * @returns  Observable of messageReceived actions\n */\nexport const matrixMessageReceivedEpic = (action$, state$, { matrix$ }) => combineLatest(getPresences$(action$), state$).pipe(\n// multicasting combined presences+state with a ReplaySubject makes it act as withLatestFrom\n// but working inside concatMap, called only at outer emit and subscription delayed\nmulticast(new ReplaySubject(1), presencesStateReplay$ => \n// actual output observable, gets/wait for the user to be in a room, and then sendMessage\nmatrix$.pipe(\n// when matrix finishes initialization, register to matrix timeline events\nswitchMap(matrix => fromEvent(matrix, 'Room.timeline', (event, room) => ({ matrix, event, room }))), \n// filter for text messages from other users\nfilter(({ event, matrix }) => event.getType() === 'm.room.message' &&\n    event.getSender() !== matrix.getUserId() &&\n    event.event.content.msgtype === 'm.text'), mergeMap(({ event, room }) => presencesStateReplay$.pipe(filter(([presences, state]) => {\n    const presence = find(presences, ['payload.userId', event.getSender()]);\n    if (!presence)\n        return false;\n    const rooms = get(state, ['transport', 'matrix', 'rooms', presence.meta.address], []);\n    if (!rooms.includes(room.roomId))\n        return false;\n    return true;\n}), take(1), \n// take up to an arbitrary timeout to presence status for the sender\n// AND the room in which this message was sent to be in sender's address room queue\ntakeUntil(timer(30e3)), mergeMap(function* ([presences]) {\n    const presence = find(presences, ['payload.userId', event.getSender()]);\n    for (const line of (event.event.content.body || '').split('\\n')) {\n        let message;\n        try {\n            message = decodeJsonMessage(line);\n            const signer = getMessageSigner(message);\n            if (signer !== presence.meta.address)\n                throw new Error(`Signature mismatch: sender=${presence.meta.address} != signer=${signer}`);\n        }\n        catch (err) {\n            console.warn(`Could not decode message: ${line}: ${err}`);\n            message = undefined;\n        }\n        yield messageReceived({\n            text: line,\n            message,\n            ts: event.event.origin_server_ts,\n            userId: presence.payload.userId,\n            roomId: room.roomId,\n        }, presence.meta);\n    }\n}))))));\n/**\n * If matrix received a message from user in a room we have with them, but not the first on queue,\n * update queue so this room goes to the front and will be used as send message room from now on\n *\n * @param action$  Observable of messageReceived actions\n * @param state$  Observable of RaidenStates\n * @returns  Observable of matrixRoom actions\n */\nexport const matrixMessageReceivedUpdateRoomEpic = (action$, state$) => action$.pipe(filter(isActionOf(messageReceived)), withLatestFrom(state$), filter(([action, state]) => {\n    const rooms = get(state, ['transport', 'matrix', 'rooms', action.meta.address], []);\n    return (!!action.payload.roomId &&\n        rooms.includes(action.payload.roomId) &&\n        rooms[0] !== action.payload.roomId);\n}), map(([action]) => matrixRoom({ roomId: action.payload.roomId }, action.meta)));\n/**\n * Channel monitoring triggers matrix presence monitoring for partner\n *\n * @param action$  Observable of RaidenActions\n * @returns  Observable of matrixRequestMonitorPresence actions\n */\nexport const matrixMonitorChannelPresenceEpic = (action$) => action$.pipe(filter(isActionOf(channelMonitored)), map(action => matrixRequestMonitorPresence(undefined, { address: action.meta.partner })));\n/**\n * Sends Delivered for specific messages\n *\n * @param action$  Observable of RaidenActions\n * @param state$  Observable of RaidenStates\n * @param signer  RaidenEpicDeps members\n * @returns  Observable of messageSend actions\n */\nexport const deliveredEpic = (action$, {}, { signer }) => {\n    const cache = new LruCache(32);\n    return action$.pipe(filter(isActionOf(messageReceived)), concatMap(action => {\n        const message = action.payload.message;\n        if (!message ||\n            !(Signed(Processed).is(message) ||\n                Signed(SecretRequest).is(message) ||\n                Signed(SecretReveal).is(message)))\n            return EMPTY;\n        const msgId = message.message_identifier, key = msgId.toString();\n        const cached = cache.get(key);\n        if (cached)\n            return of(messageSend({ message: cached }, action.meta));\n        const delivered = {\n            type: MessageType.DELIVERED,\n            delivered_message_identifier: msgId,\n        };\n        return from(signMessage(signer, delivered)).pipe(tap(signed => cache.put(key, signed)), map(signed => messageSend({ message: signed }, action.meta)));\n    }));\n};\n//# sourceMappingURL=epics.js.map","import { distinctUntilChanged, map } from 'rxjs/operators';\n/**\n * Util to split a combineLatest tuple Observable to a tuple of Observables of each member\n * Util when combining observables to e.g. multicast, and then willing to handle them separately\n * inside the multicast selector.\n *\n * @param tuple$  An Observable of tuples of up to 4 values\n * @returns  2-4-tuple of Observables reflecting each value of the tuple\n */\nexport function splitCombined(tuple$) {\n    return [\n        tuple$.pipe(map(t => t[0]), distinctUntilChanged()),\n        tuple$.pipe(map(t => t[1]), distinctUntilChanged()),\n        tuple$.pipe(map(t => t[2]), distinctUntilChanged()),\n        tuple$.pipe(map(t => t[3]), distinctUntilChanged()),\n    ];\n}\n//# sourceMappingURL=rxjs.js.map","/* eslint-disable @typescript-eslint/camelcase */\nimport { of, from, combineLatest, merge, EMPTY } from 'rxjs';\nimport { catchError, concatMap, filter, first, map, mergeMap, withLatestFrom, take, ignoreElements, repeatWhen, delay, takeUntil, exhaustMap, publishReplay, tap, } from 'rxjs/operators';\nimport { isActionOf } from 'typesafe-actions';\nimport { bigNumberify, keccak256 } from 'ethers/utils';\nimport { Zero } from 'ethers/constants';\nimport { findKey, get } from 'lodash';\nimport { REVEAL_TIMEOUT } from '../constants';\nimport { splitCombined } from '../utils/rxjs';\nimport { LruCache } from '../utils/lru';\nimport { getPresences$ } from '../transport/utils';\nimport { messageReceived, messageSend, messageSent } from '../messages/actions';\nimport { MessageType, LockedTransfer, Processed, SecretRequest, SecretReveal, Signed, LockExpired, RefundTransfer, } from '../messages/types';\nimport { signMessage, getBalanceProofFromEnvelopeMessage } from '../messages/utils';\nimport { ChannelState } from '../channels/state';\nimport { newBlock, channelClosed, channelClose } from '../channels/actions';\nimport { transfer, transferSigned, transferSecret, transferProcessed, transferFailed, transferSecretRequest, transferUnlock, transferUnlocked, transferred, transferExpire, transferExpired, transferExpireFailed, transferSecretReveal, transferClear, transferRefunded, } from './actions';\nimport { getLocksroot, makePaymentId, makeMessageId } from './utils';\n/**\n * Create an observable to compose and sign a LockedTransfer message/transferSigned action\n * As it's an async observable which depends on state and may return an action which changes it,\n * the returned observable must be subscribed in a serialized context that ensures non-concurrent\n * write access to the channel's balance proof (e.g. concatMap)\n *\n * @param presences$  Observable of address to last matrixPresenceUpdate mapping\n * @param state$  Observable of current state\n * @param action  transfer request action to be sent\n * @param network,address,signer  RaidenEpicDeps members\n * @returns  Observable of transferSigned|transferSecret|transferFailed actions\n */\nfunction makeAndSignTransfer(presences$, state$, action, { network, address, signer }) {\n    return combineLatest(presences$, state$).pipe(first(), mergeMap(([presences, state]) => {\n        if (action.meta.secrethash in state.sent) {\n            // don't throw to avoid emitting transferFailed, to just wait for already pending transfer\n            console.error('transfer already present', action.meta);\n            return EMPTY;\n        }\n        if (!(action.payload.target in presences))\n            throw new Error('target not monitored');\n        if (!presences[action.payload.target].payload.available)\n            throw new Error('target not available/online');\n        let secret = action.payload.secret;\n        if (secret && keccak256(secret) !== action.meta.secrethash) {\n            throw new Error('secrethash does not match provided secret');\n        }\n        let recipient = undefined;\n        // find a route\n        for (const [key, channel] of Object.entries(state.channels[action.payload.tokenNetwork])) {\n            const partner = key;\n            // capacity is own deposit - (own trasferred + locked) + (partner transferred)\n            const capacity = channel.own.deposit\n                .sub(channel.own.balanceProof\n                ? channel.own.balanceProof.transferredAmount.add(channel.own.balanceProof.lockedAmount)\n                : Zero)\n                .add(\n            // only relevant once we can receive from partner\n            channel.partner.balanceProof ? channel.partner.balanceProof.transferredAmount : Zero);\n            if (channel.state !== ChannelState.open) {\n                console.warn(`transfer: channel with \"${partner}\" in state \"${channel.state}\" instead of \"${ChannelState.open}\"`);\n            }\n            else if (capacity.lt(action.payload.amount)) {\n                console.warn(`transfer: channel with \"${partner}\" without enough capacity (${capacity.toString()})`);\n            }\n            else if (!(partner in presences) || !presences[partner].payload.available) {\n                console.warn(`transfer: partner \"${partner}\" not available in transport`);\n            }\n            else {\n                recipient = partner;\n                break;\n            }\n        }\n        if (!recipient)\n            throw new Error('Could not find an online partner for tokenNetwork with enough capacity');\n        const channel = state.channels[action.payload.tokenNetwork][recipient];\n        // check below never fail, because of for loop filter, just for type narrowing\n        if (channel.state !== ChannelState.open)\n            throw new Error('not open');\n        let paymentId = action.payload.paymentId;\n        if (!paymentId)\n            paymentId = makePaymentId();\n        const lock = {\n            type: 'Lock',\n            amount: action.payload.amount,\n            expiration: bigNumberify(state.blockNumber + REVEAL_TIMEOUT * 2),\n            secrethash: action.meta.secrethash,\n        }, locks = [...(channel.own.locks || []), lock], locksroot = getLocksroot(locks), fee = action.payload.fee || Zero, msgId = makeMessageId(), token = findKey(state.tokens, tn => tn === action.payload.tokenNetwork);\n        const message = {\n            type: MessageType.LOCKED_TRANSFER,\n            message_identifier: msgId,\n            chain_id: bigNumberify(network.chainId),\n            token_network_address: action.payload.tokenNetwork,\n            channel_identifier: bigNumberify(channel.id),\n            nonce: (channel.own.balanceProof ? channel.own.balanceProof.nonce : Zero).add(1),\n            transferred_amount: (channel.own.balanceProof\n                ? channel.own.balanceProof.transferredAmount\n                : Zero),\n            locked_amount: (channel.own.balanceProof\n                ? channel.own.balanceProof.lockedAmount\n                : Zero).add(action.payload.amount),\n            locksroot,\n            payment_identifier: paymentId,\n            token,\n            recipient,\n            lock,\n            target: action.payload.target,\n            initiator: address,\n            fee,\n        };\n        return from(signMessage(signer, message)).pipe(mergeMap(function* (signed) {\n            // besides transferSigned, also yield transferSecret (for registering) if we know it\n            if (secret)\n                yield transferSecret({ secret }, { secrethash: action.meta.secrethash });\n            yield transferSigned({ message: signed }, { secrethash: action.meta.secrethash });\n            // messageSend LockedTransfer handled by transferSignedRetryMessageEpic\n        }));\n    }), catchError(err => of(transferFailed(err, action.meta))));\n}\n/**\n * Create an observable to compose and sign a Unlock message/transferUnlocked action\n * As it's an async observable which depends on state and may return an action which changes it,\n * the returned observable must be subscribed in a serialized context that ensures non-concurrent\n * write access to the channel's balance proof (e.g. concatMap)\n *\n * @param state$  Observable of current state\n * @param action  transferUnlock request action to be sent\n * @param signer  RaidenEpicDeps members\n * @returns  Observable of transferUnlocked actions\n */\nfunction makeAndSignUnlock(state$, action, { signer }) {\n    return state$.pipe(first(), mergeMap(state => {\n        const secrethash = action.meta.secrethash;\n        if (!(secrethash in state.sent))\n            throw new Error('unknown transfer');\n        const transfer = state.sent[secrethash].transfer, channel = get(state.channels, [\n            transfer.token_network_address,\n            transfer.recipient,\n        ]);\n        // shouldn't happen, channel close clears transfers, but unlock may already have been queued\n        if (!channel || channel.state !== ChannelState.open || !channel.own.balanceProof)\n            throw new Error('channel gone, not open or no balanceProof');\n        let signed$;\n        if (state.sent[secrethash].unlock) {\n            // unlock already signed, use cached\n            signed$ = of(state.sent[secrethash].unlock);\n        }\n        else {\n            // don't forget to check after signature too, may have expired by then\n            if (transfer.lock.expiration.lte(state.blockNumber))\n                throw new Error('lock expired');\n            const locks = (channel.own.locks || []).filter(l => l.secrethash !== secrethash), locksroot = getLocksroot(locks), msgId = makeMessageId();\n            const message = {\n                type: MessageType.UNLOCK,\n                message_identifier: msgId,\n                chain_id: transfer.chain_id,\n                token_network_address: transfer.token_network_address,\n                channel_identifier: transfer.channel_identifier,\n                nonce: channel.own.balanceProof.nonce.add(1),\n                transferred_amount: channel.own.balanceProof.transferredAmount.add(transfer.lock.amount),\n                locked_amount: channel.own.balanceProof.lockedAmount.sub(transfer.lock.amount),\n                locksroot,\n                payment_identifier: transfer.payment_identifier,\n                secret: state.secrets[action.meta.secrethash].secret,\n            };\n            signed$ = from(signMessage(signer, message));\n        }\n        return signed$.pipe(withLatestFrom(state$), mergeMap(function* ([signed, state]) {\n            if (transfer.lock.expiration.lte(state.blockNumber))\n                throw new Error('lock expired!');\n            yield transferUnlocked({ message: signed }, action.meta);\n            // messageSend Unlock handled by transferUnlockedRetryMessageEpic\n            // we don't check if transfer was refunded. If partner refunded the transfer but still\n            // forwarded the payment, we still act honestly and unlock if they revealed\n        }));\n    }), catchError(err => {\n        console.error('Error when trying to unlock after SecretReveal', err);\n        return EMPTY;\n    }));\n}\n/**\n * Create an observable to compose and sign a LockExpired message/transferExpired action\n * As it's an async observable which depends on state and may return an action which changes it,\n * the returned observable must be subscribed in a serialized context that ensures non-concurrent\n * write access to the channel's balance proof (e.g. concatMap)\n *\n * @param state$  Observable of current state\n * @param action  transfer request action to be sent\n * @param signer  RaidenEpicDeps members\n * @returns  Observable of transferExpired|transferExpireFailed actions\n */\nfunction makeAndSignLockExpired(state$, action, { signer }) {\n    return state$.pipe(first(), mergeMap(state => {\n        const secrethash = action.meta.secrethash;\n        if (!(secrethash in state.sent))\n            throw new Error('unknown transfer');\n        const transfer = state.sent[secrethash].transfer, channel = get(state.channels, [\n            transfer.token_network_address,\n            transfer.recipient,\n        ]);\n        // shouldn't happen, channel close clears transfers, but unlock may already have been queued\n        if (!channel || channel.state !== ChannelState.open || !channel.own.balanceProof)\n            throw new Error('channel gone, not open or no balanceProof');\n        let signed$;\n        if (state.sent[secrethash].lockExpired) {\n            // unlock already signed, use cached\n            signed$ = of(state.sent[secrethash].lockExpired);\n        }\n        else {\n            if (transfer.lock.expiration.gte(state.blockNumber))\n                throw new Error('lock not yet expired');\n            else if (state.sent[secrethash].unlock)\n                throw new Error('transfer already unlocked');\n            const locks = (channel.own.locks || []).filter(l => l.secrethash !== secrethash), locksroot = getLocksroot(locks), msgId = makeMessageId();\n            const message = {\n                type: MessageType.LOCK_EXPIRED,\n                message_identifier: msgId,\n                chain_id: transfer.chain_id,\n                token_network_address: transfer.token_network_address,\n                channel_identifier: transfer.channel_identifier,\n                nonce: channel.own.balanceProof.nonce.add(1),\n                transferred_amount: channel.own.balanceProof.transferredAmount,\n                locked_amount: channel.own.balanceProof.lockedAmount.sub(transfer.lock.amount),\n                locksroot,\n                recipient: transfer.recipient,\n                secrethash,\n            };\n            signed$ = from(signMessage(signer, message));\n        }\n        return signed$.pipe(\n        // messageSend LockExpired handled by transferExpiredRetryMessageEpic\n        map(signed => transferExpired({ message: signed }, action.meta)));\n    }), catchError(err => of(transferExpireFailed(err, action.meta))));\n}\n/**\n * Serialize creation and signing of BalanceProof-changing messages or actions\n * Actions which change any data in any channel balance proof must only ever be created reading\n * state inside the serialization flow provided by the concatMap, and also be composed and produced\n * inside it (inner, subscribed observable)\n *\n * @param action$  Observable of RaidenActions\n * @param state$  Observable of RaidenStates\n * @param deps  RaidenEpicDeps\n * @returns  Observable of output actions for this epic\n */\nexport const transferGenerateAndSignEnvelopeMessageEpic = (action$, state$, deps) => combineLatest(getPresences$(action$), state$).pipe(publishReplay(1, undefined, presencesStateReplay$ => {\n    const [presences$, state$] = splitCombined(presencesStateReplay$);\n    return action$.pipe(filter(isActionOf([transfer, transferUnlock, transferExpire])), concatMap(action => \n    // TODO: add any other BP-changing observable below\n    isActionOf(transfer, action)\n        ? makeAndSignTransfer(presences$, state$, action, deps)\n        : isActionOf(transferUnlock, action)\n            ? makeAndSignUnlock(state$, action, deps)\n            : isActionOf(transferExpire, action)\n                ? makeAndSignLockExpired(state$, action, deps)\n                : EMPTY));\n}));\n/**\n * Handles a transferSigned action and retry messageSend until transfer is gone (completed with\n * success or error) OR Processed message for LockedTransfer received.\n * transferSigned for pending LockedTransfer's may be re-emitted on startup for pending transfer,\n * to start retrying sending the message again until stop condition is met.\n *\n * @param action$  Observable of transferSigned actions\n * @param state$  Observable of RaidenStates\n * @returns  Observable of messageSend actions\n */\nexport const transferSignedRetryMessageEpic = (action$, state$) => state$.pipe(publishReplay(1, undefined, state$ => action$.pipe(filter(isActionOf(transferSigned)), mergeMap(action => {\n    const secrethash = action.meta.secrethash, signed = action.payload.message, send = messageSend({ message: signed }, { address: signed.recipient });\n    // emit Send once immediatelly, then wait until respective messageSent, then completes\n    const sendOnceAndWaitSent$ = merge(of(send), action$.pipe(filter(a => isActionOf(messageSent, a) &&\n        a.payload.message === send.payload.message &&\n        a.meta.address === send.meta.address), take(1), \n    // don't output messageSent, just wait for it before completing\n    ignoreElements()));\n    return sendOnceAndWaitSent$.pipe(\n    // Resubscribe/retry every 30s after messageSend succeeds with messageSent\n    // Notice first (or any) messageSend can wait for a long time before succeeding, as it\n    // waits for address's user in transport to be online and joined room before actually\n    // sending the message. That's why repeatWhen emits/resubscribe only some time after\n    // sendOnceAndWaitSent$ completes, instead of a plain 'interval'\n    // TODO: configurable retry delay, possibly use an exponential backoff timeout strat\n    repeatWhen(completed$ => completed$.pipe(delay(30e3))), \n    // until transfer gone (not in state.sent anymore) OR transferProcessed received\n    takeUntil(state$.pipe(filter(state => !(secrethash in state.sent) || !!state.sent[secrethash].transferProcessed))));\n}))));\n/**\n * Handles a transferUnlocked action and retry messageSend until transfer is gone (completed with\n * success or error).\n * transferUnlocked for pending Unlock's may be re-emitted on startup for pending transfer, to\n * start retrying sending the message again until stop condition is met.\n *\n * @param action$  Observable of transferUnlocked actions\n * @param state$  Observable of RaidenStates\n * @returns  Observable of messageSend actions\n */\nexport const transferUnlockedRetryMessageEpic = (action$, state$) => state$.pipe(publishReplay(1, undefined, state$ => action$.pipe(filter(isActionOf(transferUnlocked)), withLatestFrom(state$), mergeMap(([action, state]) => {\n    const secrethash = action.meta.secrethash;\n    if (!(secrethash in state.sent) || !state.sent[secrethash].unlock)\n        return EMPTY;\n    const unlock = action.payload.message, transfer = state.sent[secrethash].transfer, send = messageSend({ message: unlock }, { address: transfer.recipient });\n    // emit Send once immediatelly, then wait until respective messageSent, then completes\n    const sendOnceAndWaitSent$ = merge(of(send), action$.pipe(filter(a => isActionOf(messageSent, a) &&\n        a.payload.message === send.payload.message &&\n        a.meta.address === send.meta.address), take(1), \n    // don't output messageSent, just wait for it before completing\n    ignoreElements()));\n    return sendOnceAndWaitSent$.pipe(\n    // Resubscribe/retry every 30s after messageSend succeeds with messageSent\n    // Notice first (or any) messageSend can wait for a long time before succeeding, as it\n    // waits for address's user in transport to be online and joined room before actually\n    // sending the message. That's why repeatWhen emits/resubscribe only some time after\n    // sendOnceAndWaitSent$ completes, instead of a plain 'interval'\n    // TODO: configurable retry delay, possibly use an exponential backoff timeout strat\n    repeatWhen(completed$ => completed$.pipe(delay(30e3))), \n    // until transfer gets cleared, i.e. received Processed for Unlock\n    takeUntil(state$.pipe(filter(state => !(secrethash in state.sent)))));\n}))));\n/**\n * Handles a transferExpired action and retry messageSend until transfer is gone (completed with\n * success or error).\n * transferExpired for pending LockExpired's may be re-emitted on startup for pending transfer, to\n * start retrying sending the message again until stop condition is met.\n *\n * @param action$  Observable of transferExpired actions\n * @param state$  Observable of RaidenStates\n * @returns  Observable of messageSend actions\n */\nexport const transferExpiredRetryMessageEpic = (action$, state$) => state$.pipe(publishReplay(1, undefined, state$ => action$.pipe(filter(isActionOf(transferExpired)), withLatestFrom(state$), mergeMap(([action, state]) => {\n    const secrethash = action.meta.secrethash;\n    if (!(secrethash in state.sent) || !state.sent[secrethash].lockExpired)\n        return EMPTY;\n    const lockExpired = action.payload.message, send = messageSend({ message: lockExpired }, { address: state.sent[secrethash].transfer.recipient });\n    // emit Send once immediatelly, then wait until respective messageSent, then completes\n    const sendOnceAndWaitSent$ = merge(of(send), action$.pipe(filter(a => isActionOf(messageSent, a) &&\n        a.payload.message === send.payload.message &&\n        a.meta.address === send.meta.address), take(1), \n    // don't output messageSent, just wait for it before completing\n    ignoreElements()));\n    return sendOnceAndWaitSent$.pipe(\n    // Resubscribe/retry every 30s after messageSend succeeds with messageSent\n    // Notice first (or any) messageSend can wait for a long time before succeeding, as it\n    // waits for address's user in transport to be online and joined room before actually\n    // sending the message. That's why repeatWhen emits/resubscribe only some time after\n    // sendOnceAndWaitSent$ completes, instead of a plain 'interval'\n    // TODO: configurable retry delay, possibly use an exponential backoff timeout strat\n    repeatWhen(completed$ => completed$.pipe(delay(30e3))), \n    // until transfer gets cleared, i.e. received Processed for LockExpired\n    takeUntil(state$.pipe(filter(state => !(secrethash in state.sent)))));\n}))));\n/**\n * Process newBlocks, emits transferExpire (request to compose&sign LockExpired for a transfer)\n * if pending transfer's lock expired and transfer didn't unlock (succeed) in time\n * Also, emits transferFailed, to notify users that a transfer failed (rejecting potentially\n * pending Promises)\n *\n * @param action$  Observable of newBlock|transferExpired|transferExpireFailed actions\n * @param state$  Observable of RaidenStates\n * @returns  Observable of transferExpire|transferFailed actions\n */\nexport const transferAutoExpireEpic = (action$, state$) => action$.pipe(filter(isActionOf(newBlock)), withLatestFrom(state$), \n// exhaustMap ignores new blocks while previous request batch is still pending\nexhaustMap(([{ payload: { blockNumber } }, state]) => {\n    const requests$ = [];\n    for (const [key, sent] of Object.entries(state.sent)) {\n        if (sent.unlock || sent.lockExpired || sent.transfer.lock.expiration.gte(blockNumber))\n            continue;\n        const secrethash = key;\n        // this observable acts like a Promise: emits request once, completes on success/failure\n        const requestAndWait$ = merge(\n        // output once tranferExpire\n        of(transferExpire(undefined, { secrethash })), \n        // but wait until respective success/failure action is seen before completing\n        action$.pipe(filter(a => isActionOf([transferExpired, transferExpireFailed], a) &&\n            a.meta.secrethash === secrethash), take(1), \n        // don't output success/failure action, just wait for first match to complete\n        ignoreElements()));\n        requests$.push(requestAndWait$);\n        // notify users that this transfer failed definitely\n        requests$.push(of(transferFailed(new Error(`transfer expired at block=${sent.transfer.lock.expiration.toString()}`), { secrethash })));\n    }\n    // process all requests before completing and restart handling newBlocks (in exhaustMap)\n    return merge(...requests$);\n}));\n/**\n * Re-queue pending transfer's BalanceProof/Envelope messages for retry on init\n *\n * @param action$  Observable of RaidenActions\n * @param state$  Observable of RaidenStates\n * @returns  Observable of transferSigned|transferUnlocked actions\n */\nexport const initQueuePendingEnvelopeMessagesEpic = ({}, state$) => state$.pipe(first(), mergeMap(function* (state) {\n    // loop over all pending transfers\n    for (const [key, sent] of Object.entries(state.sent)) {\n        const secrethash = key, transfer = sent.transfer;\n        // Processed not received yet for LockedTransfer\n        if (!sent.transferProcessed)\n            yield transferSigned({ message: transfer }, { secrethash });\n        // already unlocked, but Processed not received yet for Unlock\n        // (or else transfer would have been cleared)\n        if (sent.unlock)\n            yield transferUnlocked({ message: sent.unlock }, { secrethash });\n        // lock expired, but Processed not received yet for LockExpired\n        // (or else transfer would have been cleared)\n        if (sent.lockExpired)\n            yield transferExpired({ message: sent.lockExpired }, { secrethash });\n    }\n}));\n/**\n * Handles receiving a signed Processed for some sent LockedTransfer\n * This will persist the Processed reply in transfer state and stop message retry\n *\n * @param action$  Observable of RaidenActions\n * @param state$  Observable of RaidenStates\n * @returns  Observable of output actions for this epic\n */\nexport const transferProcessedReceivedEpic = (action$, state$) => action$.pipe(filter(isActionOf(messageReceived)), withLatestFrom(state$), mergeMap(function* ([action, state]) {\n    const message = action.payload.message;\n    if (!message || !Signed(Processed).is(message))\n        return;\n    let secrethash = undefined;\n    for (const [key, sent] of Object.entries(state.sent)) {\n        if (sent.transfer.message_identifier.eq(message.message_identifier) &&\n            sent.transfer.recipient === action.meta.address) {\n            secrethash = key;\n            break;\n        }\n    }\n    if (!secrethash)\n        return;\n    yield transferProcessed({ message }, { secrethash });\n}));\n/**\n * Handles receiving a signed SecretRequest from target for some sent LockedTransfer\n * Emits a transferSecretRequest action only if all conditions are met\n *\n * @param action$  Observable of RaidenActions\n * @param state$  Observable of RaidenStates\n * @returns  Observable of output actions for this epic\n */\nexport const transferSecretRequestedEpic = (action$, state$) => action$.pipe(filter(isActionOf(messageReceived)), withLatestFrom(state$), mergeMap(function* ([action, state]) {\n    const message = action.payload.message;\n    if (!message || !Signed(SecretRequest).is(message))\n        return;\n    // transfer gone or we don't know the secret\n    if (!(message.secrethash in state.secrets) || !(message.secrethash in state.sent))\n        return;\n    const transfer = state.sent[message.secrethash].transfer;\n    if (transfer.target !== action.meta.address || // reveal only to target\n        transfer.lock.expiration.lte(state.blockNumber) || // don't reveal if expired\n        !transfer.payment_identifier.eq(message.payment_identifier) ||\n        !transfer.lock.amount.eq(message.amount) ||\n        !transfer.lock.expiration.eq(message.expiration)\n    // we don't check if transfer was refunded. If partner refunded the transfer but still\n    // forwarded the payment, they would be in risk of losing their money, not us\n    )\n        return;\n    yield transferSecretRequest({ message }, { secrethash: message.secrethash });\n}));\n/**\n * Handles a transferSecretRequest action to send the respective secret to target\n * It both emits transferSecretReveal (to persist sent SecretReveal in state and indicate that\n * the secret was revealed and thus the transfer should be assumed as succeeded) as well as\n * triggers sending the message once. New SecretRequests will cause a new transferSecretRequest,\n * which will re-send the cached SecretReveal.\n *\n * @param action$  Observable of transferSecretRequest actions\n * @param state$  Observable of RaidenStates\n * @param signer  RaidenEpicDeps signer\n * @returns  Observable of transferSecretReveal|messageSend actions\n */\nexport const transferSecretRevealEpic = (action$, state$, { signer }) => state$.pipe(publishReplay(1, undefined, state$ => action$.pipe(filter(isActionOf(transferSecretRequest)), concatMap(action => state$.pipe(first(), mergeMap(state => {\n    if (!(action.meta.secrethash in state.sent))\n        return EMPTY;\n    const target = state.sent[action.meta.secrethash].transfer.target;\n    let reveal$;\n    if (state.sent[action.meta.secrethash].secretReveal)\n        reveal$ = of(state.sent[action.meta.secrethash].secretReveal);\n    else {\n        const message = {\n            type: MessageType.SECRET_REVEAL,\n            message_identifier: makeMessageId(),\n            secret: state.secrets[action.meta.secrethash].secret,\n        };\n        reveal$ = from(signMessage(signer, message));\n    }\n    return reveal$.pipe(mergeMap(function* (message) {\n        yield transferSecretReveal({ message }, action.meta);\n        yield messageSend({ message }, { address: target });\n    }));\n}))))));\n/**\n * Handles receiving a valid SecretReveal from recipient (neighbor/partner)\n * This indicates that the partner knowws the secret, and we should Unlock to avoid going on-chain.\n * The transferUnlock action is a request for the unlocking to be generated and sent.\n *\n * @param action$  Observable of RaidenActions\n * @param state$  Observable of RaidenStates\n * @returns  Observable of output actions for this epic\n */\nexport const transferSecretRevealedEpic = (action$, state$) => action$.pipe(filter(isActionOf(messageReceived)), withLatestFrom(state$), mergeMap(function* ([action, state]) {\n    const message = action.payload.message;\n    if (!message || !Signed(SecretReveal).is(message))\n        return;\n    const secrethash = keccak256(message.secret);\n    if (!(secrethash in state.sent) ||\n        action.meta.address !== state.sent[secrethash].transfer.recipient ||\n        // don't unlock again if already unlocked, retry handled by transferUnlockedRetryMessageEpic\n        // in the future, we may avoid retry until Processed, and [re]send once per SecretReveal\n        !!state.sent[secrethash].unlock)\n        return;\n    // transferSecret is noop if we already know the secret (e.g. we're the initiator)\n    yield transferSecret({ secret: message.secret }, { secrethash });\n    // request unlock to be composed, signed & sent to partner\n    yield transferUnlock(undefined, { secrethash });\n}));\n/**\n * Handles receiving a signed Processed for some sent Unlock\n * It sends the success action for transfer (which resolves any pending Promise), as well sa clears\n * the pending transfer state, as it isn't needed anymore\n *\n * @param action$  Observable of messageReceived actions\n * @param state$  Observable of RaidenStates\n * @returns  Observable of transferred|transferClear actions\n */\nexport const transferUnlockProcessedReceivedEpic = (action$, state$) => action$.pipe(filter(isActionOf(messageReceived)), withLatestFrom(state$), mergeMap(function* ([action, state]) {\n    const message = action.payload.message;\n    if (!message || !Signed(Processed).is(message))\n        return;\n    let secrethash;\n    for (const [key, sent] of Object.entries(state.sent)) {\n        if (sent.unlock &&\n            sent.unlock.message_identifier.eq(message.message_identifier) &&\n            sent.transfer.recipient === action.meta.address) {\n            secrethash = key;\n            break;\n        }\n    }\n    if (!secrethash)\n        return;\n    yield transferred({\n        balanceProof: getBalanceProofFromEnvelopeMessage(state.sent[secrethash].unlock),\n    }, { secrethash });\n    yield transferClear(undefined, { secrethash });\n}));\n/**\n * Handles receiving a signed Processed for some sent LockExpired\n * It marks the end of the unhappy case, and clears pending transfer state\n * transferFailed already sent at newBlock handling/transferExpire request time, so just clear\n *\n * @param action$  Observable of RaidenActions\n * @param state$  Observable of RaidenStates\n * @returns  Observable of output actions for this epic\n */\nexport const transferExpireProcessedClearsEpic = (action$, state$) => action$.pipe(filter(isActionOf(messageReceived)), withLatestFrom(state$), mergeMap(function* ([action, state]) {\n    const message = action.payload.message;\n    if (!message || !Signed(Processed).is(message))\n        return;\n    let secrethash;\n    for (const [key, sent] of Object.entries(state.sent)) {\n        if (sent.lockExpired &&\n            sent.lockExpired.message_identifier.eq(message.message_identifier) &&\n            sent.transfer.recipient === action.meta.address) {\n            secrethash = key;\n            break;\n        }\n    }\n    if (!secrethash)\n        return;\n    yield transferClear(undefined, { secrethash });\n}));\n/**\n * Complete or fail any pending transfer for any closing or closed channels\n * The output actions will also clear the pending transfer from state, as well as resolve/reject\n * any [user-facing] pending Promise\n *\n * @param action$  Observable of channelClose|channelClosed actions\n * @param state$  Observable of RaidenStates\n * @returns  Observable of transferred|transferFailed|transferClear actions\n */\nexport const transferChannelClosedEpic = (action$, state$) => action$.pipe(filter(isActionOf([channelClose, channelClosed])), withLatestFrom(state$), mergeMap(function* ([action, state]) {\n    for (const [key, sent] of Object.entries(state.sent)) {\n        const secrethash = key, transfer = sent.transfer;\n        if (transfer.token_network_address !== action.meta.tokenNetwork ||\n            transfer.recipient !== action.meta.partner)\n            continue;\n        // as we can't know for sure if recipient/partner received the secret or unlock,\n        //consider transfer failed iff neither the secret was revealed nor the unlock happened\n        if (!sent.secretReveal && !sent.unlock)\n            yield transferFailed(new Error(`Channel closed before revealing or unlocking`), {\n                secrethash,\n            });\n        else if (state.sent[secrethash].unlock)\n            yield transferred({ balanceProof: getBalanceProofFromEnvelopeMessage(state.sent[secrethash].unlock) }, { secrethash });\n        else\n            yield transferred({}, { secrethash });\n        // regardless of success or fail, always clear this transfer, channel gone\n        yield transferClear(undefined, { secrethash });\n    }\n}));\n/**\n * Sends Processed for unhandled transfer messages\n *\n * We don't yet support receiving nor mediating transfers (LockedTransfer, RefundTransfer), but\n * also don't want the partner to keep retrying any messages intended for us indefinitely.\n * That's why we decided to just answer them with Processed, to clear their queue. Of course, we\n * still don't validate, store state for these messages nor handle them in any way (e.g. requesting\n * secret from initiator), so any transfer is going to expire, and then we also reply Processed for\n * the respective LockExpired.\n *\n * @param action$  Observable of messageSend actions\n * @param state$  Observable of RaidenStates\n * @param signer  RaidenEpicDeps members\n * @returns  Observable of messageSend actions\n */\nexport const transferReceivedReplyProcessedEpic = (action$, {}, { signer }) => {\n    const cache = new LruCache(32);\n    return action$.pipe(filter(isActionOf(messageReceived)), concatMap(action => {\n        const message = action.payload.message;\n        if (!message ||\n            !(Signed(LockedTransfer).is(message) ||\n                Signed(RefundTransfer).is(message) ||\n                Signed(LockExpired).is(message)))\n            return EMPTY;\n        const msgId = message.message_identifier, key = msgId.toString();\n        const cached = cache.get(key);\n        if (cached)\n            return of(messageSend({ message: cached }, action.meta));\n        const processed = {\n            type: MessageType.PROCESSED,\n            message_identifier: msgId,\n        };\n        return from(signMessage(signer, processed)).pipe(tap(signed => cache.put(key, signed)), map(signed => messageSend({ message: signed }, action.meta)));\n    }));\n};\n/**\n * Receiving RefundTransfer for pending transfer fails it\n *\n * @param action$  Observable of messageReceived actions\n * @param state$  Observable of RaidenStates\n * @returns  Observable of transferFailed|transferRefunded actions\n */\nexport const transferRefundedEpic = (action$, state$) => action$.pipe(filter(isActionOf(messageReceived)), withLatestFrom(state$), mergeMap(function* ([action, state]) {\n    const message = action.payload.message;\n    if (!message || !Signed(RefundTransfer).is(message))\n        return;\n    const secrethash = message.lock.secrethash;\n    if (!(secrethash in state.sent) ||\n        message.initiator !== state.sent[secrethash].transfer.recipient ||\n        !message.payment_identifier.eq(state.sent[secrethash].transfer.payment_identifier) ||\n        !message.lock.amount.eq(state.sent[secrethash].transfer.lock.amount) ||\n        !message.lock.expiration.eq(state.sent[secrethash].transfer.lock.expiration) ||\n        state.sent[secrethash].unlock || // alrady unlocked\n        state.sent[secrethash].lockExpired || // already expired\n        message.lock.expiration.lte(state.blockNumber) // lock expired but transfer didn't yet\n    )\n        return;\n    yield transferRefunded({ message }, { secrethash });\n    yield transferFailed(new Error('transfer refunded'), { secrethash });\n}));\n//# sourceMappingURL=epics.js.map","import { from, of } from 'rxjs';\nimport { catchError, filter, mergeMap, takeWhile, takeUntil } from 'rxjs/operators';\nimport { isActionOf } from 'typesafe-actions';\nimport { negate } from 'lodash';\nimport { raidenShutdown } from './actions';\nimport * as ChannelsEpics from './channels/epics';\nimport * as TransportEpics from './transport/epics';\nimport * as TransfersEpics from './transfers/epics';\nexport const RaidenEpics = Object.assign({}, ChannelsEpics, TransportEpics, TransfersEpics);\nexport const raidenRootEpic = (action$, state$, deps) => {\n    const shutdownNotification = action$.pipe(filter(isActionOf(raidenShutdown))), limitedAction$ = action$.pipe(takeWhile(negate(isActionOf(raidenShutdown)), true)), limitedState$ = state$.pipe(takeUntil(shutdownNotification));\n    // wire state$ & action$ to output subjects, to expose them to Raiden public class\n    limitedState$.subscribe(deps.stateOutput$);\n    limitedAction$.subscribe(deps.actionOutput$);\n    // like combineEpics, but completes action$, state$ & output$ when a raidenShutdown goes through\n    return from(Object.values(RaidenEpics)).pipe(mergeMap(epic => epic(limitedAction$, limitedState$, deps)), catchError(err => of(raidenShutdown({ reason: err }))), takeUntil(shutdownNotification));\n};\n//# sourceMappingURL=epics.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { Wallet, Contract } from 'ethers';\nimport { Web3Provider, JsonRpcProvider } from 'ethers/providers';\nimport { bigNumberify, keccak256, } from 'ethers/utils';\nimport { Zero } from 'ethers/constants';\nimport { applyMiddleware, createStore } from 'redux';\nimport { createEpicMiddleware } from 'redux-observable';\nimport { isActionOf } from 'typesafe-actions';\nimport { createLogger } from 'redux-logger';\nimport { debounce, findKey, transform, constant, pick, isEmpty } from 'lodash';\nimport { Subject, BehaviorSubject, AsyncSubject } from 'rxjs';\nimport { first, filter, map } from 'rxjs/operators';\nimport TokenNetworkRegistryAbi from './abi/TokenNetworkRegistry.json';\nimport TokenNetworkAbi from './abi/TokenNetwork.json';\nimport TokenAbi from './abi/Token.json';\nimport ropstenDeploy from './deployment/deployment_ropsten.json';\nimport rinkebyDeploy from './deployment/deployment_rinkeby.json';\nimport kovanDeploy from './deployment/deployment_kovan.json';\nimport goerliDeploy from './deployment/deployment_goerli.json';\nimport { ShutdownReason } from './constants';\nimport { Address, PrivateKey, Secret, Hash, UInt } from './utils/types';\nimport { RaidenState, initialState, encodeRaidenState, decodeRaidenState } from './state';\nimport { raidenReducer } from './reducer';\nimport { raidenRootEpic } from './epics';\nimport { RaidenEvents, raidenShutdown } from './actions';\nimport { tokenMonitored, channelOpened, channelOpenFailed, channelOpen, channelDeposited, channelDepositFailed, channelDeposit, channelClosed, channelCloseFailed, channelClose, channelSettled, channelSettleFailed, channelSettle, } from './channels/actions';\nimport { matrixPresenceUpdate, matrixRequestMonitorPresenceFailed, matrixRequestMonitorPresence, } from './transport/actions';\nimport { transfer, transferred, transferFailed } from './transfers/actions';\nimport { makeSecret } from './transfers/utils';\nimport { patchSignSend } from './utils/ethers';\nexport class Raiden {\n    constructor(provider, network, signer, contractsInfo, state) {\n        this.tokenInfo = {};\n        this.resolveName = provider.resolveName.bind(provider);\n        const address = state.address;\n        // use next from latest known blockNumber as start block when polling\n        provider.resetEventsBlock(state.blockNumber + 1);\n        this.contracts = {\n            registry: new Contract(contractsInfo.TokenNetworkRegistry.address, TokenNetworkRegistryAbi, signer),\n            tokenNetworks: {},\n            tokens: {},\n        };\n        const state$ = new BehaviorSubject(state);\n        this.state$ = state$;\n        const action$ = new Subject();\n        this.action$ = action$;\n        this.channels$ = state$.pipe(map(state => transform(\n        // transform state.channels to token-partner-raidenChannel map\n        state.channels, (result, partner2channel, tokenNetwork) => {\n            const token = findKey(state.tokens, tn => tn === tokenNetwork);\n            if (!token)\n                return; // shouldn't happen, token mapping is always bi-directional\n            result[token] = transform(\n            // transform Channel to RaidenChannel, with more info\n            partner2channel, (partner2raidenChannel, channel, partner) => {\n                const partnerTotal = channel.partner.balanceProof\n                    ? channel.partner.balanceProof.transferredAmount.add(channel.partner.balanceProof.lockedAmount)\n                    : Zero, ownTotal = channel.own.balanceProof\n                    ? channel.own.balanceProof.transferredAmount.add(channel.own.balanceProof.lockedAmount)\n                    : Zero, balance = partnerTotal.sub(ownTotal);\n                partner2raidenChannel[partner] = Object.assign({ state: channel.state }, pick(channel, ['id', 'settleTimeout', 'openBlock', 'closeBlock']), { token, tokenNetwork: tokenNetwork, partner: partner, ownDeposit: channel.own.deposit, partnerDeposit: channel.partner.deposit, balance, capacity: channel.own.deposit.add(balance) });\n            });\n        })));\n        this.events$ = action$.pipe(filter(isActionOf(Object.values(RaidenEvents))));\n        const middlewares = [];\n        if (process.env.NODE_ENV === 'development') {\n            middlewares.push(createLogger({ level: 'debug' }));\n        }\n        this.deps = {\n            stateOutput$: state$,\n            actionOutput$: action$,\n            matrix$: new AsyncSubject(),\n            provider,\n            network,\n            signer,\n            address,\n            contractsInfo,\n            registryContract: this.contracts.registry,\n            getTokenNetworkContract: this.getTokenNetworkContract.bind(this),\n            getTokenContract: this.getTokenContract.bind(this),\n        };\n        // minimum blockNumber of contracts deployment as start scan block\n        const epicMiddleware = createEpicMiddleware({ dependencies: this.deps });\n        this.store = createStore(raidenReducer, state, applyMiddleware(...middlewares, epicMiddleware));\n        epicMiddleware.run(raidenRootEpic);\n    }\n    /**\n     * Async helper factory to make a Raiden instance from more common parameters.\n     *\n     * @param connection\n     * - a JsonRpcProvider instance\n     * - a Metamask's web3.currentProvider object or\n     * - a hostname or remote json-rpc connection string\n     * @param account\n     * - a string address of an account loaded in provider or\n     * - a string private key or\n     * - a number index of an account loaded in provider (e.g. 0 for Metamask's loaded account)\n     * @param storageOrState\n     *   Storage/localStorage-like synchronous object where to load and store current state or\n     *   initial RaidenState-like object instead. In this case, user must listen state$ changes\n     *   and update them on whichever persistency option is used\n     * @param contracts\n     *   Contracts deployment info\n     * @returns Promise to Raiden SDK client instance\n     * An async factory is needed so we can do the needed async requests to construct the required\n     * parameters ahead of construction time, and avoid partial initialization then\n     **/\n    static create(connection, account, storageOrState, contracts) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let provider;\n            if (typeof connection === 'string') {\n                provider = new JsonRpcProvider(connection);\n            }\n            else if (connection instanceof JsonRpcProvider) {\n                provider = connection;\n            }\n            else {\n                provider = new Web3Provider(connection);\n            }\n            // Patch provider's sign method (https://github.com/raiden-network/light-client/issues/223)\n            patchSignSend(provider);\n            const network = yield provider.getNetwork();\n            // if no ContractsInfo, try to populate from defaults\n            if (!contracts) {\n                switch (network.name) {\n                    case 'rinkeby':\n                        contracts = rinkebyDeploy.contracts;\n                        break;\n                    case 'ropsten':\n                        contracts = ropstenDeploy.contracts;\n                        break;\n                    case 'kovan':\n                        contracts = kovanDeploy.contracts;\n                        break;\n                    case 'goerli':\n                        contracts = goerliDeploy.contracts;\n                        break;\n                    default:\n                        throw new Error(`No deploy info provided nor recognized network: ${JSON.stringify(network)}`);\n                }\n            }\n            let signer;\n            if (typeof account === 'number') {\n                // index of account in provider\n                signer = provider.getSigner(account);\n            }\n            else if (Address.is(account)) {\n                // address\n                const accounts = yield provider.listAccounts();\n                if (!accounts.includes(account))\n                    throw new Error(`Account \"${account}\" not found in provider, got=${accounts}`);\n                signer = provider.getSigner(account);\n            }\n            else if (PrivateKey.is(account)) {\n                // private key\n                signer = new Wallet(account, provider);\n            }\n            else {\n                throw new Error('String account must be either a 0x-encoded address or private key');\n            }\n            const address = (yield signer.getAddress());\n            // use TokenNetworkRegistry deployment block as initial blockNumber, or 0\n            let loadedState = Object.assign({}, initialState, { blockNumber: contracts.TokenNetworkRegistry.block_number || 0, address });\n            // type guard\n            function isStorage(storageOrState) {\n                return storageOrState && typeof storageOrState.getItem === 'function';\n            }\n            let onState = undefined, onStateComplete = undefined;\n            if (storageOrState && isStorage(storageOrState)) {\n                const ns = `raiden_${network.name || network.chainId}_${contracts.TokenNetworkRegistry.address}_${address}`;\n                const loaded = Object.assign({}, loadedState, JSON.parse((yield storageOrState.getItem(ns)) || 'null'));\n                loadedState = decodeRaidenState(loaded);\n                // to be subscribed on raiden.state$\n                const debouncedState = debounce((state) => {\n                    storageOrState.setItem(ns, encodeRaidenState(state));\n                }, 1000, { maxWait: 5000 });\n                onState = debouncedState;\n                onStateComplete = () => debouncedState.flush();\n            }\n            else if (storageOrState && RaidenState.is(storageOrState)) {\n                loadedState = storageOrState;\n            }\n            else if (storageOrState /* typeof storageOrState === unknown */) {\n                loadedState = decodeRaidenState(storageOrState);\n            }\n            if (address !== loadedState.address)\n                throw new Error(`Mismatch between provided account and loaded state: \"${address}\" !== \"${loadedState.address}\"`);\n            const raiden = new Raiden(provider, network, signer, contracts, loadedState);\n            if (onState)\n                raiden.state$.subscribe(onState, onStateComplete, onStateComplete);\n            return raiden;\n        });\n    }\n    /**\n     * Triggers all epics to be unsubscribed\n     */\n    stop() {\n        this.store.dispatch(raidenShutdown({ reason: ShutdownReason.STOP }));\n    }\n    get state() {\n        return this.store.getState();\n    }\n    get address() {\n        return this.deps.address;\n    }\n    get network() {\n        return this.deps.network;\n    }\n    getBlockNumber() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.deps.provider.blockNumber || (yield this.deps.provider.getBlockNumber());\n        });\n    }\n    /**\n     * Get ETH balance for given address or self\n     *\n     * @param address  Optional target address. If omitted, gets own balance\n     * @returns  BigNumber of ETH balance\n     */\n    getBalance(address) {\n        address = address || this.address;\n        if (!Address.is(address))\n            throw new Error('Invalid address');\n        return this.deps.provider.getBalance(address);\n    }\n    /**\n     * Get token balance and token decimals for given address or self\n     *\n     * @param token  Token address to fetch balance. Must be one of the monitored tokens.\n     * @param address  Optional target address. If omitted, gets own balance\n     * @returns  BigNumber containing address's token balance\n     */\n    getTokenBalance(token, address) {\n        return __awaiter(this, void 0, void 0, function* () {\n            address = address || this.address;\n            if (!Address.is(address) || !Address.is(token))\n                throw new Error('Invalid address');\n            if (!(token in this.state.tokens))\n                throw new Error(`token \"${token}\" not monitored`);\n            const tokenContract = this.getTokenContract(token);\n            return tokenContract.functions.balanceOf(address);\n        });\n    }\n    /**\n     * Get token information: totalSupply, decimals, name and symbol\n     * Rejects only if 'token' contract doesn't define totalSupply and decimals methods.\n     * name and symbol may be undefined, as they aren't actually part of ERC20 standard, although\n     * very common and defined on most token contracts.\n     *\n     * @param token address to fetch info from\n     * @returns TokenInfo\n     */\n    getTokenInfo(token) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!Address.is(token))\n                throw new Error('Invalid address');\n            /* tokenInfo isn't in state as it isn't relevant for being preserved, it's merely a cache */\n            if (!(token in this.state.tokens))\n                throw new Error(`token \"${token}\" not monitored`);\n            if (!(token in this.tokenInfo)) {\n                const tokenContract = this.getTokenContract(token);\n                const [totalSupply, decimals, name, symbol] = yield Promise.all([\n                    tokenContract.functions.totalSupply(),\n                    tokenContract.functions.decimals(),\n                    tokenContract.functions.name().catch(constant(undefined)),\n                    tokenContract.functions.symbol().catch(constant(undefined)),\n                ]);\n                this.tokenInfo[token] = { totalSupply, decimals, name, symbol };\n            }\n            return this.tokenInfo[token];\n        });\n    }\n    /**\n     * Returns a list of all token addresses registered as token networks in registry\n     *\n     * @returns Promise to list of token addresses\n     */\n    getTokenList() {\n        return __awaiter(this, void 0, void 0, function* () {\n            // here we assume there'll be at least one token registered on a registry\n            // so, if the list is empty (e.g. on first init), raidenInitializationEpic is still fetching\n            // the TokenNetworkCreated events from registry, so we wait until some token is found\n            if (isEmpty(this.state.tokens))\n                yield this.action$\n                    .pipe(filter(isActionOf(tokenMonitored)), first())\n                    .toPromise();\n            return Object.keys(this.state.tokens);\n        });\n    }\n    /**\n     * Create a TokenNetwork contract linked to this.deps.signer for given tokenNetwork address\n     * Caches the result and returns the same contract instance again for the same address on this\n     *\n     * @param address  TokenNetwork contract address (not token address!)\n     * @returns  TokenNetwork Contract instance\n     */\n    getTokenNetworkContract(address) {\n        if (!(address in this.contracts.tokenNetworks))\n            this.contracts.tokenNetworks[address] = new Contract(address, TokenNetworkAbi, this.deps.signer);\n        return this.contracts.tokenNetworks[address];\n    }\n    /**\n     * Create a Token contract linked to this.deps.signer for given token address\n     * Caches the result and returns the same contract instance again for the same address on this\n     *\n     * @param address  Token contract address\n     * @returns  Token Contract instance\n     */\n    getTokenContract(address) {\n        if (!(address in this.contracts.tokens))\n            this.contracts.tokens[address] = new Contract(address, TokenAbi, this.deps.signer);\n        return this.contracts.tokens[address];\n    }\n    /**\n     * Open a channel on the tokenNetwork for given token address with partner\n     *\n     * @param token  Token address on currently configured token network registry\n     * @param partner  Partner address\n     * @param settleTimeout  openChannel parameter, defaults to 500\n     * @returns  txHash of channelOpen call, iff it succeeded\n     */\n    openChannel(token, partner, settleTimeout = 500) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!Address.is(token) || !Address.is(partner))\n                throw new Error('Invalid address');\n            const state = this.state;\n            const tokenNetwork = state.tokens[token];\n            if (!tokenNetwork)\n                throw new Error('Unknown token network');\n            const promise = this.action$\n                .pipe(filter(isActionOf([channelOpened, channelOpenFailed])), filter(action => action.meta.tokenNetwork === tokenNetwork && action.meta.partner === partner), first(), map(action => {\n                if (isActionOf(channelOpenFailed, action))\n                    throw action.payload;\n                return action.payload.txHash;\n            }))\n                .toPromise();\n            this.store.dispatch(channelOpen({ settleTimeout }, { tokenNetwork, partner }));\n            return promise;\n        });\n    }\n    /**\n     * Deposit tokens on channel between us and partner on tokenNetwork for token\n     *\n     * @param token  Token address on currently configured token network registry\n     * @param partner  Partner address\n     * @param deposit  Number of tokens to deposit on channel\n     * @returns  txHash of setTotalDeposit call, iff it succeeded\n     */\n    depositChannel(token, partner, deposit) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!Address.is(token) || !Address.is(partner))\n                throw new Error('Invalid address');\n            const state = this.state;\n            const tokenNetwork = state.tokens[token];\n            if (!tokenNetwork)\n                throw new Error('Unknown token network');\n            const promise = this.action$\n                .pipe(filter(isActionOf([channelDeposited, channelDepositFailed])), filter(action => action.meta.tokenNetwork === tokenNetwork && action.meta.partner === partner), first(), map(action => {\n                if (isActionOf(channelDepositFailed, action))\n                    throw action.payload;\n                return action.payload.txHash;\n            }))\n                .toPromise();\n            this.store.dispatch(channelDeposit({ deposit: bigNumberify(deposit) }, { tokenNetwork, partner }));\n            return promise;\n        });\n    }\n    /**\n     * Close channel between us and partner on tokenNetwork for token\n     * This method will fail if called on a channel not in 'opened' or 'closing' state.\n     * When calling this method on an 'opened' channel, its state becomes 'closing', and from there\n     * on, no payments can be performed on the channel. If for any reason the closeChannel\n     * transaction fails, channel's state stays as 'closing', and this method can be called again\n     * to retry sending 'closeChannel' transaction. After it's successful, channel becomes 'closed',\n     * and can be settled after 'settleTimeout' blocks (when it then becomes 'settleable').\n     *\n     * @param token  Token address on currently configured token network registry\n     * @param partner  Partner address\n     * @returns  txHash of closeChannel call, iff it succeeded\n     */\n    closeChannel(token, partner) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!Address.is(token) || !Address.is(partner))\n                throw new Error('Invalid address');\n            const state = this.state;\n            const tokenNetwork = state.tokens[token];\n            if (!tokenNetwork)\n                throw new Error('Unknown token network');\n            const promise = this.action$\n                .pipe(filter(isActionOf([channelClosed, channelCloseFailed])), filter(action => action.meta.tokenNetwork === tokenNetwork && action.meta.partner === partner), first(), map(action => {\n                if (isActionOf(channelCloseFailed, action))\n                    throw action.payload;\n                return action.payload.txHash;\n            }))\n                .toPromise();\n            this.store.dispatch(channelClose(undefined, { tokenNetwork, partner }));\n            return promise;\n        });\n    }\n    /**\n     * Settle channel between us and partner on tokenNetwork for token\n     * This method will fail if called on a channel not in 'settleable' or 'settling' state.\n     * Channel becomes 'settleable' settleTimeout blocks after closed (detected automatically\n     * while Raiden Light Client is running or later on restart). When calling it, channel state\n     * becomes 'settling'. If for any reason transaction fails, it'll stay on this state, and this\n     * method can be called again to re-send a settleChannel transaction.\n     *\n     * @param token  Token address on currently configured token network registry\n     * @param partner  Partner address\n     * @returns  txHash of settleChannel call, iff it succeeded\n     */\n    settleChannel(token, partner) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!Address.is(token) || !Address.is(partner))\n                throw new Error('Invalid address');\n            const state = this.state;\n            const tokenNetwork = state.tokens[token];\n            if (!tokenNetwork)\n                throw new Error('Unknown token network');\n            // wait for the corresponding success or error action\n            const promise = this.action$\n                .pipe(filter(isActionOf([channelSettled, channelSettleFailed])), filter(action => action.meta.tokenNetwork === tokenNetwork && action.meta.partner === partner), first(), map(action => {\n                if (isActionOf(channelSettleFailed, action))\n                    throw action.payload;\n                return action.payload.txHash;\n            }))\n                .toPromise();\n            this.store.dispatch(channelSettle(undefined, { tokenNetwork, partner }));\n            return promise;\n        });\n    }\n    /**\n     * Returns object describing address's users availability on transport\n     * After calling this method, any further presence update to valid transport peers of this\n     * address will trigger a corresponding MatrixPresenceUpdateAction on events$\n     *\n     * @param address checksummed address to be monitored\n     * @returns Promise to object describing availability and last event timestamp\n     */\n    getAvailability(address) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!Address.is(address))\n                throw new Error('Invalid address');\n            const promise = this.action$\n                .pipe(filter(isActionOf([matrixPresenceUpdate, matrixRequestMonitorPresenceFailed])), filter(action => action.meta.address === address), first(), map(action => {\n                if (isActionOf(matrixRequestMonitorPresenceFailed, action))\n                    throw action.payload;\n                return action.payload;\n            }))\n                .toPromise();\n            this.store.dispatch(matrixRequestMonitorPresence(undefined, { address }));\n            return promise;\n        });\n    }\n    /**\n     * Send a Locked Transfer!\n     * Coverage ignored until we handle the full transfer lifecycle\n     * TODO: remove uncover when implemented\n     *\n     * @param token  Token address on currently configured token network registry\n     * @param target  Target address (must be getAvailability before)\n     * @param amount  Amount to try to transfer\n     * @param opts.paymentId  Optionally specify a paymentId to use for this transfer\n     * @param opts.secret  Optionally specify a secret to use on this transfer\n     *    (in which case, it'll be registered and revealed to target)\n     * @param opts.secrethash  Optionally specify a secrethash to use. If secret is provided,\n     *    secrethash must be the keccak256 hash of the secret. If no secret is provided, the target\n     *    must be informed of it by other means/externally.\n     * @returns A promise to boolean indicating if the transfer completed with Unlock\n     */\n    /* istanbul ignore next */\n    transfer(token, target, amount, opts) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!Address.is(token) || !Address.is(target))\n                throw new Error('Invalid address');\n            const tokenNetwork = this.state.tokens[token];\n            if (!tokenNetwork)\n                throw new Error('Unknown token network');\n            amount = bigNumberify(amount);\n            if (!UInt(32).is(amount))\n                throw new Error('Invalid amount');\n            let paymentId = !opts || !opts.paymentId ? undefined : bigNumberify(opts.paymentId);\n            if (paymentId && !UInt(8).is(paymentId))\n                throw new Error('Invalid opts.paymentId');\n            let secret, secrethash;\n            if (opts) {\n                const _secret = opts.secret;\n                if (_secret !== undefined && !Secret.is(_secret))\n                    throw new Error('Invalid opts.secret');\n                const _secrethash = opts.secrethash;\n                if (_secrethash !== undefined && !Hash.is(_secrethash))\n                    throw new Error('Invalid opts.secrethash');\n                secret = _secret;\n                secrethash = _secrethash;\n            }\n            if (!secrethash) {\n                if (!secret)\n                    secret = makeSecret();\n                secrethash = keccak256(secret);\n            }\n            else if (secret && keccak256(secret) !== secrethash) {\n                throw new Error('Secret and secrethash must match if passing both');\n            }\n            const promise = this.action$\n                .pipe(filter(isActionOf([transferred, transferFailed])), filter(action => action.meta.secrethash === secrethash), first(), map(action => {\n                if (isActionOf(transferFailed, action))\n                    throw action.payload;\n                return !!action.payload.balanceProof;\n            }))\n                .toPromise();\n            this.store.dispatch(transfer({ tokenNetwork, target, amount, paymentId, secret }, { secrethash }));\n            return promise;\n        });\n    }\n}\nexport default Raiden;\n//# sourceMappingURL=raiden.js.map","export { RaidenState } from './state';\nexport { ChannelState } from './channels';\nexport { ShutdownReason } from './constants';\nexport { Address } from './utils/types';\nexport * from './raiden';\n//# sourceMappingURL=index.js.map","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-layout',{staticClass:\"list-header\"},[_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('div',{staticClass:\"list-header__header\"},[_vm._v(_vm._s(_vm.header))]),_c('div',{staticClass:\"list-header__divider\"})])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue } from 'vue-property-decorator';\n\n@Component({})\nexport default class ListHeader extends Vue {\n  @Prop({ required: true })\n  header!: string;\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListHeader.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListHeader.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ListHeader.vue?vue&type=template&id=59800fee&scoped=true&\"\nimport script from \"./ListHeader.vue?vue&type=script&lang=ts&\"\nexport * from \"./ListHeader.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ListHeader.vue?vue&type=style&index=0&id=59800fee&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"59800fee\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VFlex } from 'vuetify/lib/components/VGrid';\nimport { VLayout } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VFlex,VLayout})\n","import { Raiden, RaidenChannel } from 'raiden';\nimport { Store } from 'vuex';\nimport { RootState } from '@/types';\nimport { Web3Provider } from '@/services/web3-provider';\nimport { BalanceUtils } from '@/utils/balance-utils';\nimport {\n  DeniedReason,\n  LeaveNetworkResult,\n  Progress,\n  Token\n} from '@/model/types';\nimport { BigNumber } from 'ethers/utils';\nimport { Zero } from 'ethers/constants';\nimport { filter } from 'rxjs/internal/operators';\n\nexport default class RaidenService {\n  private _raiden?: Raiden;\n  private store: Store<RootState>;\n\n  private static async createRaiden(provider: any): Promise<Raiden> {\n    try {\n      return await Raiden.create(provider, 0, window.localStorage);\n    } catch (e) {\n      throw new RaidenInitializationFailed(e);\n    }\n  }\n\n  private get raiden(): Raiden {\n    if (this._raiden === undefined) {\n      throw new Error('Raiden instance was not initialized');\n    } else {\n      return this._raiden;\n    }\n  }\n\n  private async updateTokenBalances() {\n    const cachedTokens = this.store.state.tokens;\n    for (const address in cachedTokens) {\n      if (!cachedTokens.hasOwnProperty(address)) {\n        continue;\n      }\n      const token = cachedTokens[address];\n      const balance = await this.raiden.getTokenBalance(address);\n      cachedTokens[address] = Object.assign({}, token, {\n        balance: balance,\n        units: BalanceUtils.toUnits(balance, token.decimals)\n      });\n    }\n\n    this.store.commit('updateTokens', cachedTokens);\n  }\n\n  constructor(store: Store<RootState>) {\n    this._raiden = undefined;\n    this.store = store;\n  }\n\n  async ensResolve(name: string): Promise<string> {\n    try {\n      return await this.raiden.resolveName(name);\n    } catch (e) {\n      throw new EnsResolveFailed(e);\n    }\n  }\n\n  async connect() {\n    try {\n      const provider = await Web3Provider.provider();\n      if (!provider) {\n        this.store.commit('noProvider');\n      } else {\n        const raiden = await RaidenService.createRaiden(provider);\n        this._raiden = raiden;\n\n        this.store.commit('account', await this.getAccount());\n        this.store.commit('balance', await this.getBalance());\n\n        this.setupEventListeners(raiden);\n\n        raiden.channels$.subscribe(value => {\n          this.store.commit('updateChannels', value);\n        });\n\n        this.store.commit('network', raiden.network);\n      }\n    } catch (e) {\n      console.error(e);\n      let deniedReason: DeniedReason;\n      if (e.message && e.message.indexOf('No deploy info provided') > -1) {\n        deniedReason = DeniedReason.UNSUPPORTED_NETWORK;\n      } else if (e instanceof RaidenInitializationFailed) {\n        deniedReason = DeniedReason.INITIALIZATION_FAILED;\n      } else {\n        deniedReason = DeniedReason.NO_ACCOUNT;\n      }\n      this.store.commit('accessDenied', deniedReason);\n    }\n\n    this.store.commit('loadComplete');\n  }\n\n  private setupEventListeners(raiden: Raiden) {\n    raiden.events$\n      .pipe(filter(value => value.type === 'raidenShutdown'))\n      .subscribe(() => this.store.commit('reset'));\n\n    raiden.events$\n      .pipe(filter(value => value.type === 'newBlock'))\n      .subscribe(async () => await this.updateTokenBalances());\n  }\n\n  disconnect() {\n    this.raiden.stop();\n  }\n\n  async getAccount(): Promise<string> {\n    return this.raiden.address;\n  }\n\n  async getBalance(): Promise<string> {\n    const balance = await this.raiden.getBalance();\n    return BalanceUtils.toEth(balance);\n  }\n\n  async getToken(tokenAddress: string): Promise<Token | null> {\n    const raiden = this.raiden;\n    try {\n      const [balance, { decimals, symbol, name }] = await Promise.all([\n        raiden.getTokenBalance(tokenAddress),\n        raiden.getTokenInfo(tokenAddress)\n      ]);\n      return {\n        name: name,\n        symbol: symbol,\n        balance: balance,\n        decimals: decimals,\n        units: BalanceUtils.toUnits(balance, decimals),\n        address: tokenAddress\n      };\n    } catch (e) {\n      console.error(e);\n      return null;\n    }\n  }\n\n  async openChannel(\n    token: string,\n    partner: string,\n    amount: BigNumber,\n    progress?: (progress: Progress) => void\n  ): Promise<void> {\n    const progressUpdater = (current: number, total: number) => {\n      if (progress) {\n        progress({\n          current,\n          total\n        });\n      }\n    };\n\n    const raiden = this.raiden;\n    progressUpdater(1, 3);\n\n    try {\n      await raiden.openChannel(token, partner);\n    } catch (e) {\n      throw new ChannelOpenFailed(e);\n    }\n\n    progressUpdater(2, 3);\n\n    if (amount.gt(Zero)) {\n      await this.deposit(token, partner, amount);\n    }\n  }\n\n  async leaveNetwork(\n    address: string,\n    progress?: (progress: Progress) => void\n  ): Promise<LeaveNetworkResult> {\n    const channels: RaidenChannel[] = this.store.getters.channels(address);\n    const result = {\n      closed: 0,\n      failed: 0\n    };\n\n    const total = channels.length;\n    for (let i = 0; i < total; i++) {\n      if (progress) {\n        progress({\n          current: i + 1,\n          total: total\n        });\n      }\n\n      const channel = channels[i];\n      try {\n        await this.closeChannel(channel.token, channel.partner);\n        result.closed += 1;\n      } catch (e) {\n        result.failed += 1;\n      }\n    }\n\n    return result;\n  }\n\n  async closeChannel(token: string, partner: string) {\n    try {\n      await this.raiden.closeChannel(token, partner);\n    } catch (e) {\n      throw new ChannelCloseFailed(e);\n    }\n  }\n\n  async deposit(token: string, partner: string, amount: BigNumber) {\n    try {\n      await this.raiden.depositChannel(token, partner, amount);\n    } catch (e) {\n      throw new ChannelDepositFailed(e);\n    }\n  }\n\n  async settleChannel(token: string, partner: string) {\n    try {\n      await this.raiden.settleChannel(token, partner);\n    } catch (e) {\n      throw new ChannelSettleFailed(e);\n    }\n  }\n\n  async fetchTokens() {\n    const cache = this.store.state.tokens;\n    let updateEntries = 0;\n    let tokens: string[];\n    try {\n      tokens = await this.raiden.getTokenList();\n    } catch (e) {\n      tokens = [];\n    }\n\n    for (let i = 0; i < tokens.length; i++) {\n      const token = tokens[i];\n      if (token in cache) {\n        continue;\n      }\n      const retrievedToken = await this.getToken(token);\n      if (retrievedToken) {\n        cache[token] = retrievedToken;\n        updateEntries += 1;\n      }\n    }\n\n    if (updateEntries > 0) {\n      this.store.commit('updateTokens', cache);\n    }\n  }\n\n  async transfer(token: string, target: string, amount: BigNumber) {\n    try {\n      await this.raiden.getAvailability(target);\n      await this.raiden.transfer(token, target, amount);\n    } catch (e) {\n      throw new TransferFailed(e);\n    }\n  }\n}\n\nexport class ChannelSettleFailed extends Error {}\n\nexport class ChannelCloseFailed extends Error {}\n\nexport class ChannelOpenFailed extends Error {}\n\nexport class ChannelDepositFailed extends Error {}\n\nexport class EnsResolveFailed extends Error {}\n\nexport class TransferFailed extends Error {}\n\nexport class RaidenInitializationFailed extends Error {}\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Stepper.vue?vue&type=style&index=0&id=91bd146a&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Stepper.vue?vue&type=style&index=0&id=91bd146a&lang=scss&scoped=true&\"","export class Web3Provider {\n  static async provider() {\n    const ethereum = window.ethereum;\n    let provider = null;\n    if (typeof ethereum !== 'undefined') {\n      await ethereum.enable();\n      provider = ethereum;\n    } else if (window.web3) {\n      provider = window.web3.currentProvider;\n    }\n\n    if (provider && provider.isMetaMask) {\n      provider.autoRefreshOnNetworkChange = false;\n    }\n\n    return provider;\n  }\n\n  static injectedWeb3Available = (): boolean => window.ethereum || window.web3;\n}\n"],"sourceRoot":""}