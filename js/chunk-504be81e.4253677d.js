(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-504be81e"],{1175:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-form",{staticClass:"payment",attrs:{autocomplete:"off"},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-layout",{attrs:{column:"","justify-space-between":"","fill-height":""}},[a("v-layout",{staticClass:"payment__recipient",attrs:{"align-center":"","justify-center":""}},[a("v-flex",{attrs:{xs10:""}},[a("div",{staticClass:"payment__recipient__label"},[t._v("\n          "+t._s(t.$t("payment.recipient-label"))+"\n        ")]),a("address-input",{model:{value:t.target,callback:function(e){t.target=e},expression:"target"}})],1)],1),a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-flex",{attrs:{xs10:""}},[a("amount-input",{attrs:{token:t.token,label:t.$t("payment.amount-label"),placeholder:t.$t("payment.amount-placeholder"),max:t.capacity,limit:""},model:{value:t.amount,callback:function(e){t.amount=e},expression:"amount"}})],1)],1),a("v-layout",{staticClass:"payment__capacity",attrs:{"justify-center":""}},[a("v-flex",{attrs:{xs5:""}},[a("v-layout",{attrs:{column:""}},[a("span",{staticClass:"payment__capacity__label"},[t._v("\n            "+t._s(t.$t("payment.capacity-label"))+"\n          ")]),a("span",{staticClass:"payment__capacity__amount"},[t._v("\n            "+t._s(t.$t("payment.capacity-amount",{capacity:t.convertToUnits(t.capacity,t.token.decimals),token:t.token.symbol}))+"\n          ")])])],1),a("v-flex",{attrs:{xs2:"","offset-xs3":"","align-self-end":""}},[a("v-dialog",{attrs:{"max-width":"450"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[a("v-btn",t._g({staticClass:"payment__capacity__deposit",attrs:{text:""},on:{click:function(e){t.depositting=!0}}},n),[t._v("\n              "+t._s(t.$t("payment.deposit-button"))+"\n            ")])]}}]),model:{value:t.depositting,callback:function(e){t.depositting=e},expression:"depositting"}},[a("v-card",{staticClass:"payment__deposit-dialog"},[a("channel-deposit",{attrs:{token:t.token,identifier:"0"},on:{cancel:function(e){t.depositting=!1},confirm:function(e){return t.deposit(e)}}})],1)],1)],1)],1),a("v-spacer"),a("action-button",{staticClass:"payment__pay-button",attrs:{enabled:t.valid,text:t.$t("payment.pay-button")},on:{click:function(e){return t.transfer()}}}),a("stepper",{attrs:{display:t.loading,steps:t.steps,"done-step":t.doneStep,done:t.done}}),a("error-screen",{attrs:{description:t.error,title:t.errorTitle,"button-label":t.$t("payment.error.button")},on:{dismiss:function(e){t.error=""}}})],1)],1)},s=[],r=(a("8e6e"),a("ac6a"),a("456d"),a("bd86")),i=(a("96cf"),a("3b8d")),o=a("d225"),c=a("b0b4"),u=a("308d"),d=a("6bb5"),l=a("4e2b"),p=a("9ab4"),h=a("60a3"),f=a("6fc3"),b=a("dbe0"),v=a("87a2"),m=a("a3d5"),y=a("a1ab"),k=a("b492"),_=a("01f0"),g=a("8716"),j=a("750b"),O=a("a363"),x=a("2f62"),$=a("8404");function C(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,n)}return a}function w(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?C(a,!0).forEach(function(e){Object(r["a"])(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):C(a).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}var V=function(t){function e(){var t;return Object(o["a"])(this,e),t=Object(u["a"])(this,Object(d["a"])(e).apply(this,arguments)),t.target="",t.token=v["c"],t.amount="",t.valid=!1,t.loading=!1,t.done=!1,t.errorTitle="",t.error="",t.depositting=!1,t.steps=[],t.doneStep=Object(v["d"])(),t.convertToUnits=m["a"].toUnits,t}return Object(l["a"])(e,t),Object(c["a"])(e,[{key:"created",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this.$route.params.token,t.next=3,this.$raiden.getToken(e);case 3:if(t.t0=t.sent,t.t0){t.next=6;break}t.t0=v["c"];case 6:this.token=t.t0;case 7:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"deposit",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.steps=[this.$t("payment.steps.deposit")],this.doneStep=this.$t("payment.steps.deposit-done"),this.errorTitle=this.$t("payment.error.deposit-title"),this.loading=!0,t.prev=4,t.next=7,this.$raiden.deposit(this.token.address,this.channelWithBiggestCapacity(this.token.address).partner,e);case 7:this.done=!0,this.dismissProgress(),t.next=16;break;case 11:t.prev=11,t.t0=t["catch"](4),this.loading=!1,this.depositting=!1,this.error=t.t0.message;case 16:case"end":return t.stop()}},t,this,[[4,11]])}));function e(e){return t.apply(this,arguments)}return e}()},{key:"transfer",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e,a,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.steps=[this.$t("payment.steps.transfer")],this.doneStep=this.$t("payment.steps.done"),this.errorTitle=this.$t("payment.error.title"),e=this.token,a=e.address,n=e.decimals,t.prev=4,this.loading=!0,t.next=8,this.$raiden.transfer(a,this.target,m["a"].parse(this.amount,n));case 8:this.done=!0,this.dismissProgress(),t.next=16;break;case 12:t.prev=12,t.t0=t["catch"](4),this.loading=!1,this.error=t.t0.message;case 16:case"end":return t.stop()}},t,this,[[4,12]])}));function e(){return t.apply(this,arguments)}return e}()},{key:"dismissProgress",value:function(){var t=this;setTimeout(function(){t.loading=!1,t.done=!1},2e3)}},{key:"capacity",get:function(){var t=this.channelWithBiggestCapacity(this.token.address);return t?t.capacity:$["Zero"]}}]),e}(h["e"]);V=p["a"]([Object(h["a"])({components:{ChannelDeposit:O["a"],ActionButton:j["a"],TokenInformation:g["a"],Divider:_["a"],AddressInput:f["a"],AmountInput:b["a"],Stepper:y["a"],ErrorScreen:k["a"]},computed:w({},Object(x["b"])(["channelWithBiggestCapacity"]))})],V);var A=V,E=A,P=(a("27ad"),a("2877")),T=a("6544"),S=a.n(T),M=a("8336"),F=a("b0af"),D=a("169a"),B=a("0e8f"),R=a("4bd4"),z=a("a722"),I=a("2fa4"),q=Object(P["a"])(E,n,s,!1,null,"0d6dd748",null);e["default"]=q.exports;S()(q,{VBtn:M["a"],VCard:F["a"],VDialog:D["a"],VFlex:B["a"],VForm:R["a"],VLayout:z["a"],VSpacer:I["a"]})},"27ad":function(t,e,a){"use strict";var n=a("2994"),s=a.n(n);s.a},2994:function(t,e,a){},"6fc3":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("fieldset",{staticClass:"address-input"},[a("v-text-field",{ref:"address",class:{"address-input--invalid":!t.valid&&t.touched,"address-input--hint-visible":t.hint.length>0,"address-input--untouched":!t.touched},attrs:{id:"address-input",hint:t.hint,value:t.address,"error-messages":t.errorMessages,placeholder:t.$t("address-input.input.placeholder"),"persistent-hint":""},on:{blur:function(e){return t.$emit("blur")},focus:function(e){return t.$emit("focus")},input:t.updateValue,change:t.updateValue},scopedSlots:t._u([{key:"append",fn:function(){return[a("div",{staticClass:"address-input__status__paste-button"},[a("v-btn",{attrs:{text:""},on:{click:function(e){return t.paste()}}},[a("span",{staticClass:"address-input__status__paste-button__text text-capitalize"},[t._v("\n            "+t._s(t.$t("address-input.paste-button"))+"\n          ")])])],1)]},proxy:!0},{key:"prepend-inner",fn:function(){return[t.value&&t.isChecksumAddress(t.value)?a("img",{staticClass:"address-input__blockie address-input__prepend",attrs:{src:t.$blockie(t.value),alt:t.$t("address-input.blockie-alt")}}):t.timeout?a("div",[a("v-progress-circular",{staticClass:"address-input__prepend",attrs:{size:"22",indeterminate:"",color:"primary"}})],1):a("div")]},proxy:!0}])})],1)},s=[],r=a("d225"),i=a("b0b4"),o=a("308d"),c=a("6bb5"),u=a("4e2b"),d=a("9ab4"),l=a("fc09"),p=a("60a3"),h=a("77fd"),f=function(t){function e(){var t;return Object(r["a"])(this,e),t=Object(o["a"])(this,Object(c["a"])(e).apply(this,arguments)),t.timeout=0,t.address="",t.valid=!1,t.touched=!1,t.hint="",t.errorMessages=[""],t}return Object(u["a"])(e,t),Object(i["a"])(e,[{key:"input",value:function(t){}},{key:"isChecksumAddress",value:function(t){var e=t;return l["a"].isAddress(e)&&l["a"].checkAddressChecksum(e)}},{key:"updateValue",value:function(t){this.errorMessages=[],this.hint="",this.updateErrors(t),this.checkForErrors()}},{key:"updateErrors",value:function(t){t?l["a"].isAddress(t)&&!l["a"].checkAddressChecksum(t)?this.errorMessages.push(this.$t("address-input.error.no-checksum")):l["a"].checkAddressChecksum(t)?this.input(t):!l["a"].isAddressLike(t)&&l["a"].isDomain(t)?this.resolveEnsAddress(t):this.errorMessages.push(this.$t("address-input.error.invalid-address")):(this.input(t),this.errorMessages.push(this.$t("address-input.error.empty")))}},{key:"checkForErrors",value:function(){this.$refs.address&&(this.touched=!0,this.valid=0===this.errorMessages.length)}},{key:"resolveEnsAddress",value:function(t){var e=this;this.timeout&&(clearTimeout(this.timeout),this.timeout=0),this.timeout=setTimeout(function(){e.$raiden.ensResolve(t).then(function(t){t?(e.hint=t,e.input(t),e.errorMessages=[]):(e.errorMessages.push(e.$t("address-input.error.ens-resolve-failed")),e.input(void 0),e.checkForErrors()),e.timeout=0}).catch(function(){e.errorMessages.push(e.$t("address-input.error.ens-resolve-failed")),e.input(void 0),e.checkForErrors(),e.timeout=0})},800)}},{key:"paste",value:function(){}}]),e}(Object(p["c"])(h["a"]));d["a"]([Object(p["d"])({})],f.prototype,"disabled",void 0),d["a"]([Object(p["d"])({required:!0})],f.prototype,"value",void 0),d["a"]([Object(p["b"])()],f.prototype,"input",null),f=d["a"]([Object(p["a"])({})],f);var b=f,v=b,m=(a("ce17"),a("2877")),y=a("6544"),k=a.n(y),_=a("8336"),g=a("490a"),j=a("8654"),O=Object(m["a"])(v,n,s,!1,null,"40b1bdce",null);e["a"]=O.exports;k()(O,{VBtn:_["a"],VProgressCircular:g["a"],VTextField:j["a"]})},"9d34":function(t,e,a){},a363:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{staticClass:"channel-deposit",attrs:{column:""}},[a("v-layout",{staticClass:"channel-deposit__wrapper",attrs:{"align-center":"","justify-center":""}},[a("v-flex",{attrs:{xs12:""}},[a("v-form",{model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("amount-input",{attrs:{token:t.token,label:t.$t("channel-deposit.input.label"),max:t.token.balance,limit:""},model:{value:t.deposit,callback:function(e){t.deposit=e},expression:"deposit"}})],1)],1)],1),a("v-layout",{staticClass:"channel-deposit__buttons",attrs:{"align-end":"","justify-center":""}},[a("v-btn",{staticClass:"text-capitalize channel-deposit__buttons__cancel",attrs:{id:"cancel-"+t.identifier,light:""},on:{click:function(e){return t.cancel()}}},[t._v("\n      "+t._s(t.$t("channel-deposit.buttons.cancel"))+"\n    ")]),a("v-btn",{staticClass:"text-capitalize channel-deposit__buttons__confirm",attrs:{id:"confirm-"+t.identifier,disabled:!t.valid,light:""},on:{click:function(e){return t.confirm()}}},[t._v("\n      "+t._s(t.$t("channel-deposit.buttons.confirm"))+"\n    ")])],1)],1)},s=[],r=a("d225"),i=a("b0b4"),o=a("308d"),c=a("6bb5"),u=a("4e2b"),d=a("9ab4"),l=a("60a3"),p=a("dbe0"),h=a("a3d5"),f=function(t){function e(){var t;return Object(r["a"])(this,e),t=Object(o["a"])(this,Object(c["a"])(e).apply(this,arguments)),t.deposit="0.0",t.valid=!1,t}return Object(u["a"])(e,t),Object(i["a"])(e,[{key:"cancel",value:function(){}},{key:"confirm",value:function(){var t=h["a"].parse(this.deposit,this.token.decimals);t.isZero()?this.$emit("cancel"):this.$emit("confirm",t)}}]),e}(l["e"]);d["a"]([Object(l["d"])({required:!0})],f.prototype,"identifier",void 0),d["a"]([Object(l["d"])({required:!0})],f.prototype,"token",void 0),d["a"]([Object(l["b"])()],f.prototype,"cancel",null),f=d["a"]([Object(l["a"])({components:{AmountInput:p["a"]}})],f);var b=f,v=b,m=(a("b7d4"),a("2877")),y=a("6544"),k=a.n(y),_=a("8336"),g=a("0e8f"),j=a("4bd4"),O=a("a722"),x=Object(m["a"])(v,n,s,!1,null,"969e6706",null);e["a"]=x.exports;k()(x,{VBtn:_["a"],VFlex:g["a"],VForm:j["a"],VLayout:O["a"]})},b7d4:function(t,e,a){"use strict";var n=a("9d34"),s=a.n(n);s.a},ce17:function(t,e,a){"use strict";var n=a("d55b"),s=a.n(n);s.a},d55b:function(t,e,a){}}]);
//# sourceMappingURL=chunk-504be81e.4253677d.js.map