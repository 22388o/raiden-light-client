(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-604ac8b8"],{1175:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-form",{staticClass:"payment",attrs:{autocomplete:"off"},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[r("v-layout",{attrs:{column:"","justify-space-between":"","fill-height":""}},[r("v-layout",{staticClass:"payment__capacity",attrs:{"justify-center":""}},[r("v-flex",{staticClass:"payment__capacity_capacity-column",attrs:{xs7:""}},[r("v-layout",{attrs:{column:""}},[r("span",{staticClass:"payment__capacity__label"},[t._v(t._s(t.$t("payment.capacity-label")))]),"number"===typeof t.token.decimals?r("span",{staticClass:"payment__capacity__amount"},[t._v("\n            "+t._s(t.$t("payment.capacity-amount",{capacity:t.convertToUnits(t.capacity,t.token.decimals),token:t.token.symbol}))+"\n          ")]):r("span",{staticClass:"payment__capacity__amount"})]),r("v-img",{staticClass:"payment__capacity__arrow",attrs:{src:n("2d14"),"max-width":"18px"}})],1),r("v-flex",{staticClass:"payment__capacity__deposit-column",attrs:{xs3:"","align-center":""}},[r("v-dialog",{attrs:{"max-width":"450"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[r("v-btn",t._g({staticClass:"payment__capacity__deposit",attrs:{text:""},on:{click:function(e){t.depositing=!0}}},n),[t._v(t._s(t.$t("payment.deposit-button")))])]}}]),model:{value:t.depositing,callback:function(e){t.depositing=e},expression:"depositing"}},[r("v-card",{staticClass:"payment__deposit-dialog"},[r("channel-deposit",{attrs:{token:t.token,identifier:"0"},on:{cancel:function(e){t.depositing=!1},confirm:function(e){return t.deposit(e)}}})],1)],1)],1)],1),r("v-layout",{staticClass:"payment__recipient",attrs:{"align-center":"","justify-center":""}},[r("v-flex",{attrs:{xs10:""}},[r("div",{staticClass:"payment__recipient__label"},[t._v("\n          "+t._s(t.$t("payment.recipient-label"))+"\n        ")]),r("address-input",{attrs:{exclude:[t.token.address,t.defaultAccount],block:t.blockedHubs},model:{value:t.target,callback:function(e){t.target=e},expression:"target"}})],1)],1),r("v-layout",{attrs:{"align-center":"","justify-center":""}},[r("v-flex",{attrs:{xs10:""}},[r("amount-input",{attrs:{token:t.token,label:t.$t("payment.amount-label"),placeholder:t.$t("payment.amount-placeholder"),max:t.capacity,limit:""},model:{value:t.amount,callback:function(e){t.amount=e},expression:"amount"}})],1)],1),r("v-spacer"),r("action-button",{staticClass:"payment__pay-button",attrs:{enabled:t.valid,text:t.$t("payment.pay-button")},on:{click:function(e){return t.transfer()}}}),r("stepper",{attrs:{display:t.loading,steps:t.steps,"done-step":t.doneStep,done:t.done}}),r("error-screen",{attrs:{description:t.error,title:t.errorTitle,"button-label":t.$t("payment.error.button")},on:{dismiss:function(e){t.error=""}}})],1)],1)},a=[],s=n("a34a"),i=n.n(s),o=n("9ab4"),c=n("60a3"),u=n("6fc3"),l=n("dbe0"),p=n("87a2"),d=n("a3d5"),f=n("a1ab"),h=n("b492"),y=n("01f0"),b=n("8716"),m=n("750b"),v=n("a363"),_=n("2f62"),g=n("f455"),k=n("8404"),O=n("fc09"),j=n("152b"),w=n("fb6b");function x(t){return x="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},x(t)}function $(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function C(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?$(n,!0).forEach((function(e){P(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function P(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function S(t,e,n,r,a,s,i){try{var o=t[s](i),c=o.value}catch(u){return void n(u)}o.done?e(c):Promise.resolve(c).then(r,a)}function E(t){return function(){var e=this,n=arguments;return new Promise((function(r,a){var s=t.apply(e,n);function i(t){S(s,r,a,i,o,"next",t)}function o(t){S(s,r,a,i,o,"throw",t)}i(void 0)}))}}function T(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function V(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function A(t,e,n){return e&&V(t.prototype,e),n&&V(t,n),t}function M(t,e){return!e||"object"!==x(e)&&"function"!==typeof e?D(t):e}function D(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function F(t){return F=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},F(t)}function B(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&I(t,e)}function I(t,e){return I=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},I(t,e)}var q=function(t){function e(){var t;return T(this,e),t=M(this,F(e).apply(this,arguments)),t.target="",t.amount="",t.valid=!1,t.loading=!1,t.done=!1,t.errorTitle="",t.error="",t.depositing=!1,t.steps=[],t.doneStep=Object(p["c"])(),t.convertToUnits=d["a"].toUnits,t}return B(e,t),A(e,[{key:"created",value:function(){var t=E(i.a.mark((function t(){var e,n,r,a;return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=this.$route.query,n=e.amount,r=e.target,this.amount=Object(w["b"])(n),this.target=Object(w["a"])(r),a=this.$route.params.token,O["a"].checkAddressChecksum(a)){t.next=7;break}return this.navigateToHome(),t.abrupt("return");case 7:return t.next=9,this.$raiden.fetchTokenData([a]);case 9:"number"!==typeof this.token.decimals&&this.navigateToHome();case 10:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"deposit",value:function(){var t=E(i.a.mark((function t(e){return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.steps=[this.$t("payment.steps.deposit")],this.doneStep=this.$t("payment.steps.deposit-done"),this.errorTitle=this.$t("payment.error.deposit-title"),this.loading=!0,t.prev=4,t.next=7,this.$raiden.deposit(this.token.address,this.channelWithBiggestCapacity(this.token.address).partner,e);case 7:this.done=!0,this.dismissProgress(),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](4),this.error=t.t0.message;case 14:this.loading=!1,this.depositing=!1;case 16:case"end":return t.stop()}}),t,this,[[4,11]])})));function e(e){return t.apply(this,arguments)}return e}()},{key:"transfer",value:function(){var t=E(i.a.mark((function t(){var e,n,r;return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.steps=[this.$t("payment.steps.transfer")],this.doneStep=this.$t("payment.steps.done"),this.errorTitle=this.$t("payment.error.title"),e=this.token,n=e.address,r=e.decimals,t.prev=4,this.loading=!0,t.next=8,this.$raiden.transfer(n,this.target,d["a"].parse(this.amount,r));case 8:this.done=!0,this.dismissProgress(),t.next=16;break;case 12:t.prev=12,t.t0=t["catch"](4),this.loading=!1,this.error=t.t0.message;case 16:case"end":return t.stop()}}),t,this,[[4,12]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"dismissProgress",value:function(){var t=this;setTimeout((function(){t.loading=!1,t.done=!1}),2e3)}},{key:"token",get:function(){var t=this.$route.params.token;return this.$store.getters.token(t)||{address:t}}},{key:"blockedHubs",get:function(){return this.channels(this.token.address).filter((function(t){return t.state!==g["a"].open})).map((function(t){return t.partner}))}},{key:"capacity",get:function(){var t=this.channelWithBiggestCapacity(this.token.address);return t?t.capacity:k["Zero"]}}]),e}(Object(c["c"])(j["a"]));q=o["a"]([Object(c["a"])({components:{ChannelDeposit:v["a"],ActionButton:m["a"],TokenInformation:b["a"],Divider:y["a"],AddressInput:u["a"],AmountInput:l["a"],Stepper:f["a"],ErrorScreen:h["a"]},computed:C({},Object(_["c"])(["defaultAccount"]),{},Object(_["b"])(["channelWithBiggestCapacity","channels"]))})],q);var z=q,H=z,R=(n("8780"),n("2877")),L=n("6544"),U=n.n(L),W=n("8336"),J=n("b0af"),Z=n("169a"),G=n("0e8f"),K=n("4bd4"),N=n("adda"),Q=n("a722"),X=n("2fa4"),Y=Object(R["a"])(H,r,a,!1,null,"6c5f14ec",null);e["default"]=Y.exports;U()(Y,{VBtn:W["a"],VCard:J["a"],VDialog:Z["a"],VFlex:G["a"],VForm:K["a"],VImg:N["a"],VLayout:Q["a"],VSpacer:X["a"]})},"23dc":function(t,e,n){"use strict";var r=n("b81b"),a=n.n(r);a.a},"2d14":function(t,e,n){t.exports=n.p+"img/down_arrow.d7fcc637.svg"},"51c8":function(t,e,n){},"6fc3":function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("fieldset",{staticClass:"address-input"},[n("v-text-field",{ref:"address",class:{"address-input--invalid":!t.valid&&t.touched,"address-input--hint-visible":t.hint.length>0,"address-input--untouched":!t.touched},attrs:{id:"address-input",hint:t.hint,value:t.address,"error-messages":t.errorMessages,placeholder:t.$t("address-input.input.placeholder"),"persistent-hint":""},on:{blur:function(e){return t.$emit("blur")},focus:function(e){return t.$emit("focus")},input:t.updateValue,change:t.updateValue},scopedSlots:t._u([{key:"append",fn:function(){return[n("div",{staticClass:"address-input__status__paste-button"},[n("v-btn",{attrs:{text:""},on:{click:function(e){return t.paste()}}},[n("span",{staticClass:"address-input__status__paste-button__text text-capitalize"},[t._v("\n            "+t._s(t.$t("address-input.paste-button"))+"\n          ")])])],1)]},proxy:!0},{key:"prepend-inner",fn:function(){return[t.value&&t.isChecksumAddress(t.value)?n("img",{staticClass:"address-input__blockie address-input__prepend",attrs:{src:t.$blockie(t.value),alt:t.$t("address-input.blockie-alt")}}):t.timeout?n("div",[n("v-progress-circular",{staticClass:"address-input__prepend",attrs:{size:"22",indeterminate:"",color:"primary"}})],1):n("div")]},proxy:!0}])})],1)},a=[],s=n("9ab4"),i=n("fc09"),o=n("60a3"),c=n("77fd");function u(t){return u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function d(t,e,n){return e&&p(t.prototype,e),n&&p(t,n),t}function f(t,e){return!e||"object"!==u(e)&&"function"!==typeof e?h(t):e}function h(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y(t){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},y(t)}function b(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&m(t,e)}function m(t,e){return m=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},m(t,e)}var v=function(t){function e(){var t;return l(this,e),t=f(this,y(e).apply(this,arguments)),t.timeout=0,t.address="",t.valid=!1,t.touched=!1,t.hint="",t.errorMessages=[""],t}return b(e,t),d(e,[{key:"mounted",value:function(){this.isChecksumAddress(this.value)&&(this.address=this.value,this.updateValue(this.value))}},{key:"onChange",value:function(t){t!==this.address&&this.isChecksumAddress(t)&&(this.address=t,this.updateValue(t))}},{key:"input",value:function(t){}},{key:"isChecksumAddress",value:function(t){var e=t;return i["a"].isAddress(e)&&i["a"].checkAddressChecksum(e)}},{key:"updateValue",value:function(t){this.errorMessages=[],this.hint="",this.updateErrors(t),this.checkForErrors()}},{key:"updateErrors",value:function(t){t?this.exclude.includes(t)?this.errorMessages.push(this.$t("address-input.error.invalid-excluded-address")):this.block.includes(t)?this.errorMessages.push(this.$t("address-input.error.channel-not-open")):i["a"].isAddress(t)&&!i["a"].checkAddressChecksum(t)?this.errorMessages.push(this.$t("address-input.error.no-checksum")):i["a"].checkAddressChecksum(t)?this.input(t):!i["a"].isAddressLike(t)&&i["a"].isDomain(t)?this.resolveEnsAddress(t):this.errorMessages.push(this.$t("address-input.error.invalid-address")):(this.input(t),this.errorMessages.push(this.$t("address-input.error.empty")))}},{key:"checkForErrors",value:function(){this.$refs.address&&(this.touched=!0,this.valid=0===this.errorMessages.length)}},{key:"resolveEnsAddress",value:function(t){var e=this;this.timeout&&(clearTimeout(this.timeout),this.timeout=0),this.timeout=setTimeout((function(){e.$raiden.ensResolve(t).then((function(t){t?(e.hint=t,e.input(t),e.errorMessages=[]):(e.errorMessages.push(e.$t("address-input.error.ens-resolve-failed")),e.input(void 0),e.checkForErrors()),e.timeout=0})).catch((function(){e.errorMessages.push(e.$t("address-input.error.ens-resolve-failed")),e.input(void 0),e.checkForErrors(),e.timeout=0}))}),800)}},{key:"paste",value:function(){}}]),e}(Object(o["c"])(c["a"]));s["a"]([Object(o["d"])({})],v.prototype,"disabled",void 0),s["a"]([Object(o["d"])({required:!0})],v.prototype,"value",void 0),s["a"]([Object(o["d"])({default:function(){return[""]}})],v.prototype,"exclude",void 0),s["a"]([Object(o["d"])({default:function(){return[""]}})],v.prototype,"block",void 0),s["a"]([Object(o["f"])("value")],v.prototype,"onChange",null),s["a"]([Object(o["b"])()],v.prototype,"input",null),v=s["a"]([Object(o["a"])({})],v);var _=v,g=_,k=(n("da41"),n("2877")),O=n("6544"),j=n.n(O),w=n("8336"),x=n("490a"),$=n("8654"),C=Object(k["a"])(g,r,a,!1,null,"3ff6a408",null);e["a"]=C.exports;j()(C,{VBtn:w["a"],VProgressCircular:x["a"],VTextField:$["a"]})},7578:function(t,e,n){},8780:function(t,e,n){"use strict";var r=n("7578"),a=n.n(r);a.a},a363:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-layout",{staticClass:"channel-deposit",attrs:{column:""}},[n("v-layout",{staticClass:"channel-deposit__wrapper",attrs:{"align-center":"","justify-center":""}},[n("v-flex",{attrs:{xs12:""}},[n("v-form",{model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[n("amount-input",{attrs:{token:t.token,label:t.$t("channel-deposit.input.label"),max:t.token.balance,limit:""},model:{value:t.deposit,callback:function(e){t.deposit=e},expression:"deposit"}})],1)],1)],1),n("v-layout",{staticClass:"channel-deposit__buttons",attrs:{"align-end":"","justify-center":""}},[n("v-btn",{staticClass:"text-capitalize channel-deposit__buttons__cancel",attrs:{id:"cancel-"+t.identifier,light:""},on:{click:function(e){return t.cancel()}}},[t._v("\n      "+t._s(t.$t("channel-deposit.buttons.cancel"))+"\n    ")]),n("v-btn",{staticClass:"text-capitalize channel-deposit__buttons__confirm",attrs:{id:"confirm-"+t.identifier,disabled:!t.valid,light:""},on:{click:function(e){return t.confirm()}}},[t._v("\n      "+t._s(t.$t("channel-deposit.buttons.confirm"))+"\n    ")])],1)],1)},a=[],s=n("9ab4"),i=n("60a3"),o=n("dbe0"),c=n("a3d5");function u(t){return u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function d(t,e,n){return e&&p(t.prototype,e),n&&p(t,n),t}function f(t,e){return!e||"object"!==u(e)&&"function"!==typeof e?h(t):e}function h(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y(t){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},y(t)}function b(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&m(t,e)}function m(t,e){return m=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},m(t,e)}var v=function(t){function e(){var t;return l(this,e),t=f(this,y(e).apply(this,arguments)),t.deposit="0.0",t.valid=!1,t}return b(e,t),d(e,[{key:"cancel",value:function(){}},{key:"confirm",value:function(){var t=c["a"].parse(this.deposit,this.token.decimals);t.isZero()?this.$emit("cancel"):this.$emit("confirm",t)}}]),e}(i["e"]);s["a"]([Object(i["d"])({required:!0})],v.prototype,"identifier",void 0),s["a"]([Object(i["d"])({required:!0})],v.prototype,"token",void 0),s["a"]([Object(i["b"])()],v.prototype,"cancel",null),v=s["a"]([Object(i["a"])({components:{AmountInput:o["a"]}})],v);var _=v,g=_,k=(n("23dc"),n("2877")),O=n("6544"),j=n.n(O),w=n("8336"),x=n("0e8f"),$=n("4bd4"),C=n("a722"),P=Object(k["a"])(g,r,a,!1,null,"92b9bf30",null);e["a"]=P.exports;j()(P,{VBtn:w["a"],VFlex:x["a"],VForm:$["a"],VLayout:C["a"]})},b81b:function(t,e,n){},da41:function(t,e,n){"use strict";var r=n("51c8"),a=n.n(r);a.a}}]);
//# sourceMappingURL=chunk-604ac8b8.2fc92298.js.map