(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6060fe37"],{"5983d":function(e,t,n){},"9db2":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"open-channel",attrs:{"data-cy":"open-channel"}},[n("channel-open-action",{attrs:{"dialog-title":e.$t("open-channel.title"),"show-progress-in-dialog":""},on:{completed:e.onOpenChannelCompleted},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.runAction,o=t.confirmButtonLabel;return[n("channel-action-form",{attrs:{"token-address":e.tokenAddress,"partner-address":e.partnerAddress,"token-amount":e.depositAmount,"confirm-button-label":o,"run-action":r,"token-amount-editable":"","limit-to-token-balance":"","sticky-button":""}})]}}])})],1)},o=[],i=n("36d8"),c=n.n(i),a=n("6dbe"),s=n("5cf9"),u=n("8222"),p=n("fbcd"),f=n("f455"),l=n("a329");function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function d(e,t,n,r,o,i,c){try{var a=e[i](c),s=a.value}catch(u){return void n(u)}a.done?t(s):Promise.resolve(s).then(r,o)}function y(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function c(e){d(i,r,o,c,a,"next",e)}function a(e){d(i,r,o,c,a,"throw",e)}c(void 0)}))}}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t,n){return t&&v(e.prototype,t),n&&v(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function w(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&O(e,t)}function O(e,t){return O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},O(e,t)}function k(e){var t=P();return function(){var n,r=g(e);if(t){var o=g(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return S(this,n)}}function S(e,t){if(t&&("object"===h(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return j(e)}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}var A={title:"open-channel.steps.open.title",description:"open-channel.steps.open.description",active:!1,completed:!1,failed:!1},_={title:"open-channel.steps.transfer.title",description:"open-channel.steps.transfer.description",active:!1,completed:!1,failed:!1},R={title:"open-channel.steps.deposit.title",description:"open-channel.steps.deposit.description",active:!1,completed:!1,failed:!1},E=function(e){w(n,e);var t=k(n);function n(){var e;return b(this,n),e=t.apply(this,arguments),e.openStep=Object.assign({},A),e.transferStep=Object.assign({},_),e.depositStep=Object.assign({},R),e.withDeposit=!1,e}return m(n,[{key:"confirmButtonLabel",get:function(){return this.$t("open-channel.open-button")}},{key:"steps",get:function(){return this.withDeposit?[this.openStep,this.transferStep,this.depositStep]:[this.openStep]}},{key:"resetStepsState",value:function(){this.openStep=Object.assign({},A),this.transferStep=Object.assign({},_),this.depositStep=Object.assign({},R)}},{key:"handleOpenEvents",value:function(e){switch(e.type){case f["d"].OPENED:this.openStep.completed=!0,this.openStep.active=!1,this.transferStep.active=!0;break;case f["d"].CONFIRMED:this.transferStep.completed=!0,this.transferStep.active=!1,this.depositStep.active=!0;break;case f["d"].DEPOSITED:this.depositStep.completed=!0,this.depositStep.active=!1;break;default:break}}},{key:"handleAction",value:function(){var e=y(c.a.mark((function e(t){return c.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.withDeposit=t.tokenAmount.gt(p["a"].Zero),this.openStep.active=!0,e.next=4,this.$raiden.openChannel(t.tokenAddress,t.partnerAddress,t.tokenAmount,this.handleOpenEvents);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),n}(Object(s["c"])(l["a"]));E=Object(a["f"])([s["a"]],E);var T,x,C=E,D=C,$=n("a6c2"),B=Object($["a"])(D,T,x,!1,null,null,null),F=B.exports,I=n("152b"),J=n("fc09");function L(e){return L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L(e)}function N(e,t,n,r,o,i,c){try{var a=e[i](c),s=a.value}catch(u){return void n(u)}a.done?t(s):Promise.resolve(s).then(r,o)}function Q(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function c(e){N(i,r,o,c,a,"next",e)}function a(e){N(i,r,o,c,a,"throw",e)}c(void 0)}))}}function q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function M(e,t,n){return t&&H(e.prototype,t),n&&H(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Z(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&z(e,t)}function z(e,t){return z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},z(e,t)}function G(e){var t=V();return function(){var n,r=W(e);if(t){var o=W(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return K(this,n)}}function K(e,t){if(t&&("object"===L(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return U(e)}function U(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function V(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function W(e){return W=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},W(e)}var X=function(e){Z(n,e);var t=G(n);function n(){var e;return q(this,n),e=t.apply(this,arguments),e.tokenAddress="",e.partnerAddress="",e.depositAmount="",e}return M(n,[{key:"created",value:function(){var e=Q(c.a.mark((function e(){return c.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.parseTokenRouteParameter();case 2:this.parsePartnerRouteParameter(),this.parseDepositQueryParameter();case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onOpenChannelCompleted",value:function(){this.navigateToSelectTransferTarget(this.tokenAddress)}},{key:"parseTokenRouteParameter",value:function(){var e=Q(c.a.mark((function e(){var t;return c.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=this.$route.params.token,t&&J["a"].checkAddressChecksum(t)?this.tokenAddress=t:this.navigateToHome();case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"parsePartnerRouteParameter",value:function(){var e=this.$route.params.partner;e&&J["a"].checkAddressChecksum(e)?this.partnerAddress=e:this.navigateToTokenSelect()}},{key:"parseDepositQueryParameter",value:function(){var e=this.$route.query.deposit;e&&(this.depositAmount=e)}}]),n}(Object(s["c"])(I["a"]));X=Object(a["f"])([Object(s["a"])({components:{ChannelActionForm:u["a"],ChannelOpenAction:F}})],X);var Y=X,ee=Y,te=(n("e6f7"),Object($["a"])(ee,r,o,!1,null,"825f8b98",null));t["default"]=te.exports},e6f7:function(e,t,n){"use strict";n("5983d")}}]);