(function(e){function t(t){for(var r,a,c=t[0],u=t[1],s=t[2],l=0,p=[];l<c.length;l++)a=c[l],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&p.push(i[a][0]),i[a]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);f&&f(t);while(p.length)p.shift()();return o.push.apply(o,s||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,a=1;a<n.length;a++){var c=n[a];0!==i[c]&&(r=!1)}r&&(o.splice(t--,1),e=u(u.s=n[0]))}return e}var r={},a={app:0},i={app:0},o=[];function c(e){return u.p+"js/"+({}[e]||e)+"."+{"chunk-04c2b6fd":"c44a880f","chunk-451aab9e":"ed94e656","chunk-60aceac4":"2c5e9c60","chunk-69594727":"45fef3be","chunk-767d4d90":"411c9c94","chunk-bd351282":"3516692b","chunk-0516db04":"653807d0","chunk-2d0ac3da":"d656a540","chunk-b99bb93e":"7405dbfc","chunk-2d0abce7":"fd64b618","chunk-2f161406":"e2469365","chunk-3314e250":"fcdc5f23","chunk-3eadbefa":"a0a29adf","chunk-46e56bfa":"3e24b3cb","chunk-2cce55b7":"be17d75c","chunk-0f5a786a":"a44c5ced","chunk-6f7377eb":"ee1428c7","chunk-548cab13":"b302fb14","chunk-9ad0759c":"fbfb79d4","chunk-43e44688":"4540e75f","chunk-554e465f":"51b3ce24","chunk-6060fe37":"376abc30","chunk-95a85f32":"751e7bf0","chunk-5f022d76":"a3237df5","chunk-7f857a46":"98ed6f8c","chunk-97b8c756":"4b711c87","chunk-999b6682":"735aa2af","chunk-f6a6c064":"0eaa3ca2"}[e]+".js"}function u(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.e=function(e){var t=[],n={"chunk-04c2b6fd":1,"chunk-451aab9e":1,"chunk-60aceac4":1,"chunk-69594727":1,"chunk-767d4d90":1,"chunk-bd351282":1,"chunk-0516db04":1,"chunk-b99bb93e":1,"chunk-3314e250":1,"chunk-46e56bfa":1,"chunk-2cce55b7":1,"chunk-0f5a786a":1,"chunk-6f7377eb":1,"chunk-548cab13":1,"chunk-9ad0759c":1,"chunk-43e44688":1,"chunk-554e465f":1,"chunk-6060fe37":1,"chunk-95a85f32":1,"chunk-5f022d76":1,"chunk-7f857a46":1,"chunk-f6a6c064":1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=new Promise((function(t,n){for(var r="css/"+({}[e]||e)+"."+{"chunk-04c2b6fd":"11b98f42","chunk-451aab9e":"b704e676","chunk-60aceac4":"16fd0c00","chunk-69594727":"00f6e416","chunk-767d4d90":"128e7e36","chunk-bd351282":"25ff3c72","chunk-0516db04":"8db2ac1c","chunk-2d0ac3da":"31d6cfe0","chunk-b99bb93e":"fd3ea928","chunk-2d0abce7":"31d6cfe0","chunk-2f161406":"31d6cfe0","chunk-3314e250":"7ccdb903","chunk-3eadbefa":"31d6cfe0","chunk-46e56bfa":"999fe2d0","chunk-2cce55b7":"962b1504","chunk-0f5a786a":"ae9d8a6d","chunk-6f7377eb":"2e471867","chunk-548cab13":"4482d224","chunk-9ad0759c":"25c38be2","chunk-43e44688":"3735ff82","chunk-554e465f":"1f15aa1c","chunk-6060fe37":"1032527e","chunk-95a85f32":"e932103a","chunk-5f022d76":"9cd1b52b","chunk-7f857a46":"2a5a4638","chunk-97b8c756":"31d6cfe0","chunk-999b6682":"31d6cfe0","chunk-f6a6c064":"d31f8588"}[e]+".css",i=u.p+r,o=document.getElementsByTagName("link"),c=0;c<o.length;c++){var s=o[c],l=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(l===r||l===i))return t()}var p=document.getElementsByTagName("style");for(c=0;c<p.length;c++){s=p[c],l=s.getAttribute("data-href");if(l===r||l===i)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var r=t&&t.target&&t.target.src||i,o=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=r,delete a[e],f.parentNode.removeChild(f),n(o)},f.href=i;var d=document.getElementsByTagName("head")[0];d.appendChild(f)})).then((function(){a[e]=0})));var r=i[e];if(0!==r)if(r)t.push(r[2]);else{var o=new Promise((function(t,n){r=i[e]=[t,n]}));t.push(r[2]=o);var s,l=document.createElement("script");l.charset="utf-8",l.timeout=120,u.nc&&l.setAttribute("nonce",u.nc),l.src=c(e);var p=new Error;s=function(t){l.onerror=l.onload=null,clearTimeout(f);var n=i[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;p.message="Loading chunk "+e+" failed.\n("+r+": "+a+")",p.name="ChunkLoadError",p.type=r,p.request=a,n[1](p)}i[e]=void 0}};var f=setTimeout((function(){s({type:"timeout",target:l})}),12e4);l.onerror=l.onload=s,document.head.appendChild(l)}return Promise.all(t)},u.m=e,u.c=r,u.d=function(e,t,n){u.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},u.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,t){if(1&t&&(e=u(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)u.d(n,r,function(t){return e[t]}.bind(null,r));return n},u.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return u.d(t,"a",t),t},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.p="/",u.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var p=0;p<s.length;p++)t(s[p]);var f=l;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"0527":function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"spinner",class:{"spinner--blocking":!e.inline}},[n("div",{staticClass:"spinner__circle",style:e.style})])},a=[],i=n("6dbe"),o=n("5cf9");function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&f(e,t)}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function d(e){var t=h();return function(){var n,r=m(e);if(t){var a=m(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return b(this,n)}}function b(e,t){if(t&&("object"===c(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return y(e)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}var v=function(e){p(n,e);var t=d(n);function n(){return u(this,n),t.apply(this,arguments)}return l(n,[{key:"style",get:function(){return{width:"".concat(this.size,"px"),height:"".concat(this.size,"px"),borderWidth:"".concat(this.width,"px")}}}]),n}(o["g"]);Object(i["f"])([Object(o["e"])({type:Boolean,default:!1})],v.prototype,"inline",void 0),Object(i["f"])([Object(o["e"])({type:Number,default:120})],v.prototype,"size",void 0),Object(i["f"])([Object(o["e"])({type:Number,default:7})],v.prototype,"width",void 0),v=Object(i["f"])([Object(o["a"])({})],v);var O=v,j=O,g=(n("8a6f"),n("a6c2")),w=Object(g["a"])(j,r,a,!1,null,"61eab46d",null);t["a"]=w.exports},"05eb":function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e["OPENED"]="OPENED",e["APPROVED"]="APPROVED",e["DEPOSITED"]="DEPOSITED",e["CONFIRMED"]="CONFIRMED"}(r||(r={}))},"0602":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return c}));var r=n("2111"),a=r["n"]({userId:r["r"]}),i=r["w"]([r["r"],r["m"],r["d"],r["l"]],"CapsPrimitive"),o=r["w"]([i,r["c"](i)],"CapsValue"),c=r["o"](r["q"](r["r"],o),"Caps")},"0731":function(e,t,n){},"0862":function(e,t,n){"use strict";n.d(t,"a",(function(){return k})),n.d(t,"g",(function(){return E})),n.d(t,"e",(function(){return T})),n.d(t,"b",(function(){return S})),n.d(t,"d",(function(){return A})),n.d(t,"c",(function(){return P})),n.d(t,"f",(function(){return x}));var r=n("2d67"),a=n("3d6c"),i=n.n(a),o=n("393f"),c=n("996a"),u=n("5e25"),s=n("c49c"),l=n("2b5b"),p=n("d276"),f=n("46f7"),d=n("d890");function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e,t){return w(e)||g(e,t)||O(e,t)||v()}function v(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function O(e,t){if(e){if("string"===typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?j(e,t):void 0}}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,c=!1;try{for(n=n.call(e);!(o=(r=n.next()).done);o=!0)if(i.push(r.value),t&&i.length===t)break}catch(u){c=!0,a=u}finally{try{o||null==n["return"]||n["return"]()}finally{if(c)throw a}}return i}}function w(e){if(Array.isArray(e))return e}var _=/^@(0x[0-9a-f]{40})[.:]/i;function k(e){var t;try{var n=_.exec(e);n&&(t=Object(r["a"])(n[1]))}catch(a){}return t}function E(e){for(var t=new URL("mxc://raiden.network/cap"),n=function(e,n){return t.searchParams.append(e,n)},r=0,a=Object.entries(e);r<a.length;r++){var i=m(a[r],2),o=i[0],c=i[1];Array.isArray(c)?c.forEach(n.bind(null,o)):n(o,c)}return t.href}function T(e){if(e){var t={};try{var n=new URL(e);return n.searchParams.forEach((function(e,n){var r=e;if(/^\d+$/.test(e))r=Object(f["b"])(e);else{var a=e.toLowerCase();"none"===a||"null"===a?r=null:"false"===a?r=!1:"true"===a&&(r=!0)}var i=t[n];void 0===i?t[n]=r:(Array.isArray(i)||(t[n]=i=[i]),i.push(r))})),t}catch(r){}}}function S(e,t){var n;return null!==(n=null===e||void 0===e?void 0:e[t])&&void 0!==n?n:l["b"][t]}function A(){var e={};return Object(o["a"])(Object(c["a"])(d["matrixPresence"].success.is),Object(u["a"])((function(e,t){return y(y({},e),{},h({},t.payload.userId,t))}),e),Object(s["a"])(e))}function P(){var e={};return Object(o["a"])(Object(c["a"])(Object(p["e"])([d["matrixPresence"].success,d["matrixPresence"].failure])),Object(u["a"])((function(e,t){return d["matrixPresence"].success.is(t)&&t.payload.available?e=y(y({},e),{},h({},t.meta.address,t)):t.meta.address in e&&(e=i()(e,t.meta.address)),e}),e),Object(s["a"])(e))}function x(e){return!!e&&!S(e.payload.caps,l["a"].DELIVERY)}},"0a08":function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.show?n("div",{staticClass:"blurred-overlay",class:{fullscreen:e.fullscreen}},[e._t("default")],2):e._e()},a=[],i=n("6dbe"),o=n("5cf9");function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&l(e,t)}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function p(e){var t=b();return function(){var n,r=y(e);if(t){var a=y(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){if(t&&("object"===c(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return d(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}var h=function(e){s(n,e);var t=p(n);function n(){return u(this,n),t.apply(this,arguments)}return n}(o["g"]);Object(i["f"])([Object(o["e"])({type:Boolean,required:!0})],h.prototype,"show",void 0),Object(i["f"])([Object(o["e"])({required:!1,default:!1,type:Boolean})],h.prototype,"fullscreen",void 0),h=Object(i["f"])([Object(o["a"])({})],h);var m=h,v=m,O=(n("ef8c"),n("a6c2")),j=Object(O["a"])(v,r,a,!1,null,"de732a60",null);t["a"]=j.exports},"0ba5":function(e,t,n){"use strict";var r=n("5778");n.d(t,"a",(function(){return r["d"]})),n.d(t,"b",(function(){return r["f"]})),n.d(t,"c",(function(){return r["j"]})),n.d(t,"d",(function(){return r["k"]})),n.d(t,"e",(function(){return r["l"]}));var a=n("7de2");n.d(t,"f",(function(){return a["e"]})),n.d(t,"g",(function(){return a["g"]}))},"0dd2":function(e,t,n){e.exports=n.p+"img/back_arrow.268247fb.svg"},"0f05":function(e,t,n){},"0f75":function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n("7fcc"),a=n.n(r),i=n("c010"),o=n.n(i),c=n("e832"),u=n("a3d5");function s(e,t){return b(e)||d(e,t)||p(e,t)||l()}function l(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function p(e,t){if(e){if("string"===typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,c=!1;try{for(n=n.call(e);!(o=(r=n.next()).done);o=!0)if(i.push(r.value),t&&i.length===t)break}catch(u){c=!0,a=u}finally{try{o||null==n["return"]||n["return"]()}finally{if(c)throw a}}return i}}function b(e){if(Array.isArray(e))return e}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t,n){return t&&h(e.prototype,t),n&&h(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var v=function(){function e(){y(this,e)}return m(e,null,[{key:"truncate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12;if(!e)return"";var n="...";if(e.length<=t)return e;var r=Math.floor(t/2);return e.substr(0,r)+n+e.substr(e.length-r)}},{key:"decimals",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return parseFloat(e).toFixed(t)}},{key:"upper",value:function(e){return e?e.toLocaleUpperCase():""}},{key:"displayFormat",value:function(t,n){var r=u["a"].toUnits(t,null!==n&&void 0!==n?n:18),a=parseFloat(r);return 0===a?0===n?"0":"0.0":a<1e-6?"<0.000001":e.formatValue(r,n)}},{key:"formatValue",value:function(e,t){var n=o()(e,"."),r=s(n,2),a=r[0],i=r[1];if(i&&i.length>6){var c=i.substring(0,6);return"≈".concat(a,".").concat(c)}return 0===t?a:e}},{key:"capitalizeFirst",value:function(e){return a()(e)}},{key:"upperCase",value:function(e){return e.toUpperCase()}}]),e}();v.toUnits=function(e,t){return u["a"].toUnits(e,null!==t&&void 0!==t?t:18)},v.formatDate=function(e){return"".concat(new Intl.DateTimeFormat("en-US").format(e)," ").concat(e.toLocaleTimeString("en-US"))},c["a"].filter("truncate",v.truncate),c["a"].filter("decimals",v.decimals),c["a"].filter("upper",v.upper),c["a"].filter("displayFormat",v.displayFormat),c["a"].filter("capitalizeFirst",v.capitalizeFirst),c["a"].filter("upperCase",v.upperCase),c["a"].filter("toUnits",v.toUnits),c["a"].filter("formatDate",v.formatDate)},"0ff6":function(e){e.exports=JSON.parse('{"contracts_version":null,"chain_id":4,"contracts":{"ServiceRegistry":{"address":"0x889c227B1835550903d870857Fb2CdCf03E5147C","transaction_hash":"0x15970f7b58aa6597cb5a06dc64d870f1a616119e0dad9a7a833b6b7034e1c583","block_number":9217159,"gas_cost":1684374,"constructor_arguments":["0x5D3191D53d35cC66947752CFF084ee23621676Ca","0x5a3B85ece0056aab6de2AB163Ca34EF38838365b",2e+21,6,5,17280000,1000,15552000]},"UserDeposit":{"address":"0x515D4abEA2f352cC16e7907f4189D24f7F2469f0","transaction_hash":"0x719cb865a2a1cfaa8e599883a2c84c347bc161a765ca95dabe8d684b27f3393d","block_number":9217160,"gas_cost":1030612,"constructor_arguments":["0x5D3191D53d35cC66947752CFF084ee23621676Ca",1.157920892373162e+77]},"MonitoringService":{"address":"0xb8c8107e9Cb52F9140f70A315B4e4B0C0bedcc47","transaction_hash":"0xdd1c87a0e15837eb3be9fcb3e97d145662d09c949e5910c0458ecfd50785ab21","block_number":9217161,"gas_cost":1450960,"constructor_arguments":["0x5D3191D53d35cC66947752CFF084ee23621676Ca","0x889c227B1835550903d870857Fb2CdCf03E5147C","0x515D4abEA2f352cC16e7907f4189D24f7F2469f0","0xdc00a4EDBAfEa58BA966107e315bF318A4d891DE"]},"OneToN":{"address":"0x422f06845DaE540B66926A5672FAEEE3cC0Bac8e","transaction_hash":"0xc7310d4b57a2ac5e9e7a65b4e0c95d9ff1b3a5a826665c8897a93a45cf78e506","block_number":9217162,"gas_cost":962079,"constructor_arguments":["0x515D4abEA2f352cC16e7907f4189D24f7F2469f0",4,"0x889c227B1835550903d870857Fb2CdCf03E5147C"]}}}')},1:function(e,t){},10:function(e,t){},11:function(e,t){},12:function(e,t){},13:function(e,t){},14:function(e,t){},15:function(e,t){},"152b":function(e,t,n){"use strict";var r=n("6dbe"),a=n("5cf9"),i=n("80bf");function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&p(e,t)}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function f(e){var t=y();return function(){var n,r=h(e);if(t){var a=h(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){if(t&&("object"===o(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return b(e)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}var m=function(e){l(n,e);var t=f(n);function n(){return c(this,n),t.apply(this,arguments)}return s(n,[{key:"navigateToSelectHub",value:function(e){this.$router.push({name:i["a"].SELECT_HUB,params:{token:e}})}},{key:"navigateToHome",value:function(){this.$router.push({name:i["a"].HOME})}},{key:"navigateToTransfer",value:function(e){this.$router.push({name:i["a"].TRANSFER,params:{token:e}})}},{key:"navigateToOpenChannel",value:function(e,t){this.$router.push({name:i["a"].OPEN_CHANNEL,params:{token:e,partner:t}})}},{key:"navigateToChannels",value:function(e){this.$router.push({name:i["a"].CHANNELS,params:{token:e}})}},{key:"navigateToSelectTransferTarget",value:function(e,t,n){var r={name:i["a"].TRANSFER,params:{token:e},query:{}};t&&n&&(r.query={target:t,amount:n}),this.$router.push(r)}},{key:"navigateToTokenSelect",value:function(){this.$router.push({name:i["a"].SELECT_TOKEN})}},{key:"navigateToTransferSteps",value:function(e,t,n){this.$router.push({name:i["a"].TRANSFER_STEPS,params:{token:e,target:t},query:{amount:n}})}},{key:"navigateToNotifications",value:function(){this.$router.push({name:i["a"].NOTIFICATIONS})}},{key:"navigateToAccount",value:function(){this.$router.push({name:i["a"].ACCOUNT_ROOT})}},{key:"navigateToBackupState",value:function(){this.$router.push({name:i["a"].ACCOUNT_BACKUP})}},{key:"navigateToRaidenAccountTransfer",value:function(){this.$router.push({name:i["a"].ACCOUNT_RAIDEN})}},{key:"navigateToSettings",value:function(){this.$router.push({name:i["a"].ACCOUNT_SETTINGS})}},{key:"navigateToWithdrawal",value:function(){this.$router.push({name:i["a"].ACCOUNT_WITHDRAWAL})}},{key:"navigateToUDC",value:function(){this.$router.push({name:i["a"].ACCOUNT_UDC})}},{key:"onModalBackClicked",value:function(){this.$router.go(-1)}},{key:"onBackClicked",value:function(){switch(this.$route.name){case i["a"].TRANSFER_STEPS:this.navigateToSelectTransferTarget(this.$route.params.token,this.$route.params.target,this.$route.params.amount);break;case i["a"].CHANNELS:this.navigateToTransfer(this.$route.params.token);break;case i["a"].SELECT_TOKEN:case i["a"].SELECT_HUB:case i["a"].OPEN_CHANNEL:this.$router.go(-1);break;default:break}}}]),n}(a["g"]);m=Object(r["f"])([a["a"]],m),t["a"]=m},1624:function(e,t,n){},"18cb":function(e,t,n){e.exports=n.p+"img/channels_info.76c17597.svg"},1924:function(e,t,n){e.exports=n.p+"img/backup_state_info.0f9ae539.svg"},"1a78":function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return p})),n.d(t,"e",(function(){return d})),n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return b}));var r,a=n("2111"),i=n("48a3"),o=n.n(i),c=n("5778"),u=n("d011"),s=n("ca14"),l={SENT:"sent",RECEIVED:"received"},p=a["j"](o()(l)),f=a["o"](a["i"]([a["u"]({_id:a["r"],channel:a["r"],direction:p,secrethash:s["c"],expiration:a["m"],transfer:Object(s["k"])(Object(s["j"])(c["b"])),fee:u["b"],partner:s["a"],cleared:a["m"]},"TransferStateBase"),a["n"]({secret:s["h"],secretRegistered:Object(s["k"])(a["u"]({txHash:s["c"],txBlock:a["m"]})),transferProcessed:Object(s["k"])(Object(s["j"])(c["f"])),channelClosed:Object(s["k"])(a["u"]({txHash:s["c"],txBlock:a["m"]})),channelSettled:Object(s["k"])(a["u"]({txHash:s["c"],txBlock:a["m"]})),secretRequest:Object(s["k"])(Object(s["j"])(c["g"])),secretReveal:Object(s["k"])(Object(s["j"])(c["h"])),unlock:Object(s["k"])(Object(s["j"])(c["i"])),expired:Object(s["k"])(Object(s["j"])(c["a"])),unlockProcessed:Object(s["k"])(Object(s["j"])(c["f"])),expiredProcessed:Object(s["k"])(Object(s["j"])(c["f"]))},"TransferStateOpts")])),d=f;(function(e){e["pending"]="PENDING",e["received"]="RECEIVED",e["closed"]="CLOSED",e["requested"]="REQUESTED",e["revealed"]="REVEALED",e["registered"]="REGISTERED",e["unlocking"]="UNLOCKING",e["expiring"]="EXPIRING",e["unlocked"]="UNLOCKED",e["expired"]="EXPIRED"})(r||(r={}));var b=a["i"]([a["u"]({secret:s["h"],amount:Object(s["l"])(32)}),a["n"]({payment_identifier:Object(s["l"])(8)})])},"1b23":function(e,t,n){"use strict";n.d(t,"c",(function(){return H})),n.d(t,"b",(function(){return q})),n.d(t,"e",(function(){return K})),n.d(t,"d",(function(){return G})),n.d(t,"a",(function(){return Z}));var r=n("36d8"),a=n.n(r),i=n("b97c"),o=n("1e78"),c=n("427e"),u=n.n(c),s=n("f068"),l=n("cd9d"),p=n("a669"),f=n("758f"),d=n("f541"),b=n("1319"),y=n("dd89"),h=n("c0bf"),m=n("1981"),v=n("26cb"),O=n("a083"),j=n("5e25a"),g=n("33ca"),w=n("f6ea"),_=n("db91"),k=n("009f"),E=n("2b5b"),T=n("ee6c"),S=n("325b"),A=n("ca14");function P(e){return I(e)||N(e)||C(e)||x()}function x(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function N(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function I(e){if(Array.isArray(e))return M(e)}function D(e,t){return U(e)||L(e,t)||C(e,t)||R()}function R(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function C(e,t){if(e){if("string"===typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?M(e,t):void 0}}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function L(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,c=!1;try{for(n=n.call(e);!(o=(r=n.next()).done);o=!0)if(i.push(r.value),t&&i.length===t)break}catch(u){c=!0,a=u}finally{try{o||null==n["return"]||n["return"]()}finally{if(c)throw a}}return i}}function U(e){if(Array.isArray(e))return e}function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){W(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function W(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function V(e,t,n,r,a,i,o){try{var c=e[i](o),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function $(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){V(i,r,a,o,c,"next",e)}function c(e){V(i,r,a,o,c,"throw",e)}o(void 0)}))}}function H(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e5,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e3,c=t.fromBlock,u=t.toBlock;return Object(s["a"])((function(){var f=c,d=Math.min(n,u-c+1),g=3;return Object(s["a"])($(a.a.mark((function n(){return a.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",e.send("eth_getLogs",[F(F({},t),{},{fromBlock:Object(i["g"])(f),toBlock:Object(i["g"])(Math.min(f+d-1,u))})]));case 1:case"end":return n.stop()}}),n)})))).pipe(Object(b["a"])((function(t){return t.forEach((function(e){null==e.removed&&(e.removed=!1)})),o["a"].arrayOf(e.formatter.filterLog.bind(e.formatter))(t)})),Object(y["a"])({complete:function(){return f+=d},error:function(){d=Math.round(d/2),d<r&&(d=r,g--)}}),Object(h["a"])((function(e){return Object(l["a"])(e)})),Object(m["a"])((function(t){if(g>=0)return Object(p["a"])(e.pollingInterval).pipe(Object(v["a"])());throw t})),Object(O["a"])((function(e){return e.pipe(Object(j["a"])((function(){return f<=u})))})))}))}function q(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.fromBlock,a=n.confirmations,i=n.blockNumber$,o=n.onPastCompleted;if("string"===typeof t||Array.isArray(t))return Object(f["a"])((function(n){return e.on(t,n)}),(function(n){return e.removeListener(t,n)}));var c=a?"number"===typeof a?Object(d["a"])(a):a:Object(d["a"])(E["c"]),u=[0],s=Date.now();return c.pipe(Object(g["a"])(),Object(S["m"])((function(t){if(!r){var n=e._lastBlockNumber,a=e.blockNumber;n=n&&n>0?n:a&&a>0?a:t+1,r=n-t}return u.splice(0,u.length,r),null!==i&&void 0!==i?i:q(e,"block")}),w["a"]),Object(_["a"])(Math.ceil(e.pollingInterval/10)),Object(k["a"])((function(n){var r=D(n,2),a=r[0],i=r[1];return H(e,F(F({},t),{},{fromBlock:u[0],toBlock:i})).pipe(Object(y["a"])({next:function(e){if(e.blockNumber&&!(e.blockNumber+a>i)){var t=e.blockNumber+1,n=u.findIndex((function(e){return e>t}));n&&(n<0&&(n=u.length),u.splice(0,n,t))}},complete:function(){while(u.length>=2*a)u.shift();o&&s&&(s=0,o(Date.now()-s)),u.push(i+1)}}))})))}function K(e){return function(t){var n=e.interface.parseLog(t),r=F(F(F({},t),n),{},{removeListener:function(){},getBlock:function(){return e.provider.getBlock(t.blockHash)},getTransaction:function(){return e.provider.getTransaction(t.transactionHash)},getTransactionReceipt:function(){return e.provider.getTransactionReceipt(t.transactionHash)}});return[].concat(P(n.args),[r])}}function G(e){return"unknown"===e.name?e.chainId.toString():"homestead"===e.name?"mainnet":e.name}var Y=u()(function(){var e=$(a.a.mark((function e(t,n){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",n.getCode(t));case 1:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}());function X(e,t){return Q.apply(this,arguments)}function Q(){return Q=$(a.a.mark((function e(t,n){var r,i,o,c;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=n.address,i=n.provider,e.next=3,Y(r,i);case 3:return o=e.sent,c="63",e.abrupt("return",o.includes(c+t.substr(2)));case 6:case"end":return e.stop()}}),e)}))),Q.apply(this,arguments)}function Z(e,t){return Object(s["a"])($(a.a.mark((function n(){var r;return a.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.interface.getSighash(t),n.t0=T["d"],n.next=4,X(Object(A["n"])(Object(A["d"])(4),r,"signature hash not found"),e);case 4:return n.t1=n.sent,n.t2=["contract does not have method",{contract:e.address,method:t}],(0,n.t0)(n.t1,n.t2),n.abrupt("return",!0);case 8:case"end":return n.stop()}}),n)}))))}},"1f0b":function(e){e.exports=JSON.parse('{"contracts_version":null,"chain_id":1,"contracts":{"ServiceRegistry":{"address":"0x1F54A809480E5E6349F09aaCaD14ec94C92EecD9","transaction_hash":"0xdde099aae92694a4cfb2fc9aa896da202df754053eeb7f0ef684c4e50557a800","block_number":13721665,"gas_cost":1672123,"constructor_arguments":["0x255Aa6DF07540Cb5d3d297f0D0D4D84cb52bc8e6","0xF8b8E4d2e40714869558EaB5CF08865864Cf0Afd",1.66666666666667e+21,5,4,2836573,166666666666667000000,15552000]},"UserDeposit":{"address":"0x5c46Ebb801dD1423D43d2C75651529f8ce715228","transaction_hash":"0x5b4d9c0f6a38afd283927b454cb3b2d0170e3253595a6b07b96f126046cf3f91","block_number":13721667,"gas_cost":1023492,"constructor_arguments":["0x255Aa6DF07540Cb5d3d297f0D0D4D84cb52bc8e6",1.66666666666667e+23]},"MonitoringService":{"address":"0xC46Ccb305b35796d5aB0741Ee7c1bf8eDf0B941b","transaction_hash":"0xcd7ebd25c5d6af46a833f4df44be3ea855d602af13428bdabb61344c2d0b21a6","block_number":13721668,"gas_cost":1421528,"constructor_arguments":["0x255Aa6DF07540Cb5d3d297f0D0D4D84cb52bc8e6","0x1F54A809480E5E6349F09aaCaD14ec94C92EecD9","0x5c46Ebb801dD1423D43d2C75651529f8ce715228","0x244076b99Fb84363D4E7d7b4779bFFb7eB4e982D"]},"OneToN":{"address":"0x8A32a0Ab2Cb19aEdc7e0AA362968EdE2C1c4CD7C","transaction_hash":"0xd074a81d54debab1a952ec5e2d5792dd5efa289867f6d31a16241f7138bf4821","block_number":13721669,"gas_cost":952388,"constructor_arguments":["0x5c46Ebb801dD1423D43d2C75651529f8ce715228",1,"0x1F54A809480E5E6349F09aaCaD14ec94C92EecD9"]}}}')},2:function(e,t){},"233e":function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"header-identicon"},[n("v-img",{class:{"header-identicon__blockie":e.defaultAccount,"header-identicon__blockie header-identicon__blockie__grayscale":!e.defaultAccount},attrs:{src:e.$blockie(e.defaultAccount),contain:"","aspect-ratio":"1"}})],1)},a=[],i=n("6dbe"),o=n("5cf9"),c=n("94ea"),u=n("77fd");function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&y(e,t)}function y(e,t){return y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},y(e,t)}function h(e){var t=O();return function(){var n,r=j(e);if(t){var a=j(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return m(this,n)}}function m(e,t){if(t&&("object"===s(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return v(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function j(e){return j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},j(e)}var g=function(e){b(n,e);var t=h(n);function n(){return d(this,n),t.apply(this,arguments)}return n}(Object(o["c"])(u["a"]));g=Object(i["f"])([Object(o["a"])({computed:p({},Object(c["e"])(["defaultAccount"]))})],g);var w=g,_=w,k=(n("43fd"),n("a6c2")),E=n("411c"),T=n.n(E),S=n("1331"),A=Object(k["a"])(_,r,a,!1,null,"d302227a",null);t["a"]=A.exports;T()(A,{VImg:S["a"]})},"2b5b":function(e,t,n){"use strict";n.d(t,"h",(function(){return l})),n.d(t,"e",(function(){return p})),n.d(t,"g",(function(){return u})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return f})),n.d(t,"f",(function(){return d})),n.d(t,"i",(function(){return b})),n.d(t,"c",(function(){return y})),n.d(t,"d",(function(){return h}));var r,a=n("b97c"),i=n("6da0"),o=n("24c6");function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u,s,l=Object(a["h"])([],65),p=Object(i["a"])([]);(function(e){e["STOP"]="raidenStopped",e["ACCOUNT_CHANGED"]="providerAccountChanged",e["NETWORK_CHANGED"]="providerNetworkChanged"})(u||(u={})),function(e){e["DELIVERY"]="Delivery",e["RECEIVE"]="Receive",e["MEDIATE"]="Mediate",e["WEBRTC"]="webRTC",e["TO_DEVICE"]="toDevice",e["IMMUTABLE_METADATA"]="immutableMetadata"}(s||(s={}));var f=(r={},c(r,s.DELIVERY,1),c(r,s.RECEIVE,1),c(r,s.MEDIATE,1),c(r,s.WEBRTC,0),c(r,s.TO_DEVICE,1),c(r,s.IMMUTABLE_METADATA,0),r),d="RAIDEN",b=100,y=5,h=Object(o["d"])("80")},"2fca":function(e,t,n){"use strict";n.d(t,"a",(function(){return x})),n.d(t,"b",(function(){return N}));var r=n("36d8"),a=n.n(r);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&b(e,t)}function c(e){var t=f();return function(){var n,r=y(e);if(t){var a=y(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){if(t&&("object"===i(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return s(e)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e){var t="function"===typeof Map?new Map:void 0;return l=function(e){if(null===e||!d(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return p(e,arguments,y(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),b(n,e)},l(e)}function p(e,t,n){return p=f()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var a=Function.bind.apply(e,r),i=new a;return n&&b(i,n.prototype),i},p.apply(null,arguments)}function f(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function d(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function b(e,t){return b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},b(e,t)}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e,t){return k(e)||_(e,t)||g(e,t)||j()}function j(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function g(e,t){if(e){if("string"===typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w(e,t):void 0}}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,c=!1;try{for(n=n.call(e);!(o=(r=n.next()).done);o=!0)if(i.push(r.value),t&&i.length===t)break}catch(u){c=!0,a=u}finally{try{o||null==n["return"]||n["return"]()}finally{if(c)throw a}}return i}}function k(e){if(Array.isArray(e))return e}function E(e,t,n,r,a,i,o){try{var c=e[i](o),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function T(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){E(i,r,a,o,c,"next",e)}function c(e){E(i,r,a,o,c,"throw",e)}o(void 0)}))}}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e,t,n){return t&&A(e.prototype,t),n&&A(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var x=function(){function e(){S(this,e)}return P(e,null,[{key:"contracts",value:function(){var e=T(a.a.mark((function e(){var t,n,r,i,o,c,u,s,l,p,f;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,t=Object({VUE_APP_ALLOW_MAINNET:"true",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",VUE_APP_TERMS:"https://github.com/raiden-network/light-client/blob/master/TERMS.md",VUE_APP_CONFIGURATION_URL:"config.production.json",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",VUE_APP_SERVICE_WORKER_DISABLED:"false",BASE_URL:"/"}),n=t.VUE_APP_DEPLOYMENT_INFO,r=t.VUE_APP_DEPLOYMENT_SERVICES_INFO,!n||!r){e.next=16;break}return e.next=5,Promise.all([fetch(n),fetch(r)]);case 5:return i=e.sent,o=O(i,2),c=o[0],u=o[1],e.next=11,Promise.all([c.json(),u.json()]);case 11:return s=e.sent,l=O(s,2),p=l[0],f=l[1],e.abrupt("return",m(m({},p.contracts),f.contracts));case 16:return e.abrupt("return",void 0);case 19:throw e.prev=19,e.t0=e["catch"](0),new N(e.t0.message);case 22:case"end":return e.stop()}}),e,null,[[0,19]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"configuration",value:function(){var e=T(a.a.mark((function e(){var t,n;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t="config.production.json",e.next=3,fetch(t);case 3:return n=e.sent,e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()}]),e}(),N=function(e){o(n,e);var t=c(n);function n(){return S(this,n),t.apply(this,arguments)}return n}(l(Error))},3:function(e,t){},"31a7":function(e){e.exports=JSON.parse('{"contracts_version":null,"chain_id":4,"contracts":{"SecretRegistry":{"address":"0x8113f1B51DDe4C3260d094Cacf1c88E585E45ddf","transaction_hash":"0x1643f3d2f3c04099444742974b04279282a2624fc5daae1fdb5b5bdd03b1116b","block_number":9217156,"gas_cost":253286,"constructor_arguments":[]},"TokenNetworkRegistry":{"address":"0xdc00a4EDBAfEa58BA966107e315bF318A4d891DE","transaction_hash":"0x76b7557f3d42fceb3eb6b7e3df002420bfec82a59771228014ad57b8b658bfab","block_number":9217157,"gas_cost":4579912,"constructor_arguments":["0x8113f1B51DDe4C3260d094Cacf1c88E585E45ddf",20,555428,1.157920892373162e+77]}},"token_networks":[{"token_network_address":"0x5F00463b9d0325d4C89DEb07614c0642D306E792","constructor_arguments":{"_token_address":"0x08b1749fe175C95d07cb9f474e59af29a77Bc894","_secret_registry":"0x8113f1B51DDe4C3260d094Cacf1c88E585E45ddf","_chain_id":4,"_settlement_timeout_min":20,"_settlement_timeout_max":555428,"_controller":"0x5a3B85ece0056aab6de2AB163Ca34EF38838365b","_channel_participant_deposit_limit":1.157920892373162e+77,"_token_network_deposit_limit":1.157920892373162e+77}}]}')},"325b":function(e,t,n){"use strict";n.d(t,"g",(function(){return K})),n.d(t,"d",(function(){return G})),n.d(t,"h",(function(){return Y})),n.d(t,"j",(function(){return Q})),n.d(t,"i",(function(){return Z})),n.d(t,"k",(function(){return J})),n.d(t,"b",(function(){return z})),n.d(t,"e",(function(){return ee})),n.d(t,"l",(function(){return te})),n.d(t,"m",(function(){return ne})),n.d(t,"a",(function(){return re})),n.d(t,"c",(function(){return ae})),n.d(t,"f",(function(){return ie}));var r=n("7ff5"),a=n.n(r),i=n("393f"),o=n("a669"),c=n("f068"),u=n("cd9d"),s=n("b2c5"),l=n("56a6"),p=n("f541"),f=n("c8e4"),d=n("7a7d"),b=n("c32d"),y=n("0146"),h=n("d495"),m=n("9c65"),v=n("33ca"),O=n("c0bf"),j=n("5e25"),g=n("996a"),w=n("a083"),_=n("1319"),k=n("5e25a"),E=n("f6ea"),T=n("33b9"),S=n("dd89"),A=n("aaf7"),P=n("73cb"),x=n("4a12"),N=(n("a157"),n("1981")),I=n("b7ab"),D=n("fd2c"),R=n("d276"),C=n("ee6c"),M=n("ca14");function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){B(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F(e,t){return q(e)||H(e,t)||V(e,t)||W()}function W(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function V(e,t){if(e){if("string"===typeof e)return $(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$(e,t):void 0}}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function H(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,c=!1;try{for(n=n.call(e);!(o=(r=n.next()).done);o=!0)if(i.push(r.value),t&&i.length===t)break}catch(u){c=!0,a=u}finally{try{o||null==n["return"]||n["return"]()}finally{if(c)throw a}}return i}}function q(e){if(Array.isArray(e))return e}var K=function(){return Object(i["a"])(m["a"].apply(void 0,arguments),Object(v["a"])())};function G(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e,t){return e===t};return Object(i["a"])(Object(v["a"])(),Object(O["a"])((function(e){return Object.entries(e)})),Object(j["a"])((function(t,n){var r=t.acc,a=F(n,2),i=a[0],o=a[1];return e(r[i],o)?{acc:r}:{acc:U(U({},r),{},B({},i,o)),changed:[i,o]}}),{acc:{}}),Object(m["a"])("changed"),Object(g["a"])(M["p"]))}function Y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e4;return Object(i["a"])(Object(w["a"])((function(e){return e.pipe(Object(_["a"])((function(){if("number"===typeof t)return t;var e=t.next();return e.done?-1:e.value})),Object(k["a"])((function(e){return e>=0})),Object(E["a"])((function(e){return Object(o["a"])(e)})))})),Object(T["a"])(e))}function X(e){return Symbol.iterator in e}function Q(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r.log&&(r=U(U({},r),{},{log:r.log.bind(null,"retryWhile")})),function(a){return Object(c["a"])((function(){return t=void 0,n=Object(C["i"])(r),Object(u["a"])(a).pipe(Object(S["a"])((function(){t=void 0,n=Object(C["i"])(r)})),Object(A["a"])((function(r){return r.pipe(Object(O["a"])((function(r){var a;if("number"===typeof e)a=e;else{t||(t=X(e)?e[Symbol.iterator]():e);var i=t.next();a=i.done?-1:i.value}if(a<=0||!n(r))throw r;return Object(o["a"])(a)})))})))}))}}function Z(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Object(c["a"])(e).pipe(Q.apply(void 0,n))}function J(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n){var r=new s["a"];return e.pipe(Object(_["a"])((function(e){return t?!e:!!e})),Object(v["a"])(),Object(T["a"])(r),Object(E["a"])((function(e){return e?n.pipe(Object(S["a"])({complete:function(){return r.next(!0)}})):l["a"]})))}}function z(e,t){return Object(i["a"])(Object(T["a"])(e.pipe(ee(a()(void 0===t?Object(p["a"])(0):Object(o["a"])(t))))))}function ee(e){return Object(i["a"])(Object(P["a"])(void 0,null),Object(O["a"])(e))}function te(e){return function(t){return Object(f["a"])(Object(o["a"])(e).pipe(Object(x["a"])(Object(d["a"])((function(){return new Error("timeout waiting first")})))),t)}}function ne(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:O["a"];return Object(i["a"])(t((function(t,n){return Object(u["a"])(e(t,n)).pipe(Object(_["a"])((function(e){return[t,e]})))})))}function re(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];e.log&&r.length&&(e=U(U({},e),{},{log:(t=e.log).bind.apply(t,[null].concat(r))}));var o=Object(C["i"])(e);return Object(i["a"])(Object(N["a"])((function(e){if(!o(e))throw e;return l["a"]})))}function ae(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(e){return e};return function(a){return Object(c["a"])((function(){var i=new s["a"],o=new Map,u=Object(c["a"])((function(){return t((function(t){var c=r(t),u=o.get(c);if(u)return u;var s=new b["a"](1),l=a.pipe(Object(g["a"])(Object(R["g"])(e,t.meta)),Object(_["a"])((function(t){if(e.failure.is(t))throw t.payload;return t})),Object(k["a"])((function(e){return n&&"confirmed"in e.payload&&void 0===e.payload.confirmed}),!0)).subscribe(s);i.next(t);var p=s.pipe(Object(I["a"])((function(){l.unsubscribe(),o.delete(c)})));return o.set(c,p),p}))})).pipe(Object(I["a"])((function(){return i.complete()})));return Object(y["a"])(i,u)}))}}function ie(e,t){return function(n){var r=Object(h["a"])(n.pipe(Object(D["a"])()),e),a=F(r,2),i=a[0],o=a[1];return Object(y["a"])(t(i),o)}}},3501:function(e){e.exports=JSON.parse('{"contracts_version":null,"chain_id":5,"contracts":{"SecretRegistry":{"address":"0x167581bAaa3D73e5F8AD61D3445103d2Dca49e3f","transaction_hash":"0x498307ba38423c5073a3d15ead73513d7b37deba647dc40991565b6e4bd46e90","block_number":5422501,"gas_cost":253286,"constructor_arguments":[]},"TokenNetworkRegistry":{"address":"0x44c886653B536178831CF2Ca0724e0dd3f75FEd6","transaction_hash":"0x332a78b8fc25f695ee5bc2ee3dd90731ce64bb3484717ae4d8e2aca72442ffdb","block_number":5422503,"gas_cost":4579912,"constructor_arguments":["0x167581bAaa3D73e5F8AD61D3445103d2Dca49e3f",20,555428,1.157920892373162e+77]}},"token_networks":[{"token_network_address":"0x24fAF12ccBE066051F4EA6e2c80E779eA189c292","constructor_arguments":{"_token_address":"0xC563388e2e2fdD422166eD5E76971D11eD37A466","_secret_registry":"0x167581bAaa3D73e5F8AD61D3445103d2Dca49e3f","_chain_id":5,"_settlement_timeout_min":20,"_settlement_timeout_max":555428,"_controller":"0x2645bcF95d1c3fE89dB435be8AaEFb887832803b","_channel_participant_deposit_limit":1.157920892373162e+77,"_token_network_deposit_limit":1.157920892373162e+77}}]}')},"358d":function(e,t,n){"use strict";n.d(t,"c",(function(){return q})),n.d(t,"d",(function(){return G})),n.d(t,"e",(function(){return Y})),n.d(t,"g",(function(){return Q})),n.d(t,"a",(function(){return Z})),n.d(t,"b",(function(){return J})),n.d(t,"f",(function(){return z}));var r=n("36d8"),a=n.n(r),i=n("b97c"),o=n("5c24"),c=n("eda8"),u=n("53c1"),s=n("2111"),l=n("427e"),p=n.n(l),f=n("523d"),d=n.n(f),b=n("cea7"),y=n("cd9d"),h=n("f068"),m=n("56a6"),v=n("b62a"),O=n("c0bf"),j=n("1981"),g=n("d5a4"),w=n("1319"),_=n("7de2"),k=n("d890"),E=n("0862"),T=n("46f7"),S=n("ee6c"),A=n("9a49"),P=n("325b"),x=n("ca14"),N=n("d011"),I=["errors"];function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){C(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M(e,t){if(null==e)return{};var n,r,a=L(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function L(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}function U(e,t,n,r,a,i,o){try{var c=e[i](o),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function B(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){U(i,r,a,o,c,"next",e)}function c(e){U(i,r,a,o,c,"throw",e)}o(void 0)}))}}var F=p()(function(){var e=B(a.a.mark((function e(t,n){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(b["a"])(Object(P["i"])(B(a.a.mark((function e(){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t.callStatic.token());case 1:case"end":return e.stop()}}),e)}))),n,{onErrors:S["h"]})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),W=p()(function(){var e=B(a.a.mark((function e(t,n){var r,i;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=n.serviceRegistryContract,i=t,!x["a"].is(t)){e.next=6;break}return e.next=5,r.callStatic.urls(t);case 5:i=e.sent;case 6:return e.abrupt("return",$(i));case 7:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()),V=/^(?:https:\/\/)?[^\s\/$.?#&"']+\.[^\s\/$?#&"']+$/;function $(e){return Object(S["d"])(e,S["b"].PFS_EMPTY_URL),Object(S["d"])(V.test(e),[S["b"].PFS_INVALID_URL,{url:e}]),e.match(/^https?:\/\//)||(e="https://".concat(e)),e}var H=new A["a"](32);function q(e,t){return K.apply(this,arguments)}function K(){return K=B(a.a.mark((function e(t,n){var r,i,o,c,u,l,p,f,d,y,h,m,v,O,j,g,w,_,k,E,A,P,N;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=n.log,i=n.serviceRegistryContract,o=n.network,c=n.contractsInfo,u=n.provider,l=n.config$,p=n.latest$,e.next=3,Object(b["a"])(l);case 3:return f=e.sent,d=f.pfsMaxFee,e.next=7,Object(b["a"])(p);case 7:return y=e.sent,h=y.state,m=h.services,v=s["u"]({message:s["r"],network_info:s["u"]({chain_id:s["k"](o.chainId),token_network_registry_address:s["k"](c.TokenNetworkRegistry.address)}),operator:s["r"],payment_address:x["a"],price_info:Object(x["l"])(32),version:s["r"]}),e.prev=11,e.next=14,W(t,{serviceRegistryContract:i});case 14:return j=e.sent,g=Date.now(),e.next=18,fetch(j+"/api/v1/info",{mode:"cors"});case 18:return w=e.sent,_=Date.now()-g,e.next=22,w.text();case 22:if(k=e.sent,Object(S["d"])(w.ok,[S["b"].PFS_ERROR_RESPONSE,{text:k}]),E=Object(x["n"])(v,Object(T["b"])(k)),A=E.payment_address,P=E.price_info,Object(S["d"])(P.lte(d),[S["b"].PFS_TOO_EXPENSIVE,{price:P}]),H.set(j,Promise.resolve(E.payment_address)),null===(O=m[A])||void 0===O){e.next=32;break}e.t0=O,e.next=36;break;case 32:return e.next=34,i.callStatic.service_valid_till(A);case 34:e.t1=e.sent.toNumber(),e.t0=1e3*e.t1;case 36:return N=e.t0,e.t2=A,e.t3=j,e.t4=_,e.t5=P,e.next=43,F(i,u.pollingInterval);case 43:return e.t6=e.sent,e.t7=N,e.abrupt("return",{address:e.t2,url:e.t3,rtt:e.t4,price:e.t5,token:e.t6,validTill:e.t7});case 48:throw e.prev=48,e.t8=e["catch"](11),r.warn("Error fetching PFS info:",t,e.t8),e.t8;case 52:case"end":return e.stop()}}),e,null,[[11,48]])}))),K.apply(this,arguments)}var G=Object.assign(function(){var e=B(a.a.mark((function e(t,n){var r;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=$(t),r=H.get(t),r||(r=q(t,n).then((function(e){var t=e.address;return t})),H.set(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}(),{cache:H});function Y(e,t){var n=t.log;return Object(y["a"])(e).pipe(Object(O["a"])((function(e){return Object(h["a"])(B(a.a.mark((function n(){return a.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",q(e,t));case 1:case"end":return n.stop()}}),n)})))).pipe(Object(j["a"])((function(t){return n.warn('Error trying to fetch PFS info for "'.concat(e,'" - ignoring:'),t),m["a"]})))}),5),Object(g["a"])(),Object(w["a"])((function(t){return Object(S["d"])(t.length||!e.length,S["b"].PFS_INVALID_INFO),d()(t,"url").sort((function(e,t){var n=e.price.sub(t.price);return n.lt(0)?-1:n.gt(0)?1:e.rtt-t.rtt}))})))}function X(e){var t=Object(c["c"])(Object(i["a"])(Object(o["a"])(e.user_id)),e.displayname),n=Object(u["c"])(t);return k["matrixPresence"].success({userId:e.user_id,available:!0,ts:Date.now(),caps:Object(E["e"])(e.capabilities),pubkey:t},{address:n})}function Q(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.log;if(e)try{var a=X(e);return Object(S["d"])(a.meta.address===t,["Wrong signature",{expected:t,recovered:a.meta.address}]),a}catch(i){null===r||void 0===r||r.warn("Invalid address metadata",{address:t,metadata:e,error:i})}}function Z(e,t,n){var r=n.serviceRegistryContract;return Object(h["a"])(B(a.a.mark((function e(){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",W(t,{serviceRegistryContract:r}));case 1:case"end":return e.stop()}}),e)})))).pipe(Object(O["a"])((function(t){return Object(v["a"])("".concat(t,"/api/v1/address/").concat(e,"/metadata"))})),Object(O["a"])(function(){var e=B(a.a.mark((function e(t){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t.json());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(w["a"])((function(t){try{var r=Object(x["n"])(N["a"],t),a=Q(r,e,n);return Object(S["d"])(a,["Invalid metadata signature",{peer:e,presence:r}]),Object(S["d"])(a.payload.caps,["Invalid capabilities format",r.capabilities]),a}catch(u){try{var i=Object(x["n"])(N["i"],t),o=i.errors,c=M(i,I);u=new S["c"](o,c)}catch(s){}throw u}})))}function J(e){return Object(i["b"])([Object(T["a"])(e.one_to_n_address,20),Object(T["a"])(e.chain_id,32),Object(T["a"])(_["a"].IOU,32),Object(T["a"])(e.sender,20),Object(T["a"])(e.receiver,20),Object(T["a"])(e.amount,32),Object(T["a"])(e.expiration_block,32)])}function z(e,t){return ee.apply(this,arguments)}function ee(){return ee=B(a.a.mark((function e(t,n){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t.signMessage(J(n)).then((function(e){return R(R({},n),{},{signature:e})})));case 1:case"end":return e.stop()}}),e)}))),ee.apply(this,arguments)}},"38b1":function(e,t,n){},"3b50":function(e,t,n){},4:function(e,t){},"40b2":function(e,t,n){"use strict";n("5919"),n("823d");var r=n("1045"),a=n.n(r),i=r["methodFactory"];Object.defineProperty(a.a,"methodFactory",{enumerable:!0,configurable:!0,get:function(){return i},set:function(e){e.allowOverwrite&&(i=e)}});var o=n("178d"),c=Object(o["getRequest"])();Object(o["request"])((function(e,t){var n=c(e,t),r=n.abort.bind(n);return Object.assign(n,{abort:function(){r(),t(new Error("aborted!"))}})}))},"438d":function(e,t,n){"use strict";n.d(t,"b",(function(){return w})),n.d(t,"a",(function(){return _})),n.d(t,"d",(function(){return k})),n.d(t,"c",(function(){return E})),n.d(t,"e",(function(){return T}));var r=n("36d8"),a=n.n(r),i=n("0146"),o=n("f541"),c=n("f068"),u=n("996a"),s=n("f39b"),l=n("26cb"),p=n("8173"),f=n("d276"),d=n("325b"),b=n("1a78"),y=["userId"];function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e,t){if(null==e)return{};var n,r,a=j(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function j(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}var g=a.a.mark(w);function w(){var e,t,n,r,i=arguments;return a.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:e=i.length>0&&void 0!==i[0]?i[0]:1e3,t=i.length>1&&void 0!==i[1]?i[1]:6e4,n=i.length>2&&void 0!==i[2]?i[2]:1.4,r=e;case 4:return a.next=7,r;case 7:r=Math.min(t,Math.ceil(r*n)),a.next=4;break;case 10:case"end":return a.stop()}}),g)}function _(e,t,n){return Object(i["a"])(e.pipe(Object(u["a"])(n),Object(s["a"])(1),Object(l["a"])()),Object(o["a"])(t))}function k(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3e4,a=!0;return Object(c["a"])((function(){if(a)a=!1;else if(e.payload.userId){var n=e.payload,r=(n.userId,O(n,y));e=m(m({},e),{},{payload:r})}return _(t,e,Object(f["g"])(p["messageSend"],e.meta))})).pipe(Object(d["h"])(n,r),Object(d["b"])(t))}function E(e,t){return function(n){return n.type===e&&(!t||n.expiration.eq(t.expiration)&&n.total_withdraw.eq("totalWithdraw"in t?t.totalWithdraw:t.total_withdraw))}}function T(e,t){return{tokenNetwork:t.tokenNetwork,partner:t.partner.address,direction:e.participant===t.partner.address?b["a"].RECEIVED:b["a"].SENT,expiration:e.expiration.toNumber(),totalWithdraw:e.total_withdraw}}},"43fd":function(e,t,n){"use strict";n("7419")},"46f7":function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return b}));var r=n("c00b"),a=n("b97c"),i=n("87b8"),o=n("699d"),c=n("e64d"),u=n.n(c),s=n("ee6c"),l=n("ca14");function p(e,t){var n;if("boolean"===typeof e?e=e?i["e"]:i["h"]:"number"===typeof e&&(e=r["a"].from(e)),"string"!==typeof e||Object(a["l"])(e)||(e=Object(o["f"])(e)),Object(a["k"])(e)&&(e=Object(a["i"])(e)),l["b"].is(e)){if(e.lt(0))throw new s["c"](s["b"].DTA_NEGATIVE_NUMBER);if(e.gte(i["f"].pow(8*t)))throw new s["c"](s["b"].DTA_NUMBER_TOO_LARGE);n=Object(a["h"])(Object(a["i"])(e),t)}else{if("string"!==typeof e)throw new s["c"](s["b"].DTA_UNENCODABLE_DATA);if(Object(a["d"])(e)!==t)throw new s["c"](s["b"].DTA_ARRAY_LENGTH_DIFFERENCE);n=e}return n}var f=u()({storeAsString:!0}),d=f.parse,b=f.stringify},"49f8":function(e,t,n){var r={"./en.json":"edd4"};function a(e){var t=i(e);return n(t)}function i(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=i,e.exports=a,a.id="49f8"},"4b97":function(e,t,n){},"4c29":function(e){e.exports=JSON.parse('{"contracts_version":null,"chain_id":5,"contracts":{"ServiceRegistry":{"address":"0x40f978e5931AaBf27DbF18080f45de19d825A89f","transaction_hash":"0x42b85a3a3f80cacb3eab792cbffce8316fa8937ea76b06ed02dd7fb656e8ef39","block_number":5422504,"gas_cost":1684406,"constructor_arguments":["0x5Fc523e13fBAc2140F056AD7A96De2cC0C4Cc63A","0x2645bcF95d1c3fE89dB435be8AaEFb887832803b",2e+21,6,5,17280000,1000,15552000]},"UserDeposit":{"address":"0xEC139fBAED94c54Db7Bfb49aC4e143A76bC422bB","transaction_hash":"0x41f1b64abba05236ed57091d8d9cad25c0dfd129b2ddba3a9e7832bc08d9fa55","block_number":5422506,"gas_cost":1030644,"constructor_arguments":["0x5Fc523e13fBAc2140F056AD7A96De2cC0C4Cc63A",1.157920892373162e+77]},"MonitoringService":{"address":"0x4e0bc0A608B7de403b1A9054A93AF7196aEB5f87","transaction_hash":"0x427dd220dd0675115693fc1bd26c02ce45b88f6a0ef8be4751faf218dfaedeca","block_number":5422507,"gas_cost":1451004,"constructor_arguments":["0x5Fc523e13fBAc2140F056AD7A96De2cC0C4Cc63A","0x40f978e5931AaBf27DbF18080f45de19d825A89f","0xEC139fBAED94c54Db7Bfb49aC4e143A76bC422bB","0x44c886653B536178831CF2Ca0724e0dd3f75FEd6"]},"OneToN":{"address":"0x7589B672D60EfC2adDBD3e3Ff5Db8a59Ed41679A","transaction_hash":"0xa2a8f779c2a9fccbc3e148b77ea811f8d54fa2c73eaced3e57d3358b6342fbed","block_number":5422508,"gas_cost":962079,"constructor_arguments":["0xEC139fBAED94c54Db7Bfb49aC4e143A76bC422bB",5,"0x40f978e5931AaBf27DbF18080f45de19d825A89f"]}}}')},"4cd4":function(e,t,n){e.exports=n.p+"img/notification_block.ad9b07ff.svg"},5:function(e,t){},"50e7":function(e,t,n){"use strict";n.d(t,"b",(function(){return xs})),n.d(t,"a",(function(){return Ds}));var r={};n.r(r),n.d(r,"initEpic",(function(){return be})),n.d(r,"initNewBlockEpic",(function(){return ye})),n.d(r,"blockTimeEpic",(function(){return he})),n.d(r,"blockStaleEpic",(function(){return me})),n.d(r,"confirmationEpic",(function(){return Oe})),n.d(r,"channelCloseEpic",(function(){return Re})),n.d(r,"channelUpdateEpic",(function(){return Ce})),n.d(r,"channelDepositEpic",(function(){return et})),n.d(r,"initTokensRegistryEpic",(function(){return Nt})),n.d(r,"initMonitorProviderEpic",(function(){return It})),n.d(r,"channelEventsEpic",(function(){return Bt})),n.d(r,"channelMonitoredEpic",(function(){return Ft})),n.d(r,"channelOpenEpic",(function(){return Yt})),n.d(r,"channelSettleableEpic",(function(){return pn})),n.d(r,"channelAutoSettleEpic",(function(){return fn})),n.d(r,"channelSettleEpic",(function(){return hn})),n.d(r,"channelUnlockEpic",(function(){return mn}));var a={};n.r(a),n.d(a,"dbErrorsEpic",(function(){return On}));var i={};n.r(i),n.d(i,"msMonitorRequestEpic",(function(){return Cn})),n.d(i,"msMonitorNewBPEpic",(function(){return Mn})),n.d(i,"pfsRequestEpic",(function(){return Br})),n.d(i,"pfsCapacityUpdateEpic",(function(){return Fr})),n.d(i,"pfsFeeUpdateEpic",(function(){return Wr})),n.d(i,"pfsServiceRegistryMonitorEpic",(function(){return Vr})),n.d(i,"monitorUdcBalanceEpic",(function(){return ta})),n.d(i,"udcDepositEpic",(function(){return ra})),n.d(i,"udcWithdrawPlanRequestEpic",(function(){return aa})),n.d(i,"udcAutoWithdrawEpic",(function(){return ia})),n.d(i,"udcWithdrawEpic",(function(){return oa}));var o={};n.r(o),n.d(o,"transferMediateEpic",(function(){return ja})),n.d(o,"coopSettleWithdrawReplyEpic",(function(){return Ra})),n.d(o,"coopSettleEpic",(function(){return Ca})),n.d(o,"transferAutoExpireEpic",(function(){return Va})),n.d(o,"initQueuePendingEnvelopeMessagesEpic",(function(){return za})),n.d(o,"initQueuePendingReceivedEpic",(function(){return ei})),n.d(o,"transferRequestResolveEpic",(function(){return ti})),n.d(o,"transferClearCompletedEpic",(function(){return ri})),n.d(o,"transferGenerateAndSignEnvelopeMessageEpic",(function(){return Wi})),n.d(o,"transferProcessedReceivedEpic",(function(){return Yi})),n.d(o,"transferProcessedSendEpic",(function(){return Xi})),n.d(o,"transferRetryMessageEpic",(function(){return no})),n.d(o,"transferSecretRequestedEpic",(function(){return yo})),n.d(o,"transferSecretRevealEpic",(function(){return mo})),n.d(o,"transferSecretRevealedEpic",(function(){return vo})),n.d(o,"transferRequestUnlockEpic",(function(){return Oo})),n.d(o,"monitorSecretRegistryEpic",(function(){return jo})),n.d(o,"transferSuccessOnSecretRegisteredEpic",(function(){return go})),n.d(o,"transferAutoRegisterEpic",(function(){return wo})),n.d(o,"transferSecretRegisterEpic",(function(){return _o})),n.d(o,"initWithdrawMessagesEpic",(function(){return Do})),n.d(o,"withdrawResolveEpic",(function(){return Ro})),n.d(o,"withdrawSendRequestMessageEpic",(function(){return Co})),n.d(o,"withdrawSendTxEpic",(function(){return Mo})),n.d(o,"withdrawMessageProcessedEpic",(function(){return Lo})),n.d(o,"autoWithdrawExpireEpic",(function(){return Bo})),n.d(o,"withdrawSendExpireMessageEpic",(function(){return Fo}));var c={};n.r(c),n.d(c,"rtcConnectionManagerEpic",(function(){return Uc})),n.d(c,"initMatrixEpic",(function(){return iu})),n.d(c,"matrixShutdownEpic",(function(){return ou})),n.d(c,"matrixMessageSendEpic",(function(){return Nu})),n.d(c,"matrixMessageServiceSendEpic",(function(){return Du})),n.d(c,"matrixMessageReceivedEpic",(function(){return Ru})),n.d(c,"deliveredEpic",(function(){return Cu})),n.d(c,"matrixMonitorPresenceEpic",(function(){return Qu})),n.d(c,"matrixMonitorChannelPresenceEpic",(function(){return Zu})),n.d(c,"matrixUpdateCapsEpic",(function(){return Ju})),n.d(c,"matrixLeaveUnknownRoomsEpic",(function(){return us}));var u=n("36d8"),s=n.n(u),l=n("87b8"),p=n("5832"),f=n("2bde"),d=n.n(f),b=n("fe07"),y=n.n(b),h=n("50b8"),m=n("0146"),v=n("6075"),O=n("cd9d"),j=n("f541"),g=n("a669"),w=n("2ac6"),_=n("1319"),k=n("33ca"),E=n("dd89"),T=n("26cb"),S=n("996a"),A=n("c49c"),P=n("9c65"),x=n("f39b"),N=n("c0bf"),I=n("5e25"),D=n("b7ab"),R=n("b922"),C=n("9f33"),M=n("33b9"),L=n("1981"),U=n("b211"),B=n("1a3a"),F=n("ef4a"),W=n("f5be"),V=n("f799"),$=n("7ff5"),H=n.n($),q=n("f068"),K=n("56a6"),G=n("5b2c"),Y=n("db91"),X=n("009f"),Q=n("f6ea"),Z=n("15e7"),J=n("a157"),z=n("1b23"),ee=n("325b"),te=n("ca14");function ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(n),!0).forEach((function(t){ae(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ie(e,t,n,r,a,i,o){try{var c=e[i](o),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function oe(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){ie(i,r,a,o,c,"next",e)}function c(e){ie(i,r,a,o,c,"throw",e)}o(void 0)}))}}function ce(e,t){return fe(e)||pe(e,t)||se(e,t)||ue()}function ue(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function se(e,t){if(e){if("string"===typeof e)return le(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?le(e,t):void 0}}function le(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pe(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,c=!1;try{for(n=n.call(e);!(o=(r=n.next()).done);o=!0)if(i.push(r.value),t&&i.length===t)break}catch(u){c=!0,a=u}finally{try{o||null==n["return"]||n["return"]()}finally{if(c)throw a}}return i}}function fe(e){if(Array.isArray(e))return e}function de(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function be(e,t,n){de(e);var r=n.init$;return t.pipe(Object(F["a"])(),Object(N["a"])((function(e){var n=e.blockNumber,a=Date.now();return r.pipe(Object(N["a"])((function(e){return Object(w["a"])(Object(j["a"])(1),e.pipe(Object(T["a"])(),Object(G["a"])(-1)))})),Object(I["a"])((function(e,t){return e+t}),0),Object(Y["a"])(10),Object(F["a"])((function(e){return 0===e})),Object(U["a"])(t),Object(_["a"])((function(e){var t=ce(e,2),r=t[1].blockNumber;return Object(W["g"])({tookMs:Date.now()-a,initialBlock:n,currentBlock:r})})))})),Object(ee["b"])(t),Object(D["a"])((function(){return r.complete()})))}function ye(e,t,n){de(t);var r=n.provider,a=n.init$;return Object(ee["i"])((function(){return r.getBlockNumber()}),r.pollingInterval).pipe(Object(N["a"])((function(e){return a.pipe(Object(ee["e"])((function(){return Object(z["b"])(r,"block")})),Object(A["a"])(e))})),Object(_["a"])((function(e){return Object(V["newBlock"])({blockNumber:e})})),Object(ee["b"])(e))}function he(e,t,n){de(t);var r=n.provider,a=20,i=[-a,0],o=function(e){return Object(q["a"])(oe(s.a.mark((function t(){return s.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",r.getBlock(e).then((function(t){var n=t.timestamp;return[e,1e3*n]})));case 1:case"end":return t.stop()}}),t)}))))};return e.pipe(Object(S["a"])(V["newBlock"].is),Object(P["a"])("payload","blockNumber"),Object(S["a"])((function(e){return e>=i[0]+a})),Object(X["a"])((function(e){var t=i[0]>0?Object(j["a"])(i):o(Math.max(1,e-a)),n=o(e);return Object(h["a"])([t,n]).pipe(Object(N["a"])(s.a.mark((function e(t){var n,r,a,o;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=ce(t,2),r=n[0],a=n[1],o=(a[1]-r[1])/(a[0]-r[0]),o===i[2]){e.next=5;break}return e.next=5,o;case 5:i=[a[0],a[1],o];case 6:case"end":return e.stop()}}),e)}))),Object(L["a"])(H()(K["a"])))})),Object(_["a"])((function(e){return Object(V["blockTime"])({blockTime:e})})))}function me(e,t,n){de(e);var r=n.latest$,a=n.config$;return t.pipe(Object(ee["g"])("blockNumber"),Object(U["a"])(r,a),Object(_["a"])((function(e){var t=ce(e,3),n=t[1].blockTime,r=t[2].httpTimeout;return Math.max(3*n,2*r)})),Object(Q["a"])((function(e){return Object(w["a"])(Object(j["a"])(!1),Object(g["a"])(e).pipe(Object(Z["a"])(!0),Object(ee["b"])(t)))})),Object(k["a"])(),Object(_["a"])((function(e){return Object(V["blockStale"])({stale:e})})))}function ve(e,t,n,r){return Object(ee["i"])((function(){return t.getTransactionReceipt(e.payload.txHash)}),t.pollingInterval).pipe(Object(_["a"])((function(t){var a;return void 0!==(null===t||void 0===t?void 0:t.confirmations)&&t.confirmations>=r&&t.status?re(re({},e),{},{payload:re(re({},e.payload),{},{txBlock:null!==(a=t.blockNumber)&&void 0!==a?a:e.payload.txBlock,confirmed:!0})}):e.payload.txBlock+2*r<n?re(re({},e),{},{payload:re(re({},e.payload),{},{confirmed:!1})}):void 0})),Object(S["a"])(te["p"]))}function Oe(e,t,n){de(e);var r=n.config$,a=n.provider,i=n.latest$;return Object(h["a"])([t.pipe(Object(ee["g"])("blockNumber")),t.pipe(Object(P["a"])("pendingTxs")),r.pipe(Object(ee["g"])("confirmationBlocks"),Object(ee["b"])(t))]).pipe(Object(S["a"])((function(e){var t=ce(e,2),n=t[1];return n.length>0})),Object(X["a"])((function(e){var t=ce(e,3),n=t[0],r=t[1],o=t[2];return Object(O["a"])(r).pipe(Object(S["a"])((function(e){return e.payload.txBlock+o<n})),Object(J["a"])((function(e){return ve(e,a,n,o).pipe(Object(M["a"])(i.pipe(Object(S["a"])((function(t){var n=t.state;return!n.pendingTxs.some((function(t){return t.type===e.type&&t.payload.txHash===e.payload.txHash}))})))))})))})))}var je=n("b97c"),ge=n("5bbb"),we=n("7de2"),_e=n("d276"),ke=n("46f7"),Ee=n("ee6c"),Te=n("b8ff"),Se=n("8120");function Ae(e,t){return De(e)||Ie(e,t)||xe(e,t)||Pe()}function Pe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function xe(e,t){if(e){if("string"===typeof e)return Ne(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ne(e,t):void 0}}function Ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ie(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,c=!1;try{for(n=n.call(e);!(o=(r=n.next()).done);o=!0)if(i.push(r.value),t&&i.length===t)break}catch(u){c=!0,a=u}finally{try{o||null==n["return"]||n["return"]()}finally{if(c)throw a}}return i}}function De(e){if(Array.isArray(e))return e}function Re(e,t,n){var r=n.log,a=n.signer,i=n.address,o=n.network,c=n.getTokenNetworkContract,u=n.config$;return e.pipe(Object(S["a"])(Object(_e["e"])(V["channelClose"].request)),Object(U["a"])(t),Object(N["a"])((function(t){var s=Ae(t,2),l=s[0],p=s[1],f=l.meta,d=f.tokenNetwork,b=f.partner,y=p.channels[Object(Se["b"])(l.meta)];if((null===y||void 0===y?void 0:y.state)!==Te["b"].open&&(null===y||void 0===y?void 0:y.state)!==Te["b"].closing){var h=new Ee["c"](Ee["b"].CNL_NO_OPEN_OR_CLOSING_CHANNEL_FOUND,l.meta);return Object(j["a"])(V["channelClose"].failure(h,l.meta))}var m=y.partner.balanceProof,v=Object(we["b"])(m),g=m.nonce,w=m.additionalHash,_=m.signature,k=Object(je["b"])([Object(ke["a"])(d,20),Object(ke["a"])(o.chainId,32),Object(ke["a"])(we["a"].BALANCE_PROOF,32),Object(ke["a"])(y.id,32),Object(ke["a"])(v,32),Object(ke["a"])(g,32),Object(ke["a"])(w,32),Object(ke["a"])(_,65)]);return Object(O["a"])(a.signMessage(k)).pipe(Object(N["a"])((function(t){return Object(Se["f"])(c(d),"closeChannel",[y.id,b,i,v,g,w,_,t],n,{error:Ee["b"].CNL_CLOSECHANNEL_FAILED}).pipe(Object(ee["j"])(Object(ge["b"])(u),{onErrors:Ee["e"],log:r.info}),Object(M["a"])(e.pipe(Object(S["a"])(V["channelClose"].success.is),Object(S["a"])((function(e){return e.meta.tokenNetwork===d&&e.meta.partner===b})))))})),Object(T["a"])(),Object(L["a"])((function(e){return Object(j["a"])(V["channelClose"].failure(e,l.meta))})))})))}function Ce(e,t,n){var r=n.log,a=n.signer,i=n.address,o=n.network,c=n.getTokenNetworkContract,u=n.config$;return e.pipe(Object(S["a"])(Object(_e["e"])(V["channelClose"].success)),Object(S["a"])((function(e){return!!e.payload.confirmed})),Object(B["a"])((function(){return e.pipe(Object(S["a"])(V["newBlock"].is))})),Object(U["a"])(t),Object(S["a"])((function(e){var t=Ae(e,2),n=t[0],r=t[1],a=r.channels[Object(Se["b"])(n.meta)];return(null===a||void 0===a?void 0:a.state)===Te["b"].closed&&a.id===n.payload.id&&a.partner.balanceProof.transferredAmount.add(a.partner.balanceProof.lockedAmount).gt(l["h"])&&a.closeParticipant!==i})),Object(N["a"])((function(e){var t=Ae(e,2),s=t[0],l=t[1],p=s.meta,f=p.tokenNetwork,d=p.partner,b=l.channels[Object(Se["b"])(s.meta)],y=Object(we["b"])(b.partner.balanceProof),h=b.partner.balanceProof.nonce,m=b.partner.balanceProof.additionalHash,v=b.partner.balanceProof.signature,O=Object(je["b"])([Object(ke["a"])(f,20),Object(ke["a"])(o.chainId,32),Object(ke["a"])(we["a"].BALANCE_PROOF_UPDATE,32),Object(ke["a"])(b.id,32),Object(ke["a"])(y,32),Object(ke["a"])(h,32),Object(ke["a"])(m,32),Object(ke["a"])(v,65)]);return Object(q["a"])((function(){return a.signMessage(O)})).pipe(Object(N["a"])((function(e){return Object(Se["f"])(c(f),"updateNonClosingBalanceProof",[b.id,d,i,y,h,m,v,e],n,{error:Ee["b"].CNL_UPDATE_NONCLOSING_BP_FAILED})})),Object(ee["j"])(Object(ge["b"])(u),{onErrors:Ee["e"],log:r.info}),Object(T["a"])(),Object(L["a"])((function(e){return r.error("Error updating non-closing balance-proof, ignoring",e),K["a"]})))})))}var Me=n("5a9d"),Le=n.n(Me),Ue=n("c32d"),Be=n("1169"),Fe=n("4a12"),We=n("c1c6"),Ve=n("ed34"),$e=n("170a");function He(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function qe(e,t){return Qe(e)||Xe(e,t)||Ge(e,t)||Ke()}function Ke(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ge(e,t){if(e){if("string"===typeof e)return Ye(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ye(e,t):void 0}}function Ye(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Xe(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,c=!1;try{for(n=n.call(e);!(o=(r=n.next()).done);o=!0)if(i.push(r.value),t&&i.length===t)break}catch(u){c=!0,a=u}finally{try{o||null==n["return"]||n["return"]()}finally{if(c)throw a}}return i}}function Qe(e){if(Array.isArray(e))return e}function Ze(e,t,n){var r=e.meta,a=n.latest$;return a.pipe(Object(P["a"])("state","channels",Object(Se["b"])(r)),Object(S["a"])(te["p"]),Object(Be["a"])(t.pipe(Object(S["a"])(V["channelOpen"].failure.is),Object(S["a"])((function(e){return y()(e.meta,r)})),Object(_["a"])((function(){throw new Ee["c"](Ee["b"].CNL_NO_OPEN_CHANNEL_FOUND,r)})))))}function Je(e,t){var n,r,a=e.payload;if(t)if("totalDeposit"in a){var i=[a.totalDeposit.sub(t.own.deposit),a.totalDeposit];n=i[0],r=i[1]}else{var o=[a.deposit,t.own.deposit.add(a.deposit)];n=o[0],r=o[1]}else{var c="totalDeposit"in a?[a.totalDeposit,a.totalDeposit]:[a.deposit,a.deposit],u=qe(c,2);n=u[0],r=u[1]}return Object(Ee["d"])(n.gt(0),Ee["b"].DTA_INVALID_DEPOSIT),[n,r]}function ze(e,t,n,r){var a=qe(n,2),i=a[0],o=a[1],c=r.address,u=r.log,s=r.getTokenContract,l=r.getTokenNetworkContract,p=r.config$,f=r.latest$,d=e.meta,b=d.tokenNetwork,y=d.partner;return f.pipe(Object(F["a"])(),Object(N["a"])((function(e){var t=e.state,n=Le()(t.tokens,(function(e){return e===b}));return Object(Se["d"])(s(n),b,i,r)})),Object(Fe["a"])(t),Object(N["a"])((function(e){return Object(Se["f"])(l(b),"setTotalDeposit",[e,c,o,y],r,{error:Ee["b"].CNL_SETTOTALDEPOSIT_FAILED})})),Object(ee["j"])(Object(ge["b"])(p),{onErrors:Ee["e"],log:u.info}))}function et(e,t,n){return He(t),e.pipe(Object(S["a"])(V["channelDeposit"].request.is),Object(U["a"])(n.config$),Object(We["a"])((function(e){var t=qe(e,2),n=t[0].meta,r=t[1].minimumAllowance;return r.eq(l["b"])?Object(Se["b"])(n):n.tokenNetwork})),Object(N["a"])((function(t){return t.pipe(Object(P["a"])(0),Object(J["a"])((function(t){return n.latest$.pipe(Object(F["a"])(),Object(N["a"])((function(r){var a=r.state,i=a.channels[Object(Se["b"])(t.meta)];Object(Ee["d"])(!i&&t.payload.waitOpen||(null===i||void 0===i?void 0:i.state)===Te["b"].open,[Ee["b"].CNL_NO_OPEN_CHANNEL_FOUND,{state:null===i||void 0===i?void 0:i.state,id:null===i||void 0===i?void 0:i.id}]);var o=Ze(t,e,n),c=Je(t,i),u=qe(c,2),s=u[0],l=u[1];return o.pipe(Object(Ve["a"])((function(r){return ze(t,r.pipe(Object(P["a"])("id"),Object(x["a"])(1)),[s,l],n).pipe(Object($e["a"])(e.pipe(Object(S["a"])(Object(_e["f"])(V["channelDeposit"],t.meta)),Object(F["a"])((function(e){return!V["channelDeposit"].success.is(e)||e.payload.totalDeposit.gte(l)})))),Object(M["a"])(r.pipe(Object(S["a"])((function(e){return e.own.deposit.gte(l)})))))}),{connector:function(){return new Ue["a"](1)}}),Object(T["a"])())})),Object(L["a"])((function(e){return Object(j["a"])(V["channelDeposit"].failure(e,t.meta))})))})))})),Object(ee["b"])(e))}var tt=n("f9e5"),nt=n("c62b"),rt=n("30c0"),at=n("605b"),it=n.n(at),ot=n("02ce"),ct=n.n(ot),ut=n("277b"),st=n("d5a4"),lt=n("12d1"),pt=n("2b5b"),ft=n("de7d");function dt(e){return ht(e)||yt(e)||Et(e)||bt()}function bt(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function yt(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function ht(e){if(Array.isArray(e))return Tt(e)}function mt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mt(Object(n),!0).forEach((function(t){Ot(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ot(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jt(e,t,n,r,a,i,o){try{var c=e[i](o),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function gt(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){jt(i,r,a,o,c,"next",e)}function c(e){jt(i,r,a,o,c,"throw",e)}o(void 0)}))}}function wt(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function _t(e,t){return At(e)||St(e,t)||Et(e,t)||kt()}function kt(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Et(e,t){if(e){if("string"===typeof e)return Tt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Tt(e,t):void 0}}function Tt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function St(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,c=!1;try{for(n=n.call(e);!(o=(r=n.next()).done);o=!0)if(i.push(r.value),t&&i.length===t)break}catch(u){c=!0,a=u}finally{try{o||null==n["return"]||n["return"]()}finally{if(c)throw a}}return i}}function At(e){if(Array.isArray(e))return e}var Pt=ft["g"].createInterface();function xt(e){var t=e.address,n=e.provider,r=e.registryContract,a=e.contractsInfo,i=tt["b"].encode(["address"],[t]);return Object(z["c"])(n,Object.assign(r.filters.TokenNetworkCreated(null,null),{fromBlock:a.TokenNetworkRegistry.block_number,toBlock:n.blockNumber})).pipe(Object(_["a"])(Object(z["e"])(r)),Object(S["a"])((function(e){var t=_t(e,2),n=t[1];return!!n})),Object(st["a"])(),Object(N["a"])((function(e){var t=Object(O["a"])(e.splice(0,2).map((function(e){var t=_t(e,3),n=t[0],r=t[1],a=t[2];return Object(V["tokenMonitored"])({token:n,tokenNetwork:r,fromBlock:a.blockNumber})}))),r=K["a"];if(e.length){var a=e[0][2].blockNumber,o=new Map(e.map((function(e){var t=_t(e,3),n=t[0],r=t[1],a=t[2];return[r,[n,a]]}))),c=Array.from(o.keys());r=Object(m["a"])(Object(z["c"])(n,{address:c,topics:[Rt.openTopic,null,i],fromBlock:a,toBlock:n.blockNumber}),Object(z["c"])(n,{address:c,topics:[Rt.openTopic,null,null,i],fromBlock:a,toBlock:n.blockNumber})).pipe(Object(lt["a"])((function(e){return e.address})),Object(S["a"])((function(e){return o.has(e.address)})),Object(_["a"])((function(e){return Object(V["tokenMonitored"])({token:o.get(e.address)[0],tokenNetwork:e.address,fromBlock:e.blockNumber})})))}return Object(m["a"])(t,r)})))}function Nt(e,t,n){return e.pipe(Object(S["a"])(V["newBlock"].is),Object(x["a"])(1),Object(U["a"])(t),Object(N["a"])((function(e){var t,r=_t(e,2),a=r[1],i=new ut["a"];return n.init$.next(i),t=it()(a.tokens)?xt(n):Object(O["a"])(Object.entries(a.tokens).map((function(e){var t=_t(e,2),n=t[0],r=t[1];return Object(V["tokenMonitored"])({token:n,tokenNetwork:r})}))),t.pipe(Object(D["a"])((function(){return i.complete()})))})))}function It(e,t,n){var r;wt(t);var a,i=n.address,o=n.main,c=n.network,u=n.provider,l=null!==(r=null===o||void 0===o?void 0:o.address)&&void 0!==r?r:i;return Object(g["a"])(0,u.pollingInterval).pipe(Object(ee["b"])(e),Object(X["a"])(gt(s.a.mark((function e(){var t,n,r,i;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([!1===a?Promise.resolve(null):u.listAccounts(),u.getNetwork()]);case 3:if(t=e.sent,n=_t(t,2),r=n[0],i=n[1],Object(Ee["d"])(i.chainId===c.chainId,"network changed"),void 0===a&&(a=null===r||void 0===r?void 0:r.includes(l)),!a||!r||r.includes(l)){e.next=11;break}return e.abrupt("return",Object(W["e"])({reason:pt["g"].ACCOUNT_CHANGED}));case 11:e.next=20;break;case 13:if(e.prev=13,e.t0=e["catch"](0),!Ee["a"].is(e.t0)||!e.t0.message.includes("network changed")){e.next=17;break}return e.abrupt("return",Object(W["e"])({reason:pt["g"].NETWORK_CHANGED}));case 17:if(!Object(Ee["g"])(Ee["h"],e.t0)){e.next=19;break}return e.abrupt("return");case 19:throw e.t0;case 20:case"end":return e.stop()}}),e,null,[[0,13]])})))),Object(S["a"])(te["p"]))}var Dt=nt["c"].fromString("ChannelSettled(uint256 indexed,uint256,bytes32,uint256,bytes32)"),Rt={openTopic:Pt.getEventTopic("ChannelOpened"),depositTopic:Pt.getEventTopic("ChannelNewDeposit"),withdrawTopic:Pt.getEventTopic("ChannelWithdraw"),closedTopic:Pt.getEventTopic("ChannelClosed"),settledTopic:Pt.getEventTopic("ChannelSettled"),oldSettledTopic:Pt.getEventTopic(Dt)};function Ct(e){if(e.topics[0]===Rt.oldSettledTopic){var t=Pt.decodeEventLog(Dt,e.data,e.topics);e=vt(vt({},e),Pt.encodeEventLog(Pt.getEvent("ChannelSettled"),[t[0],rt["a"],t[1],t[2],rt["a"],t[3],t[4]]))}return e}function Mt(e,t){var n=_t(e,2),r=n[0],a=n[1],i=t.address,o=t.latest$,c=Rt.openTopic,u=Rt.depositTopic,s=Rt.withdrawTopic,l=Rt.closedTopic,p=Rt.settledTopic;return function(e){return e.pipe(Object(U["a"])(o),Object(_["a"])((function(e){var t,n,o=_t(e,2),f=o[0],d=o[1],b=d.state,y=d.config,h=f[0].toNumber(),m=Object.values(b.channels).find((function(e){return e.tokenNetwork===a&&e.id===h})),v=Object(te["q"])(f),O=null===(t=v.topics)||void 0===t?void 0:t[0],j=v.transactionHash,g=v.blockNumber,w=g+y.confirmationBlocks<=b.blockNumber||void 0;switch(O){case c:var _=_t(f,4),k=_[1],E=_[2],T=_[3];if((i===k||i===E)&&(!m||h>m.id)){var S=i==k?E:k;n=V["channelOpen"].success({id:h,token:r,settleTimeout:T.toNumber(),isFirstParticipant:i===k,txHash:j,txBlock:g,confirmed:w},{tokenNetwork:a,partner:S})}break;case u:var A=_t(f,3),P=A[1],x=A[2];(null===m||void 0===m?void 0:m.id)===h&&x.gt(m[P===m.partner.address?"partner":"own"].deposit)&&(n=V["channelDeposit"].success({id:h,participant:P,totalDeposit:x,txHash:j,txBlock:g,confirmed:w},{tokenNetwork:a,partner:m.partner.address}));break;case s:var N=_t(f,3),I=N[1],D=N[2];(null===m||void 0===m?void 0:m.id)===h&&D.gt(m[I===m.partner.address?"partner":"own"].withdraw)&&(n=Object(V["channelWithdrawn"])({id:h,participant:I,totalWithdraw:D,txHash:j,txBlock:g,confirmed:w},{tokenNetwork:a,partner:m.partner.address}));break;case l:if((null===m||void 0===m?void 0:m.id)===h&&!("closeBlock"in m)){var R=_t(f,2),C=R[1];n=V["channelClose"].success({id:h,participant:C,txHash:j,txBlock:g,confirmed:w},{tokenNetwork:a,partner:m.partner.address})}break;case p:(null===m||void 0===m?void 0:m.id)===h&&(n=V["channelSettle"].success({id:h,txHash:j,txBlock:g,confirmed:w,locks:m.partner.locks},{tokenNetwork:a,partner:m.partner.address}));break}return n})),Object(S["a"])(te["p"]))}}function Lt(e,t,n){var r=_t(e,2),a=r[0],i=r[1],o=_t(t,2),c=o[0],u=o[1],s=n.address,l=n.provider,p=n.latest$,f=n.getTokenNetworkContract,d=f(u);return Object(m["a"])(Object(z["c"])(l,Object.assign(d.filters.ChannelOpened(null,s,null,null),{fromBlock:a,toBlock:i})),Object(z["c"])(l,Object.assign(d.filters.ChannelOpened(null,null,s,null),{fromBlock:a,toBlock:i}))).pipe(Object(_["a"])(Object(z["e"])(d)),Object(st["a"])(),Object(U["a"])(p),Object(N["a"])((function(e){var t=_t(e,2),n=t[0],r=t[1].state,o=n.filter((function(e){var t=_t(e,3),n=t[0],a=t[1],i=t[2],o=s===a?i:a,c=n.toNumber(),l=Object(Se["b"])({tokenNetwork:u,partner:o}),p=r.channels[l];return!(Object(Se["c"])({id:c,tokenNetwork:u,partner:o})in r.oldChannels||p&&c<p.id)})),c=[].concat(dt(o),dt(Object.values(r.channels).filter((function(e){return e.tokenNetwork===u})).map((function(e){return[e.id]})))).map((function(e){var t=_t(e,1),n=t[0];return tt["b"].encode(["uint256"],[n])}));if(0===c.length)return K["a"];var p={address:u,topics:[Object.values(Rt).filter((function(e){return e!==Rt.openTopic})),c]};return Object(z["c"])(l,Object.assign(p,{fromBlock:a,toBlock:i})).pipe(Object(_["a"])(Ct),Object(_["a"])(Object(z["e"])(d)),Object(st["a"])(),Object(N["a"])((function(e){var t=[].concat(dt(o),dt(e));return Object(O["a"])(ct()(t,[function(e){return Object(te["q"])(e).blockNumber},function(e){return Object(te["q"])(e).transactionIndex}]))})))})),Mt([c,u],n))}function Ut(e,t,n){var r=_t(t,2),a=r[0],i=r[1],o=n.provider,c=n.getTokenNetworkContract,u=n.config$,s=n.latest$,l=c(i),p=s.pipe(Object(ee["g"])("state","blockNumber")),f={address:i,topics:[Object.values(Rt)]};return Object(z["b"])(o,f,{fromBlock:e,blockNumber$:p,confirmations:u.pipe(Object(P["a"])("confirmationBlocks"))}).pipe(Object(_["a"])(Ct),Object(_["a"])(Object(z["e"])(l)),Mt([a,i],n))}function Bt(e,t,n){wt(t);var r=n.provider._lastBlockNumber;return e.pipe(Object(S["a"])(V["newBlock"].is),Object(P["a"])("payload","blockNumber"),Object(Ve["a"])((function(t){return e.pipe(Object(S["a"])(V["tokenMonitored"].is),Object(lt["a"])((function(e){return e.payload.tokenNetwork})),Object(U["a"])(n.config$),Object(N["a"])((function(e){var a,i=_t(e,2),o=i[0],c=i[1].confirmationBlocks,u=o.payload,s=u.token,l=u.tokenNetwork,p=null!==(a=o.payload.fromBlock)&&void 0!==a?a:r-c,f=new ut["a"];return n.init$.next(f),t.pipe(Object(F["a"])(),Object(N["a"])((function(e){return Object(m["a"])(Lt([p,e],[s,l],n).pipe(Object(D["a"])((function(){f.next(!0),f.complete()}))),Ut(e+1,[s,l],n).pipe(Object(B["a"])((function(){return f}))))})))})))}),{connector:function(){return new Ue["a"](1)}}),Object(ee["b"])(e))}function Ft(e,t){return wt(e),t.pipe(Object(Se["e"])(),Object(N["a"])((function(e){return e.pipe(Object(F["a"])(),Object(_["a"])((function(e){return Object(V["channelMonitored"])({id:e.id},{tokenNetwork:e.tokenNetwork,partner:e.partner.address})})))})))}function Wt(e,t){return Kt(e)||qt(e,t)||$t(e,t)||Vt()}function Vt(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function $t(e,t){if(e){if("string"===typeof e)return Ht(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ht(e,t):void 0}}function Ht(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qt(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,c=!1;try{for(n=n.call(e);!(o=(r=n.next()).done);o=!0)if(i.push(r.value),t&&i.length===t)break}catch(u){c=!0,a=u}finally{try{o||null==n["return"]||n["return"]()}finally{if(c)throw a}}return i}}function Kt(e){if(Array.isArray(e))return e}function Gt(e,t,n){var r=n.address,a=n.getTokenNetworkContract,i=n.log,o=n.config$,c=a(t.meta.tokenNetwork);return Object(z["a"])(c,"openChannelWithDeposit").pipe(Object(L["a"])(H()(Object(j["a"])(!1))),Object(U["a"])(o),Object(N["a"])((function(a){var u,s,l,p=Wt(a,2),f=p[0],d=p[1].settleTimeout,b=null!==(u=t.payload.settleTimeout)&&void 0!==u?u:d;return l=null!==(s=t.payload.deposit)&&void 0!==s&&s.gt(0)&&f?Object(Se["f"])(c,"openChannelWithDeposit",[r,t.meta.partner,b,t.payload.deposit],n,{subkey:null,error:Ee["b"].CNL_OPENCHANNEL_FAILED}):Object(Se["f"])(c,"openChannel",[r,t.meta.partner,b],n,{subkey:null,error:Ee["b"].CNL_OPENCHANNEL_FAILED}),l.pipe(Object(ee["j"])(Object(ge["b"])(o),{onErrors:Ee["e"],log:i.info}),Object(M["a"])(e.pipe(Object(S["a"])(V["channelOpen"].success.is),Object(S["a"])((function(e){return y()(e.meta,t.meta)})))),Object($e["a"])(e.pipe(Object(F["a"])(Object(_e["f"])(V["channelOpen"],t.meta)))),Object(T["a"])(),Object(L["a"])((function(e){return Object(j["a"])(V["channelOpen"].failure(e,t.meta))})))})))}function Yt(e,t,n){return e.pipe(Object(S["a"])(V["channelOpen"].request.is),Object(U["a"])(n.config$),Object(We["a"])((function(e){var t=Wt(e,2),n=t[0].meta,r=t[1].minimumAllowance;return r.eq(l["b"])?Object(Se["b"])(n):n.tokenNetwork})),Object(N["a"])((function(r){return r.pipe(Object(P["a"])(0),Object(U["a"])(t),Object(N["a"])((function(t){var r,a,i=Wt(t,2),o=i[0],c=i[1],u=null===(r=c.channels[Object(Se["b"])(o.meta)])||void 0===r?void 0:r.state;if(u)return Object(j["a"])(V["channelOpen"].failure(new Ee["c"](Ee["b"].CNL_INVALID_STATE,{state:u}),o.meta));var s=K["a"];return null!==(a=o.payload.deposit)&&void 0!==a&&a.gt(0)&&(s=Object(j["a"])(V["channelDeposit"].request({totalDeposit:o.payload.deposit,waitOpen:!0},o.meta))),Object(m["a"])(s,Gt(e,o,n))})))})))}var Xt=n("81ce"),Qt=n("438d"),Zt=n("1a78"),Jt=n("59ec"),zt=n("0862");function en(e){return rn(e)||nn(e)||cn(e)||tn()}function tn(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function nn(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function rn(e){if(Array.isArray(e))return un(e)}function an(e,t){return ln(e)||sn(e,t)||cn(e,t)||on()}function on(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function cn(e,t){if(e){if("string"===typeof e)return un(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?un(e,t):void 0}}function un(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function sn(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,c=!1;try{for(n=n.call(e);!(o=(r=n.next()).done);o=!0)if(i.push(r.value),t&&i.length===t)break}catch(u){c=!0,a=u}finally{try{o||null==n["return"]||n["return"]()}finally{if(c)throw a}}return i}}function ln(e){if(Array.isArray(e))return e}function pn(e,t){return e.pipe(Object(S["a"])(V["newBlock"].is),Object(P["a"])("payload","blockNumber"),Object(U["a"])(t),Object(N["a"])(s.a.mark((function e(t){var n,r,a,i,o,c;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=an(t,2),r=n[0],a=n[1],i=0,o=Object.values(a.channels);case 2:if(!(i<o.length)){e.next=10;break}if(c=o[i],!(c.state===Te["b"].closed&&r>=c.closeBlock+c.settleTimeout)){e.next=7;break}return e.next=7,Object(V["channelSettleable"])({settleableBlock:r},{tokenNetwork:c.tokenNetwork,partner:c.partner.address});case 7:i++,e.next=2;break;case 10:case"end":return e.stop()}}),e)}))))}function fn(e,t,n){var r=n.address,a=n.config$;return t.pipe(Object(Xt["a"])("blockNumber"),Object(U["a"])(a,e.pipe(Object(zt["c"])())),Object(N["a"])(s.a.mark((function e(t){var n,a,i,o,c,u,l,p,f,d,b,y,h;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=an(t,3),a=n[0],i=a.blockNumber,o=a.channels,c=n[1],u=c.confirmationBlocks,l=c.revealTimeout,p=n[2],f=0,d=Object.values(o);case 2:if(!(f<d.length)){e.next=16;break}if(b=d[f],b.state===Te["b"].settleable){e.next=6;break}return e.abrupt("continue",13);case 6:if(y=Object(zt["f"])(p[b.partner.address]),h=void 0,h=y&&b.closeParticipant===r?u:l,!(i<b.closeBlock+b.settleTimeout+h)){e.next=11;break}return e.abrupt("continue",13);case 11:return e.next=13,V["channelSettle"].request(void 0,{tokenNetwork:b.tokenNetwork,partner:b.partner.address});case 13:f++,e.next=2;break;case 16:case"end":return e.stop()}}),e)}))),Object(X["a"])((function(t){return Object(Qt["a"])(e,t,Object(_e["g"])(V["channelSettle"],t.meta))})),Object(ee["k"])(a.pipe(Object(P["a"])("autoSettle"),Object(ee["b"])(t))))}function dn(e,t,n){var r=an(e,2),a=r[0],i=r[1],o=n.address,c=n.db,u=n.config$,s=n.log,l=n.getTokenNetworkContract,p=i.meta,f=p.tokenNetwork,d=p.partner,b=l(f);return Object(q["a"])((function(){return Promise.all([b.callStatic.getChannelParticipantInfo(t.id,o,d),b.callStatic.getChannelParticipantInfo(t.id,d,o)])})).pipe(Object(ee["j"])(Object(ge["b"])(u),{onErrors:Ee["h"]}),Object(N["a"])((function(e){var r,i,l=an(e,2),p=l[0][3],y=l[1][3];return r=p===Object(we["b"])(t.own.balanceProof)?Object(j["a"])(t.own.balanceProof):Object(Jt["c"])(c,t,Zt["a"].SENT,p).pipe(Object(L["a"])((function(){throw new Ee["c"](Ee["b"].CNL_SETTLE_INVALID_BALANCEHASH,{address:o,ownBalanceHash:p})}))),i=y===Object(we["b"])(t.partner.balanceProof)?Object(j["a"])(t.partner.balanceProof):Object(Jt["c"])(c,t,Zt["a"].RECEIVED,y).pipe(Object(L["a"])((function(){throw new Ee["c"](Ee["b"].CNL_SETTLE_INVALID_BALANCEHASH,{address:o,partnerBalanceHash:y})}))),Object(h["a"])([r,i]).pipe(Object(_["a"])((function(e){var t=an(e,2),n=t[0],r=t[1];return r.transferredAmount.add(r.lockedAmount).lt(n.transferredAmount.add(n.lockedAmount))?[[d,r],[o,n]]:[[o,n],[d,r]]})),Object(N["a"])((function(e){var r=an(e,2),a=r[0],i=r[1];return Object(Se["f"])(b,"settleChannel",[t.id,a[0],a[1].transferredAmount,a[1].lockedAmount,a[1].locksroot,i[0],i[1].transferredAmount,i[1].lockedAmount,i[1].locksroot],n,{error:Ee["b"].CNL_SETTLE_FAILED})})),Object(ee["j"])(Object(ge["b"])(u),{maxRetries:3,onErrors:Ee["e"],log:s.info}),Object(M["a"])(a.pipe(Object(S["a"])(V["channelSettle"].success.is),Object(S["a"])((function(e){return e.meta.tokenNetwork===f&&e.meta.partner===d})))))})),Object(T["a"])(),Object(L["a"])((function(e){return Object(j["a"])(V["channelSettle"].failure(e,i.meta))})))}function bn(e){var t=an(e,2),n=t[0],r=t[1];return{participant:n.participant,total_withdraw:n.total_withdraw,expiration_block:n.expiration,participant_signature:n.signature,partner_signature:r.signature}}function yn(e,t,n){var r=an(e,2),a=r[0],i=r[1],o=n.config$,c=n.log,u=n.getTokenNetworkContract,s=i.meta,l=s.tokenNetwork,p=s.partner,f=an(i.payload.coopSettle,2),d=f[0],b=f[1];return Object(Se["f"])(u(l),"cooperativeSettle",[t.id,bn(d),bn(b)],n,{error:Ee["b"].CNL_COOP_SETTLE_FAILED}).pipe(Object(ee["j"])(Object(ge["b"])(o),{maxRetries:3,onErrors:Ee["e"],log:c.info}),Object(M["a"])(a.pipe(Object(S["a"])(V["channelSettle"].success.is),Object(S["a"])((function(e){return e.meta.tokenNetwork===l&&e.meta.partner===p})))),Object(T["a"])(),Object(L["a"])((function(e){return Object(j["a"])(V["channelSettle"].failure(e,i.meta))})))}function hn(e,t,n){return e.pipe(Object(S["a"])(V["channelSettle"].request.is),Object(U["a"])(t),Object(N["a"])((function(t){var r,a=an(t,2),i=a[0],o=a[1],c=o.channels[Object(Se["b"])(i.meta)];return(null===c||void 0===c?void 0:c.state)===Te["b"].settleable||(null===c||void 0===c?void 0:c.state)===Te["b"].settling?dn([e,i],c,n):null===(r=i.payload)||void 0===r||!r.coopSettle||(null===c||void 0===c?void 0:c.state)!==Te["b"].open&&(null===c||void 0===c?void 0:c.state)!==Te["b"].closing?Object(j["a"])(V["channelSettle"].failure(new Ee["c"](Ee["b"].CNL_NO_SETTLEABLE_OR_SETTLING_CHANNEL_FOUND,i.meta),i.meta)):yn([e,i],c,n)})))}function mn(e,t,n){var r=n.log,a=n.address,i=n.getTokenNetworkContract,o=n.config$;return e.pipe(Object(S["a"])(Object(_e["e"])(V["channelSettle"].success)),Object(S["a"])((function(e){var t;return!(!e.payload.confirmed||null===(t=e.payload.locks)||void 0===t||!t.length)})),Object(U["a"])(t),Object(S["a"])((function(e){var t,n=an(e,2),r=n[0],a=n[1];return(null===(t=a.channels[Object(Se["b"])(r.meta)])||void 0===t?void 0:t.id)!==r.payload.id})),Object(N["a"])((function(e){var t=an(e,1),c=t[0],u=c.meta,s=u.tokenNetwork,l=u.partner,p=Object(je["b"])(c.payload.locks.reduce((function(e,t){return[].concat(en(e),[Object(ke["a"])(t.expiration,32),Object(ke["a"])(t.amount,32),t.secrethash])}),[]));return Object(Se["f"])(i(s),"unlock",[c.payload.id,a,l,p],n,{error:Ee["b"].CNL_ONCHAIN_UNLOCK_FAILED}).pipe(Object(ee["j"])(Object(ge["b"])(o),{maxRetries:3,onErrors:Ee["e"],log:r.info}),Object(T["a"])(),Object(L["a"])((function(e){return r.error("Error unlocking pending locks on-chain, ignoring",e),K["a"]})))})))}function vn(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function On(e,t,n){vn(t);var r=n.db;return r.busy$.pipe(Object(T["a"])(),Object(ee["b"])(e))}var jn=n("eed9"),gn=n("c00b"),wn=n("f82a"),_n=n("789d"),kn=n("8173"),En=n("5778"),Tn=n("d011");function Sn(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function An(e,t){return Dn(e)||In(e,t)||xn(e,t)||Pn()}function Pn(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function xn(e,t){if(e){if("string"===typeof e)return Nn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Nn(e,t):void 0}}function Nn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function In(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,c=!1;try{for(n=n.call(e);!(o=(r=n.next()).done);o=!0)if(i.push(r.value),t&&i.length===t)break}catch(u){c=!0,a=u}finally{try{o||null==n["return"]||n["return"]()}finally{if(c)throw a}}return i}}function Dn(e){if(Array.isArray(e))return e}function Rn(e,t,n){var r=n.address,a=n.log,i=n.network,o=n.signer,c=n.contractsInfo,u=n.latest$,s=n.config$,p=Object(Se["a"])(t),f=p.partnerUnlocked;return f.isZero()?K["a"]:Object(h["a"])([u,s]).pipe(Object(S["a"])((function(e){var n,r=An(e,2),a=r[0].udcDeposit,i=r[1],o=i.monitoringReward,c=i.rateToSvt;return!(null===o||void 0===o||!o.gt(l["h"]))&&a.balance.gte(o)&&f.mul(null!==(n=c[t.token])&&void 0!==n?n:l["b"]).div(l["g"]).gt(o)})),Object(x["a"])(1),Object(ee["b"])(e,10),Object(N["a"])((function(e){var n=An(e,2),u=n[1].monitoringReward,s=t.partner.balanceProof,l=Object(we["b"])(s),p=Object(je["b"])([Object(ke["a"])(t.tokenNetwork,20),Object(ke["a"])(i.chainId,32),Object(ke["a"])(we["a"].BALANCE_PROOF_UPDATE,32),Object(ke["a"])(t.id,32),Object(ke["a"])(l,32),Object(ke["a"])(s.nonce,32),Object(ke["a"])(s.additionalHash,32),Object(ke["a"])(s.signature,65)]),f=Object(Jt["g"])().toString();return Object(O["a"])(o.signMessage(p)).pipe(Object(N["a"])((function(e){return Object(we["g"])(o,{type:En["d"].MONITOR_REQUEST,balance_proof:{chain_id:s.chainId,token_network_address:s.tokenNetworkAddress,channel_identifier:gn["a"].from(t.id),nonce:s.nonce,balance_hash:l,additional_hash:s.additionalHash,signature:s.signature},non_closing_participant:r,non_closing_signature:e,monitoring_service_contract_address:c.MonitoringService.address,reward_amount:u},{log:a})})),Object(_["a"])((function(e){return kn["messageServiceSend"].request({message:e},{service:Tn["n"].MS,msgId:f})})))})),Object(ee["a"])({log:a.warn},"Error trying to generate & sign MonitorRequest"))}function Cn(e,t,n){return Sn(e),t.pipe(Object(Se["e"])(),Object(U["a"])(n.config$),Object(N["a"])((function(e){var r=An(e,2),a=r[0],i=r[1].httpTimeout;return a.pipe(Object(k["a"])((function(e,t){return t.partner.balanceProof.transferredAmount.eq(e.partner.balanceProof.transferredAmount)&&t.partner.balanceProof.lockedAmount.eq(e.partner.balanceProof.lockedAmount)&&t.partner.locks===e.partner.locks})),Object(wn["a"])(),Object(_n["a"])((function(e){var t=An(e,2),n=t[0],r=t[1];return r.partner.locks.length>n.partner.locks.length?Object(g["a"])(i):Object(j["a"])(1)})),Object(Q["a"])((function(e){var r=An(e,2),a=r[1];return Rn(t,a,n)})))})))}function Mn(e,t,n){var r=n.provider,a=n.monitoringServiceContract,i=n.address,o=n.config$,c=n.init$,u=new ut["a"];return c.next(u),Object(z["b"])(r,a.filters.NewBalanceProofReceived(null,null,null,null,null,i),{confirmations:o.pipe(Object(P["a"])("confirmationBlocks")),blockNumber$:e.pipe(Object(S["a"])(V["newBlock"].is),Object(P["a"])("payload","blockNumber")),onPastCompleted:function(){u.next(null),u.complete()}}).pipe(Object(ee["b"])(t),Object(_["a"])(Object(z["e"])(a)),Object(S["a"])((function(e){var t=An(e,6),n=t[5];return n===i})),Object(U["a"])(t,o),Object(_["a"])((function(e){var t=An(e,3),n=An(t[0],7),r=n[0],a=n[1],i=n[2],o=n[3],c=n[4],u=n[6],s=t[1],l=t[2].confirmationBlocks,p=Object.values(s.channels).concat(Object.values(s.oldChannels)).find((function(e){return e.tokenNetwork===r&&a.eq(e.id)})),f=u.blockNumber;if(p&&f)return Object(jn["msBalanceProofSent"])({tokenNetwork:r,partner:p.partner.address,id:p.id,reward:i,nonce:o,monitoringService:c,txHash:u.transactionHash,txBlock:f,confirmed:f+l<=s.blockNumber||void 0})})),Object(S["a"])(te["p"]))}var Ln=n("a033"),Un=n.n(Ln),Bn=n("d890"),Fn=n("699d"),Wn=n("8379"),Vn=n("79b8"),$n=n("3d6c"),Hn=n.n($n),qn=n("7a7d"),Kn=n("b62a"),Gn=n("aece"),Yn=n("358d");function Xn(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=cr(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw i}}}}function Qn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qn(Object(n),!0).forEach((function(t){Jn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Jn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zn(e,t,n,r,a,i,o){try{var c=e[i](o),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function er(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){zn(i,r,a,o,c,"next",e)}function c(e){zn(i,r,a,o,c,"throw",e)}o(void 0)}))}}function tr(e){return ar(e)||rr(e)||cr(e)||nr()}function nr(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function rr(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function ar(e){if(Array.isArray(e))return ur(e)}function ir(e,t){return lr(e)||sr(e,t)||cr(e,t)||or()}function or(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function cr(e,t){if(e){if("string"===typeof e)return ur(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ur(e,t):void 0}}function ur(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function sr(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,c=!1;try{for(n=n.call(e);!(o=(r=n.next()).done);o=!0)if(i.push(r.value),t&&i.length===t)break}catch(u){c=!0,a=u}finally{try{o||null==n["return"]||n["return"]()}finally{if(c)throw a}}return i}}function lr(e){if(Array.isArray(e))return e}function pr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return e.toISOString().substring(0,23)+"000"}function fr(e,t,n){var r=n.address,a=n.signer,i=n.network,o=n.contractsInfo,c=n.latest$,u=n.config$;return Object(q["a"])((function(){var t=pr(),n=Object(je["b"])([r,e.address,Object(Fn["f"])(t)]);return Object(O["a"])(a.signMessage(n)).pipe(Object(_["a"])((function(n){return{sender:r,receiver:e.address,timestamp:t,signature:n}})))})).pipe(Object(U["a"])(u),Object(N["a"])((function(n){var r=ir(n,2),a=r[0],i=r[1].httpTimeout;return Object(Kn["a"])("".concat(e.url,"/api/v1/").concat(t,"/payment/iou?").concat(new URLSearchParams(a).toString()),{method:"GET",headers:{"Content-Type":"application/json"}}).pipe(Object(Gn["a"])(i),Object(ee["j"])(Object(ge["b"])(u),{onErrors:[].concat(tr(Ee["h"]),["TimeoutError"])}))})),Object(U["a"])(c.pipe(Object(P["a"])("state","blockNumber")),u),Object(N["a"])(function(){var t=er(s.a.mark((function t(n){var a,c,u,p,f,d,b,y;return s.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=ir(n,3),c=a[0],u=a[1],p=a[2].pfsIouTimeout,404!==c.status){t.next=3;break}return t.abrupt("return",{sender:r,receiver:e.address,chain_id:gn["a"].from(i.chainId),amount:l["h"],one_to_n_address:o.OneToN.address,expiration_block:gn["a"].from(u).add(p)});case 3:return t.next=5,c.text();case 5:if(f=t.sent,c.ok){t.next=8;break}throw new Ee["c"](Ee["b"].PFS_LAST_IOU_REQUEST_FAILED,{responseStatus:c.status,responseText:f});case 8:if(d=Object(te["n"])(Tn["e"],Object(ke["b"])(f)),b=d.last_iou,y=Object(Wn["b"])(Object(Yn["b"])(b),b.signature),y===r){t.next=12;break}throw new Ee["c"](Ee["b"].PFS_IOU_SIGNATURE_MISMATCH,{signer:y,address:r});case 12:return t.abrupt("return",b);case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))}function dr(e,t,n){return e.price.isZero()?Object(j["a"])(void 0):n.latest$.pipe(Object(F["a"])(),Object(N["a"])((function(r){var a,i=r.state,o=null===(a=i.iou[t])||void 0===a?void 0:a[e.address];return o?Object(j["a"])(o):fr(e,t,n)})),Object(_["a"])((function(t){return Zn(Zn({},t),{},{amount:t.amount.add(e.price)})})),Object(N["a"])((function(e){return Object(Yn["f"])(n.signer,e)})))}function br(e,t){var n=e.partner.address;if(e.state!==Te["b"].open)return'path: channel with "'.concat(n,'" in state "').concat(e.state,'" instead of "').concat(Te["b"].open,'"');var r=Object(Se["a"])(e),a=r.ownCapacity;return!a.lt(t)||'path: channel with "'.concat(n,"\" doesn't have enough capacity=").concat(a.toString())}function yr(e,t,n,r){return e?!1===(null===t||void 0===t?void 0:t.payload.available)?"path: partner not available in transport":n||Object(zt["b"])(null===t||void 0===t?void 0:t.payload.caps,pt["a"].MEDIATE)?br(e,r):"path: partner doesn't mediate transfers":"path: there's no direct channel with partner"}function hr(e,t,n){var r=e.meta,a=r.tokenNetwork,i=r.target,o=r.value;Object(Ee["d"])(Object.values(t.tokens).includes(a),[Ee["b"].PFS_UNKNOWN_TOKEN_NETWORK,{tokenNetwork:a}]),Object(Ee["d"])(n.payload.available,[Ee["b"].PFS_TARGET_OFFLINE,{target:i}]),Object(Ee["d"])(Object(zt["b"])(n.payload.caps,pt["a"].RECEIVE),[Ee["b"].PFS_TARGET_NO_RECEIVE,{target:i}]),Object(Ee["d"])(Object.values(t.channels).some((function(e){return!0===br(e,o)})),Ee["b"].PFS_NO_ROUTES_BETWEEN_NODES)}function mr(e,t){var n=null===e.payload.pfs,r=!e.payload.pfs&&t.pfsMode===Tn["j"].disabled;return n||r}function vr(e,t){return t.config$.pipe(Object(F["a"])(),Object(ee["m"])((function(n){return jr(e.payload.pfs,n,t)})),Object(ee["m"])((function(n){var r=ir(n,2),a=r[1];return dr(a,e.meta.tokenNetwork,t)})),Object(ee["m"])((function(n){var r=ir(n,2),a=ir(r[0],2),i=a[0],o=a[1],c=r[1];return gr(o,c,e.meta,{address:t.address,config:i})})),Object(_["a"])((function(t){var n=ir(t,2),r=ir(n[0],2),a=ir(r[0],1),i=a[0],o=r[1],c=n[1],u=c.response,s=c.text,l=Object(ke["b"])(s);if(!u.ok){var p=Object(te["n"])(Tn["i"],l);return{iou:o,error:p}}return{iou:o,paths:kr(l,e.meta.value,i)}})))}function Or(e,t,n){var r,a,i=ir(e,2),o=i[0],c=i[1],u=n.address,s=n.log,l=new Set,p=o.meta,f=p.tokenNetwork,d=p.value,b=p.target;return Object(O["a"])(c).pipe(Object(J["a"])((function(e){var n;return Object(q["a"])((function(){if(Object(Ee["d"])(e.path.length>=2&&e.path[0]===u,"we are not the first address in path"),n=e.path[1],Object(Ee["d"])(!l.has(n),"already invalidated recipient"),r)Object(Ee["d"])(r.path[1]===n,"already selected another recipient"),Object(Ee["d"])(r.fee.gte(e.fee),"already selected a smaller fee");else{var a=t.channels[Object(Se["b"])({tokenNetwork:f,partner:n})],i=Object(Jt["l"])(e.address_metadata,n),o=yr(a,i,b===n,d);if(!0!==o)throw new Ee["c"](o,{partnerPresence:i,channel:a});for(var c=0,s=Object.entries(e.path.slice(2,-1));c<s.length;c++){var p=ir(s[c],2),y=p[0],h=p[1],m=Object(Jt["l"])(e.address_metadata,h);Object(Ee["d"])(Object(zt["b"])(null===m||void 0===m?void 0:m.payload.caps,pt["a"].MEDIATE),["path: hop doesn't mediate transfers",{hopIndex:y+2,hop:h,hopPresence:m}])}}return Object(j["a"])(e)})).pipe(Object(E["a"])((function(e){var t;return null!==(t=r)&&void 0!==t?t:r=e})),Object(L["a"])((function(t){var r;return null!==(r=a)&&void 0!==r||(a=t),s.warn("Invalidated received route",{error:t,path:e}),n&&l.add(n),K["a"]})))})),Object(st["a"])(),Object(_["a"])((function(e){var t;if(!e.length)throw null!==(t=a)&&void 0!==t?t:new Ee["c"](Ee["b"].PFS_NO_ROUTES_FOUND);return e})))}function jr(e,t,n){var r=n.log,a=n.latest$,i=n.init$,o=K["a"];return o=e?Object(j["a"])(e):t.pfsMode===Tn["j"].onlyAdditional?Object(q["a"])(er(s.a.mark((function e(){var r,a,i,o,c;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=Xn(t.additionalServices),e.prev=1,a.s();case 3:if((i=a.n()).done){e.next=16;break}return o=i.value,e.prev=5,e.next=8,Object(Yn["c"])(o,n);case 8:return e.abrupt("return",e.sent);case 11:e.prev=11,e.t0=e["catch"](5),null!==(c=r)&&void 0!==c||(r=e.t0);case 14:e.next=3;break;case 16:e.next=21;break;case 18:e.prev=18,e.t1=e["catch"](1),a.e(e.t1);case 21:return e.prev=21,a.f(),e.finish(21);case 24:throw r;case 25:case"end":return e.stop()}}),e,null,[[1,18,21,24],[5,11]])})))):i.pipe(Object(ee["e"])((function(){return a.pipe(Object(F["a"])(),Object(P["a"])("state","services"))})),Object(N["a"])((function(e){return Object(Yn["e"])(t.additionalServices.concat(Object.keys(e)),n).pipe(Object(_["a"])((function(n){return r.info("Auto-selecting best PFS from:",n),Object(Ee["d"])(n.length,[Ee["b"].PFS_INVALID_INFO,{services:Object.keys(e).join(","),additionalServices:t.additionalServices.join(",")}]),n[0]})))}))),o.pipe(Object(E["a"])((function(e){e.validTill<Date.now()&&r.warn("WARNING: PFS registration not valid! This service deposit may have expired and it may not receive network updates anymore.",e)})))}function gr(e,t,n,r){var a=n.tokenNetwork,i=n.target,o=n.value,c=r.address,u=r.config,l=u.httpTimeout,p=u.pfsMaxPaths,f=Object(ke["c"])({from:c,to:i,value:Object(te["l"])(32).encode(o),max_paths:p,iou:t?Zn(Zn({},t),{},{amount:Object(te["l"])(32).encode(t.amount),expiration_block:Object(te["l"])(32).encode(t.expiration_block),chain_id:Object(te["l"])(32).encode(t.chain_id)}):void 0});return Object(Kn["a"])("".concat(e.url,"/api/v1/").concat(a,"/paths"),{method:"POST",headers:{"Content-Type":"application/json"},body:f}).pipe(Object(Gn["a"])(l),Object(ee["j"])(Object(ge["b"])(Object(j["a"])(u)),{onErrors:[].concat(tr(Ee["h"]),["TimeoutError"])}),Object(N["a"])(function(){var e=er(s.a.mark((function e(t){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=t,e.next=3,t.text();case 3:return e.t1=e.sent,e.abrupt("return",{response:e.t0,text:e.t1});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}function wr(e,t,n){var r=n.pfsSafetyMargin,a=0,i=0;"number"===typeof r?a=r-1:(a=r[0],i=r[1]);var o=new Vn["Decimal"](e.toHexString()).abs().mul(a).add(new Vn["Decimal"](t.toHexString()).mul(i));return Object(te["n"])(Tn["b"],e.add(o.toFixed(0,Vn["Decimal"].ROUND_CEIL)))}function _r(e,t,n){return e.map((function(e){var r="path"in e?e.path:e.route,a=Hn()(e,["path","route"]),i="fee"in e?e.fee:e.estimated_fee.isZero()?e.estimated_fee:wr(e.estimated_fee,t,n),o=Hn()(a,["fee","estimated_fee"]);return Zn({path:r,fee:i},o)}))}function kr(e,t,n){return _r(Object(te["n"])(Tn["l"],e).result,t,n).slice(0,n.pfsMaxPaths)}function Er(e){return"paths"in e||Tr(e.error)}function Tr(e){return 2201===(null===e||void 0===e?void 0:e.error_code)}function Sr(e,t,n,r){var a=n.state,i=n.config;hr(e,a,r);var o=e.meta,c=o.tokenNetwork,u=o.target,s=o.value;if(e.payload.paths)return Object(j["a"])({paths:_r(e.payload.paths,s,i),iou:void 0});if(!0===yr(a.channels[Object(Se["b"])({tokenNetwork:c,partner:u})],r,!0,s)){var p,f={};if(a.transport.setup)f[t.address]={user_id:a.transport.setup.userId,displayname:a.transport.setup.displayName,capabilities:Object(zt["g"])(null!==(p=i.caps)&&void 0!==p?p:{})};return Object(j["a"])({paths:[Zn({path:[t.address,u],fee:l["h"]},it()(f)?{}:{address_metadata:f})],iou:void 0})}if(mr(e,i))throw new Ee["c"](Ee["b"].PFS_DISABLED);return vr(e,t)}function Ar(e,t,n){var r,a=ir(e,2),i=a[0],o=a[1],c=i.meta.tokenNetwork,u=o.iou,s=K["a"];if(u&&(s=Object(j["a"])(Er(o)?Object(jn["iouPersist"])({iou:u},{tokenNetwork:c,serviceAddress:u.receiver}):Object(jn["iouClear"])(void 0,{tokenNetwork:c,serviceAddress:u.receiver}))),"error"in o){var l=o.error;r=Object(qn["a"])((function(){return Tr(l)?new Ee["c"](Ee["b"].PFS_NO_ROUTES_BETWEEN_NODES):new Ee["c"](Ee["b"].PFS_ERROR_RESPONSE,{errorCode:l.error_code,errors:l.errors})}))}else r=Or([i,o.paths],t,n).pipe(Object(_["a"])((function(e){return jn["pathFind"].success({paths:e},i.meta)})));return Object(w["a"])(s,r)}function Pr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pr(Object(n),!0).forEach((function(t){Nr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Nr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ir(e,t){return Lr(e)||Mr(e,t)||Rr(e,t)||Dr()}function Dr(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Rr(e,t){if(e){if("string"===typeof e)return Cr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Cr(e,t):void 0}}function Cr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Mr(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,c=!1;try{for(n=n.call(e);!(o=(r=n.next()).done);o=!0)if(i.push(r.value),t&&i.length===t)break}catch(u){c=!0,a=u}finally{try{o||null==n["return"]||n["return"]()}finally{if(c)throw a}}return i}}function Lr(e){if(Array.isArray(e))return e}function Ur(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function Br(e,t,n){return Ur(t),e.pipe(Object(ee["c"])(Bn["matrixPresence"],(function(t){return e.pipe(Object(S["a"])(Object(_e["e"])(jn["pathFind"].request)),Object(J["a"])((function(e){return t(Bn["matrixPresence"].request(void 0,{address:e.meta.target})).pipe(Object(U["a"])(n.latest$),Object(N["a"])((function(t){var r=Ir(t,2),a=r[0],i=r[1];return Sr(e,n,i,a)})),Object(U["a"])(n.latest$),Object(N["a"])((function(t){var r=Ir(t,2),a=r[0],i=r[1].state;return Ar([e,a],i,n)})),Object(L["a"])((function(t){return Object(j["a"])(jn["pathFind"].failure(t,e.meta))})))})))})))}function Fr(e,t,n){Ur(e);var r=n.log,a=n.address,i=n.network,o=n.signer,c=n.config$;return t.pipe(Object(Se["e"])(),Object(N["a"])((function(e){return e.pipe(Object(wn["a"])(),Object(U["a"])(c),Object(S["a"])((function(e){var t=Ir(e,2),n=Ir(t[0],2),r=n[1],a=t[1].pfsMode;return r.state===Te["b"].open&&a!==Tn["j"].disabled})),Object(_n["a"])((function(e){var t=Ir(e,2),n=Ir(t[0],2),r=n[0],a=n[1],i=t[1].httpTimeout;return a.own.locks.length>r.own.locks.length||a.partner.locks.length>r.partner.locks.length?Object(g["a"])(i):Object(j["a"])(1)})),Object(Q["a"])((function(e){var t=Ir(e,2),n=Ir(t[0],2),c=n[1],u=t[1].revealTimeout,s=c.tokenNetwork,l=c.partner.address,p=Object(Se["a"])(c),f=p.ownCapacity,d=p.partnerCapacity,b={type:En["d"].PFS_CAPACITY_UPDATE,canonical_identifier:{chain_identifier:gn["a"].from(i.chainId),token_network_address:s,channel_identifier:gn["a"].from(c.id)},updating_participant:a,other_participant:l,updating_nonce:c.own.balanceProof.nonce,other_nonce:c.partner.balanceProof.nonce,updating_capacity:f,other_capacity:d,reveal_timeout:gn["a"].from(u)},y=Object(Jt["g"])().toString();return Object(q["a"])((function(){return Object(we["g"])(o,b,{log:r})})).pipe(Object(_["a"])((function(e){return kn["messageServiceSend"].request({message:e},{service:Tn["n"].PFS,msgId:y})})),Object(L["a"])((function(e){return r.error("Error trying to generate & sign PFSCapacityUpdate",e),K["a"]})))})))})))}function Wr(e,t,n){Ur(e);var r=n.log,a=n.address,i=n.network,o=n.signer,c=n.config$,u=n.mediationFeeCalculator;return t.pipe(Object(Se["e"])(),Object(N["a"])((function(e){return Object(h["a"])([e,c.pipe(Object(ee["g"])("caps")),c.pipe(Object(ee["g"])("mediationFees"))]).pipe(Object(S["a"])((function(e){var t=Ir(e,2),n=t[1];return!!Object(zt["b"])(n,pt["a"].MEDIATE)})),Object(_["a"])((function(e){var t=Ir(e,3),n=t[0],r=t[2],a=u.schedule(r,n);return[n,a]})),Object(k["a"])((function(e,t){var n=Ir(e,2),r=n[1],a=Ir(t,2),i=a[1];return y()(r,i)})),Object(Q["a"])((function(e){var t=Ir(e,2),n=t[0],c=t[1],u={type:En["d"].PFS_FEE_UPDATE,canonical_identifier:{chain_identifier:gn["a"].from(i.chainId),token_network_address:n.tokenNetwork,channel_identifier:gn["a"].from(n.id)},updating_participant:a,timestamp:pr(),fee_schedule:c},s=Object(Jt["g"])().toString(),l={service:Tn["n"].PFS,msgId:s};return Object(O["a"])(Object(we["g"])(o,u,{log:r})).pipe(Object(_["a"])((function(e){return kn["messageServiceSend"].request({message:e},l)})),Object(L["a"])((function(e){return r.error("Error trying to generate & sign PFSFeeUpdate",e),K["a"]})))})),Object(M["a"])(e.pipe(Object(S["a"])((function(e){return e.state!==Te["b"].open})))))})),Object(ee["b"])(t))}function Vr(e,t,n){var r=n.provider,a=n.serviceRegistryContract,i=n.contractsInfo,o=n.config$,c=n.init$,u=e.pipe(Object(S["a"])(V["newBlock"].is),Object(P["a"])("payload","blockNumber"));return t.pipe(Object(F["a"])(),Object(Q["a"])((function(n){var s=n.services,l=new ut["a"];return c.next(l),Object(z["b"])(r,a.filters.RegisteredService(null,null,null,null),{fromBlock:it()(s)?i.TokenNetworkRegistry.block_number:void 0,confirmations:o.pipe(Object(P["a"])("confirmationBlocks")),blockNumber$:u,onPastCompleted:function(){l.next(null),l.complete()}}).pipe(Object(U["a"])(t,o),Object(S["a"])((function(e){var t=Ir(e,3),n=t[0].blockNumber,r=t[1].blockNumber,a=t[2].confirmationBlocks;return!!n&&n+a<=r})),Object(P["a"])(0),Object(_["a"])(Object(z["e"])(a)),Object(U["a"])(t),Object(_["a"])((function(e){var t=Ir(e,2),n=Ir(t[0],2),r=n[0],a=n[1],i=t[1].services;return xr(xr({},i),{},Nr({},r,1e3*a.toNumber()))})),Object(A["a"])(s),Object(Q["a"])((function(t){return e.pipe(Object(S["a"])(V["newBlock"].is),Object(A["a"])(!0),Object(_["a"])((function(){return Un()(t,(function(e){return Date.now()<e}))})))})))})),Object(k["a"])(y.a),Object(_["a"])((function(e){return Object(jn["servicesValid"])(e)})),Object(ee["b"])(e))}var $r=n("db40"),Hr=n("e1bc"),qr=n("8089");function Kr(e,t,n,r,a,i,o){try{var c=e[i](o),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function Gr(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){Kr(i,r,a,o,c,"next",e)}function c(e){Kr(i,r,a,o,c,"throw",e)}o(void 0)}))}}function Yr(e,t){return zr(e)||Jr(e,t)||Qr(e,t)||Xr()}function Xr(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Qr(e,t){if(e){if("string"===typeof e)return Zr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Zr(e,t):void 0}}function Zr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Jr(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,c=!1;try{for(n=n.call(e);!(o=(r=n.next()).done);o=!0)if(i.push(r.value),t&&i.length===t)break}catch(u){c=!0,a=u}finally{try{o||null==n["return"]||n["return"]()}finally{if(c)throw a}}return i}}function zr(e){if(Array.isArray(e))return e}function ea(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function ta(e,t,n){ea(t);var r=n.address,a=n.latest$,i=n.config$,o=n.userDepositContract;return e.pipe(Object(S["a"])(V["newBlock"].is),Object(P["a"])("payload","blockNumber"),Object(U["a"])(i),Object(X["a"])((function(e){var t=Yr(e,2),n=t[0],a=t[1].confirmationBlocks;return Object(q["a"])(Gr(s.a.mark((function e(){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all([o.callStatic.effectiveBalance(r,{blockTag:n-a}),o.callStatic.total_deposit(r,{blockTag:n-a})]));case 1:case"end":return e.stop()}}),e)})))).pipe(Object(L["a"])(H()(K["a"])))})),Object(U["a"])(a),Object(S["a"])((function(e){var t=Yr(e,2),n=Yr(t[0],1),r=n[0],a=t[1].udcDeposit;return!a.balance.eq(r)})),Object(_["a"])((function(e){var t=Yr(e,1),n=Yr(t[0],2),r=n[0],a=n[1];return jn["udcDeposit"].success({balance:r},{totalDeposit:a})})))}function na(e,t,n){var r,a=Yr(e,2),i=a[0],o=a[1],c=Yr(t,2),u=c[0],s=c[1],l=n.address,p=n.log,f=n.config$,d=n.latest$;return Object(Se["d"])(i,o.address,u,n).pipe(Object(U["a"])(d),Object(N["a"])((function(e){var t=Yr(e,2),a=t[1].udcDeposit;return Object(Ee["d"])(a.totalDeposit.add(u).eq(s),[Ee["b"].UDC_DEPOSIT_OUTDATED,{requested:s,current:a.totalDeposit}]),r=a.balance.add(u),Object(Se["f"])(o,"deposit",[l,s],n,{error:Ee["b"].RDN_DEPOSIT_TRANSACTION_FAILED})})),Object(ee["j"])(Object(ge["b"])(f),{onErrors:Ee["f"],log:p.debug}),Object(_["a"])((function(e){var t=Yr(e,2),n=t[1];return jn["udcDeposit"].success({balance:r,txHash:n.transactionHash,txBlock:n.blockNumber,confirmed:void 0},{totalDeposit:s})})))}function ra(e,t,n){ea(t);var r=n.userDepositContract,a=n.getTokenContract,i=n.config$,o=n.log;return e.pipe(Object(S["a"])(jn["udcDeposit"].request.is),Object(J["a"])((function(e){return Object(q["a"])(Gr(s.a.mark((function e(){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",r.callStatic.token());case 1:case"end":return e.stop()}}),e)})))).pipe(Object(ee["j"])(Object(ge["b"])(i),{onErrors:Ee["h"],log:o.debug}),Object(N["a"])((function(t){return na([a(t),r],[e.payload.deposit,e.meta.totalDeposit],n)})),Object(L["a"])((function(t){return Object(j["a"])(jn["udcDeposit"].failure(t,e.meta))})))})))}function aa(e,t,n){ea(t);var r=n.userDepositContract,a=n.address,i=n.log,o=n.signer,c=n.config$;return e.pipe(Object(S["a"])(jn["udcWithdrawPlan"].request.is),Object(J["a"])((function(t){var u=Object(qr["c"])(r,o),p=t.meta.amount;return Object(q["a"])(Gr(s.a.mark((function e(){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",r.callStatic.balances(a));case 1:case"end":return e.stop()}}),e)})))).pipe(Object(N["a"])((function(e){return Object(Ee["d"])(p.gt(l["h"]),[Ee["b"].UDC_PLAN_WITHDRAW_GT_ZERO,{amount:p.toString()}]),Object(Ee["d"])(p.lte(e),[Ee["b"].UDC_PLAN_WITHDRAW_EXCEEDS_AVAILABLE,{balance:e.toString(),amount:p.toString()}]),Object(Se["f"])(u,"planWithdraw",[p],n,{subkey:!0,error:Ee["b"].UDC_PLAN_WITHDRAW_FAILED})})),Object(ee["j"])(Object(ge["b"])(c),{onErrors:Ee["f"],log:i.info}),Object(ee["m"])((function(){return e.pipe(Object(S["a"])(V["newBlock"].is),Object(A["a"])(0),Object(X["a"])((function(){return Object(q["a"])(Gr(s.a.mark((function e(){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",r.callStatic.withdraw_plans(a));case 1:case"end":return e.stop()}}),e)})))).pipe(Object(ee["a"])({onErrors:Ee["h"],log:i.debug}))})),Object(F["a"])((function(e){var n=e.amount;return n.gte(t.meta.amount)})))})),Object(_["a"])((function(e){var n=Yr(e,2),r=Yr(n[0],2),a=r[0].hash,i=r[1].blockNumber,o=n[1].withdraw_block;return jn["udcWithdrawPlan"].success({block:o.toNumber(),txHash:a,txBlock:i,confirmed:void 0},t.meta)})),Object(L["a"])((function(e){return Object(j["a"])(jn["udcWithdrawPlan"].failure(e,t.meta))})))})))}function ia(e,t,n){ea(t);var r=n.userDepositContract,a=n.address,i=n.config$,o=n.log,c=0;return e.pipe(Object(S["a"])(V["newBlock"].is),Object(P["a"])("payload","blockNumber"),Object(S["a"])((function(e){return e>=c})),Object(X["a"])((function(t){return Object(q["a"])(Gr(s.a.mark((function e(){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",r.withdraw_plans(a));case 1:case"end":return e.stop()}}),e)})))).pipe(Object(N["a"])(s.a.mark((function n(r){var a,i,o,u;return s.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(a=r.amount,i=r.withdraw_block,o={amount:a},!i.isZero()){n.next=5;break}return c=t+pt["i"],n.abrupt("return");case 5:if(u=0===c,!u){n.next=9;break}return n.next=9,Object(j["a"])(jn["udcWithdrawPlan"].success({block:i.toNumber(),confirmed:!0},o));case 9:if(!i.gt(t)){n.next=13;break}c=i.toNumber(),n.next=15;break;case 13:return n.next=15,Object(Qt["a"])(e,jn["udcWithdraw"].request(void 0,o),Object(_e["f"])(jn["udcWithdraw"],o));case 15:case"end":return n.stop()}}),n)}))),Object(Hr["a"])(),Object(ee["a"])({log:o.info}))})),Object(ee["k"])(i.pipe(Object(P["a"])("autoUDCWithdraw"),Object(ee["b"])(e))))}function oa(e,t,n){ea(t);var r=n.log,a=n.userDepositContract,i=n.address,o=n.config$,c=n.main;return e.pipe(Object(S["a"])(jn["udcWithdraw"].request.is),Object(J["a"])((function(t){var u,p;return Object($r["a"])([Object(q["a"])(Gr(s.a.mark((function e(){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",a.callStatic.balances(i));case 1:case"end":return e.stop()}}),e)})))),Object(z["a"])(a,"withdrawToBeneficiary").pipe(Object(L["a"])(H()(Object(j["a"])(!1))))]).pipe(Object(U["a"])(o),Object(N["a"])((function(e){var r,o,s=Yr(e,2),f=Yr(s[0],2),d=f[0],b=f[1],y=s[1].subkey;Object(Ee["d"])(d.gt(l["h"]),[Ee["b"].UDC_WITHDRAW_NO_BALANCE,{balance:d.toString()}]),u=d;var h=b&&c&&!(null!==(r=null===(o=t.payload)||void 0===o?void 0:o.subkey)&&void 0!==r?r:y);return p=h?c.address:i,h?Object(Se["f"])(a,"withdrawToBeneficiary",[t.meta.amount,c.address],n,{subkey:!0,error:Ee["b"].UDC_WITHDRAW_FAILED}):Object(Se["f"])(a,"withdraw",[t.meta.amount],n,{subkey:!0,error:Ee["b"].UDC_WITHDRAW_FAILED})})),Object(ee["j"])(Object(ge["b"])(o),{onErrors:Ee["f"],log:r.info}),Object(N["a"])((function(n){var o=Yr(n,2),c=o[1],l=c.transactionHash,f=c.blockNumber;return e.pipe(Object(S["a"])(V["newBlock"].is),Object(X["a"])((function(){return Object(q["a"])(Gr(s.a.mark((function e(){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",a.callStatic.balances(i));case 1:case"end":return e.stop()}}),e)})))).pipe(Object(ee["a"])({onErrors:Ee["h"],log:r.info}))})),Object(S["a"])((function(e){return e.lt(u)})),Object(x["a"])(1),Object(_["a"])((function(e){return jn["udcWithdraw"].success({withdrawal:u.sub(e),beneficiary:p,txHash:l,txBlock:f,confirmed:void 0},t.meta)})))})),Object(L["a"])((function(e){return Object(j["a"])(jn["udcWithdraw"].failure(e,t.meta))})))})))}var ca=n("83ee");function ua(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function sa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ua(Object(n),!0).forEach((function(t){la(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ua(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function la(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pa(e,t){return ba(e)||da(e,t)||ha(e,t)||fa()}function fa(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function da(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,c=!1;try{for(n=n.call(e);!(o=(r=n.next()).done);o=!0)if(i.push(r.value),t&&i.length===t)break}catch(u){c=!0,a=u}finally{try{o||null==n["return"]||n["return"]()}finally{if(c)throw a}}return i}}function ba(e){if(Array.isArray(e))return e}function ya(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=ha(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw i}}}}function ha(e,t){if(e){if("string"===typeof e)return ma(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ma(e,t):void 0}}function ma(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function va(e,t,n){var r=n.caps,a=Object(zt["b"])(r,pt["a"].MEDIATE),i=e.meta.direction===Zt["a"].RECEIVED&&e.payload.message.target!==t;return!!a&&i}function Oa(e,t,n,r){var a=r.address,i=r.log,o=r.mediationFeeCalculator,c=e.payload.message,u=e.payload.partner,s=c.token_network_address,l=new Set(Object.values(t.channels).filter((function(e){return e.tokenNetwork===s})).filter((function(e){return e.state===Te["b"].open})).map((function(e){var t=e.partner;return t.address}))),p={routes:[]};try{p=Object(te["n"])(En["e"],c.metadata)}catch(_){}var f,d=ya(p.routes);try{for(d.s();!(f=d.n()).done;){var b=f.value,y=b.route,h=b.address_metadata,m=y[y.indexOf(a)+1];if(m&&l.has(m)){var v=t.channels[Object(Se["b"])({tokenNetwork:s,partner:u})],O=t.channels[Object(Se["b"])({tokenNetwork:s,partner:m})],j=void 0;try{j=o.fee(n.mediationFees,v,O)(c.lock.amount)}catch(k){i.warn("Mediation: could not calculate mediation fee, ignoring",{error:k});continue}var g=Object(Jt["l"])(h,m),w=c.metadata;return Object(zt["b"])(null===g||void 0===g?void 0:g.payload.caps,pt["a"].IMMUTABLE_METADATA)||(w=Object(Jt["a"])(a,w)),{resolved:!0,partner:m,fee:j.mul(-1),userId:null===g||void 0===g?void 0:g.payload.userId,metadata:w}}}}catch(E){d.e(E)}finally{d.f()}i.warn("Mediation: could not find a suitable route, ignoring",{inputRoutes:p.routes,openPartners:l})}function ja(e,t,n){var r=n.address,a=n.config$;return e.pipe(Object(S["a"])(ca["transferSigned"].is),Object(U["a"])(a,t),Object(S["a"])((function(e){var t=pa(e,2),n=t[0],a=t[1];return va(n,r,a)})),Object(_["a"])((function(e){var t=pa(e,3),r=t[0],a=t[1],i=t[2],o=r.payload.message,c=r.meta.secrethash,u=Oa(r,i,a,n);if(u)return ca["transfer"].request(sa({tokenNetwork:o.token_network_address,target:o.target,paymentId:o.payment_identifier,value:o.lock.amount,expiration:o.lock.expiration.toNumber(),initiator:o.initiator},u),{secrethash:c,direction:Zt["a"].SENT})})),Object(S["a"])(te["p"]))}var ga=n("8130"),wa=n.n(ga),_a=(n("9201"),n("0ba5"));function ka(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function Ea(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ta(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ea(Object(n),!0).forEach((function(t){Sa(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ea(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Sa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Aa(e,t){return Da(e)||Ia(e,t)||xa(e,t)||Pa()}function Pa(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function xa(e,t){if(e){if("string"===typeof e)return Na(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Na(e,t):void 0}}function Na(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ia(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,c=!1;try{for(n=n.call(e);!(o=(r=n.next()).done);o=!0)if(i.push(r.value),t&&i.length===t)break}catch(u){c=!0,a=u}finally{try{o||null==n["return"]||n["return"]()}finally{if(c)throw a}}return i}}function Da(e){if(Array.isArray(e))return e}function Ra(e,t,n){var r=n.log,a=n.getTokenNetworkContract;return e.pipe(Object(S["a"])(ca["withdrawMessage"].success.is),Object(S["a"])((function(e){return e.meta.direction===Zt["a"].RECEIVED})),Object(U["a"])(t),Object(N["a"])((function(e){var t=Aa(e,2),n=t[0],i=t[1],o=a(n.meta.tokenNetwork);return Object(z["a"])(o,"cooperativeSettle").pipe(Object(N["a"])((function(){var e=i.channels[Object(Se["b"])(n.meta)];Object(Ee["d"])((null===e||void 0===e?void 0:e.state)===Te["b"].open,"channel not open");var t=e.partner.pendingWithdraws.find(Object(Qt["c"])(_a["a"].WITHDRAW_REQUEST,n.payload.message));if(Object(Ee["d"])(t,"no matching WithdrawRequest found"),!t.coop_settle)return K["a"];var r=Object(Se["a"])(e),a=r.ownTotalWithdrawable;return Object(j["a"])(ca["withdraw"].request({coopSettle:!1},Ta(Ta({},n.meta),{},{direction:Zt["a"].SENT,totalWithdraw:a})))})),Object(L["a"])((function(e){return r.warn("Could not reply to CoopSettle request, ignoring",{action:n,error:e}),K["a"]})))})))}function Ca(e,t,n){ka(t);var r=n.latest$,a=n.config$,i=n.log;return e.pipe(Object(ee["c"])(V["channelSettle"],(function(t){return e.pipe(Object(S["a"])(ca["withdrawMessage"].success.is),Object(We["a"])((function(e){return Object(Se["b"])(e.meta)})),Object(N["a"])((function(e){return e.pipe(Object(J["a"])((function(e){return Object(h["a"])([r,a]).pipe(Object(F["a"])(),Object(N["a"])((function(n){var r=Aa(n,2),a=r[0].state,i=r[1].revealTimeout,o=a.channels[Object(Se["b"])(e.meta)];Object(Ee["d"])((null===o||void 0===o?void 0:o.state)===Te["b"].open,"channel not open");var c=Object(Se["a"])(o),u=c.ownCapacity,s=c.partnerCapacity,l=c.ownTotalWithdrawable,p=c.partnerTotalWithdrawable;Object(Ee["d"])(!o.own.locks.length&&!o.partner.locks.length&&u.isZero()||s.isZero(),"");var f=o.own.pendingWithdraws.find((function(e){return e.type===_a["a"].WITHDRAW_REQUEST&&e.expiration.gte(a.blockNumber+i)&&e.total_withdraw.eq(l)&&!!e.coop_settle}));Object(Ee["d"])(f&&!f.expiration.lt(a.blockNumber+i),"");var d=o.own.pendingWithdraws.find(Object(Qt["c"])(_a["a"].WITHDRAW_CONFIRMATION,f)),b=o.partner.pendingWithdraws.find((function(e){return e.type===_a["a"].WITHDRAW_REQUEST&&e.expiration.gte(a.blockNumber+i)&&e.total_withdraw.eq(p)}));Object(Ee["d"])(b,"partner request not found");var y=o.partner.pendingWithdraws.find(Object(Qt["c"])(_a["a"].WITHDRAW_CONFIRMATION,b));Object(Ee["d"])(d&&y,["no matching WithdrawConfirmations found",{ownConfirmation:d,partnerConfirmation:y}]);var h=Object(Qt["e"])(f,o);return t(V["channelSettle"].request({coopSettle:[[f,d],[b,y]]},{tokenNetwork:h.tokenNetwork,partner:h.partner})).pipe(Object(_["a"])((function(e){return ca["withdraw"].success(wa()(e.payload,["txBlock","txHash","confirmed"]),h)})),Object(L["a"])((function(e){return Object(j["a"])(ca["withdraw"].failure(e,h))})),Object(A["a"])(Object(ca["withdrawBusy"])(void 0,h)))})),Object(L["a"])((function(e){return e.message&&i.info(e.message,e.details),K["a"]})))})))})))})))}function Ma(e,t){return Wa(e)||Fa(e,t)||Ua(e,t)||La()}function La(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ua(e,t){if(e){if("string"===typeof e)return Ba(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ba(e,t):void 0}}function Ba(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Fa(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,c=!1;try{for(n=n.call(e);!(o=(r=n.next()).done);o=!0)if(i.push(r.value),t&&i.length===t)break}catch(u){c=!0,a=u}finally{try{o||null==n["return"]||n["return"]()}finally{if(c)throw a}}return i}}function Wa(e){if(Array.isArray(e))return e}function Va(e,t,n){var r=n.config$;return e.pipe(Object(S["a"])(V["newBlock"].is),Object(P["a"])("payload","blockNumber"),Object(U["a"])(t,r),Object(X["a"])((function(t){var n=Ma(t,3),r=n[0],a=n[1].transfers,i=n[2].confirmationBlocks;return Object(O["a"])(Object.values(a).filter((function(e){return e.direction===Zt["a"].SENT&&!e.unlock&&!e.expired&&!e.secretRegistered&&!e.channelClosed&&e.expiration<=r-2*i}))).pipe(Object(N["a"])((function(t){var n={secrethash:t.transfer.lock.secrethash,direction:Zt["a"].SENT};return Object(m["a"])(Object(Qt["a"])(e,ca["transferExpire"].request(void 0,n),Object(_e["g"])(ca["transferExpire"],n)),Object(j["a"])(ca["transfer"].failure(new Ee["c"](Ee["b"].XFER_EXPIRED,{block:t.transfer.lock.expiration.toString()}),n)))})))})))}function $a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ha(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$a(Object(n),!0).forEach((function(t){qa(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ka(e,t){return Za(e)||Qa(e,t)||Ya(e,t)||Ga()}function Ga(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ya(e,t){if(e){if("string"===typeof e)return Xa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xa(e,t):void 0}}function Xa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Qa(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,c=!1;try{for(n=n.call(e);!(o=(r=n.next()).done);o=!0)if(i.push(r.value),t&&i.length===t)break}catch(u){c=!0,a=u}finally{try{o||null==n["return"]||n["return"]()}finally{if(c)throw a}}return i}}function Za(e){if(Array.isArray(e))return e}function Ja(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function za(e,t){return Ja(e),t.pipe(Object(F["a"])(),Object(N["a"])((function(e){var t=e.transfers;return Object(O["a"])(Object.values(t).filter((function(e){return e.direction===Zt["a"].SENT&&!e.unlockProcessed&&!e.expiredProcessed&&!e.secretRegistered&&!e.channelClosed})))})),Object(N["a"])(s.a.mark((function e(t){var n;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={secrethash:t.transfer.lock.secrethash,direction:Zt["a"].SENT},e.next=3,Bn["matrixPresence"].request(void 0,{address:t.transfer.target});case 3:if(t.transferProcessed){e.next=6;break}return e.next=6,Object(ca["transferSigned"])({message:Object(te["t"])(t.transfer),fee:t.fee,partner:t.partner},n);case 6:if(!t.unlock){e.next=9;break}return e.next=9,ca["transferUnlock"].success({message:Object(te["t"])(t.unlock),partner:t.partner},n);case 9:if(!t.expired){e.next=12;break}return e.next=12,ca["transferExpire"].success({message:Object(te["t"])(t.expired),partner:t.partner},n);case 12:case"end":return e.stop()}}),e)}))))}function ei(e,t,n){Ja(e);var r=n.config$;return t.pipe(Object(F["a"])(),Object(N["a"])((function(e){var t=e.transfers;return Object(O["a"])(Object.values(t).filter((function(e){return e.direction===Zt["a"].RECEIVED&&!e.unlock&&!e.expired&&!e.secretRegistered&&!e.channelClosed})))})),Object(N["a"])((function(e){var t=e.transfer.lock.secrethash,n={secrethash:t,direction:Zt["a"].RECEIVED};return Object(m["a"])(Object(j["a"])(Object(ca["transferSigned"])({message:Object(te["t"])(e.transfer),fee:e.fee,partner:e.partner},n)),e.secret&&!e.secretReveal?Object(j["a"])(Object(ca["transferSecret"])({secret:e.secret},n)):K["a"],e.secretReveal?Object(j["a"])(Object(ca["transferSecretReveal"])({message:Object(te["t"])(e.secretReveal)},n)):K["a"],!e.secret&&e.secretRequest?r.pipe(Object(P["a"])("caps"),Object(S["a"])((function(e){return!!Object(zt["b"])(e,pt["a"].RECEIVE)})),Object(x["a"])(1),Object(Fe["a"])(Object(j["a"])(Bn["matrixPresence"].request(void 0,{address:e.transfer.initiator}),Object(ca["transferSecretRequest"])({message:Object(te["t"])(e.secretRequest)},n)))):K["a"])})))}function ti(e,t,n){Ja(t);var r=n.config$;return e.pipe(Object(ee["c"])(jn["pathFind"],(function(t){return e.pipe(Object(S["a"])(ca["transfer"].request.is),Object(S["a"])((function(e){return!e.payload.resolved})),Object(N["a"])((function(n){return t(jn["pathFind"].request(wa()(n.payload,["paths","pfs"]),wa()(n.payload,["tokenNetwork","target","value"]))).pipe(Object(U["a"])(e.pipe(Object(S["a"])(Bn["matrixPresence"].success.is),Object(S["a"])((function(e){return e.meta.address===n.payload.target}))),r),Object(_["a"])((function(e){var t,r,a=Ka(e,3),i=a[0],o=a[1],c=a[2].encryptSecret;(null!==(t=n.payload.encryptSecret)&&void 0!==t?t:c)&&n.payload.secret&&(r={secret:n.payload.secret,amount:n.payload.value,payment_identifier:n.payload.paymentId});var u=Object(Jt["j"])(i.payload.paths,o,r),s=Hn()(n.payload,["paths","pfs","encryptSecret"]),l=Ha(Ha({},s),u);return ca["transfer"].request(l,n.meta)})),Object(L["a"])((function(e){return Object(j["a"])(ca["transfer"].failure(e,n.meta))})))})))})))}function ni(e){var t,n;return"meta"in e&&(null===(t=e.meta)||void 0===t?void 0:t.secrethash)&&(null===(n=e.meta)||void 0===n?void 0:n.direction)}function ri(e,t,n){var r=n.config$;return t.pipe(Object(ee["g"])("transfers"),Object(ee["d"])(),Object(We["a"])((function(e){var t=Ka(e,1),n=t[0];return n}),{duration:function(e){var n=e.key;return t.pipe(Object(S["a"])((function(e){var t=e.transfers;return!(n in t)})))}}),Object(U["a"])(r),Object(N["a"])((function(t){var n=Ka(t,2),r=n[0],a=n[1].httpTimeout;return r.pipe(Object(S["a"])((function(e){var t=Ka(e,2),n=t[1];return!!(n.unlockProcessed||n.expiredProcessed||n.channelSettled)})),Object(x["a"])(1),Object(N["a"])((function(t){var n=Ka(t,2),a=n[1];return e.pipe(Object(S["a"])(ni),Object(S["a"])((function(e){return Object(Jt["n"])(e.meta)===r.key})),Object(A["a"])({meta:wa()(a,["secrethash","direction"])}),Object(ee["b"])(r))})),Object(Y["a"])(3*a),Object(_["a"])((function(e){var t=e.meta;return Object(ca["transferClear"])(void 0,t)})))})),Object(ee["b"])(e))}var ai=n("f2df"),ii=n("9a49");function oi(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function ci(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ui(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ci(Object(n),!0).forEach((function(t){si(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ci(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function si(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function li(e,t,n,r,a,i,o){try{var c=e[i](o),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function pi(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){li(i,r,a,o,c,"next",e)}function c(e){li(i,r,a,o,c,"throw",e)}o(void 0)}))}}function fi(e,t){return yi(e)||bi(e,t)||vi(e,t)||di()}function di(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function bi(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,c=!1;try{for(n=n.call(e);!(o=(r=n.next()).done);o=!0)if(i.push(r.value),t&&i.length===t)break}catch(u){c=!0,a=u}finally{try{o||null==n["return"]||n["return"]()}finally{if(c)throw a}}return i}}function yi(e){if(Array.isArray(e))return e}function hi(e){return ji(e)||Oi(e)||vi(e)||mi()}function mi(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function vi(e,t){if(e){if("string"===typeof e)return gi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gi(e,t):void 0}}function Oi(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function ji(e){if(Array.isArray(e))return gi(e)}function gi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wi(e,t){var n=e.locks.filter((function(e){return e.secrethash!==t}));return Object(ai["a"])(n.length===e.locks.length-1,"invalid locks size"),n}function _i(e){return e.reduce((function(e,t){var n=t.amount;return e.add(n)}),l["h"])}function ki(e,t,n){var r=e.channels[Object(Se["b"])(t)];return Object(ai["a"])((null===r||void 0===r?void 0:r.state)===Te["b"].open,"channel not open"),n&&(Object(ai["a"])(n.chain_id.eq(e.chainId),"chainId mismatch"),Object(ai["a"])(n.channel_identifier.eq(r.id),"channelId mismatch")),r}function Ei(e){return e.payload.resolved}function Ti(e,t,n,r){var a,i=n.revealTimeout,o=n.confirmationBlocks,c=n.expiryFactor,u=r.log,l=r.address,p=r.network,f=r.signer,d=t.payload,b=d.tokenNetwork,y=d.fee,h=d.partner,m=d.userId,v=ki(e,{tokenNetwork:b,partner:h});Object(ai["a"])(!("expiration"in t.payload)||!t.payload.expiration||t.payload.expiration>e.blockNumber+i,"expiration too soon");var j=Object(te["n"])(Object(te["l"])(32),"expiration"in t.payload&&t.payload.expiration?t.payload.expiration:"lockTimeout"in t.payload&&t.payload.lockTimeout?e.blockNumber+t.payload.lockTimeout:Math.min(e.blockNumber+Math.round(i*c),e.blockNumber+v.settleTimeout-o));Object(ai["a"])(j.lte(e.blockNumber+v.settleTimeout),["expiration too far in the future",{expiration:j.toString(),blockNumber:e.blockNumber,settleTimeout:v.settleTimeout,revealTimeout:i}]);var g={amount:t.payload.value.add(y),expiration:j,secrethash:t.meta.secrethash},w=[].concat(hi(v.own.locks),[g]),_=_i(w);Object(ai["a"])(Object(te["l"])(32).is(v.own.balanceProof.transferredAmount.add(_)),"overflow on future transferredAmount");var k=Object(Jt["d"])(w);u.info("Signing transfer of value",t.payload.value.toString(),"of token",v.token,", to",t.payload.target,", through routes",t.payload.metadata,", paying",y.toString(),"in fees.");var E={type:En["d"].LOCKED_TRANSFER,message_identifier:Object(Jt["g"])(),chain_id:gn["a"].from(p.chainId),token_network_address:t.payload.tokenNetwork,channel_identifier:gn["a"].from(v.id),nonce:v.own.nextNonce,transferred_amount:v.own.balanceProof.transferredAmount,locked_amount:_,locksroot:k,payment_identifier:t.payload.paymentId,token:v.token,recipient:h,lock:g,target:t.payload.target,initiator:null!==(a=t.payload.initiator)&&void 0!==a?a:l,metadata:t.payload.metadata};return Object(O["a"])(Object(we["g"])(f,E,{log:u})).pipe(Object(N["a"])(s.a.mark((function e(n){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(ca["transferSigned"])({message:n,fee:y,partner:h,userId:m},t.meta);case 2:if(!t.payload.secret){e.next=5;break}return e.next=5,Object(ca["transferSecret"])({secret:t.payload.secret},t.meta);case 5:case"end":return e.stop()}}),e)}))))}function Si(e,t,n){return Object(h["a"])([e,n.config$]).pipe(Object(F["a"])(),Object(N["a"])((function(e){var r=fi(e,2),a=r[0],i=r[1];return n.db.storageKeys.has(Object(Jt["n"])(t.meta))?(n.log.warn("transfer already present",t.meta),K["a"]):Ti(a,t,i,n)})),Object(L["a"])((function(e){return Object(j["a"])(ca["transfer"].failure(e,t.meta))})))}function Ai(e,t,n,r,a){var i,o=a.log,c=a.signer,u=n.meta.secrethash,s=r.transfer,l=s.token_network_address,p=r.partner,f=ki(t,{tokenNetwork:l,partner:p});if(r.unlock)i=Object(j["a"])(r.unlock);else{Object(ai["a"])(r.secret,"unknown secret"),Object(ai["a"])(f.own.locks.find((function(e){return e.secrethash===u})),"transfer already unlocked or expired"),Object(ai["a"])(r.secretRegistered||r.expiration>t.blockNumber,"lock expired");var d={type:En["d"].UNLOCK,message_identifier:Object(Jt["g"])(),chain_id:s.chain_id,token_network_address:s.token_network_address,channel_identifier:s.channel_identifier,nonce:f.own.nextNonce,transferred_amount:Object(te["n"])(Object(te["l"])(32),f.own.balanceProof.transferredAmount.add(s.lock.amount),"overflow on transferredAmount"),locked_amount:f.own.balanceProof.lockedAmount.sub(s.lock.amount),locksroot:Object(Jt["d"])(wi(f.own,u)),payment_identifier:s.payment_identifier,secret:r.secret};i=Object(O["a"])(Object(we["g"])(c,d,{log:o}))}return i.pipe(Object(U["a"])(e),Object(_["a"])((function(e){var t,r=fi(e,2),a=r[0],i=r[1],o=i.transfers[Object(Jt["n"])(n.meta)],c=ki(i,{tokenNetwork:l,partner:p});return Object(ai["a"])(o&&(o.expiration>i.blockNumber||o.secretRegistered||c.own.locks.find((function(e){return e.secrethash===u&&e.registered}))),"lock expired"),ca["transferUnlock"].success({message:a,partner:p,userId:null===(t=n.payload)||void 0===t?void 0:t.userId},n.meta)})))}function Pi(e,t,n){var r=n.signer,a=n.log,i=n.db;return Object(q["a"])((function(){return Object(Jt["f"])(e,i,t.meta)})).pipe(Object(U["a"])(e),Object(N["a"])((function(n){var i=fi(n,2),o=i[0],c=i[1];return Ai(e,c,t,o,{log:a,signer:r})})),Object(L["a"])((function(e){return a.warn("Error trying to unlock after SecretReveal",e),Object(j["a"])(ca["transferUnlock"].failure(e,t.meta))})))}function xi(e,t,n,r){var a,i=r.signer,o=r.log,c=t.meta.secrethash,u=n.transfer,s=u.token_network_address,l=n.partner,p=ki(e,{tokenNetwork:s,partner:l});if(n.expired)a=Object(j["a"])(n.expired);else{Object(ai["a"])(u.lock.expiration.lt(e.blockNumber),"lock not yet expired"),Object(ai["a"])(p.own.locks.find((function(e){return e.secrethash===c}))&&!n.unlock,"transfer already unlocked or expired");var f=Object(Jt["d"])(wi(p.own,c)),d={type:En["d"].LOCK_EXPIRED,message_identifier:Object(Jt["g"])(),chain_id:u.chain_id,token_network_address:u.token_network_address,channel_identifier:u.channel_identifier,nonce:p.own.nextNonce,transferred_amount:p.own.balanceProof.transferredAmount,locked_amount:p.own.balanceProof.lockedAmount.sub(u.lock.amount),locksroot:f,recipient:l,secrethash:c};a=Object(O["a"])(Object(we["g"])(i,d,{log:o}))}return a.pipe(Object(_["a"])((function(e){return ca["transferExpire"].success({message:e,partner:l},t.meta)})))}function Ni(e,t,n){var r=n.log,a=n.signer,i=n.db;return Object(q["a"])((function(){return Object(Jt["f"])(e,i,t.meta)})).pipe(Object(U["a"])(e),Object(N["a"])((function(e){var n=fi(e,2),i=n[0],o=n[1];return xi(o,t,i,{signer:a,log:r})})),Object(L["a"])((function(e){return Object(j["a"])(ca["transferExpire"].failure(e,t.meta))})))}function Ii(e,t,n){var r=n.address,a=n.log,i=n.signer,o=n.config$,c=n.db,u=t.payload.message.lock.secrethash,p={secrethash:u,direction:Zt["a"].RECEIVED};return Object(h["a"])([e,o]).pipe(Object(F["a"])(),Object(N["a"])((function(e){var n=fi(e,2),o=n[0],f=n[1],d=f.revealTimeout,b=f.caps,y=t.payload.message;if(c.storageKeys.has(Object(Jt["n"])(p))){a.warn("transfer already present",p);var m=y.message_identifier,v=o.transfers[Object(Jt["n"])(p)];return null!==v&&void 0!==v&&v.transferProcessed&&v.partner===t.meta.address&&m.eq(v.transfer.message_identifier)?Object(j["a"])(Object(ca["transferProcessed"])({message:Object(te["t"])(v.transferProcessed),userId:t.payload.userId},p)):K["a"]}var O=y.token_network_address,g=t.meta.address,w=ki(o,{tokenNetwork:O,partner:g},y);Object(ai["a"])(y.nonce.eq(w.partner.nextNonce),["nonce mismatch",{expected:w.partner.nextNonce.toNumber(),received:y.nonce.toNumber()}]);var _=[].concat(hi(w.partner.locks),[y.lock]),k=Object(Jt["d"])(_);Object(ai["a"])(y.locksroot===k,"locksroot mismatch"),Object(ai["a"])(y.transferred_amount.eq(w.partner.balanceProof.transferredAmount),"transferredAmount mismatch");var E=_i(_);Object(ai["a"])(y.locked_amount.eq(E),"lockedAmount mismatch"),Object(ai["a"])(Object(te["l"])(32).is(w.partner.balanceProof.transferredAmount.add(E)),"overflow on future transferredAmount");var T=Object(Se["a"])(w),S=T.partnerCapacity;Object(ai["a"])(y.lock.amount.lte(S),"balanceProof total amount bigger than capacity"),Object(ai["a"])(y.lock.expiration.lte(o.blockNumber+w.settleTimeout),["expiration too far in the future",{expiration:y.lock.expiration.toString(),blockNumber:o.blockNumber,settleTimeout:w.settleTimeout,revealTimeout:d}]),Object(ai["a"])(y.recipient===r,"Received transfer isn't for us"),a.info("Receiving transfer of value",y.lock.amount.toString(),"of token",w.token,", from",y.initiator,", through partner",g);var A,P=Object(j["a"])(void 0);y.target===r&&(Object(zt["b"])(b,pt["a"].RECEIVE)?y.lock.expiration.sub(d).gt(o.blockNumber)||(A={reason:"lock expired or expires too soon",lockExpiration:y.lock.expiration.toString(),dangerZoneStart:y.lock.expiration.sub(d).toString()}):A={reason:"receiving disabled"},A?a.warn("Ignoring received transfer",A):P=Object(q["a"])(pi(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=Object(Jt["b"])(y.metadata,[u,y.lock.amount,y.payment_identifier],i),!t){e.next=3;break}return e.abrupt("return",t);case 3:return n={type:En["d"].SECRET_REQUEST,payment_identifier:y.payment_identifier,secrethash:u,amount:y.lock.amount,expiration:y.lock.expiration,message_identifier:Object(Jt["g"])()},e.abrupt("return",Object(we["g"])(i,n,{log:a}));case 5:case"end":return e.stop()}}),e)})))));var x=Object(q["a"])((function(){var e={type:En["d"].PROCESSED,message_identifier:y.message_identifier};return Object(we["g"])(i,e,{log:a})}));return Object(h["a"])([x,P]).pipe(Object(N["a"])(s.a.mark((function e(n){var r,a,i;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=fi(n,2),a=r[0],i=r[1],e.next=3,Object(ca["transferSigned"])({message:y,fee:l["h"],partner:g},p);case 3:return e.next=5,Object(ca["transferProcessed"])({message:a,userId:t.payload.userId},p);case 5:if(!te["h"].is(i)){e.next=10;break}return e.next=8,Object(ca["transferSecret"])({secret:i},p);case 8:e.next=15;break;case 10:if(!i){e.next=15;break}return e.next=13,Bn["matrixPresence"].request(void 0,{address:y.initiator});case 13:return e.next=15,Object(ca["transferSecretRequest"])(ui({message:i},Object(Jt["m"])(y.metadata,y.initiator)),p);case 15:case"end":return e.stop()}}),e)}))))})),Object(L["a"])((function(e){return Object(j["a"])(ca["transfer"].failure(e,p))})))}function Di(e,t,n){var r=n.log,a=n.signer,i=n.db,o=Object(Jt["e"])(t.payload.message.secret),c={secrethash:o,direction:Zt["a"].RECEIVED};return Object(q["a"])((function(){return Object(Jt["f"])(e,i,c)})).pipe(Object(U["a"])(e),Object(N["a"])((function(e){var n=fi(e,2),i=n[0],u=n[1];Object(ai["a"])(i,"unknown transfer");var l=t.payload.message,p=t.meta.address;if(Object(ai["a"])(p===i.partner,"wrong partner"),Object(ai["a"])(!i.expired,"already expired"),i.unlock)return r.warn("transfer already unlocked",t.meta),i.unlockProcessed&&l.message_identifier.eq(i.unlockProcessed.message_identifier)?Object(j["a"])(Object(ca["transferUnlockProcessed"])({message:Object(te["t"])(i.unlockProcessed),userId:t.payload.userId},c)):K["a"];var f=i.transfer;Object(ai["a"])(l.token_network_address===f.token_network_address,"wrong tokenNetwork");var d=l.token_network_address,b=ki(u,{tokenNetwork:d,partner:p},l);Object(ai["a"])(l.nonce.eq(b.partner.nextNonce),["nonce mismatch",{expected:b.partner.nextNonce.toNumber(),received:l.nonce.toNumber()}]);var y=f.lock.amount,h=wi(b.partner,o);Object(ai["a"])(l.locksroot===Object(Jt["d"])(h),"locksroot mismatch"),Object(ai["a"])(l.transferred_amount.eq(b.partner.balanceProof.transferredAmount.add(y)),"transferredAmount mismatch"),Object(ai["a"])(l.locked_amount.eq(_i(h)),"lockedAmount mismatch");var m={type:En["d"].PROCESSED,message_identifier:l.message_identifier};return Object(O["a"])(Object(we["g"])(a,m,{log:r})).pipe(Object(N["a"])(s.a.mark((function e(n){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i.secret){e.next=3;break}return e.next=3,Object(ca["transferSecret"])({secret:l.secret},c);case 3:return e.next=5,ca["transferUnlock"].success({message:l,partner:p},c);case 5:return e.next=7,Object(ca["transferUnlockProcessed"])({message:n,userId:t.payload.userId},c);case 7:return e.next=9,ca["transfer"].success({balanceProof:Object(we["d"])(l)},c);case 9:case"end":return e.stop()}}),e)}))))})),Object(L["a"])((function(e){return r.warn("Error trying to process received Unlock",e),Object(j["a"])(ca["transferUnlock"].failure(e,c))})))}function Ri(e,t,n){var r=n.log,a=n.signer,i=n.config$,o=n.db,c=t.payload.message.secrethash,u={secrethash:c,direction:Zt["a"].RECEIVED};return Object(q["a"])((function(){return Object(Jt["f"])(e,o,u)})).pipe(Object(U["a"])(e,i),Object(N["a"])((function(e){var n=fi(e,3),i=n[0],o=n[1],l=n[2].confirmationBlocks,p=t.payload.message,f=t.meta.address;if(Object(ai["a"])(f===i.partner,"wrong partner"),Object(ai["a"])(!i.unlock,"transfer unlocked"),i.expired)return r.warn("transfer already expired",t.meta),i.expiredProcessed&&p.message_identifier.eq(i.expiredProcessed.message_identifier)?Object(j["a"])(Object(ca["transferExpireProcessed"])({message:Object(te["t"])(i.expiredProcessed),userId:t.payload.userId},u)):K["a"];var d=i.transfer;Object(ai["a"])(d.lock.expiration.add(l).lte(o.blockNumber),"expiration block not confirmed yet"),Object(ai["a"])(!i.secretRegistered,"secret registered onchain"),Object(ai["a"])(p.token_network_address===d.token_network_address,"wrong tokenNetwork");var b=p.token_network_address,y=ki(o,{tokenNetwork:b,partner:f},p);Object(ai["a"])(p.nonce.eq(y.partner.nextNonce),["nonce mismatch",{expected:y.partner.nextNonce.toNumber(),received:p.nonce.toNumber()}]);var h=wi(y.partner,c);Object(ai["a"])(p.locksroot===Object(Jt["d"])(h),"locksroot mismatch"),Object(ai["a"])(p.locked_amount.eq(_i(h)),"lockedAmount mismatch"),Object(ai["a"])(p.transferred_amount.eq(y.partner.balanceProof.transferredAmount),"transferredAmount mismatch");var m={type:En["d"].PROCESSED,message_identifier:p.message_identifier};return Object(O["a"])(Object(we["g"])(a,m,{log:r})).pipe(Object(N["a"])(s.a.mark((function e(n){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ca["transferExpire"].success({message:p,partner:f},u);case 2:return e.next=4,Object(ca["transferExpireProcessed"])({message:n,userId:t.payload.userId},u);case 4:return e.next=6,ca["transfer"].failure(new Ee["c"](Ee["b"].XFER_EXPIRED,{block:d.lock.expiration.toString()}),u);case 6:case"end":return e.stop()}}),e)}))))})),Object(L["a"])((function(e){return r.warn("Error trying to process received LockExpired",e),Object(j["a"])(ca["transferExpire"].failure(e,u))})))}function Ci(e){return e.type===En["d"].WITHDRAW_CONFIRMATION}function Mi(e,t,n){var r=n.log,a=n.address,i=n.signer,o=n.network,c=n.config$;return t.meta.direction!==Zt["a"].SENT?K["a"]:Object(h["a"])([e,c]).pipe(Object(F["a"])(),Object(N["a"])((function(e){var n,c,u=fi(e,2),s=u[0],l=u[1].revealTimeout,p=ki(s,t.meta);if(p.own.pendingWithdraws.some(Object(Qt["c"])(En["d"].WITHDRAW_REQUEST,t.meta)))return K["a"];var f=p.own.pendingWithdraws.find(Ci);if(f)return[ca["withdrawMessage"].success({message:f},{direction:t.meta.direction,tokenNetwork:p.tokenNetwork,partner:p.partner.address,totalWithdraw:f.total_withdraw,expiration:f.expiration.toNumber()}),ca["withdraw"].failure(new Ee["c"](Ee["b"].CNL_WITHDRAW_RETRY_CONFIRMATION),t.meta)];if(Object(ai["a"])(!p.own.pendingWithdraws.length,[Ee["b"].CNL_WITHDRAW_PENDING,{pendingWithdraws:p.own.pendingWithdraws}]),Object(ai["a"])(t.meta.totalWithdraw.lte(Object(Se["a"])(p).ownTotalWithdrawable),Ee["b"].CNL_WITHDRAW_AMOUNT_TOO_HIGH),void 0!==(null===(n=t.payload)||void 0===n?void 0:n.coopSettle)){Object(ai["a"])(t.meta.expiration>s.blockNumber,Ee["b"].CNL_WITHDRAW_EXPIRES_SOON);var d=Object(Se["a"])(p),b=d.ownLocked,y=d.partnerLocked,h=d.ownTotalWithdrawable,m=d.partnerCapacity;Object(ai["a"])(!p.own.locks.length&&!p.partner.locks.length&&t.meta.totalWithdraw.eq(h)&&(t.payload.coopSettle||m.isZero()),[Ee["b"].CNL_COOP_SETTLE_NOT_POSSIBLE,{ownLocked:b,partnerLocked:y,partnerCapacity:m}])}else Object(ai["a"])(t.meta.totalWithdraw.gt(p.own.withdraw),Ee["b"].CNL_WITHDRAW_AMOUNT_TOO_LOW),Object(ai["a"])(t.meta.expiration>=s.blockNumber+l,Ee["b"].CNL_WITHDRAW_EXPIRES_SOON);var v=ui({type:En["d"].WITHDRAW_REQUEST,message_identifier:Object(Jt["g"])(),chain_id:gn["a"].from(o.chainId),token_network_address:t.meta.tokenNetwork,channel_identifier:gn["a"].from(p.id),participant:a,total_withdraw:t.meta.totalWithdraw,nonce:p.own.nextNonce,expiration:gn["a"].from(t.meta.expiration)},void 0!==(null===(c=t.payload)||void 0===c?void 0:c.coopSettle)?{coop_settle:t.payload.coopSettle}:null);return Object(O["a"])(Object(we["g"])(i,v,{log:r})).pipe(Object(_["a"])((function(e){return ca["withdrawMessage"].request({message:e},t.meta)})))})),Object(L["a"])((function(e){return Object(j["a"])(ca["withdraw"].failure(e,t.meta))})))}function Li(e,t,n){var r,a=n.address,i=t.payload.message,o=i.token_network_address,c=t.meta.address;try{r=i.expiration.toNumber()}catch(s){return K["a"]}var u={direction:Zt["a"].SENT,tokenNetwork:o,partner:c,totalWithdraw:i.total_withdraw,expiration:r};return e.pipe(Object(F["a"])(),Object(_["a"])((function(e){return ki(e,{tokenNetwork:o,partner:c},i),Object(ai["a"])(i.participant===a,"participant mismatch"),ca["withdrawMessage"].success({message:i},u)})),Object(L["a"])((function(e){return Object(j["a"])(ca["withdrawMessage"].failure(e,u))})))}function Ui(e,t,n){var r=n.log,a=n.address,i=n.signer,o=n.config$;return t.meta.direction!==Zt["a"].SENT?K["a"]:Object(h["a"])([e,o]).pipe(Object(F["a"])(),Object(N["a"])((function(e){var n=fi(e,2),o=n[0],c=n[1].confirmationBlocks,u=ki(o,t.meta);Object(ai["a"])(!u.own.pendingWithdraws.some(Object(Qt["c"])(En["d"].WITHDRAW_EXPIRED,t.meta)),"already expired");var s=u.own.pendingWithdraws.find(Object(Qt["c"])(En["d"].WITHDRAW_REQUEST,t.meta));Object(ai["a"])(s,"no matching WithdrawRequest found, maybe already confirmed"),Object(ai["a"])(o.blockNumber>=t.meta.expiration+c,"not yet expired");var l={type:En["d"].WITHDRAW_EXPIRED,message_identifier:Object(Jt["g"])(),chain_id:s.chain_id,token_network_address:s.token_network_address,channel_identifier:s.channel_identifier,participant:a,total_withdraw:t.meta.totalWithdraw,nonce:u.own.nextNonce,expiration:s.expiration};return Object(O["a"])(Object(we["g"])(i,l,{log:r})).pipe(Object(_["a"])((function(e){return ca["withdrawExpire"].success({message:e},t.meta)})))})),Object(L["a"])((function(e){return Object(j["a"])(ca["withdrawExpire"].failure(e,t.meta))})))}function Bi(e,t,n){var r,a=n.signer,i=n.log,o=t.payload.message,c=o.token_network_address,u=o.participant;try{r=o.expiration.toNumber()}catch(p){return K["a"]}var l={direction:Zt["a"].RECEIVED,tokenNetwork:c,partner:u,totalWithdraw:o.total_withdraw,expiration:r};return e.pipe(Object(F["a"])(),Object(N["a"])((function(e){Object(ai["a"])(o.participant===t.meta.address,"participant mismatch");var n,r=ki(e,{tokenNetwork:c,partner:u},o),p=r.partner.pendingWithdraws.find(Object(Qt["c"])(En["d"].WITHDRAW_CONFIRMATION,o));if(p)n=Object(j["a"])(p);else{Object(ai["a"])(o.nonce.eq(r.partner.nextNonce),["nonce mismatch",{expected:r.partner.nextNonce.toNumber(),received:o.nonce.toNumber()}]),Object(ai["a"])(o.total_withdraw.lte(Object(Se["a"])(r).partnerTotalWithdrawable),"invalid total_withdraw");var f={type:En["d"].WITHDRAW_CONFIRMATION,message_identifier:o.message_identifier,chain_id:o.chain_id,token_network_address:o.token_network_address,channel_identifier:o.channel_identifier,participant:o.participant,total_withdraw:o.total_withdraw,nonce:r.own.nextNonce,expiration:o.expiration};n=Object(O["a"])(Object(we["g"])(a,f,{log:i}))}return n.pipe(Object(N["a"])(s.a.mark((function e(n){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ca["withdrawMessage"].request({message:o},l);case 2:return e.next=4,ca["withdrawMessage"].success({message:n},l);case 4:return e.next=6,kn["messageSend"].request({message:n},{address:u,msgId:t.payload.message.message_identifier.toString()});case 6:case"end":return e.stop()}}),e)}))))})),Object(L["a"])((function(e){return Object(j["a"])(ca["withdrawMessage"].failure(e,l))})))}function Fi(e,t,n,r){var a,i=n.signer,o=n.log,c=n.config$,u=t.payload.message,l=u.token_network_address,p=u.participant;try{a=u.expiration.toNumber()}catch(d){return K["a"]}var f={direction:Zt["a"].RECEIVED,tokenNetwork:l,partner:p,totalWithdraw:u.total_withdraw,expiration:a};return Object(h["a"])([e,c]).pipe(Object(F["a"])(),Object(N["a"])((function(e){var n=fi(e,2),a=n[0],c=n[1].confirmationBlocks;Object(ai["a"])(p===t.meta.address,"participant mismatch");var d,b=ki(a,{tokenNetwork:l,partner:p},u),y="".concat(Object(Se["c"])(b),"+").concat(u.message_identifier.toString()),h=r.get(y);if(h)d=Object(j["a"])(h);else{Object(ai["a"])(u.nonce.lte(b.partner.nextNonce),["nonce mismatch",{expected:b.partner.nextNonce.toNumber(),received:u.nonce.toNumber()}]),Object(ai["a"])(a.blockNumber>=f.expiration+c,"expire block not confirmed yet");var m={type:En["d"].PROCESSED,message_identifier:u.message_identifier};d=Object(O["a"])(Object(we["g"])(i,m,{log:o})).pipe(Object(E["a"])((function(e){return r.set(y,e)})))}return d.pipe(Object(N["a"])(s.a.mark((function e(t){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ca["withdrawExpire"].success({message:u},f);case 2:return e.next=4,kn["messageSend"].request({message:t},{address:p,msgId:t.message_identifier.toString()});case 4:return e.next=6,Object(ca["withdrawCompleted"])(void 0,f);case 6:case"end":return e.stop()}}),e)}))))})),Object(L["a"])((function(e){return Object(j["a"])(ca["withdrawExpire"].failure(e,f))})))}function Wi(e,t,n){oi(t);var r=new ii["a"](32),a=n.latest$.pipe(Object(ee["g"])("state"),Object(ee["b"])(e));return Object(m["a"])(e.pipe(Object(S["a"])(Object(_e["e"])([ca["transfer"].request,ca["transferUnlock"].request,ca["transferExpire"].request,ca["withdraw"].request,ca["withdrawExpire"].request]))),e.pipe(Object(S["a"])(Object(we["e"])([Object(te["j"])(En["b"]),Object(te["j"])(En["i"]),Object(te["j"])(En["a"]),Object(te["j"])(En["l"]),Object(te["j"])(En["j"]),Object(te["j"])(En["k"])])))).pipe(Object(J["a"])((function(e){var t;switch(e.type){case ca["transfer"].request.type:t=Ei(e)?Si(a,e,n):K["a"];break;case ca["transferUnlock"].request.type:t=Pi(a,e,n);break;case ca["transferExpire"].request.type:t=Ni(a,e,n);break;case ca["withdraw"].request.type:t=Mi(a,e,n);break;case ca["withdrawExpire"].request.type:t=Ui(a,e,n);break;case kn["messageReceived"].type:switch(e.payload.message.type){case En["d"].LOCKED_TRANSFER:t=Ii(a,e,n);break;case En["d"].UNLOCK:t=Di(a,e,n);break;case En["d"].LOCK_EXPIRED:t=Ri(a,e,n);break;case En["d"].WITHDRAW_REQUEST:t=Bi(a,e,n);break;case En["d"].WITHDRAW_CONFIRMATION:t=Li(a,e,n);break;case En["d"].WITHDRAW_EXPIRED:t=Fi(a,e,n,r);break}break}return t})))}function Vi(e,t){return Gi(e)||Ki(e,t)||Hi(e,t)||$i()}function $i(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Hi(e,t){if(e){if("string"===typeof e)return qi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qi(e,t):void 0}}function qi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ki(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,c=!1;try{for(n=n.call(e);!(o=(r=n.next()).done);o=!0)if(i.push(r.value),t&&i.length===t)break}catch(u){c=!0,a=u}finally{try{o||null==n["return"]||n["return"]()}finally{if(c)throw a}}return i}}function Gi(e){if(Array.isArray(e))return e}function Yi(e,t){return e.pipe(Object(S["a"])(Object(we["e"])(Object(te["j"])(En["f"]))),Object(U["a"])(t),Object(N["a"])(s.a.mark((function e(t){var n,r,a,i,o,c,u,l,p,f,d;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=Vi(t,2),r=n[0],a=n[1].transfers,i=0,o=Object.values(a);case 2:if(!(i<o.length)){e.next=25;break}if(f=o[i],f.direction===Zt["a"].SENT&&f.partner===r.meta.address){e.next=6;break}return e.abrupt("continue",22);case 6:if(d={secrethash:f.secrethash,direction:Zt["a"].SENT},!r.payload.message.message_identifier.eq(f.transfer.message_identifier)){e.next=12;break}return e.next=10,Object(ca["transferProcessed"])({message:r.payload.message},d);case 10:e.next=22;break;case 12:if(!r.payload.message.message_identifier.eq(null!==(c=null===(u=f.unlock)||void 0===u?void 0:u.message_identifier)&&void 0!==c?c:-1)){e.next=19;break}return e.next=15,ca["transfer"].success({balanceProof:Object(we["d"])(f.unlock)},d);case 15:return e.next=17,Object(ca["transferUnlockProcessed"])({message:r.payload.message},d);case 17:e.next=22;break;case 19:if(!r.payload.message.message_identifier.eq(null!==(l=null===(p=f.expired)||void 0===p?void 0:p.message_identifier)&&void 0!==l?l:-1)){e.next=22;break}return e.next=22,Object(ca["transferExpireProcessed"])({message:r.payload.message},d);case 22:i++,e.next=2;break;case 25:case"end":return e.stop()}}),e)}))))}function Xi(e,t,n){var r=n.db;return e.pipe(Object(S["a"])(Object(_e["e"])([ca["transferProcessed"],ca["transferUnlockProcessed"],ca["transferExpireProcessed"]])),Object(S["a"])((function(e){return e.meta.direction===Zt["a"].RECEIVED})),Object(U["a"])(t),Object(N["a"])((function(e){var t=Vi(e,2),n=t[0],a=t[1];return Object(Jt["f"])(a,r,n.meta).then((function(e){return[n,e]}))})),Object(_["a"])((function(e){var t=Vi(e,2),n=t[0],r=t[1];return kn["messageSend"].request(n.payload,{address:r.partner,msgId:n.payload.message.message_identifier.toString()})})))}function Qi(e,t){return to(e)||eo(e,t)||Ji(e,t)||Zi()}function Zi(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ji(e,t){if(e){if("string"===typeof e)return zi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zi(e,t):void 0}}function zi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function eo(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,c=!1;try{for(n=n.call(e);!(o=(r=n.next()).done);o=!0)if(i.push(r.value),t&&i.length===t)break}catch(u){c=!0,a=u}finally{try{o||null==n["return"]||n["return"]()}finally{if(c)throw a}}return i}}function to(e){if(Array.isArray(e))return e}function no(e,t,n){var r=n.config$;return e.pipe(Object(S["a"])(Object(_e["e"])([ca["transferSigned"],ca["transferUnlock"].success,ca["transferExpire"].success,ca["transferSecretRequest"],ca["transferSecretReveal"]])),Object(U["a"])(t,r),Object(N["a"])((function(n){var a,i,o,c=Qi(n,3),u=c[0],s=c[1],l=c[2].revealTimeout,p=s.transfers[Object(Jt["n"])(u.meta)],f=t.pipe(Object(ee["g"])("transfers",Object(Jt["n"])(u.meta)));switch(u.type){case ca["transferSigned"].type:u.meta.direction===Zt["a"].SENT&&(a=u.payload.partner,i=u.payload.userId,o=f.pipe(Object(S["a"])((function(e){return!!(e.transferProcessed||e.unlockProcessed||e.expiredProcessed||e.channelClosed)}))));break;case ca["transferUnlock"].success.type:u.meta.direction===Zt["a"].SENT&&(a=u.payload.partner,i=u.payload.userId,o=f.pipe(Object(S["a"])((function(e){return!(!e.unlockProcessed&&!e.channelClosed)}))));break;case ca["transferExpire"].success.type:u.meta.direction===Zt["a"].SENT&&(a=u.payload.partner,o=f.pipe(Object(S["a"])((function(e){return!(!e.expiredProcessed&&!e.channelClosed)}))));break;case ca["transferSecretRequest"].type:u.meta.direction===Zt["a"].RECEIVED&&p&&(a=p.transfer.initiator,i=u.payload.userId,o=Object(h["a"])([t,f]).pipe(Object(S["a"])((function(e){var t=Qi(e,2),n=t[0].blockNumber,r=t[1];return!(!r.secretReveal&&!r.channelClosed)||n>r.expiration-l}))));break;case ca["transferSecretReveal"].type:u.meta.direction===Zt["a"].RECEIVED&&p&&(a=p.partner,i=u.payload.userId,o=f.pipe(Object(S["a"])((function(e){return!(!e.unlock&&!e.channelClosed)}))));break}return a&&o?Object(Qt["d"])(kn["messageSend"].request({message:u.payload.message,userId:i},{address:a,msgId:u.payload.message.message_identifier.toString()}),e,o,Object(ge["b"])(r)):K["a"]})))}function ro(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ao(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ro(Object(n),!0).forEach((function(t){io(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ro(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function io(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oo(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=lo(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw i}}}}function co(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function uo(e,t){return bo(e)||fo(e,t)||lo(e,t)||so()}function so(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function lo(e,t){if(e){if("string"===typeof e)return po(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?po(e,t):void 0}}function po(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function fo(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,c=!1;try{for(n=n.call(e);!(o=(r=n.next()).done);o=!0)if(i.push(r.value),t&&i.length===t)break}catch(u){c=!0,a=u}finally{try{o||null==n["return"]||n["return"]()}finally{if(c)throw a}}return i}}function bo(e){if(Array.isArray(e))return e}function yo(e,t,n){var r=n.address,a=n.log;return e.pipe(Object(S["a"])(Object(we["e"])(Object(te["j"])(En["g"]))),Object(U["a"])(t),Object(N["a"])(s.a.mark((function e(t){var n,i,o,c,u,l,p;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=uo(t,2),i=n[0],o=n[1],c=i.payload.message,u=Object(Jt["n"])({secrethash:c.secrethash,direction:Zt["a"].SENT}),l=o.transfers[u],l){e.next=6;break}return e.abrupt("return");case 6:if(p=l.transfer,p.initiator===r&&p.target===i.meta.address&&p.payment_identifier.eq(c.payment_identifier)){e.next=10;break}return a.warn("Invalid SecretRequest for transfer",c,p),e.abrupt("return");case 10:return e.next=12,Object(ca["transferSecretRequest"])({message:c,userId:i.payload.userId},{secrethash:c.secrethash,direction:Zt["a"].SENT});case 12:case"end":return e.stop()}}),e)}))))}var ho=function(e,t){var n=t.signer,r=t.log,a=t.latest$,i=e.payload.message;return a.pipe(Object(F["a"])(),Object(N["a"])((function(t){var a=t.state,o=a.transfers[Object(Jt["n"])(e.meta)];Object(Ee["d"])(null===o||void 0===o?void 0:o.secret,["SecretRequest for unknown secret",i]);var c,u=o.transfer,l=u.target,p=o.fee,f=u.lock.amount.sub(p);if(Object(Ee["d"])(i.expiration.lte(u.lock.expiration)&&i.expiration.gt(a.blockNumber),["SecretRequest for expired transfer",{request:i,lock:u.lock}]),Object(Ee["d"])(i.amount.gte(f),["SecretRequest for amount too small!",{request:i,value:f}]),i.amount.eq(f)||r.info("Accepted SecretRequest for amount greater than sent",i,u),o.secretReveal)c=Object(j["a"])(o.secretReveal);else{var d={type:En["d"].SECRET_REVEAL,message_identifier:Object(Jt["g"])(),secret:o.secret};c=Object(O["a"])(Object(we["g"])(n,d,{log:r}))}return c.pipe(Object(N["a"])(s.a.mark((function t(n){return s.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(ca["transferSecretReveal"])({message:n},e.meta);case 2:return t.next=4,kn["messageSend"].request({message:n,userId:e.payload.userId},{address:l,msgId:n.message_identifier.toString()});case 4:case"end":return t.stop()}}),t)}))))})),Object(L["a"])((function(t){return Object(j["a"])(ca["transfer"].failure(t,e.meta))})))};function mo(e,t,n){return co(t),e.pipe(Object(S["a"])(Object(_e["e"])(ca["transferSecretRequest"])),Object(S["a"])((function(e){return e.meta.direction===Zt["a"].SENT})),Object(J["a"])((function(e){return ho(e,n)})))}function vo(e,t,n){var r=n.config$;return e.pipe(Object(S["a"])(Object(we["e"])(En["h"])),Object(U["a"])(t,r),Object(N["a"])(s.a.mark((function e(t){var n,r,a,i,o,c,u,l,p,f,d,b,y,h;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=uo(t,3),r=n[0],a=n[1],i=n[2].caps,o=Object(Jt["e"])(r.payload.message.secret),c=Object.values(Zt["a"]).map((function(e){return a.transfers[Object(Jt["n"])({secrethash:o,direction:e})]})).filter(te["p"]),u=r.payload.message,l=oo(c.filter((function(e){return e.direction===Zt["a"].SENT}))),e.prev=5,l.s();case 7:if((p=l.n()).done){e.next=19;break}return f=p.value,d={secrethash:o,direction:Zt["a"].SENT},e.next=12,Object(ca["transferSecret"])({secret:u.secret},d);case 12:if(r.meta.address!==f.partner||f.channelClosed){e.next=17;break}return b=void 0,"signature"in u&&(b={userId:r.payload.userId}),e.next=17,ca["transferUnlock"].request(b,d);case 17:e.next=7;break;case 19:e.next=24;break;case 21:e.prev=21,e.t0=e["catch"](5),l.e(e.t0);case 24:return e.prev=24,l.f(),e.finish(24);case 27:if(Object(zt["b"])(i,pt["a"].RECEIVE)){e.next=29;break}return e.abrupt("return");case 29:y=oo(c.filter((function(e){return e.direction===Zt["a"].RECEIVED}))),e.prev=30,y.s();case 32:if((h=y.n()).done){e.next=38;break}return h.value,e.next=36,Object(ca["transferSecret"])({secret:u.secret},{secrethash:o,direction:Zt["a"].RECEIVED});case 36:e.next=32;break;case 38:e.next=43;break;case 40:e.prev=40,e.t1=e["catch"](30),y.e(e.t1);case 43:return e.prev=43,y.f(),e.finish(43);case 46:case"end":return e.stop()}}),e,null,[[5,21,24,27],[30,40,43,46]])}))))}function Oo(e,t,n){co(t);var r=n.log,a=n.signer,i=n.latest$;return e.pipe(Object(S["a"])(Object(_e["e"])([ca["transferSecret"],ca["transferSecretRegister"].success])),Object(S["a"])((function(e){return e.meta.direction===Zt["a"].RECEIVED})),Object(S["a"])((function(e){return ca["transferSecret"].is(e)||!!e.payload.confirmed})),Object(J["a"])((function(e){return i.pipe(Object(ee["g"])("state"),Object(F["a"])(),Object(S["a"])((function(t){var n=t.transfers;return Object(Jt["n"])(e.meta)in n})),Object(N["a"])((function(t){var n,i=t.transfers,o=i[Object(Jt["n"])(e.meta)],c=o.secretReveal;if(c)n=Object(j["a"])(Object(te["t"])(c));else{var u={type:En["d"].SECRET_REVEAL,message_identifier:Object(Jt["g"])(),secret:e.payload.secret};n=Object(O["a"])(Object(we["g"])(a,u,{log:r}))}var s=Object(Jt["m"])(o.transfer.metadata,o.partner);return n.pipe(Object(_["a"])((function(t){return Object(ca["transferSecretReveal"])(ao({message:t},s),e.meta)})))})),Object(L["a"])((function(t){return r.warn("Error trying to sign SecretReveal - ignoring",t,e.meta),K["a"]})))})))}function jo(e,t,n){co(e);var r=n.provider,a=n.secretRegistryContract,i=n.config$,o=n.init$,c=new ut["a"];return o.next(c),Object(z["b"])(r,a.filters.SecretRevealed(null,null),{confirmations:i.pipe(Object(P["a"])("confirmationBlocks")),blockNumber$:t.pipe(Object(ee["g"])("blockNumber")),onPastCompleted:function(){c.next(null),c.complete()}}).pipe(Object(ee["b"])(t),Object(_["a"])(Object(z["e"])(a)),Object(U["a"])(t,i),Object(N["a"])(s.a.mark((function e(t){var n,r,a,i,o,c,u,l,p,f,d,b,y,h;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=uo(t,3),r=uo(n[0],3),a=r[0],i=r[1],o=r[2],c=n[1],u=c.transfers,l=c.blockNumber,p=n[2].confirmationBlocks,f=0,d=Object.values(Zt["a"]);case 2:if(!(f<d.length)){e.next=13;break}if(b=d[f],y=Object(Jt["n"])({secrethash:a,direction:b}),h=u[y],h){e.next=8;break}return e.abrupt("continue",10);case 8:return e.next=10,ca["transferSecretRegister"].success({secret:i,txHash:o.transactionHash,txBlock:o.blockNumber,confirmed:o.blockNumber+p<=l?o.blockNumber<h.expiration:void 0},{secrethash:a,direction:b});case 10:f++,e.next=2;break;case 13:case"end":return e.stop()}}),e)}))))}function go(e){return e.pipe(Object(S["a"])(ca["transferSecretRegister"].success.is),Object(S["a"])((function(e){return!!e.payload.confirmed})),Object(_["a"])((function(e){return ca["transfer"].success({},e.meta)})))}function wo(e,t,n){var r=n.config$,a=n.latest$;return t.pipe(Object(U["a"])(r),Object(N["a"])((function(e){var t=uo(e,2),n=t[0],r=n.blockNumber,a=n.transfers,i=t[1].revealTimeout;return Object(O["a"])(Object.values(a).filter((function(e){return e.direction===Zt["a"].RECEIVED&&!e.unlock&&!e.expired&&!!e.secret&&!e.secretRegistered&&e.expiration>r&&e.expiration<=r+i})))})),Object(We["a"])((function(e){return e._id}),{duration:function(e){return a.pipe(Object(P["a"])("state"),Object(S["a"])((function(t){var n=t.blockNumber,r=t.transfers,a=r[e.key];return!a||a.expiration<n||!!a.unlock||!!a.secretRegistered})))}}),Object(N["a"])((function(t){return t.pipe(Object(X["a"])((function(t){var n={secrethash:t.secrethash,direction:Zt["a"].RECEIVED};return Object(Qt["a"])(e,ca["transferSecretRegister"].request({secret:t.secret},n),Object(_e["f"])(ca["transferSecretRegister"],n))})),Object(M["a"])(t.pipe(Object(T["a"])(),Object(G["a"])(1))))})),Object(ee["k"])(r.pipe(Object(P["a"])("caps"),Object(_["a"])((function(e){return Object(zt["b"])(e,pt["a"].RECEIVE)})),Object(ee["b"])(e))))}function _o(e,t,n){co(t);var r=n.log,a=n.secretRegistryContract,i=n.config$;return e.pipe(Object(S["a"])(ca["transferSecretRegister"].request.is),Object(N["a"])((function(e){return Object(Se["f"])(a,"registerSecret",[e.payload.secret],n,{error:Ee["b"].XFER_REGISTERSECRET_TX_FAILED}).pipe(Object(ee["j"])(Object(ge["b"])(i),{onErrors:Ee["f"],log:r.debug}),Object(T["a"])(),Object(L["a"])((function(t){return Object(j["a"])(ca["transferSecretRegister"].failure(t,e.meta))})))})))}var ko=n("fd2c");function Eo(e,t){return Ao(e)||So(e,t)||xo(e,t)||To()}function To(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function So(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,c=!1;try{for(n=n.call(e);!(o=(r=n.next()).done);o=!0)if(i.push(r.value),t&&i.length===t)break}catch(u){c=!0,a=u}finally{try{o||null==n["return"]||n["return"]()}finally{if(c)throw a}}return i}}function Ao(e){if(Array.isArray(e))return e}function Po(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=xo(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw i}}}}function xo(e,t){if(e){if("string"===typeof e)return No(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?No(e,t):void 0}}function No(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Io(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function Do(e,t){return Io(e),t.pipe(Object(F["a"])(),Object(N["a"])(s.a.mark((function e(t){var n,r,a,i,o,c;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=0,r=Object.values(t.channels);case 1:if(!(n<r.length)){e.next=31;break}if(a=r[n],a.state===Te["b"].open){e.next=5;break}return e.abrupt("continue",28);case 5:i=Po(a.own.pendingWithdraws),e.prev=6,i.s();case 8:if((o=i.n()).done){e.next=20;break}if(c=o.value,c.type!==_a["a"].WITHDRAW_REQUEST||a.own.pendingWithdraws.some(Object(Qt["c"])(_a["a"].WITHDRAW_CONFIRMATION,c))){e.next=15;break}return e.next=13,ca["withdrawMessage"].request({message:c},{direction:Zt["a"].SENT,tokenNetwork:a.tokenNetwork,partner:a.partner.address,totalWithdraw:c.total_withdraw,expiration:c.expiration.toNumber()});case 13:e.next=18;break;case 15:if(c.type!==_a["a"].WITHDRAW_EXPIRED){e.next=18;break}return e.next=18,ca["withdrawExpire"].success({message:c},{direction:Zt["a"].SENT,tokenNetwork:a.tokenNetwork,partner:a.partner.address,totalWithdraw:c.total_withdraw,expiration:c.expiration.toNumber()});case 18:e.next=8;break;case 20:e.next=25;break;case 22:e.prev=22,e.t0=e["catch"](6),i.e(e.t0);case 25:return e.prev=25,i.f(),e.finish(25);case 28:n++,e.next=1;break;case 31:case"end":return e.stop()}}),e,null,[[6,22,25,28]])}))))}function Ro(e,t,n){Io(t);var r=n.getTokenNetworkContract;return e.pipe(Object(ee["c"])(Bn["matrixPresence"],(function(t){return e.pipe(Object(S["a"])(ca["withdrawResolve"].is),Object(N["a"])((function(e){var n,a=Object(j["a"])(!0);if(null!==(n=e.payload)&&void 0!==n&&n.coopSettle){var i=r(e.meta.tokenNetwork);a=Object(z["a"])(i,"cooperativeSettle")}return a.pipe(Object(Fe["a"])(t(Bn["matrixPresence"].request(void 0,{address:e.meta.partner}))),Object(_["a"])((function(t){return Object(Ee["d"])(t.payload.available,"partner offline"),ca["withdraw"].request(e.payload,e.meta)})),Object(L["a"])((function(t){return Object(j["a"])(ca["withdraw"].failure(t,e.meta))})))})))})))}function Co(e,t,n){var r=n.config$;return e.pipe(Object(S["a"])(ca["withdrawMessage"].request.is),Object(S["a"])((function(e){return e.meta.direction===Zt["a"].SENT})),Object(N["a"])((function(n){var a=n.payload.message,i=kn["messageSend"].request({message:a},{address:n.meta.partner,msgId:a.message_identifier.toString()}),o=t.pipe(Object(S["a"])((function(e){var t=e.channels[Object(Se["b"])(n.meta)];return(null===t||void 0===t?void 0:t.state)!==Te["b"].open||t.own.pendingWithdraws.some(Object(Qt["c"])(_a["a"].WITHDRAW_CONFIRMATION,n.meta))||!t.own.pendingWithdraws.some(Object(Qt["c"])(_a["a"].WITHDRAW_REQUEST,n.meta))})));return Object(Qt["d"])(i,e,o,Object(ge["b"])(r))})))}function Mo(e,t,n){Io(t);var r=n.address,a=n.log,i=n.getTokenNetworkContract,o=n.latest$,c=n.config$;return e.pipe(Object(S["a"])(ca["withdrawMessage"].success.is),Object(S["a"])((function(e){return e.meta.direction===Zt["a"].SENT})),Object(We["a"])((function(e){return Object(Se["b"])(e.meta)})),Object(N["a"])((function(t){return t.pipe(Object(J["a"])((function(u){return Object(h["a"])([o,c]).pipe(Object(F["a"])(),Object(N["a"])((function(o){var s=Eo(o,2),l=s[0].state,p=s[1].revealTimeout,f=l.channels[t.key];Object(Ee["d"])((null===f||void 0===f?void 0:f.state)===Te["b"].open,"channel not open");var d=f.own.pendingWithdraws.find(Object(Qt["c"])(_a["a"].WITHDRAW_REQUEST,u.payload.message));if(Object(Ee["d"])(d,"no matching WithdrawRequest found"),"coop_settle"in d)return K["a"];Object(Ee["d"])(u.meta.totalWithdraw.gt(f.own.withdraw),"withdraw already performed"),Object(Ee["d"])(d.expiration.gte(l.blockNumber+p),Ee["b"].CNL_WITHDRAW_EXPIRES_SOON);var b=u.meta.tokenNetwork;return Object(Se["f"])(i(b),"setTotalWithdraw",[f.id,r,u.meta.totalWithdraw,u.meta.expiration,d.signature,u.payload.message.signature],n,{error:Ee["b"].CNL_WITHDRAW_TRANSACTION_FAILED}).pipe(Object(ee["j"])(Object(ge["b"])(c),{maxRetries:5,onErrors:Ee["f"],log:a.info}),Object(N["a"])((function(t){var n=Eo(t,2),r=n[1];return e.pipe(Object(S["a"])(Object(_e["f"])(ca["withdraw"],u.meta)),Object(x["a"])(1),Object(T["a"])(),Object(A["a"])(ca["withdraw"].success({txHash:r.transactionHash,txBlock:r.blockNumber,confirmed:void 0},u.meta)))})),Object(A["a"])(Object(ca["withdrawBusy"])(void 0,u.meta)))})),Object(L["a"])((function(e){return Object(j["a"])(ca["withdraw"].failure(e,u.meta))})))})))})))}function Lo(e,t,n){Io(t);var r=n.signer,a=n.log,i=new ii["a"](32);return e.pipe(Object(S["a"])(Object(_e["e"])([ca["withdrawMessage"].request,ca["withdrawMessage"].success])),Object(S["a"])((function(e){return e.meta.direction===Zt["a"].RECEIVED!==ca["withdrawMessage"].success.is(e)})),Object(U["a"])(e.pipe(Object(zt["c"])())),Object(J["a"])((function(e){var t=Eo(e,2),n=t[0],o=t[1];return Object(q["a"])((function(){if(Object(zt["f"])(o[n.meta.partner]))return K["a"];var e,t=n.payload.message,c=t.message_identifier.toString(),u=i.get(c);if(u)e=Object(j["a"])(u);else{var s={type:_a["a"].PROCESSED,message_identifier:t.message_identifier};e=Object(O["a"])(Object(_a["g"])(r,s,{log:a})).pipe(Object(E["a"])((function(e){return i.set(c,e)})))}return e.pipe(Object(_["a"])((function(e){return kn["messageSend"].request({message:e},{address:n.meta.partner,msgId:e.message_identifier.toString()})})))})).pipe(Object(L["a"])((function(e){return a.info("Signing Processed message for Withdraw message failed, ignoring",e),K["a"]})))})))}function Uo(e){return"".concat(Object(Se["b"])(e),"|").concat(e.expiration,"|").concat(e.totalWithdraw.toString())}function Bo(e,t,n){var r=n.config$,a=new Set,i=new Set;return e.pipe(Object(S["a"])(V["newBlock"].is),Object(P["a"])("payload","blockNumber"),Object(U["a"])(t,r,e.pipe(Object(S["a"])(Object(_e["e"])([ca["withdrawBusy"],ca["withdraw"].success,ca["withdraw"].failure])),Object(I["a"])((function(e,t){var n=Uo(t.meta);return ca["withdrawBusy"].is(t)?e.add(n):e.delete(n),e}),i),Object(A["a"])(i))),Object(N["a"])(s.a.mark((function e(t){var n,r,i,o,c,u,l,p,f,d,b,y,h,m,v;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=Eo(t,4),r=n[0],i=n[1],o=n[2],c=o.confirmationBlocks,u=o.revealTimeout,l=n[3],p=0,f=Object.values(i.channels);case 2:if(!(p<f.length)){e.next=36;break}if(d=f[p],d.state===Te["b"].open){e.next=6;break}return e.abrupt("continue",33);case 6:b=d.own.pendingWithdraws.filter(Object(Qt["c"])(_a["a"].WITHDRAW_REQUEST)),y=Po(b),e.prev=8,y.s();case 10:if((h=y.n()).done){e.next=25;break}if(m=h.value,!l.has(Uo(Object(Qt["e"])(m,d)))){e.next=14;break}return e.abrupt("continue",23);case 14:if(!m.expiration.lt(i.blockNumber+u)){e.next=20;break}if(v=m.message_identifier.toHexString(),a.has(v)){e.next=20;break}return a.add(v),e.next=20,ca["withdraw"].failure(new Ee["c"](Ee["b"].CNL_WITHDRAW_EXPIRED),Object(Qt["e"])(m,d));case 20:if(!m.expiration.lt(r+2*c)||d.own.pendingWithdraws.some(Object(Qt["c"])(_a["a"].WITHDRAW_EXPIRED,m))){e.next=23;break}return e.next=23,ca["withdrawExpire"].request(void 0,{direction:Zt["a"].SENT,tokenNetwork:d.tokenNetwork,partner:d.partner.address,expiration:m.expiration.toNumber(),totalWithdraw:m.total_withdraw});case 23:e.next=10;break;case 25:e.next=30;break;case 27:e.prev=27,e.t0=e["catch"](8),y.e(e.t0);case 30:return e.prev=30,y.f(),e.finish(30);case 33:p++,e.next=2;break;case 36:case"end":return e.stop()}}),e,null,[[8,27,30,33]])}))))}function Fo(e,t,n){Io(t);var r=n.config$;return e.pipe(Object(S["a"])(ca["withdrawExpire"].success.is),Object(S["a"])((function(e){return e.meta.direction===Zt["a"].SENT})),Object(N["a"])((function(t){var n=t.payload.message,a=kn["messageSend"].request({message:n},{address:t.meta.partner,msgId:n.message_identifier.toString()}),i=e.pipe(Object(S["a"])(Object(_a["f"])(Object(te["j"])(_a["b"]))),Object(S["a"])((function(e){return e.meta.address===t.meta.partner&&e.payload.message.message_identifier.eq(n.message_identifier)})),Object(x["a"])(1),Object(Z["a"])(Object(ca["withdrawCompleted"])(void 0,t.meta)),Object(ko["a"])());return Object(m["a"])(Object(Qt["d"])(a,e,i,Object(ge["b"])(r)),i)})))}var Wo,Vo=n("2111"),$o=n("ee53"),Ho=n("c96b"),qo=n("393f"),Ko=n("b2c5"),Go=n("5e25a"),Yo=n("1e71"),Xo=n("8045"),Qo=n("247b"),Zo=n("aaf7");function Jo(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function zo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ec(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zo(Object(n),!0).forEach((function(t){sc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tc(e,t){return oc(e)||ic(e,t)||rc(e,t)||nc()}function nc(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function rc(e,t){if(e){if("string"===typeof e)return ac(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ac(e,t):void 0}}function ac(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ic(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,c=!1;try{for(n=n.call(e);!(o=(r=n.next()).done);o=!0)if(i.push(r.value),t&&i.length===t)break}catch(u){c=!0,a=u}finally{try{o||null==n["return"]||n["return"]()}finally{if(c)throw a}}return i}}function oc(e){if(Array.isArray(e))return e}function cc(e,t,n,r,a,i,o){try{var c=e[i](o),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function uc(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){cc(i,r,a,o,c,"next",e)}function c(e){cc(i,r,a,o,c,"throw",e)}o(void 0)}))}}function sc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var lc,pc="m.notice";(function(e){e["offer"]="offer",e["answer"]="answer",e["candidates"]="candidates",e["hangup"]="hangup"})(lc||(lc={}));var fc=Vo["o"](Vo["i"]([Vo["u"]({type:Vo["k"](lc.offer),sdp:Vo["r"]}),Vo["n"]({call_id:Vo["r"]})])),dc=Vo["o"](Vo["i"]([Vo["u"]({type:Vo["k"](lc.answer),sdp:Vo["r"]}),Vo["n"]({call_id:Vo["r"]})])),bc=Vo["o"](Vo["i"]([Vo["u"]({type:Vo["k"](lc.candidates),candidates:Vo["p"](Vo["x"])}),Vo["n"]({call_id:Vo["r"]})])),yc=Vo["o"](Vo["i"]([Vo["u"]({type:Vo["k"](lc.hangup)}),Vo["n"]({call_id:Vo["r"]})])),hc=(Wo={},sc(Wo,lc.offer,fc),sc(Wo,lc.answer,dc),sc(Wo,lc.candidates,bc),sc(Wo,lc.hangup,yc),Wo);function mc(e){var t;return Array.isArray(e)&&3===e.length&&(null===(t=e[1])||void 0===t?void 0:t.readyState)}var vc="peer hung up",Oc="channel closed",jc="ping",gc=["failed","closed","disconnected"],wc=new WeakMap;function _c(e){return kc.apply(this,arguments)}function kc(){return kc=uc(s.a.mark((function e(t){var n,r,a,i;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=wc.get(t),!(n&&Date.now()<n[0])){e.next=3;break}return e.abrupt("return",n[1]);case 3:return e.next=5,t.turnServer().catch((function(){}));case 5:return r=e.sent,a=Date.now()+36e5,i=[],r&&"uris"in r&&(i.push({urls:r.uris,username:r.username,credentialType:"password",credential:r.password}),a=Date.now()+1e3*r.ttl),wc.set(t,[a,i]),e.abrupt("return",i);case 11:case"end":return e.stop()}}),e)}))),kc.apply(this,arguments)}function Ec(e,t,n){var r=n.peer,a=n.callId,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=i.log;return e.pipe(Object(S["a"])(kn["messageReceived"].is),Object(S["a"])((function(e){var t=e.meta,n=e.payload;return t.address===r.meta.address&&n.msgtype===pc})),Object(N["a"])(s.a.mark((function e(n){var r;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,r=Object(ke["b"])(n.payload.text),r["type"]!==t){e.next=5;break}return e.next=5,Object(te["n"])(hc[t],r);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),null===o||void 0===o||o.info("Failed to decode WebRTC signaling message, ignoring",{text:n.payload.text,peerAddr:n.meta.address,peerId:n.payload.userId,error:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Object(S["a"])((function(e){return!a||e.call_id===a})))}function Tc(e,t,n,r){var a=r.log;return Object(m["a"])(Ec(t,lc.candidates,n,{log:a}).pipe(Object(E["a"])((function(e){return a.debug("RTC: received candidates",n.callId,e.candidates)})),Object(N["a"])((function(e){var t;return Object(O["a"])(null!==(t=e.candidates)&&void 0!==t?t:[])})),Object(N["a"])(function(){var t=uc(s.a.mark((function t(r){return s.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.addIceCandidate(r);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t["catch"](0),a.warn("RTC: error setting candidate, ignoring",n.callId,e.connectionState,r,t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e){return t.apply(this,arguments)}}()),Object(T["a"])()),Object($o["a"])(e,"icecandidate").pipe(Object(P["a"])("candidate"),Object(Go["a"])(te["p"]),Object(Yo["a"])(10),Object(S["a"])((function(e){return e.length>0})),Object(E["a"])((function(e){return a.debug("RTC: got candidates",n.callId,e)})),Object(_["a"])((function(e){var t={type:lc.candidates,candidates:e,call_id:n.callId};return kn["messageSend"].request({message:Object(ke["c"])(t),msgtype:pc,userId:n.peer.payload.userId},{address:n.peer.meta.address,msgId:Object(Jt["g"])().toString()})}))))}function Sc(e,t,n,r){var a=tc(e,3),i=a[0],o=a[1],c=a[2],u=tc(t,2),s=u[0],l=u[1],p=n.httpTimeout;return Object(m["a"])(Object($o["a"])(i,"connectionstatechange").pipe(Object(A["a"])(null),Object(N["a"])((function(){if(gc.includes(i.connectionState))throw new Error("RTC: connection failed");return K["a"]}))),Object($o["a"])(o,"close").pipe(Object(_["a"])((function(){throw new Error(Oc)}))),Object($o["a"])(o,"error").pipe(Object(P["a"])("error"),Object(N["a"])(qn["a"])),Ec(s,lc.hangup,c,r).pipe(Object(_["a"])((function(){throw new Error(vc)}))),Object($o["a"])(o,"open").pipe(Object(x["a"])(1),Object(ee["l"])(p),Object(_["a"])((function(){return r.log.info("RTC: dataChannel open",o.label),c.callId=o.label,o.send(jc),l.next(!0),l.complete(),Object(Bn["rtcChannel"])(o,c.peer.meta)}))),Object($o["a"])(o,"message").pipe(Object(E["a"])((function(e){return r.log.debug("RTC: dataChannel message",o.label,e)})),Object(P["a"])("data"),Object(S["a"])((function(e){return"string"===typeof e})),Object(S["a"])((function(e){return e!==jc})),Object(N["a"])((function(e){return Object(O["a"])(e.split("\n"))})),Object(Xo["a"])(Ho["a"]),Object(_["a"])((function(e){return Object(kn["messageReceived"])({text:e,message:Object(we["f"])(e,c.peer,r),ts:Date.now(),userId:c.peer.payload.userId},c.peer.meta)})))).pipe(Object(D["a"])((function(){return i.close()})))}function Ac(e,t){var n=t.config$;return function(r){var a;return Object(q["a"])((function(){return a=new ut["a"],r.pipe(Object(M["a"])(a))})).pipe(Object(ee["f"])(mc,Object(qo["a"])(Object(U["a"])(n),Object(Q["a"])((function(n){var r=tc(n,2),i=r[0],o=r[1];return Sc(i,[e,a],o,t)})))))}}function Pc(e,t,n){var r=tc(t,2),a=r[0],i=r[1],o=n.matrix$,c=n.config$,u=n.log,l={callId:i.call_id,peer:a};u.info("RTC: callee answering",l);var p=new ut["a"];return o.pipe(Object(N["a"])(function(){var e=uc(s.a.mark((function e(t){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",_c(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(U["a"])(c),Object(N["a"])((function(t){var r=tc(t,2),o=r[0],c=r[1].fallbackIceServers,u=new RTCPeerConnection({iceServers:o.concat(c)}),f=0;return Object(m["a"])(Tc(u,e,l,n).pipe(Object(B["a"])(H()(p))),Object(q["a"])(uc(s.a.mark((function e(){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",u.setRemoteDescription(i));case 1:case"end":return e.stop()}}),e)})))).pipe(Object(N["a"])(uc(s.a.mark((function e(){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",u.createAnswer());case 1:case"end":return e.stop()}}),e)})))),Object(ee["m"])(function(){var e=uc(s.a.mark((function e(t){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",u.setLocalDescription(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(N["a"])((function(t){var n=tc(t,1),r=n[0],i={type:r.type,sdp:r.sdp,call_id:l.callId},o=kn["messageSend"].request({message:Object(ke["c"])(i),msgtype:pc,userId:a.payload.userId},ec(ec({},a.meta),{},{msgId:Object(Jt["g"])().toString()}));return Object(Qt["a"])(e,o,Object(_e["g"])(kn["messageSend"],o.meta))})),Object(D["a"])((function(){return p.next(!0),p.complete()}))),Object($o["a"])(u,"datachannel").pipe(Object(_["a"])((function(e){var t=e.channel;return++f,[u,t,l]})),Object(x["a"])(1),Object(D["a"])((function(){return f?null:u.close()}))))})),Ac(e,n))}function xc(e,t,n,r){var a=tc(n,2),i=a[0],o=a[1];return Object(m["a"])(Ec(i,lc.answer,t[2],r).pipe(Object(x["a"])(1),Object(N["a"])(function(){var e=uc(s.a.mark((function e(n){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r.log.info("RTC: got answer",n.call_id),e.next=3,t[0].setRemoteDescription(n);case 3:return e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(D["a"])((function(){return o.next(!0),o.complete()}))),Object(Qt["a"])(i,e,Object(_e["g"])(kn["messageSend"],e.meta)).pipe(Object(G["a"])(t)))}function Nc(e,t,n){var r=n.matrix$,a=n.config$,i=n.log,o=n.address;return r.pipe(Object(N["a"])(function(){var e=uc(s.a.mark((function e(t){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",_c(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(U["a"])(a),Object(N["a"])((function(r){var a=tc(r,2),c=a[0],u=a[1].fallbackIceServers,l={callId:"".concat(o,"|").concat(e.meta.address,"|").concat(Date.now()),peer:e};i.info("RTC: caller calling",l);var p=new RTCPeerConnection({iceServers:c.concat(u)}),f=p.createDataChannel(l.callId,{ordered:!1}),d=new ut["a"],b=0;return Object(m["a"])(Tc(p,t,l,n).pipe(Object(B["a"])(H()(d))),Object(q["a"])(uc(s.a.mark((function e(){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",p.createOffer());case 1:case"end":return e.stop()}}),e)})))).pipe(Object(N["a"])(function(){var e=uc(s.a.mark((function e(t){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,p.setLocalDescription(t);case 2:return e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(N["a"])((function(e){var r={type:e.type,sdp:e.sdp,call_id:l.callId},a=kn["messageSend"].request({message:Object(ke["c"])(r),msgtype:pc,userId:l.peer.payload.userId},{address:l.peer.meta.address,msgId:Object(Jt["g"])().toString()});return xc(a,[p,f,l],[t,d],n)})))).pipe(Object(S["a"])((function(e){return!mc(e)||!b++})),Object(D["a"])((function(){return b?null:p.close()})))})),Ac(t,n))}function Ic(e,t,n){return e.pipe(Object(ee["c"])(Bn["matrixPresence"],(function(r){return r(Bn["matrixPresence"].request(void 0,{address:t})).pipe(Object(N["a"])((function(t){return Object(Ee["d"])(Object(zt["b"])(t.payload.caps,pt["a"].WEBRTC),"peer doesn't support RTC"),Nc(t,e,n)})))})))}function Dc(e,t,n){var r=n.log,a=n.config$;return Object(qo["a"])(Object(Q["a"])((function(n){var i,o,c=tc(n,3),u=c[2];return u.pipe(Object(E["a"])((function(e){!i&&Bn["rtcChannel"].is(e)&&e.payload&&t.next([!0,i=e.payload])})),Object(L["a"])((function(t){return r.info("RTC: callee channel error",e,t.message),o=t,K["a"]})),Object(M["a"])(a.pipe(Object(k["a"])((function(e,t){var n=e.caps,r=t.caps;return y()(n,r)})),Object(Qo["a"])(1),Object(B["a"])((function(e){var t=e.pollingInterval;return Object(g["a"])(t)})))),Object(D["a"])((function(){r.info("RTC: callee disconnecting",e),i&&t.next([!1,i,o])})),Object(M["a"])(t.pipe(Object(S["a"])((function(e){var t=tc(e,2),n=t[0],r=t[1];return n&&r!==i})))))})))}function Rc(e,t,n){var r=n.log,a=n.config$;return Object(qo["a"])(Object(X["a"])((function(n){var i,o,c=tc(n,3),u=c[2];return Object(q["a"])((function(){return i=void 0,o=void 0,u.pipe(Object(E["a"])({next:function(e){!i&&Bn["rtcChannel"].is(e)&&e.payload&&t.next([!0,i=e.payload])},error:function(t){r.info("RTC: caller channel error",e,t.message),o=t}}),Object(M["a"])(a.pipe(Object(k["a"])((function(e,t){var n=e.caps,r=t.caps;return y()(n,r)})),Object(Qo["a"])(1),Object(B["a"])((function(e){var t=e.pollingInterval;return Object(g["a"])(t)})))),Object(D["a"])((function(){i&&t.next([!1,i,o])})))})).pipe(Object(Zo["a"])(Object(qo["a"])(Object(U["a"])(a),Object(N["a"])((function(t,n){var a=tc(t,2),i=a[1],o=i.pollingInterval,c=i.httpTimeout;if(n>=5)return Object(j["a"])(!0);var u=Math.min(o*Math.pow(2,n),2*c);return r.info("RTC: caller retrying in",u,e,n),Object(g["a"])(u)})),Object(Go["a"])((function(e){return!0!==e})),Object(D["a"])((function(){return r.info("RTC: caller giving up",e)})))),Object(M["a"])(t.pipe(Object(S["a"])((function(e){var t=tc(e,2),n=t[0],r=t[1];return n&&r!==i})))))})))}function Cc(){return function(e){return e.pipe(Object(S["a"])(kn["messageReceived"].is),Object(U["a"])(e.pipe(Object(zt["d"])())),Object(S["a"])((function(e){var t=tc(e,2),n=t[0],r=t[1];return n.payload.msgtype===pc&&!!n.payload.userId&&n.payload.userId in r})),Object(N["a"])(s.a.mark((function e(t){var n,r,a,i;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=tc(t,2),r=n[0],a=n[1],e.prev=1,i=Object(ke["b"])(r.payload.text),i["type"]!==lc.offer){e.next=6;break}return e.next=6,[a[r.payload.userId],Object(te["n"])(hc[lc.offer],i)];case 6:e.next=10;break;case 8:e.prev=8,e.t0=e["catch"](1);case 10:case"end":return e.stop()}}),e,null,[[1,8]])}))))}}function Mc(e,t){var n=t.address,r=t.config$,a=K["a"];return V["channelMonitored"].is(e)?a=Object(j["a"])(e.meta.partner):ca["transferSigned"].is(e)?e.meta.direction!==Zt["a"].RECEIVED||e.payload.message.target!==n||"secret"in e.payload.message.metadata||(a=Object(j["a"])(e.payload.message.initiator)):kn["messageSend"].request.is(e)&&e.payload.msgtype!==pc?a=Object(j["a"])(e.meta.address):Bn["rtcChannel"].is(e)&&!e.payload&&(a=r.pipe(Object(F["a"])(),Object(N["a"])((function(e){var t=e.pollingInterval;return Object(g["a"])(t)})),Object(Z["a"])(e.meta.address))),a}function Lc(e,t){return Object(qo["a"])(Object(N["a"])(s.a.mark((function n(r){var a,i,o,c,u,l;return s.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(a=tc(r,3),i=a[0],o=a[1],c=a[2],!i){n.next=4;break}return t.push(o),n.abrupt("return");case 4:if(Object(te["q"])(t)!==o){n.next=10;break}return t.pop(),n.next=8,Object(Bn["rtcChannel"])(Object(te["q"])(t),{address:e});case 8:n.next=12;break;case 10:u=t.indexOf(o),u>=0&&t.splice(u,1);case 12:if(Object(Ee["g"])([vc,Oc],c)){n.next=16;break}return l={type:lc.hangup,call_id:o.label},n.next=16,kn["messageSend"].request({message:Object(ke["c"])(l),msgtype:pc},{address:e,msgId:Object(Jt["g"])().toString()});case 16:case"end":return n.stop()}}),n)}))))}function Uc(e,t,n){Jo(t);var r=e.pipe(Cc(),Object(_["a"])((function(t){var r=tc(t,2),a=r[0],i=r[1];return[a.meta.address,"callee",Pc(e,[a,i],n)]}))),a=e.pipe(Object(N["a"])((function(e){return Mc(e,n)})),Object(_["a"])((function(t){return[t,"caller",Ic(e,t,n)]})));return Object(m["a"])(r,a).pipe(Object(We["a"])((function(e){var t=tc(e,1),n=t[0];return n})),Object(N["a"])((function(t){var r=t.key,a=[],i=new Ko["a"];return Object(m["a"])(t.pipe(Object(We["a"])((function(e){var t=tc(e,2),n=t[1];return n})),Object(N["a"])((function(e){return"callee"===e.key?e.pipe(Dc(r,i,n)):e.pipe(Object(S["a"])((function(){return!a.length})),Rc(r,i,n))})),Object(ee["b"])(e),Object(D["a"])((function(){return setTimeout((function(){return i.complete()}),10)}))),i.pipe(Lc(r,a)))})),Object(ee["k"])(n.config$.pipe(Object(P["a"])("caps",pt["a"].WEBRTC),Object(ee["b"])(e))))}var Bc=n("178d"),Fc=n("b993"),Wc=n("0223");n("759f");function Vc(e){var t=/^(?:\w*:?\/\/)?([^/#?&]+)/.exec(e);return t&&t[1]}function $c(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function Hc(e,t){return Xc(e)||Yc(e,t)||Kc(e,t)||qc()}function qc(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Kc(e,t){if(e){if("string"===typeof e)return Gc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Gc(e,t):void 0}}function Gc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Yc(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,c=!1;try{for(n=n.call(e);!(o=(r=n.next()).done);o=!0)if(i.push(r.value),t&&i.length===t)break}catch(u){c=!0,a=u}finally{try{o||null==n["return"]||n["return"]()}finally{if(c)throw a}}return i}}function Xc(e){if(Array.isArray(e))return e}function Qc(e,t,n,r,a,i,o){try{var c=e[i](o),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function Zc(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){Qc(i,r,a,o,c,"next",e)}function c(e){Qc(i,r,a,o,c,"throw",e)}o(void 0)}))}}function Jc(e){return zc.apply(this,arguments)}function zc(){return zc=Zc(s.a.mark((function e(t){var n,r,a,i=arguments;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:[],r={not_rooms:n,ephemeral:{not_types:["m.receipt","m.typing"]},timeline:{limit:0,not_senders:[t.getUserId()]}},a={room:r},e.abrupt("return",t.createFilter(a));case 4:case"end":return e.stop()}}),e)}))),zc.apply(this,arguments)}function eu(e,t,n){var r=n.matrix$,a=n.config$,i=n.init$;return e.pipe(Object(S["a"])(Bn["matrixSetup"].is),Object(x["a"])(1),Object(E["a"])((function(){r.next(t),r.complete()})),Object(N["a"])((function(){return Object(q["a"])(Zc(s.a.mark((function e(){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all([Jc(t),t.setPushRuleEnabled("global","override",".m.rule.master",!0)]));case 1:case"end":return e.stop()}}),e)})))).pipe(Object(B["a"])((function(){return i.pipe(Object(T["a"])(),Object(G["a"])(!0))})),Object(N["a"])(function(){var e=Zc(s.a.mark((function e(n){var r,a;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=Hc(n,1),a=r[0],e.abrupt("return",t.startClient({filter:a}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(ee["j"])(Object(ge["b"])(a),{onErrors:Ee["h"],maxRetries:3}))})),Object(T["a"])())}function tu(e,t){return e.includes("://")||(e="https://"+e),Object(q["a"])((function(){var n=Date.now();return Object(Kn["a"])(e+"/_matrix/client/versions").pipe(Object(Gn["a"])(t),Object(_["a"])((function(e){var t=e.ok;return t?Date.now():NaN})),Object(L["a"])((function(){return Object(j["a"])(NaN)})),Object(_["a"])((function(t){return{server:e,rtt:t-n}})))}))}var nu=Vo["u"]({active_servers:Vo["c"](Vo["r"]),all_servers:Vo["c"](Vo["r"])});function ru(e,t){return Object(Kn["a"])(e).pipe(Object(N["a"])(function(){var t=Zc(s.a.mark((function t(n){return s.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return Object(ai["a"])(n.ok,'Could not fetch server list from "'.concat(e,'" => ').concat(n.status)),t.abrupt("return",n.json());case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),Object(Gn["a"])(t),Object(N["a"])((function(e){return Object(te["n"])(nu,e).active_servers})),Object(N["a"])((function(e){return tu(e,t)})),Object(st["a"])(),Object(N["a"])((function(e){return ct()(e,["rtt"])})),Object(S["a"])((function(e){var t=e.rtt;return!isNaN(t)})),Object(Wc["a"])((function(){return new Ee["c"](Ee["b"].TRNS_NO_MATRIX_SERVERS)})))}function au(e,t,n){var r=n.address,a=n.signer,i=n.config$,o=Vc(e);return Object(ai["a"])(o,[Ee["b"].TRNS_NO_SERVERNAME,{server:e}]),i.pipe(Object(F["a"])(),Object(N["a"])((function(n){var c=n.pollingInterval;if(t){var u=Object(Bc["createClient"])({baseUrl:e,userId:t.userId,accessToken:t.accessToken,deviceId:t.deviceId});return Object(j["a"])({matrix:u,server:e,setup:t,pollingInterval:c})}var l=Object(Bc["createClient"])({baseUrl:e}),p=r.toLowerCase(),f="@".concat(p,":").concat(o);return Object(O["a"])(a.signMessage(o)).pipe(Object(N["a"])((function(e){return Object(q["a"])(Zc(s.a.mark((function t(){return s.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",l.login("m.login.password",{identifier:{type:"m.id.user",user:p},password:e,device_id:pt["f"]}));case 1:case"end":return t.stop()}}),t)})))).pipe(Object(L["a"])(function(){var t=Zc(s.a.mark((function t(n){return s.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l.registerRequest({username:p,password:e,device_id:pt["f"]});case 3:return t.abrupt("return",t.sent);case 6:throw t.prev=6,t.t0=t["catch"](0),n;case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()),Object(ee["j"])(Object(ge["b"])(i),{onErrors:Ee["h"],maxRetries:3}))})),Object(N["a"])((function(t){var n=t.access_token,r=t.device_id,i=t.user_id;return Object(ai["a"])(i===f,["Wrong login/register user_id",{user_id:i,userId:f}]),l.deviceId=r,l.http.opts.accessToken=n,l.credentials={userId:f},Object(O["a"])(a.signMessage(f)).pipe(Object(_["a"])((function(t){return{matrix:l,server:e,setup:{userId:f,accessToken:n,deviceId:r,displayName:t}}})))})))})),Object(N["a"])((function(e){var t=e.matrix,n=e.server,r=e.setup;return Object(q["a"])(Zc(s.a.mark((function e(){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t.setDisplayName(r.displayName));case 1:case"end":return e.stop()}}),e)})))).pipe(Object(ee["j"])(Object(ge["b"])(i),{onErrors:Ee["h"]}),Object(Z["a"])({matrix:t,server:n,setup:r}))})))}function iu(e,t,n){$c(t);var r=n.matrix$,a=n.latest$,i=n.config$,o=n.init$;return Object(h["a"])([a,i]).pipe(Object(F["a"])(),Object(N["a"])((function(e){var t=Hc(e,2),a=t[0].state,i=t[1],c=i.matrixServer,u=i.matrixServerLookup,s=i.httpTimeout,l=a.transport.server,p=a.transport.setup;o.next(r);var f,d=[];c?(c===l&&d.push(Object(j["a"])({server:l,setup:p})),d.push(Object(j["a"])({server:c}))):(l&&d.push(Object(j["a"])({server:l,setup:p})),d.push(ru(u,s)));var b=function(e){return f=e,K["a"]};return Object(q["a"])((function(){return d.shift()||K["a"]})).pipe(Object(L["a"])(b),Object(J["a"])((function(e){var t=e.server,r=e.setup;return au(t,r,n).pipe(Object(L["a"])(b))})),Object(F["a"])(),Object(E["a"])((function(e){var t=e.matrix;return t.setMaxListeners(30)})),Object(Zo["a"])((function(e){return e.pipe(Object(N["a"])((function(){if(d.length)return Object(j["a"])(null);throw f})))})))})),Object(N["a"])((function(t){var r=t.matrix,a=t.server,o=t.setup;return Object(m["a"])(eu(e,r,n),Object(j["a"])(Object(Bn["matrixSetup"])({server:a,setup:o})),i.pipe(Object(ee["g"])("logger"),Object(E["a"])((function(e){return Fc["logger"].setLevel(e||"silent",!1)})),Object(T["a"])()))})),Object(ee["b"])(e))}function ou(e,t,n){$c(t);var r=n.matrix$;return e.pipe(Object(U["a"])(r),Object(ee["e"])(function(){var e=Zc(s.a.mark((function e(t){var n;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return n=t[1],n.stopClient(),e.prev=4,e.next=7,n.setPresence({presence:"offline",status_msg:""});case 7:e.next=11;break;case 9:e.prev=9,e.t0=e["catch"](4);case 11:case"end":return e.stop()}}),e,null,[[4,9]])})));return function(t){return e.apply(this,arguments)}}()),Object(T["a"])())}var cu=n("6c09"),uu=n.n(cu),su=n("d495"),lu=n("78b8");function pu(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function fu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function du(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fu(Object(n),!0).forEach((function(t){bu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function bu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yu(e,t){return vu(e)||mu(e,t)||wu(e,t)||hu()}function hu(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function mu(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,c=!1;try{for(n=n.call(e);!(o=(r=n.next()).done);o=!0)if(i.push(r.value),t&&i.length===t)break}catch(u){c=!0,a=u}finally{try{o||null==n["return"]||n["return"]()}finally{if(c)throw a}}return i}}function vu(e){if(Array.isArray(e))return e}function Ou(e,t,n,r,a,i,o){try{var c=e[i](o),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function ju(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){Ou(i,r,a,o,c,"next",e)}function c(e){Ou(i,r,a,o,c,"throw",e)}o(void 0)}))}}function gu(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=wu(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw i}}}}function wu(e,t){if(e){if("string"===typeof e)return _u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_u(e,t):void 0}}function _u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ku(e){return"string"===typeof e?e:Object(we["c"])(e)}var Eu="m.text";function Tu(e){var t;return null!==(t=e.payload.msgtype)&&void 0!==t?t:Eu}function Su(e,t){for(var n=0,r=new Map,a=0;a<e.length&&n<t;a++){var i=e[a],o=i.payload.userId,c=r.get(o),u=c&&Tu(i)!==Tu(c[0]);u||(e.splice(a--,1),c?c.push(i):r.set(o,[i]),n++)}return r}function Au(e,t){if(!e.length)return K["a"];var n,r=Date.now(),a=Su(e,20),i={},o=gu(a);try{for(o.s();!(n=o.n()).done;){var c=yu(n.value,2),u=c[0],l=c[1],p=l.map((function(e){return ku(e.payload.message)})).join("\n"),f={msgtype:Tu(l[0]),body:p};i[u]=bu({},"*",f)}}catch(b){o.e(b)}finally{o.f()}var d=-1;return t.matrix$.pipe(Object(N["a"])(function(){var e=ju(s.a.mark((function e(t){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return d++,e.abrupt("return",t.sendToDevice("m.room.message",i));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(ee["j"])(Object(ge["b"])(t.config$),{maxRetries:3,onErrors:Ee["h"],log:t.log.warn}),Object(N["a"])(s.a.mark((function e(){var t,n,i,o,c,u,l,p,f;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=Date.now()-r,n=gu(a),e.prev=2,n.s();case 4:if((i=n.n()).done){e.next=25;break}o=yu(i.value,2),c=o[0],u=o[1],l=gu(u),e.prev=7,l.s();case 9:if((p=l.n()).done){e.next=15;break}return f=p.value,e.next=13,Object(j["a"])(kn["messageSend"].success({via:c,tookMs:t,retries:d},f.meta));case 13:e.next=9;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e["catch"](7),l.e(e.t0);case 20:return e.prev=20,l.f(),e.finish(20);case 23:e.next=4;break;case 25:e.next=30;break;case 27:e.prev=27,e.t1=e["catch"](2),n.e(e.t1);case 30:return e.prev=30,n.f(),e.finish(30);case 33:case"end":return e.stop()}}),e,null,[[2,27,30,33],[7,17,20,23]])}))),Object(L["a"])(s.a.mark((function e(t){var n,r,i,o,c,u,l;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=gu(a),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=24;break}i=yu(r.value,2),o=i[1],c=gu(o),e.prev=6,c.s();case 8:if((u=c.n()).done){e.next=14;break}return l=u.value,e.next=12,Object(j["a"])(kn["messageSend"].failure(t,l.meta));case 12:e.next=8;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e["catch"](6),c.e(e.t0);case 19:return e.prev=19,c.f(),e.finish(19);case 22:e.next=3;break;case 24:e.next=29;break;case 26:e.prev=26,e.t1=e["catch"](1),n.e(e.t1);case 29:return e.prev=29,n.f(),e.finish(29);case 32:case"end":return e.stop()}}),e,null,[[1,26,29,32],[6,16,19,22]])}))))}function Pu(e,t){var n=[];return e.pipe(Object(E["a"])((function(e){var t=yu(e,2),r=t[0],a=t[1];return n.push(du(du({},r),{},{payload:du(du({},r.payload),{},{userId:a})}))})),Object(J["a"])((function(){return Object(q["a"])((function(){return Au(n,t)}))})),Object(N["a"])((function(t){return t.pipe(Object(ee["b"])(e,10))})))}function xu(e){return e.pipe(Object(_["a"])((function(e){var t=yu(e,2),n=t[0],r=t[1];try{var a=Date.now();r.send(ku(n.payload.message));var i={via:r.label,tookMs:Date.now()-a,retries:0};return kn["messageSend"].success(i,n.meta)}catch(o){return kn["messageSend"].failure(o,n.meta)}})))}function Nu(e,t,n){return pu(t),e.pipe(Object(ee["c"])(Bn["matrixPresence"],(function(t){var r=e.pipe(Object(S["a"])(kn["messageSend"].request.is),Object(ee["m"])((function(r){var a=r.meta.address,i=Tu(r)!==Eu?K["a"]:n.latest$.pipe(Object(P["a"])("rtc",a),Object(S["a"])(te["p"]),Object(S["a"])((function(e){var t=e.readyState;return"open"===t}))),o=r.payload.userId?Object(j["a"])(r.payload.userId):t(Bn["matrixPresence"].request(void 0,{address:a})).pipe(Object(P["a"])("payload","userId"),Object(L["a"])((function(e){return Object(j["a"])(e)})));return Object(m["a"])(i,o).pipe(Object(x["a"])(1),Object(ee["b"])(e))})),Object(ko["a"])()),a=Object(su["a"])(r,(function(e){var t=yu(e,2),n=t[1];return!!n&&(null===n||void 0===n?void 0:n.readyState)})),i=yu(a,2),o=i[0],c=i[1],u=Object(su["a"])(c,(function(e){var t=yu(e,2),n=t[1];return"string"===typeof n})),s=yu(u,2),l=s[0],p=s[1],f=xu(o),d=Pu(l,n),b=p.pipe(Object(_["a"])((function(e){var t=yu(e,2),n=t[0],r=t[1];return kn["messageSend"].failure(r,n.meta)})));return Object(m["a"])(b,f,d)}),void 0,(function(e){var t=e.meta;return t.address})))}function Iu(e,t){var n=t.matrix$,r=t.config$,a=t.latest$;return n.pipe(Object(U["a"])(a,r),Object(ee["m"])((function(e){var n=yu(e,3),r=n[2].additionalServices;return Object(O["a"])(r).pipe(Object(N["a"])((function(e){return te["a"].is(e)?Object(j["a"])(e):Object(q["a"])(ju(s.a.mark((function n(){return s.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",Object(Yn["d"])(e,t));case 1:case"end":return n.stop()}}),n)})))).pipe(Object(L["a"])(H()(K["a"])))}),5),Object(st["a"])())})),Object(N["a"])((function(t){var n=yu(t,2),a=yu(n[0],2),i=a[0],o=a[1].state,c=n[1],u=uu()(c.concat(Object.keys(o.services)));Object(Ee["d"])(u.length,"no services to messageServiceSend to");var l=Vc(i.getHomeserverUrl()),p=u.map((function(e){return"@".concat(e.toLowerCase(),":").concat(l)})),f={msgtype:"m.text",body:ku(e.payload.message)},d=Object.fromEntries(p.map((function(t){return[t,bu({},Tn["p"][e.meta.service],f)]}))),b=Date.now(),y=-1;return Object(q["a"])(ju(s.a.mark((function t(){return s.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return y++,t.next=3,i.sendToDevice("m.room.message",d);case 3:return t.abrupt("return",kn["messageServiceSend"].success({via:p,tookMs:Date.now()-b,retries:y},e.meta));case 4:case"end":return t.stop()}}),t)})))).pipe(Object(ee["j"])(Object(ge["b"])(r),{maxRetries:3,onErrors:Ee["h"]}))})),Object(L["a"])((function(t){return Object(j["a"])(kn["messageServiceSend"].failure(t,e.meta))})))}function Du(e,t,n){return pu(t),e.pipe(Object(S["a"])(Object(_e["e"])(kn["messageServiceSend"].request)),Object(B["a"])((function(){return n.init$.pipe(Object(T["a"])(),Object(G["a"])(!0))})),Object(N["a"])((function(e){return Iu(e,n)}),5))}function Ru(e,t,n){pu(t);var r=n.log,a=n.matrix$,i=n.config$,o=n.latest$;return e.pipe(Object(ee["c"])(Bn["matrixPresence"],(function(t){return a.pipe(Object(ee["m"])((function(e){return Object($o["a"])(e,"toDeviceEvent")})),Object(S["a"])((function(e){var t=yu(e,2),n=t[0],r=t[1];return"m.room.message"===r.getType()&&r.getSender()!==n.getUserId()})),Object(P["a"])(1),Object(U["a"])(i,e.pipe(Object(zt["d"])())),Object(ee["m"])((function(e){var n=yu(e,3),r=n[0],a=n[1].httpTimeout,i=n[2],c=r.getSender(),u=i[c];return u?Object(j["a"])(u):o.pipe(Object(ee["g"])("whitelisted"),Object(_["a"])((function(e){var t=Object(zt["a"])(c);if(t&&e.includes(t))return t})),Object(S["a"])(te["p"]),Object(x["a"])(1),Object(M["a"])(Object(g["a"])(a)),Object(N["a"])((function(e){return t(Bn["matrixPresence"].request(void 0,{address:e}))})),Object(L["a"])(H()(K["a"])))})),Object(ee["b"])(e),Object(N["a"])((function(e){var t,n=yu(e,2),a=yu(n[0],1),i=a[0],o=n[1],c=(null!==(t=i.getContent().body)&&void 0!==t?t:"").split("\n");return Object(lu["a"])(c,Ho["a"]).pipe(Object(_["a"])((function(e){var t;return i.getContent().msgtype===Eu&&(t=Object(we["f"])(e,o,{log:r})),Object(kn["messageReceived"])(du(du({text:e},t?{message:t}:{}),{},{ts:Date.now(),userId:i.getSender()},i.getContent().msgtype?{msgtype:i.getContent().msgtype}:{}),o.meta)})))})))})))}function Cu(e,t,n){pu(t);var r=n.log,a=n.signer,i=new ii["a"](32);return e.pipe(Object(S["a"])(Object(we["e"])([Object(te["j"])(En["f"]),Object(te["j"])(En["g"]),Object(te["j"])(En["h"])])),Object(U["a"])(e.pipe(Object(zt["c"])())),Object(S["a"])((function(e){var t=yu(e,2),n=t[0],r=t[1];return!Object(zt["f"])(r[n.meta.address])})),Object(J["a"])((function(e){var t=yu(e,1),n=t[0],o=n.payload.message;return Object(q["a"])((function(){var e=o.message_identifier,t=e.toString(),c=i.get(t);if(c)return Object(j["a"])(kn["messageSend"].request({message:c},{address:n.meta.address,msgId:t}));var u={type:En["d"].DELIVERED,delivered_message_identifier:e};return r.info('Signing "'.concat(u.type,'" for "').concat(o.type,'" with id=').concat(e.toString())),Object(O["a"])(Object(we["g"])(a,u,{log:r})).pipe(Object(E["a"])((function(e){return i.set(t,e)})),Object(_["a"])((function(e){return kn["messageSend"].request({message:e},{address:n.meta.address,msgId:t})})))}))})))}function Mu(e,t,n,r,a,i,o){try{var c=e[i](o),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function Lu(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){Mu(i,r,a,o,c,"next",e)}function c(e){Mu(i,r,a,o,c,"throw",e)}o(void 0)}))}}function Uu(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function Bu(e){return Vu(e)||Wu(e)||qu(e)||Fu()}function Fu(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Wu(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Vu(e){if(Array.isArray(e))return Ku(e)}function $u(e,t){return Yu(e)||Gu(e,t)||qu(e,t)||Hu()}function Hu(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function qu(e,t){if(e){if("string"===typeof e)return Ku(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ku(e,t):void 0}}function Ku(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Gu(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,c=!1;try{for(n=n.call(e);!(o=(r=n.next()).done);o=!0)if(i.push(r.value),t&&i.length===t)break}catch(u){c=!0,a=u}finally{try{o||null==n["return"]||n["return"]()}finally{if(c)throw a}}return i}}function Yu(e){if(Array.isArray(e))return e}function Xu(e,t){var n=t.config$,r=t.latest$;return Object(h["a"])([r,n]).pipe(Object(F["a"])(),Object(N["a"])((function(n){var r=$u(n,2),a=r[0].state,i=r[1],o=i.pfsMode,c=i.additionalServices,u=i.httpTimeout,s=c;return o!==Tn["j"].onlyAdditional&&(s=uu()([].concat(Bu(s),Bu(Object.keys(a.services))))),Object(O["a"])(s).pipe(Object(J["a"])((function(n){return Object(Yn["a"])(e,n,t).pipe(Object(Gn["a"])(u),Object(ee["a"])({onErrors:Ee["h"],maxRetries:1},"Error fetching presence from service",e))})),Object(F["a"])())})),Object(L["a"])((function(t){return Object(j["a"])(Bn["matrixPresence"].failure(t,{address:e}))})))}function Qu(e,t,n){Uu(t);var r=n.latest$,a=n.config$,i=new Map;return e.pipe(Object(E["a"])((function(e){Bn["matrixPresence"].success.is(e)?i.set(e.meta.address,e):Bn["matrixPresence"].failure.is(e)&&i.delete(e.meta.address)})),Object(S["a"])(Object(_e["e"])(Bn["matrixPresence"].request)),Object(We["a"])((function(e){return e.meta.address})),Object(N["a"])((function(e){return e.pipe(Object(U["a"])(r,a),Object(X["a"])((function(e){var t=$u(e,3),r=t[0],a=t[1].rtc,o=t[2].pollingInterval,c=r.meta.address,u=i.get(c);return u&&(Date.now()-u.payload.ts<o||c in a)?Object(j["a"])(u):Xu(c,n)})))})))}function Zu(e){return e.pipe(Object(S["a"])(V["channelMonitored"].is),Object(_["a"])((function(e){return Bn["matrixPresence"].request(void 0,{address:e.meta.partner})})))}function Ju(e,t,n){Uu(t);var r=n.matrix$,a=n.config$,i=n.init$;return a.pipe(Object(ee["b"])(e),Object(P["a"])("caps"),Object(k["a"])(y.a),Object(U["a"])(i.pipe(Object(T["a"])(),Object(A["a"])(!1),Object(G["a"])(!0))),Object(Q["a"])((function(e){var t=$u(e,2),n=t[0],i=t[1];return r.pipe(Object(ee["m"])(function(){var e=Lu(s.a.mark((function e(t){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t.setAvatarUrl(n&&!it()(n)?Object(zt["g"])(n):""));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(S["a"])((function(){return i})),Object(ee["m"])(function(){var e=Lu(s.a.mark((function e(t){var n,r;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=$u(t,1),r=n[0],e.abrupt("return",r.setPresence({presence:"offline",status_msg:""}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(ee["m"])(function(){var e=Lu(s.a.mark((function e(t){var n,r,a;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=$u(t,1),r=$u(n[0],1),a=r[0],e.abrupt("return",a.setPresence({presence:"online",status_msg:Date.now().toString()}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(ee["j"])(Object(ge["b"])(a)))})),Object(T["a"])())}function zu(e,t,n,r,a,i,o){try{var c=e[i](o),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function es(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){zu(i,r,a,o,c,"next",e)}function c(e){zu(i,r,a,o,c,"throw",e)}o(void 0)}))}}function ts(e,t){return os(e)||is(e,t)||rs(e,t)||ns()}function ns(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function rs(e,t){if(e){if("string"===typeof e)return as(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?as(e,t):void 0}}function as(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function is(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,c=!1;try{for(n=n.call(e);!(o=(r=n.next()).done);o=!0)if(i.push(r.value),t&&i.length===t)break}catch(u){c=!0,a=u}finally{try{o||null==n["return"]||n["return"]()}finally{if(c)throw a}}return i}}function os(e){if(Array.isArray(e))return e}function cs(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function us(e,t,n){cs(e);var r=n.log,a=n.matrix$,i=n.config$;return a.pipe(Object(ee["m"])((function(e){return Object($o["a"])(e,"Room")})),Object(U["a"])(i),Object(B["a"])((function(e){var t=ts(e,2),n=t[1].httpTimeout;return Object(g["a"])(Math.round((.5+.5*Math.random())*n))})),Object(ee["b"])(t),Object(S["a"])((function(e){var t=ts(e,1),n=ts(t[0],2),r=n[1],a=r.getMyMembership();return!(!a||"leave"===a)})),Object(N["a"])(function(){var e=es(s.a.mark((function e(t){var n,a,i,o;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=ts(t,1),a=ts(n[0],2),i=a[0],o=a[1],r.warn("Unknown room in matrix, leaving",o.roomId),e.abrupt("return",i.leave(o.roomId).catch((function(e){return r.error("Error leaving unknown room, ignoring",e)})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(T["a"])())}function ss(e,t,n,r,a,i,o){try{var c=e[i](o),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function ls(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){ss(i,r,a,o,c,"next",e)}function c(e){ss(i,r,a,o,c,"throw",e)}o(void 0)}))}}function ps(e){return bs(e)||ds(e)||ms(e)||fs()}function fs(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ds(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function bs(e){if(Array.isArray(e))return vs(e)}function ys(e,t){return js(e)||Os(e,t)||ms(e,t)||hs()}function hs(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ms(e,t){if(e){if("string"===typeof e)return vs(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vs(e,t):void 0}}function vs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Os(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,c=!1;try{for(n=n.call(e);!(o=(r=n.next()).done);o=!0)if(i.push(r.value),t&&i.length===t)break}catch(u){c=!0,a=u}finally{try{o||null==n["return"]||n["return"]()}finally{if(c)throw a}}return i}}function js(e){if(Array.isArray(e))return e}function gs(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function ws(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ws(Object(n),!0).forEach((function(t){ks(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ws(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ks(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Es(e){var t,n=e.stale,r=e.udcDeposit,a=e.config.monitoringReward;return t={},ks(t,pt["a"].RECEIVE,!n&&null!==a&&void 0!==a&&a.gt(0)&&a.lte(r.balance)?1:0),ks(t,pt["a"].WEBRTC,"RTCPeerConnection"in globalThis?1:0),t}function Ts(e,t,n){return null===n?n:void 0!==n?_s(_s(_s({},e),t),n):null===t?t:_s(_s({},e),t)}function Ss(e,t,n){gs(e);var r=n.defaultConfig,a=n.latest$;return Object(h["a"])([t.pipe(Object(ee["g"])("config","caps")),a]).pipe(Object(_["a"])((function(e){var t=ys(e,2),n=t[0],a=t[1];return Ts(Es(a),r.caps,n)})),Object(k["a"])(y.a),Object(_["a"])((function(e){return Object(W["c"])({caps:e})})),Object(ee["b"])(t))}function As(e,t,n){gs(t);var r=n.config$,a=n.log,i=n.provider;return Object(m["a"])(r.pipe(Object(ee["g"])("logger"),Object(E["a"])((function(e){return a.setLevel(e||"silent",!1)}))),r.pipe(Object(ee["g"])("pollingInterval"),Object(E["a"])((function(e){return i.pollingInterval=e})))).pipe(Object(T["a"])(),Object(ee["b"])(e))}var Ps={configCapsEpic:Ss,configReactEpic:As};function xs(e,t,n){var r=n.defaultConfig,a=n.mediationFeeCalculator,i={balance:l["b"],totalDeposit:l["b"]},o=!1,c=e.pipe(Object(S["a"])(jn["udcDeposit"].success.is),Object(S["a"])((function(e){return!("confirmed"in e.payload)||!!e.payload.confirmed})),Object(_["a"])((function(e){return{balance:e.payload.balance,totalDeposit:e.meta.totalDeposit}})),Object(A["a"])(i),Object(k["a"])((function(e,t){var n=e.balance,r=t.balance;return n.eq(r)}))),u=e.pipe(Object(S["a"])(V["blockTime"].is),Object(P["a"])("payload","blockTime"),Object(A["a"])(15e3)),s=e.pipe(Object(S["a"])(V["blockStale"].is),Object(P["a"])("payload","stale"),Object(A["a"])(o)),f=Object(m["a"])(t.pipe(Object(x["a"])(1),Object(P["a"])("config"),Object(_["a"])((function(e){var t=e.caps,n=e.monitoringReward;return Ts(Es({udcDeposit:i,stale:o,config:{monitoringReward:null!==n&&void 0!==n?n:r.monitoringReward}}),r.caps,t)}))),e.pipe(Object(S["a"])(W["c"].is),Object(P["a"])("payload","caps"))),b=Object(h["a"])([t.pipe(Object(ee["g"])("config")),f]).pipe(Object(_["a"])((function(e){var t=ys(e,2),n=t[0],i=t[1];return _s(_s(_s({},r),n),{},{caps:i,mediationFees:a.decodeConfig(n.mediationFees,r.mediationFees)})}))),y=t.pipe(Object(x["a"])(1),Object(N["a"])((function(t){var n=Object(p["uniq"])(Object.values(t.channels).map((function(e){var t=e.partner;return t.address})));return e.pipe(Object(S["a"])(Bn["matrixPresence"].request.is),Object(I["a"])((function(e,t){return e.includes(t.meta.address)?e:[].concat(ps(e),[t.meta.address])}),n),Object(A["a"])(n),Object(k["a"])())}))),v=e.pipe(Object(S["a"])(Bn["rtcChannel"].is),Object(I["a"])((function(e,t){return t.payload?_s(_s({},e),{},ks({},t.meta.address,t.payload)):d()(t.meta.address,e)}),{}),Object(A["a"])({}));return Object(h["a"])([Object(h["a"])([e,t,b,y,v]),Object(h["a"])([c,u,s])]).pipe(Object(_["a"])((function(e){var t=ys(e,2),n=ys(t[0],5),r=n[0],a=n[1],i=n[2],o=n[3],c=n[4],u=ys(t[1],3),s=u[0],l=u[1],p=u[2];return{action:r,state:a,config:i,whitelisted:o,rtc:c,udcDeposit:s,blockTime:l,stale:p}})))}function Ns(e,t,n){return xs(e,t,n).pipe(Object(E["a"])(n.latest$),Object(D["a"])(n.latest$.complete.bind(n.latest$)),Object(T["a"])())}var Is=_s(_s(_s(_s(_s(_s({},Ps),r),o),i),c),a);function Ds(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object.values(Is);return function(t,n,r){var a=t.pipe(Object(S["a"])(W["e"].is)),i=new v["a"]([]),o=Object(O["a"])(e).pipe(Object(A["a"])(Ns),Object(N["a"])((function(e){e===Ns?i.next(i.value.concat(e)):i.next(i.value.slice(0,-1).concat(e,Object(te["q"])(i.value)));var o=i.pipe(Object(R["a"])(a),Object(C["a"])(a),Object(S["a"])((function(t){var n=ys(t,1),r=n[0];return r[0]===e})));return e(t.pipe(Object(M["a"])(o)),n.pipe(Object(M["a"])(o)),r).pipe(Object(L["a"])((function(t){return r.log.error("Epic error",e.name,e,t),Object(j["a"])(Object(W["e"])({reason:t}))})),Object(M["a"])(o.pipe(Object(U["a"])(r.config$),Object(B["a"])((function(e){var t=ys(e,2),n=(t[0],t[1].httpTimeout);return Object(g["a"])(n)})),Object(E["a"])((function(){return r.log.warn("Epic stuck:",e.name,e)})))),Object(D["a"])((function(){i.next(i.value.filter((function(t){return t!==e})))})))}))),c=r.db.busy$.pipe(Object(F["a"])((function(e){return!e})),Object(E["a"])((function(){return r.db.busy$.next(!0)})),Object(L["a"])((function(){return Object(j["a"])(null)})),Object(N["a"])(ls(s.a.mark((function e(){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",r.db.close());case 1:case"end":return e.stop()}}),e)})))),Object(T["a"])(),Object(D["a"])((function(){r.db.busy$.next(!1),r.db.busy$.complete()})));return Object(w["a"])(o,c)}}},5778:function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"f",(function(){return f})),n.d(t,"g",(function(){return b})),n.d(t,"h",(function(){return h})),n.d(t,"e",(function(){return g})),n.d(t,"b",(function(){return k})),n.d(t,"i",(function(){return T})),n.d(t,"a",(function(){return A})),n.d(t,"l",(function(){return N})),n.d(t,"j",(function(){return D})),n.d(t,"k",(function(){return C})),n.d(t,"c",(function(){return H}));var r,a=n("2111"),i=n("9201"),o=n("d011"),c=n("ca14");(function(e){e["DELIVERED"]="Delivered",e["PROCESSED"]="Processed",e["SECRET_REQUEST"]="SecretRequest",e["SECRET_REVEAL"]="RevealSecret",e["LOCKED_TRANSFER"]="LockedTransfer",e["UNLOCK"]="Unlock",e["LOCK_EXPIRED"]="LockExpired",e["WITHDRAW_REQUEST"]="WithdrawRequest",e["WITHDRAW_CONFIRMATION"]="WithdrawConfirmation",e["WITHDRAW_EXPIRED"]="WithdrawExpired",e["PFS_CAPACITY_UPDATE"]="PFSCapacityUpdate",e["PFS_FEE_UPDATE"]="PFSFeeUpdate",e["MONITOR_REQUEST"]="RequestMonitoring"})(r||(r={}));var u=a["o"](a["u"]({message_identifier:Object(c["l"])(8)})),s=a["o"](a["u"]({type:a["k"](r.DELIVERED),delivered_message_identifier:Object(c["l"])(8)})),l=s,p=a["o"](a["i"]([a["u"]({type:a["k"](r.PROCESSED)}),u])),f=p,d=a["o"](a["i"]([a["u"]({type:a["k"](r.SECRET_REQUEST),payment_identifier:Object(c["l"])(8),secrethash:c["c"],amount:Object(c["l"])(32),expiration:Object(c["l"])(32)}),u])),b=d,y=a["o"](a["i"]([a["u"]({type:a["k"](r.SECRET_REVEAL),secret:c["h"]}),u])),h=y,m=a["o"](a["i"]([a["u"]({chain_id:Object(c["l"])(32),token_network_address:c["a"],channel_identifier:Object(c["l"])(32),nonce:Object(c["l"])(8),transferred_amount:Object(c["l"])(32),locked_amount:Object(c["l"])(32),locksroot:c["c"]}),u])),v=a["o"](a["i"]([a["u"]({route:o["g"]}),o["m"]])),O=v,j=a["o"](a["u"]({routes:a["p"](O)})),g=j,w=a["o"](a["i"]([a["u"]({payment_identifier:Object(c["l"])(8),token:c["a"],recipient:c["a"],lock:i["d"],target:c["a"],initiator:c["a"],metadata:a["x"]}),m])),_=a["o"](a["i"]([a["u"]({type:a["k"](r.LOCKED_TRANSFER)}),w])),k=_,E=a["o"](a["i"]([a["u"]({type:a["k"](r.UNLOCK),payment_identifier:Object(c["l"])(8),secret:c["h"]}),m])),T=E,S=a["o"](a["i"]([a["u"]({type:a["k"](r.LOCK_EXPIRED),recipient:c["a"],secrethash:c["c"]}),m])),A=S,P=a["o"](a["u"]({chain_id:Object(c["l"])(32),token_network_address:c["a"],channel_identifier:Object(c["l"])(32),participant:c["a"],total_withdraw:Object(c["l"])(32),nonce:Object(c["l"])(8),expiration:Object(c["l"])(32)})),x=a["o"](a["i"]([a["u"]({type:a["k"](r.WITHDRAW_REQUEST)}),a["n"]({coop_settle:a["d"]}),P,u])),N=x,I=a["o"](a["i"]([a["u"]({type:a["k"](r.WITHDRAW_CONFIRMATION)}),P,u])),D=I,R=a["o"](a["i"]([a["u"]({type:a["k"](r.WITHDRAW_EXPIRED)}),P,u])),C=R,M=a["o"](a["u"]({type:a["k"](r.PFS_CAPACITY_UPDATE),canonical_identifier:a["o"](a["u"]({chain_identifier:Object(c["l"])(32),token_network_address:c["a"],channel_identifier:Object(c["l"])(32)})),updating_participant:c["a"],other_participant:c["a"],updating_nonce:Object(c["l"])(8),other_nonce:Object(c["l"])(8),updating_capacity:Object(c["l"])(32),other_capacity:Object(c["l"])(32),reveal_timeout:Object(c["l"])(32)})),L=M,U=a["o"](a["u"]({type:a["k"](r.PFS_FEE_UPDATE),canonical_identifier:a["o"](a["u"]({chain_identifier:Object(c["l"])(32),token_network_address:c["a"],channel_identifier:Object(c["l"])(32)})),updating_participant:c["a"],timestamp:a["r"],fee_schedule:a["u"]({cap_fees:a["d"],imbalance_penalty:a["w"]([a["l"],a["p"](a["o"](a["t"]([Object(c["l"])(32),Object(c["l"])(32)])))]),proportional:o["b"],flat:o["b"]})})),B=U,F=a["o"](a["u"]({type:a["k"](r.MONITOR_REQUEST),balance_proof:a["u"]({chain_id:Object(c["l"])(32),token_network_address:c["a"],channel_identifier:Object(c["l"])(32),nonce:Object(c["l"])(8),balance_hash:c["c"],additional_hash:c["c"],signature:c["i"]}),monitoring_service_contract_address:c["a"],non_closing_participant:c["a"],non_closing_signature:c["i"],reward_amount:Object(c["l"])(32)})),W=F,V=[l,f,b,h,k,T,A,N,D,C,L,B,W],$=V,H=a["w"]($)},"59ec":function(e,t,n){"use strict";(function(e){n.d(t,"d",(function(){return Q})),n.d(t,"e",(function(){return Z})),n.d(t,"i",(function(){return J})),n.d(t,"h",(function(){return z})),n.d(t,"g",(function(){return ee})),n.d(t,"n",(function(){return te})),n.d(t,"o",(function(){return re})),n.d(t,"k",(function(){return ce})),n.d(t,"c",(function(){return ue})),n.d(t,"f",(function(){return se})),n.d(t,"a",(function(){return fe})),n.d(t,"j",(function(){return de})),n.d(t,"b",(function(){return ye})),n.d(t,"l",(function(){return he})),n.d(t,"m",(function(){return me}));var r,a=n("36d8"),i=n.n(a),o=n("c00b"),c=n("b97c"),u=n("905c9"),s=n("6da0"),l=n("007a"),p=n("09d5"),f=n("f361"),d=n("2111"),b=n("605b"),y=n.n(b),h=n("f541"),m=n("f068"),v=n("cd9d"),O=n("cea7"),j=n("c0bf"),g=n("996a"),w=n("1319"),_=n("ef4a"),k=n("9201"),E=n("8120"),T=n("2b5b"),S=n("5778"),A=n("7de2"),P=n("358d"),x=n("0862"),N=n("f2df"),I=n("46f7"),D=n("ca14"),R=n("1a78"),C=["route"];function M(e,t){if(null==e)return{};var n,r,a=L(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function L(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){V(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function F(e,t,n,r,a,i,o){try{var c=e[i](o),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function W(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){F(i,r,a,o,c,"next",e)}function c(e){F(i,r,a,o,c,"throw",e)}o(void 0)}))}}function V(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $(e,t){return K(e)||q(e,t)||Y(e,t)||H()}function H(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function q(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,c=!1;try{for(n=n.call(e);!(o=(r=n.next()).done);o=!0)if(i.push(r.value),t&&i.length===t)break}catch(u){c=!0,a=u}finally{try{o||null==n["return"]||n["return"]()}finally{if(c)throw a}}return i}}function K(e){if(Array.isArray(e))return e}function G(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Y(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw i}}}}function Y(e,t){if(e){if("string"===typeof e)return X(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?X(e,t):void 0}}function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Q(e){var t,n=[],r=G(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;n.push(Object(I["a"])(a.expiration,32),Object(I["a"])(a.amount,32),a.secrethash)}}catch(i){r.e(i)}finally{r.f()}return Object(s["a"])(Object(c["b"])(n))}function Z(e){return Object(p["c"])(e)}function J(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32;return Object(c["i"])(Object(l["a"])(e))}function z(){return o["a"].from(Date.now())}function ee(){return o["a"].from(Date.now())}function te(e){return"_id"in e?e._id:"".concat(e.direction,":").concat(e.secrethash)}var ne=new RegExp("^(".concat(Object.values(R["a"]).join("|"),"):(0x[a-f0-9]{64})$"),"i");function re(e){var t=e.match(ne);Object(N["a"])(t,"Invalid transferKey format");var n=$(t,3),r=n[1],a=n[2];return{direction:r,secrethash:a}}var ae=(r={},V(r,R["c"].expired,(function(e){var t;return null===(t=e.expiredProcessed)||void 0===t?void 0:t.ts})),V(r,R["c"].unlocked,(function(e){var t;return null===(t=e.unlockProcessed)||void 0===t?void 0:t.ts})),V(r,R["c"].expiring,(function(e){var t;return null===(t=e.expired)||void 0===t?void 0:t.ts})),V(r,R["c"].unlocking,(function(e){var t;return null===(t=e.unlock)||void 0===t?void 0:t.ts})),V(r,R["c"].registered,(function(e){var t;return null===(t=e.secretRegistered)||void 0===t?void 0:t.ts})),V(r,R["c"].revealed,(function(e){var t;return null===(t=e.secretReveal)||void 0===t?void 0:t.ts})),V(r,R["c"].requested,(function(e){var t;return null===(t=e.secretRequest)||void 0===t?void 0:t.ts})),V(r,R["c"].closed,(function(e){var t;return null===(t=e.channelClosed)||void 0===t?void 0:t.ts})),V(r,R["c"].received,(function(e){var t;return null===(t=e.transferProcessed)||void 0===t?void 0:t.ts})),V(r,R["c"].pending,(function(e){return e.transfer.ts})),r);function ie(e){for(var t=0,n=Object.entries(ae);t<n.length;t++){var r=$(n[t],2),a=r[0],i=r[1],o=i(e);if(void 0!==o)return a}return R["c"].pending}function oe(e){return!!(e.unlockProcessed||e.expiredProcessed||e.secretRegistered||e.channelSettled)}function ce(e){var t=ie(e),n=new Date(e.transfer.ts),r=new Date(ae[t](e)),a=e.transfer,i=e.direction,o=a.lock.amount.sub(e.fee),c=e.secretRequest&&e.secretRequest.amount.lt(o),u=!!(e.secretReveal||e.unlock||e.secretRegistered)||!(c||e.expired||e.channelClosed)&&void 0,s=oe(e);return{key:te(e),secrethash:a.lock.secrethash,direction:i,status:t,initiator:a.initiator,partner:e.partner,target:a.target,metadata:a.metadata,paymentId:a.payment_identifier,chainId:a.chain_id.toNumber(),token:a.token,tokenNetwork:a.token_network_address,channelId:a.channel_identifier,value:o,fee:e.fee,amount:a.lock.amount,expirationBlock:a.lock.expiration.toNumber(),startedAt:n,changedAt:r,success:u,completed:s,secret:e.secret}}function ue(e,t,n,r){return r===u["a"]?Object(h["a"])(k["b"]):Object(m["a"])((function(){return e.find({selector:{channel:Object(E["c"])(t),direction:n}})})).pipe(Object(j["a"])((function(e){var t=e.docs;return Object(v["a"])(t)})),Object(j["a"])((function(e){var t=Object(D["n"])(R["e"],e);return Object(v["a"])([t.transfer,t.unlock,t.expired])})),Object(g["a"])(D["p"]),Object(w["a"])(A["d"]),Object(_["a"])((function(e){return Object(A["b"])(e)===r})))}function se(e,t,n){return le.apply(this,arguments)}function le(){return le=W(i.a.mark((function e(t,n,r){var a;return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("string"!==typeof r&&(r=te(r)),"address"in t){e.next=5;break}return e.next=4,Object(O["a"])(t);case 4:t=e.sent;case 5:if(a=t.transfers[r],!a){e.next=8;break}return e.abrupt("return",a);case 8:return e.t0=D["n"],e.t1=R["e"],e.next=12,n.get(r);case 12:return e.t2=e.sent,e.abrupt("return",(0,e.t0)(e.t1,e.t2));case 14:case"end":return e.stop()}}),e)}))),le.apply(this,arguments)}var pe=d["f"](d["u"]({routes:d["c"](d["f"](d["u"]({route:d["c"](d["r"]),address_metadata:d["x"]})))}));function fe(e,t){var n;try{n=Object(D["n"])(pe,t)}catch(a){return t}var r=e.toLowerCase();return B(B({},n),{},{routes:n.routes.map((function(e){var t=e.route,n=M(e,C);return B(B({},n),{},{route:t.slice(t.findIndex((function(e){return e.toLowerCase()===r}))+1)})}))})}function de(t,n,r){var a=t.map((function(e){var t=e.path,n=(e.fee,e.address_metadata);return B({route:t},n&&!y()(n)?{address_metadata:n}:{})})),i=t[0];Object(N["a"])(i,"empty paths");var o,u,s=i.fee,l=i.path[1];if(Object(N["a"])(l,"empty route"),l===n.meta.address)o=n.payload.userId,u=n.payload.caps;else{var p=he(i.address_metadata,l);o=null===p||void 0===p?void 0:p.payload.userId,u=null===p||void 0===p?void 0:p.payload.caps}var d={userId:o},b={routes:a};if(Object(x["b"])(u,T["a"].IMMUTABLE_METADATA)){if(r){var h=Object(c["i"])(Object(f["encrypt"])(n.payload.pubkey,e.from(Object(I["c"])(R["d"].encode(r)))));b=B(B({},b),{},{secret:h})}}else b=fe(i.path[0],b);return B({resolved:!0,metadata:b,fee:s,partner:l},d)}var be=d["u"]({secret:Object(D["d"])()});function ye(t,n,r){var a=$(n,3),i=a[0],o=a[1],u=a[2],s=r.privateKey;if(s)try{var l=Object(D["n"])(be,t).secret,p=Object(f["decrypt"])(s,e.from(Object(c["a"])(l))).toString(),d=Object(D["n"])(R["d"],Object(I["b"])(p));return Object(N["a"])(o.gte(d.amount)&&Z(d.secret)===i),Object(N["a"])(!u||!d.payment_identifier||u.eq(d.payment_identifier)),d.secret}catch(b){}}function he(e,t){var n,r=null!==(n=null===e||void 0===e?void 0:e[t])&&void 0!==n?n:null===e||void 0===e?void 0:e[t.toLowerCase()];if(r){var a=Object(P["g"])(r,t);if(a)return a}}function me(e,t){var n,r;try{r=Object(D["n"])(S["e"],e)}catch(u){}if(r&&t){var a,i=G(r.routes);try{for(i.s();!(a=i.n()).done;){var o,c=a.value.address_metadata;if(n=null===(o=he(c,t))||void 0===o?void 0:o.payload.userId)return{userId:n}}}catch(s){i.e(s)}finally{i.f()}}}}).call(this,n("ab29").Buffer)},"5bbb":function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"c",(function(){return O})),n.d(t,"b",(function(){return j}));var r,a=n("87b8"),i=n("24c6"),o=n("2111"),c=n("ef4a"),u=n("2b5b"),s=n("d011"),l=n("438d"),p=n("0602"),f=n("ca14");function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=o["u"]({urls:o["w"]([o["r"],o["c"](o["r"])])}),m=o["o"](o["i"]([o["u"]({matrixServerLookup:o["r"],revealTimeout:o["m"],settleTimeout:o["m"],expiryFactor:o["m"],httpTimeout:o["m"],additionalServices:o["p"](o["w"]([f["a"],o["r"]])),pfsMode:s["k"],pfsSafetyMargin:o["w"]([o["m"],o["t"]([o["m"],o["m"]])]),pfsMaxPaths:o["m"],pfsMaxFee:Object(f["l"])(32),pfsIouTimeout:o["m"],confirmationBlocks:o["m"],monitoringReward:o["w"]([o["l"],Object(f["l"])(32)]),logger:o["j"]((r={},y(r,"",null),y(r,"trace",null),y(r,"debug",null),y(r,"info",null),y(r,"warn",null),y(r,"error",null),r)),caps:o["w"]([o["l"],p["a"]]),fallbackIceServers:o["c"](h),rateToSvt:o["q"](o["r"],Object(f["l"])(32)),pollingInterval:o["m"],minimumAllowance:Object(f["l"])(32),autoSettle:o["d"],autoUDCWithdraw:o["d"],mediationFees:o["x"],encryptSecret:o["d"]}),o["n"]({matrixServer:o["r"],subkey:o["d"],gasPriceFactor:o["w"]([o["m"],o["l"]])})])),v=o["o"](o["f"](o["n"](b(b({},m.type.types["0"].props),m.type.types["1"].props))));function O(e,t){var n,r=e.network,o=1===r.chainId?"https://raw.githubusercontent.com/raiden-network/raiden-service-bundle/master/known_servers/known_servers-production-v1.2.0.json":"https://raw.githubusercontent.com/raiden-network/raiden-service-bundle/master/known_servers/known_servers-development-v1.2.0.json",c=null===(null===t||void 0===t?void 0:t.caps)?null:b((n={},y(n,u["a"].DELIVERY,0),y(n,u["a"].MEDIATE,0),y(n,u["a"].TO_DEVICE,1),y(n,u["a"].IMMUTABLE_METADATA,1),n),null===t||void 0===t?void 0:t.caps);return b(b({matrixServerLookup:o,settleTimeout:500,revealTimeout:50,expiryFactor:1.1,httpTimeout:3e4,additionalServices:[],pfsMode:s["j"].auto,pfsSafetyMargin:1,pfsMaxPaths:3,pfsMaxFee:Object(i["d"])("0.05"),pfsIouTimeout:2e5,confirmationBlocks:u["c"],monitoringReward:u["d"],logger:"info",fallbackIceServers:[{urls:"stun:stun.l.google.com:19302"}],rateToSvt:{},pollingInterval:5e3,minimumAllowance:a["b"],autoSettle:!1,autoUDCWithdraw:!0,mediationFees:{},encryptSecret:!0},t),{},{caps:c})}function j(e){var t,n=(t={_iter:void 0},y(t,Symbol.iterator,(function(){return this._iter=void 0,this})),y(t,"next",(function(){if(!this._iter){var t=5e3,n=6e4;e.pipe(Object(c["a"])()).subscribe((function(e){var r=e.pollingInterval,a=e.httpTimeout;t=r,n=2*a})),this._iter=Object(l["b"])(t,n)}return this._iter.next()})),t);return n}},"5c1d":function(e,t,n){},"5c69":function(e,t,n){"use strict";n("1624")},6:function(e,t){},"60f8":function(e,t,n){e.exports=n.p+"img/transfer_eth_info.87f6409a.svg"},"62a5":function(e,t,n){"use strict";n("8e8c")},6485:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e[e["LOW"]=0]="LOW",e[e["HIGH"]=1]="HIGH"}(r||(r={}))},"65e1":function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"c",(function(){return v})),n.d(t,"b",(function(){return O}));var r=n("30c0"),a=n("8e91"),i=n("2111"),o=n("f5be"),c=n("b8ff"),u=n("5bbb"),s=n("d011"),l=n("1a78"),p=n("ee57"),f=n("ca14");function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=i["o"](i["u"]({address:f["a"],chainId:i["m"],registry:f["a"],blockNumber:i["m"],config:u["a"],channels:i["o"](i["q"](i["r"],c["a"])),oldChannels:i["o"](i["q"](i["r"],c["a"])),tokens:i["o"](i["q"](i["r"],f["a"])),transport:i["o"](i["n"]({server:i["r"],setup:p["a"]})),transfers:i["o"](i["q"](i["r"],l["e"])),iou:i["o"](i["q"](i["r"],i["q"](i["r"],Object(f["j"])(s["c"])))),pendingTxs:i["p"](o["a"]),services:s["q"]}),"RaidenState"),m=h;function v(e){var t=e.network,n=e.address,r=e.contractsInfo,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return b({address:n,chainId:t.chainId,registry:r.TokenNetworkRegistry.address,blockNumber:r.TokenNetworkRegistry.block_number,channels:{},oldChannels:{},tokens:{},transport:{},transfers:{},iou:{},pendingTxs:[],services:{},config:{}},a)}var O=v({network:Object(a["a"])("unspecified"),address:r["a"],contractsInfo:{TokenNetworkRegistry:{address:r["a"],block_number:0},ServiceRegistry:{address:r["a"],block_number:0},UserDeposit:{address:r["a"],block_number:0},SecretRegistry:{address:r["a"],block_number:0},MonitoringService:{address:r["a"],block_number:0},OneToN:{address:r["a"],block_number:0}}})},"66bc":function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("blurred-overlay",{attrs:{show:e.visible,fullscreen:""}},[n("v-dialog",{attrs:{value:e.visible,width:e.width,"hide-overlay":"",dark:"",persistent:e.hideClose},on:{"click:outside":function(t){return e.close()}}},[n("v-card",{staticClass:"raiden-dialog",attrs:{"data-cy":"raiden_dialog"}},[e.hideClose?e._e():n("v-btn",{staticClass:"raiden-dialog__close",attrs:{icon:""},on:{click:function(t){return e.close()}}},[n("v-icon",[e._v("mdi-close")])],1),e._t("default")],2)],1)],1)},a=[],i=n("6dbe"),o=n("5cf9"),c=n("0a08");function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function f(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&d(e,t)}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function b(e){var t=m();return function(){var n,r=v(e);if(t){var a=v(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){if(t&&("object"===u(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return h(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}var O=function(e){f(n,e);var t=b(n);function n(){return s(this,n),t.apply(this,arguments)}return p(n,[{key:"close",value:function(){return!0}}]),n}(o["g"]);Object(i["f"])([Object(o["e"])({required:!0,default:!1,type:Boolean})],O.prototype,"visible",void 0),Object(i["f"])([Object(o["e"])({required:!1,default:!1,type:Boolean})],O.prototype,"hideClose",void 0),Object(i["f"])([Object(o["e"])({required:!1,default:"350",type:String})],O.prototype,"width",void 0),Object(i["f"])([Object(o["b"])()],O.prototype,"close",null),O=Object(i["f"])([Object(o["a"])({components:{BlurredOverlay:c["a"]}})],O);var j=O,g=j,w=(n("a500"),n("a6c2")),_=n("411c"),k=n.n(_),E=n("9c46"),T=n("d58c"),S=n("c56b"),A=n("b503"),P=Object(w["a"])(g,r,a,!1,null,"46e7cf3b",null);t["a"]=P.exports;k()(P,{VBtn:E["a"],VCard:T["a"],VDialog:S["a"],VIcon:A["a"]})},"68e9":function(e,t,n){e.exports=n.p+"img/withdraw_tokens_info.95878cfb.svg"},"6af0":function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"info-overlay"},[r("div",{staticClass:"info-overlay__content"},[r("div",{staticClass:"info-overlay__content__header"},[r("header-content",{attrs:{"disable-back-button":"","disable-info-button":""}})],1),r("div",{staticClass:"info-overlay__content__close-icon"},[r("v-icon",{attrs:{icon:""},on:{click:function(t){return e.closeOverlay()}}},[e._v("mdi-close")])],1),r("div",{staticClass:"info-overlay__content__image"},[r("img",{attrs:{src:n("d009")("./"+e.$route.meta.infoOverlay.headerImage)}})]),r("span",{staticClass:"info-overlay__content__title"},[e._v(e._s(e.$t(e.$route.meta.infoOverlay.header)))]),r("span",{staticClass:"info-overlay__content__body"},[e._v(e._s(e.$t(e.$route.meta.infoOverlay.body)))]),r("div",{staticClass:"info-overlay__content__button"},[r("action-button",{attrs:{enabled:"",text:e.$t("info-overlay.done")},on:{click:function(t){return e.closeOverlay()}}})],1)])])},a=[],i=n("6dbe"),o=n("5cf9"),c=n("750b"),u=n("b592");function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t&&p(e.prototype,t),n&&p(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&b(e,t)}function b(e,t){return b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},b(e,t)}function y(e){var t=v();return function(){var n,r=O(e);if(t){var a=O(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){if(t&&("object"===s(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return m(e)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function O(e){return O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},O(e)}var j=function(e){d(n,e);var t=y(n);function n(){return l(this,n),t.apply(this,arguments)}return f(n,[{key:"closeOverlay",value:function(){}}]),n}(o["g"]);Object(i["f"])([Object(o["b"])()],j.prototype,"closeOverlay",null),j=Object(i["f"])([Object(o["a"])({components:{HeaderContent:u["a"],ActionButton:c["a"]}})],j);var g=j,w=g,_=(n("bcdd"),n("a6c2")),k=n("411c"),E=n.n(k),T=n("b503"),S=Object(_["a"])(w,r,a,!1,null,"21819c06",null);t["a"]=S.exports;E()(S,{VIcon:T["a"]})},"6bc1":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return w})),n.d(t,"a",(function(){return _}));var r,a=["_type"];function i(e,t){if(null==e)return{};var n,r,a=o(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function o(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function u(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&s(e,t)}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function l(e){var t=d();return function(){var n,r=b(e);if(t){var a=b(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){if(t&&("object"===c(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return f(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e,t,n){return t&&O(e.prototype,t),n&&O(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(function(e){e["INSTALLED_VERSION"]="installed_version",e["INSTALLATION_ERROR"]="installation_error",e["RELOAD_WINDOW"]="reload_window",e["CACHE_IS_INVALID"]="cache_is_invalid",e["UPDATE"]="update",e["VERIFY_CACHE"]="verify_cache",e["UNKNOWN"]="unknown"})(r||(r={}));var g=function(){function e(){v(this,e)}return j(e,[{key:"encode",value:function(){return h({type:this.type},this.payload)}},{key:"encodeOldFormat",value:function(){return this.type}}]),e}(),w=function(e){u(n,e);var t=l(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return v(this,n),r=t.call(this),r.type=e,r.payload=a,r}return n}(g),_=function(e){u(n,e);var t=l(n);function n(e){var r;return v(this,n),r=t.call(this),r.event=e,r}return j(n,[{key:"isInOldFormat",get:function(){return this.event.data&&"string"===typeof this.event.data}},{key:"isInNewFormat",get:function(){return this.event.data&&"object"===c(this.event.data)&&this.event.data.type&&"string"===typeof this.event.data.type}},{key:"isInUnknownFormat",get:function(){return!(this.isInOldFormat||this.isInNewFormat)}},{key:"type",get:function(){if(this.isInUnknownFormat)return r.UNKNOWN;var e=this.event.data,t=this.isInOldFormat?e:e.type;return this.mapRawTypeToMessageType(t)}},{key:"payload",get:function(){if(this.isInNewFormat){var e=this.event.data,t=(e._type,i(e,a));return t}return{}}},{key:"mapRawTypeToMessageType",value:function(e){for(var t=0,n=Object.values(r);t<n.length;t++){var a=n[t];if(e==a)return a}return r.UNKNOWN}}]),n}(g)},"6c61":function(e,t,n){"use strict";n.d(t,"a",(function(){return it}));var r=n("2bde"),a=n.n(r),i=n("f5be"),o=n("30c0"),c=n("87b8"),u=n("65e1"),s=n("83ee"),l=n("1a78"),p=n("d276");function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,r=arguments.length>1?arguments[1]:void 0;for(var a in e){var i,o=e[a];if(o){var c=null!==(i=n[a])&&void 0!==i?i:t[a],u=o(c,r);u!==c&&(n=d(d({},n),{},b({},a,u)))}}return n}}var h=n("f799"),m=n("b8ff"),v=n("9201"),O=n("8120");function j(e){return j="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j(e)}function g(e,t){if(null==e)return{};var n,r,a=w(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function w(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}function _(e){var t=k(e,"string");return"symbol"===j(t)?t:String(t)}function k(e,t){if("object"!==j(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==j(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function E(e,t){return A(e)||S(e,t)||N(e,t)||T()}function T(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function S(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,c=!1;try{for(n=n.call(e);!(o=(r=n.next()).done);o=!0)if(i.push(r.value),t&&i.length===t)break}catch(u){c=!0,a=u}finally{try{o||null==n["return"]||n["return"]()}finally{if(c)throw a}}return i}}function A(e){if(Array.isArray(e))return e}function P(e){return D(e)||I(e)||N(e)||x()}function x(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function N(e,t){if(e){if("string"===typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?R(e,t):void 0}}function I(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function D(e){if(Array.isArray(e))return R(e)}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){L(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function U(e){if(null==e)throw new TypeError("Cannot destructure undefined")}var B=Object(p["d"])(u["b"].blockNumber).handle(h["newBlock"],(function(e,t){U(e);var n=t.payload;return n.blockNumber})),F=Object(p["d"])(u["b"].tokens).handle(h["tokenMonitored"],(function(e,t){var n=t.payload,r=n.token,a=n.tokenNetwork;return e[r]===a?e:M(M({},e),{},L({},r,a))}));function W(e,t){return e.filter((function(e){return e.type!==t.type||t.payload.txHash!==e.payload.txHash}))}var V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u["b"].pendingTxs,t=arguments.length>1?arguments[1]:void 0;if(i["a"].is(t)){if(void 0===t.payload.confirmed)return[].concat(P(W(e,t)),[t]);var n=W(e,t);return n.length!==e.length?n:e}return e},$={address:o["a"],deposit:c["h"],withdraw:c["h"],locks:[],balanceProof:v["b"],pendingWithdraws:[],nextNonce:c["e"]};function H(e,t){var n,r,a=Object(O["b"])(t.meta),i=e.channels[a];if((null!==(n=null===i||void 0===i?void 0:i.openBlock)&&void 0!==n?n:0)>=t.payload.txBlock||(null!==(r=null===i||void 0===i?void 0:i.id)&&void 0!==r?r:0)>=t.payload.id||!t.payload.confirmed)return e;var o={_id:Object(O["c"])(M(M({},t.meta),{},{id:t.payload.id})),id:t.payload.id,state:m["b"].open,token:t.payload.token,tokenNetwork:t.meta.tokenNetwork,settleTimeout:t.payload.settleTimeout,isFirstParticipant:t.payload.isFirstParticipant,openBlock:t.payload.txBlock,own:M(M({},$),{},{address:e.address}),partner:M(M({},$),{},{address:t.meta.partner})};return M(M({},e),{},{channels:M(M({},e.channels),{},L({},a,o))})}function q(e,t){var n,r;if(!t.payload.confirmed)return e;var a=Object(O["b"])(t.meta),i=e.channels[a];if((null===(n=i)||void 0===n?void 0:n.state)!==m["b"].open||i.id!==t.payload.id)return e;var o=t.payload.participant===i.partner.address?"partner":"own",c=h["channelWithdrawn"].is(t)?["withdraw",t.payload.totalWithdraw,i[o].pendingWithdraws.filter((function(e){return e.total_withdraw.gt(t.payload.totalWithdraw)}))]:["deposit",t.payload.totalDeposit,i[o].pendingWithdraws],u=E(c,3),s=u[0],l=u[1],p=u[2];return l.lte(i[o][s])?e:(i=M(M({},i),{},L({},o,M(M({},i[o]),{},(r={},L(r,s,l),L(r,"pendingWithdraws",p),r)))),M(M({},e),{},{channels:M(M({},e.channels),{},L({},a,i))}))}function K(e,t){var n,r=Object(O["b"])(t.meta),a=e.channels[r];if((null===(n=a)||void 0===n?void 0:n.id)!==t.payload.id)return e;if(void 0===t.payload.confirmed&&a.state===m["b"].open)a=M(M({},a),{},{state:m["b"].closing});else{if("closeBlock"in a||!t.payload.confirmed)return e;a=M(M({},a),{},{state:m["b"].closed,closeBlock:t.payload.txBlock,closeParticipant:t.payload.participant})}return M(M({},e),{},{channels:M(M({},e.channels),{},L({},r,a))})}function G(e,t){var n=Object(O["b"])(t.meta),r=e.channels[n];if(!r)return e;if(h["channelClose"].request.is(t)&&r.state===m["b"].open)r=M(M({},r),{},{state:m["b"].closing});else if(h["channelClose"].failure.is(t)&&r.state===m["b"].closing)r=M(M({},r),{},{state:m["b"].open});else if(h["channelSettle"].request.is(t)&&r.state===m["b"].settleable)r=M(M({},r),{},{state:m["b"].settling});else{if(!h["channelSettleable"].is(t)||r.state!==m["b"].closed)return e;r=M(M({},r),{},{state:m["b"].settleable})}return M(M({},e),{},{channels:M(M({},e.channels),{},L({},n,r))})}function Y(e,t){var n=Object(O["b"])(t.meta),r=e.channels[n];if((null===r||void 0===r?void 0:r.id)!==t.payload.id)return e;var a={closeBlock:"closeBlock"in r?r.closeBlock:0,closeParticipant:"closeParticipant"in r?r.closeParticipant:o["a"]};if(void 0===t.payload.confirmed&&r.state!==m["b"].settling)return M(M({},e),{},{channels:M(M({},e.channels),{},L({},n,M(M(M({},r),a),{},{state:m["b"].settling})))});if(t.payload.confirmed){var i=e.channels,c=(i[n],g(i,[n].map(_)));return M(M({},e),{},{channels:c,oldChannels:M(M({},e.oldChannels),{},L({},Object(O["c"])(r),M(M(M({},r),a),{},{state:m["b"].settled,settleBlock:t.payload.txBlock})))})}return e}function X(e,t,n){var r=!1,a=e.map((function(e){return e.secrethash!==t||e.registered||e.expiration.lte(n)?e:(r=!0,M(M({},e),{},{registered:!0}))}));return r?a:e}function Q(e,t){if(!t.payload.confirmed)return e;for(var n=t.meta.direction===l["a"].SENT?"own":"partner",r=0,a=Object.entries(e.channels);r<a.length;r++){var i=E(a[r],2),o=i[0],c=i[1],u=X(c[n].locks,t.meta.secrethash,t.payload.txBlock);u!==c[n].locks&&(e=M(M({},e),{},{channels:M(M({},e.channels),{},L({},o,M(M({},c),{},L({},n,M(M({},c[n]),{},{locks:u})))))}))}return e}var Z=Object(p["d"])(u["b"]).handle(h["channelOpen"].success,H).handle([h["channelDeposit"].success,h["channelWithdrawn"]],q).handle([h["channelClose"].request,h["channelClose"].failure,h["channelSettleable"],h["channelSettle"].request],G).handle(h["channelClose"].success,K).handle(h["channelSettle"].success,Y).handle(s["transferSecretRegister"].success,Q),J=y({blockNumber:B,tokens:F,pendingTxs:V},u["b"]),z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u["b"],t=arguments.length>1?arguments[1]:void 0;return[J,Z].reduce((function(e,n){return n(e,t)}),e)},ee=z,te=n("eed9");function ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(n),!0).forEach((function(t){ae(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ie,oe,ce=Object(p["d"])(u["b"].iou).handle(te["iouPersist"],(function(e,t){return re(re({},e),{},ae({},t.meta.tokenNetwork,re(re({},e[t.meta.tokenNetwork]),{},ae({},t.meta.serviceAddress,t.payload.iou))))})).handle(te["iouClear"],(function(e,t){return a()([t.meta.tokenNetwork,t.meta.serviceAddress],e)})),ue=Object(p["d"])(u["b"].services).handle(te["servicesValid"],(function(e,t){return t.payload})),se=y({iou:ce,services:ue},u["b"]),le=se,pe=n("ee9f"),fe=n.n(pe),de=n("7de2"),be=n("ca14"),ye=n("59ec");function he(e){return he="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},he(e)}function me(e,t){if(null==e)return{};var n,r,a=ve(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function ve(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}function Oe(e){var t=je(e,"string");return"symbol"===he(t)?t:String(t)}function je(e,t){if("object"!==he(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==he(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function ge(e){return Ee(e)||ke(e)||_e(e)||we()}function we(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _e(e,t){if(e){if("string"===typeof e)return Te(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Te(e,t):void 0}}function ke(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Ee(e){if(Array.isArray(e))return Te(e)}function Te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(n),!0).forEach((function(t){Pe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xe=(ie={},Pe(ie,l["a"].SENT,"own"),Pe(ie,l["a"].RECEIVED,"partner"),ie);function Ne(e,t){var n,r=Object(ye["n"])(t.meta),a=e.transfers[r];return a?(a.secret||(e=Ae(Ae({},e),{},{transfers:Ae(Ae({},e.transfers),{},Pe({},r,Ae(Ae({},a),{},{secret:t.payload.secret})))})),s["transferSecretRegister"].success.is(t)&&t.payload.confirmed&&t.payload.txBlock!==(null===(n=a.secretRegistered)||void 0===n?void 0:n.txBlock)&&t.payload.txBlock<a.expiration&&(e=Ae(Ae({},e),{},{transfers:Ae(Ae({},e.transfers),{},Pe({},r,Ae(Ae({},a),{},{secretRegistered:Object(be["s"])(fe()(["txHash","txBlock"],t.payload))})))})),e):e}function Ie(e,t){var n,r,a=t.payload.message,i=Object(ye["n"])(t.meta),o=t.payload.partner,c=Object(O["b"])({tokenNetwork:a.token_network_address,partner:o}),u=xe[t.meta.direction],l=e.channels[c],p=e.transfers[i],f=s["transferUnlock"].success.is(t)?"unlock":"expired",d=s["transferSigned"].is(t)&&p,b=!s["transferSigned"].is(t)&&(!p||f in p);if(d||b||(null===(n=l)||void 0===n?void 0:n.state)!==m["b"].open||!a.nonce.eq(l[u].nextNonce))return e;switch(t.type){case s["transferSigned"].type:r=[].concat(ge(l[u].locks),[t.payload.message.lock]),p=Ae(Ae({_id:i,channel:Object(O["c"])(l)},t.meta),{},{transfer:Object(be["s"])(t.payload.message),fee:t.payload.fee,expiration:t.payload.message.lock.expiration.toNumber(),partner:o,cleared:0});break;case s["transferUnlock"].success.type:case s["transferExpire"].success.type:r=l[u].locks.filter((function(e){return e.secrethash!==t.meta.secrethash})),p=Ae(Pe({},f,Object(be["s"])(t.payload.message)),p);break}return l=Ae(Ae({},l),{},Pe({},u,Ae(Ae({},l[u]),{},{locks:r,balanceProof:Object(de["d"])(a),nextNonce:l[u].nextNonce.add(1)}))),Ae(Ae({},e),{},{channels:Ae(Ae({},e.channels),{},Pe({},c,l)),transfers:Ae(Ae({},e.transfers),{},Pe({},i,p))})}var De=(oe={},Pe(oe,s["transferSecretRequest"].type,"secretRequest"),Pe(oe,s["transferSecretReveal"].type,"secretReveal"),Pe(oe,s["transferProcessed"].type,"transferProcessed"),Pe(oe,s["transferUnlockProcessed"].type,"unlockProcessed"),Pe(oe,s["transferExpireProcessed"].type,"expiredProcessed"),oe);function Re(e,t){var n=Object(ye["n"])(t.meta),r=De[t.type],a=e.transfers[n];return!a||!s["transferSecretRequest"].is(t)&&r in a||(e=Ae(Ae({},e),{},{transfers:Ae(Ae({},e.transfers),{},Pe({},n,Ae(Ae({},a),{},Pe({},r,Object(be["s"])(t.payload.message)))))})),e}function Ce(e,t){var n=Object(ye["n"])(t.meta);if(n in e.transfers){var r=e.transfers,a=(r[n],me(r,[n].map(Oe)));e=Ae(Ae({},e),{},{transfers:a})}return e}function Me(e,t){var n=Object(ye["n"])(t.meta);return n in e.transfers||(e=Ae(Ae({},e),{},{transfers:Ae(Ae({},e.transfers),{},Pe({},n,Ae(Ae({},t.payload),{},{cleared:0})))})),e}function Le(e,t){if(!t.payload.confirmed)return e;for(var n=h["channelClose"].success.is(t)?"channelClosed":"channelSettled",r=Object(O["c"])(Ae({id:t.payload.id},t.meta)),a=0,i=Object.values(e.transfers);a<i.length;a++){var o=i[a];o.channel===r&&(e=Ae(Ae({},e),{},{transfers:Ae(Ae({},e.transfers),{},Pe({},Object(ye["n"])(o),Ae(Ae({},o),{},Pe({},n,Object(be["s"])(fe()(["txHash","txBlock"],t.payload))))))}))}return e}function Ue(e,t){var n,r=t.payload.message,a=Object(O["b"])(t.meta),i=e.channels[a],o=t.meta.direction===l["a"].RECEIVED!==s["withdrawMessage"].success.is(t)?"partner":"own";if((null===(n=i)||void 0===n?void 0:n.state)!==m["b"].open||!r.nonce.eq(i[o].nextNonce))return e;i=Ae(Ae({},i),{},Pe({},o,Ae(Ae({},i[o]),{},{nextNonce:i[o].nextNonce.add(1)})));var c=t.meta.direction===l["a"].RECEIVED?"partner":"own",u=[].concat(ge(i[c].pendingWithdraws),[t.payload.message]);return i=Ae(Ae({},i),{},Pe({},c,Ae(Ae({},i[c]),{},{pendingWithdraws:u}))),Ae(Ae({},e),{},{channels:Ae(Ae({},e.channels),{},Pe({},a,i))})}function Be(e,t){var n,r=Object(O["b"])(t.meta),a=e.channels[r];if((null===(n=a)||void 0===n?void 0:n.state)!==m["b"].open)return e;var i=t.meta.direction===l["a"].RECEIVED?"partner":"own",o=a[i].pendingWithdraws.filter((function(e){return!e.expiration.eq(t.meta.expiration)||!e.total_withdraw.eq(t.meta.totalWithdraw)}));return a=Ae(Ae({},a),{},Pe({},i,Ae(Ae({},a[i]),{},{pendingWithdraws:o}))),Ae(Ae({},e),{},{channels:Ae(Ae({},e.channels),{},Pe({},r,a))})}var Fe=Object(p["d"])(u["b"]).handle([s["transferSecret"],s["transferSecretRegister"].success],Ne).handle([s["transferSigned"],s["transferUnlock"].success,s["transferExpire"].success],Ie).handle([s["transferProcessed"],s["transferUnlockProcessed"],s["transferExpireProcessed"],s["transferSecretRequest"],s["transferSecretReveal"]],Re).handle(s["transferClear"],Ce).handle(s["transferLoad"],Me).handle([h["channelClose"].success,h["channelSettle"].success],Le).handle([s["withdrawMessage"].request,s["withdrawMessage"].success,s["withdrawExpire"].success],Ue).handle(s["withdrawCompleted"],Be),We=Fe,Ve=n("fe07"),$e=n.n(Ve),He=n("d890"),qe=Object(p["d"])(u["b"].transport).handle(He["matrixSetup"],(function(e,t){return $e()(e,t.payload)||(e=t.payload),e})),Ke=y({transport:qe},u["b"]),Ge=Ke;function Ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ye(Object(n),!0).forEach((function(t){Qe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ze(e,t){return nt(e)||tt(e,t)||ze(e,t)||Je()}function Je(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ze(e,t){if(e){if("string"===typeof e)return et(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?et(e,t):void 0}}function et(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function tt(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,c=!1;try{for(n=n.call(e);!(o=(r=n.next()).done);o=!0)if(i.push(r.value),t&&i.length===t)break}catch(u){c=!0,a=u}finally{try{o||null==n["return"]||n["return"]()}finally{if(c)throw a}}return i}}function nt(e){if(Array.isArray(e))return e}var rt=Object(p["d"])(u["b"]).handle(i["d"],(function(e,t){for(var n=t.payload,r=e.config,i=0,o=Object.entries(n);i<o.length;i++){var c=Ze(o[i],2),u=c[0],s=c[1];void 0!==s?r=Xe(Xe({},r),{},Qe({},u,s)):u in r&&(r=a()(u,r))}return r===e.config?e:Xe(Xe({},e),{},{config:r})})).handle(i["f"],(function(e){return Xe({},e)})),at={configReducer:rt,channelsReducer:ee,transportReducer:Ge,transfersReducer:We,servicesReducer:le},it=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u["b"],t=arguments.length>1?arguments[1]:void 0;return Object.values(at).reduce((function(e,n){return n(e,t)}),e)}},"6c88":function(e,t,n){"use strict";n("5c1d")},"6cb9":function(e,t,n){e.exports=n.p+"img/transfer_info.1d9dd924.svg"},"6fce":function(e,t,n){},7:function(e,t){},"727f":function(e,t,n){"use strict";n("38b1")},7419:function(e,t,n){},"74ae":function(e,t,n){"use strict";n("3b50")},"74e4":function(e,t,n){"use strict";n.d(t,"a",(function(){return le})),n.d(t,"d",(function(){return pe})),n.d(t,"f",(function(){return de})),n.d(t,"c",(function(){return ve})),n.d(t,"e",(function(){return je})),n.d(t,"g",(function(){return Ee})),n.d(t,"b",(function(){return Ie}));var r,a=n("36d8"),i=n.n(a),o=n("1b87"),c=n.n(o),u=n("1045"),s=n.n(u),l=n("590d"),p=n("a914"),f=n("6075"),d=n("f068"),b=n("0146"),y=n("ee53"),h=n("9ead"),m=n("cd9d"),v=n("c0bf"),O=n("9c65"),j=n("33b9"),g=n("b7ab"),w=n("a157"),_=n("8120"),k=n("ee6c"),E=n("ca14");function T(e,t,n,r,a,i,o){try{var c=e[i](o),u=c.value}catch(k){return void n(k)}c.done?t(u):Promise.resolve(u).then(r,a)}function S(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){T(i,r,a,o,c,"next",e)}function c(e){T(i,r,a,o,c,"throw",e)}o(void 0)}))}}function A(){return P.apply(this,arguments)}function P(){return P=S(i.a.mark((function e(){var t,a,o,c,u;return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!r){e.next=2;break}return e.abrupt("return",r);case 2:if(null===(t=globalThis.location)||void 0===t||!t.href){e.next=11;break}return e.next=5,n.e("chunk-3eadbefa").then(n.bind(null,"65ab"));case 5:a=e.sent,o=a.default,l["a"].plugin(o),r="indexeddb",e.next=17;break;case 11:return e.next=13,n.e("chunk-97b8c756").then(n.bind(null,"8b2c"));case 13:c=e.sent,u=c.default,l["a"].plugin(u),r="leveldb";case 17:return e.abrupt("return",r);case 18:case"end":return e.stop()}}),e)}))),P.apply(this,arguments)}function x(e,t,n,r,a,i,o){try{var c=e[i](o),u=c.value}catch(k){return void n(k)}c.done?t(u):Promise.resolve(u).then(r,a)}function N(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){x(i,r,a,o,c,"next",e)}function c(e){x(i,r,a,o,c,"throw",e)}o(void 0)}))}}var I={1:function(){var e=N(i.a.mark((function e(t){return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("state.address"!==t._id){e.next=2;break}return e.abrupt("return",[t,{_id:"state.services",value:{}}]);case 2:return e.abrupt("return",[t]);case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},D=I,R=["_rev"];function C(e,t){if(null==e)return{};var n,r,a=M(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function M(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}function L(e,t){return F(e)||B(e,t)||V(e,t)||U()}function U(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function B(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,c=!1;try{for(n=n.call(e);!(o=(r=n.next()).done);o=!0)if(i.push(r.value),t&&i.length===t)break}catch(u){c=!0,a=u}finally{try{o||null==n["return"]||n["return"]()}finally{if(c)throw a}}return i}}function F(e){if(Array.isArray(e))return e}function W(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=V(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw i}}}}function V(e,t){if(e){if("string"===typeof e)return $(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$(e,t):void 0}}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){K(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function K(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function G(e,t,n,r,a,i,o){try{var c=e[i](o),u=c.value}catch(k){return void n(k)}c.done?t(u):Promise.resolve(u).then(r,a)}function Y(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){G(i,r,a,o,c,"next",e)}function c(e){G(i,r,a,o,c,"throw",e)}o(void 0)}))}}function X(e){return function(){return new Q(e.apply(this,arguments))}}function Q(e){var t,n;function r(e,r){return new Promise((function(i,o){var c={key:e,arg:r,resolve:i,reject:o,next:null};n?n=n.next=c:(t=n=c,a(e,r))}))}function a(t,n){try{var r=e[t](n),o=r.value,c=o instanceof J;Promise.resolve(c?o.wrapped:o).then((function(e){c?a("return"===t?"return":"next",e):i(r.done?"return":"normal",e)}),(function(e){a("throw",e)}))}catch(u){i("throw",u)}}function i(e,r){switch(e){case"return":t.resolve({value:r,done:!0});break;case"throw":t.reject(r);break;default:t.resolve({value:r,done:!1});break}t=t.next,t?a(t.key,t.arg):n=null}this._invoke=r,"function"!==typeof e.return&&(this.return=void 0)}function Z(e){return new J(e)}function J(e){this.wrapped=e}function z(e){var t;if("undefined"!==typeof Symbol&&(Symbol.asyncIterator&&(t=e[Symbol.asyncIterator]),null==t&&Symbol.iterator&&(t=e[Symbol.iterator])),null==t&&(t=e["@@asyncIterator"]),null==t&&(t=e["@@iterator"]),null==t)throw new TypeError("Object is not async iterable");return t.call(e)}function ee(e,t){var n={},r=!1;function a(n,a){return r=!0,a=new Promise((function(t){t(e[n](a))})),{done:!1,value:t(a)}}return n["undefined"!==typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},n.next=function(e){return r?(r=!1,e):a("next",e)},"function"===typeof e.throw&&(n.throw=function(e){if(r)throw r=!1,e;return a("throw",e)}),"function"===typeof e.return&&(n.return=function(e){return r?(r=!1,e):a("return",e)}),n}Q.prototype["function"===typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Q.prototype.next=function(e){return this._invoke("next",e)},Q.prototype.throw=function(e){return this._invoke("throw",e)},Q.prototype.return=function(e){return this._invoke("return",e)},l["a"].plugin(p["a"]);var te="state.",ne="channels.";function re(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e,r=e+"￰";return t?{startkey:r,endkey:n,descending:t}:{startkey:n,endkey:r}}function ae(e){return ie.apply(this,arguments)}function ie(){return ie=Y(i.a.mark((function e(t){var n,r,a;return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=new Set,e.next=3,t.allDocs({startkey:"a",endkey:"z￰"});case 3:return r=e.sent,r.rows.forEach((function(e){var t=e.id;return n.add(t)})),a=new f["a"](!1),e.abrupt("return",Object.assign(t,{storageKeys:n,busy$:a}));case 7:case"end":return e.stop()}}),e)}))),ie.apply(this,arguments)}function oe(e){return ce.apply(this,arguments)}function ce(){return ce=Y(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=new this(t),e.next=3,n.info();case 3:if(r=e.sent,0!==r.doc_count||0!=r.update_seq){e.next=8;break}return e.next=7,n.destroy();case 7:return e.abrupt("return");case 8:return e.abrupt("return",ae(n));case 9:case"end":return e.stop()}}),e,this)}))),ce.apply(this,arguments)}function ue(e){return se.apply(this,arguments)}function se(){return se=Y(i.a.mark((function e(t){var n;return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=new this(t),n.setMaxListeners(30),e.next=4,Promise.all([n.createIndex({index:{name:"byCleared",fields:["cleared","direction"]}}),n.createIndex({index:{name:"byPartner",fields:["direction","partner"]}}),n.createIndex({index:{name:"bySecrethash",fields:["secrethash"]}}),n.createIndex({index:{name:"byChannel",fields:["channel"]}})]);case 4:return e.abrupt("return",ae(n));case 5:case"end":return e.stop()}}),e,this)}))),se.apply(this,arguments)}function le(e,t){return Object(d["a"])((function(){var n=e.changes(t);return Object(b["a"])(Object(y["a"])(n,"change"),Object(y["a"])(n,"error").pipe(Object(v["a"])((function(e){throw e})))).pipe(Object(O["a"])(0),Object(j["a"])(Object(y["a"])(n,"complete")),Object(g["a"])((function(){return n.cancel()})))}))}function pe(e){return fe.apply(this,arguments)}function fe(){return fe=Y(i.a.mark((function e(t){var n,r,a,o,c,u,s,l,p,f,d,b,y,h,m,v,O,j;return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.constructor.__defaults.log,r={channels:{},oldChannels:{},transfers:{}},e.next=4,t.allDocs(q(q({},re(te)),{},{include_docs:!0}));case 4:a=e.sent,o=W(a.rows);try{for(o.s();!(c=o.n()).done;)u=c.value,s=u.id,l=u.doc,r[s.substr(te.length)]=l.value}catch(i){o.e(i)}finally{o.f()}return e.next=9,t.allDocs(q(q({},re(ne)),{},{include_docs:!0}));case 9:p=e.sent,f=W(p.rows);try{for(f.s();!(d=f.n()).done;)b=d.value,y=b.id,h=b.doc,"settleBlock"in h?r.oldChannels[y]=q(q({},h),{},{_id:y.substr(ne.length)}):r.channels[Object(_["b"])(h)]=q(q({},h),{},{_id:y.substr(ne.length)})}catch(i){f.e(i)}finally{f.f()}return e.next=14,t.find({selector:{cleared:0,direction:{$exists:!0}}});case 14:m=e.sent,m.warning&&(null===n||void 0===n||n.warn(m.warning,"getRaidenState")),v=W(m.docs);try{for(v.s();!(O=v.n()).done;)j=O.value,r.transfers[j._id]=j}catch(i){v.e(i)}finally{v.f()}if(!("address"in r)){e.next=20;break}return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),fe.apply(this,arguments)}function de(e,t){return be.apply(this,arguments)}function be(){return be=Y(i.a.mark((function e(t,n){var r,a,o,c,u,s,l,p,f,d,b,y;return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(r=[],a=0,o=Object.entries(n);a<o.length;a++)if(c=L(o[a],2),u=c[0],s=c[1],"channels"===u||"oldChannels"===u)for(l=0,p=Object.values(s);l<p.length;l++)f=p[l],r.push(q(q({},f),{},{_id:ne+f._id}));else if("transfers"===u)for(d=0,b=Object.values(s);d<b.length;d++)y=b[d],r.push(y);else r.push({_id:te+u,value:s});return e.next=4,t.bulkDocs(r);case 4:case"end":return e.stop()}}),e)}))),be.apply(this,arguments)}function ye(e){return Object.keys(e).map((function(e){return+e})).sort()}function he(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D;return null!==(e=Object(E["q"])(ye(t)))&&void 0!==e?e:0}function me(e){return+e.name.match(/_(\d+)$/)[1]}function ve(){return Oe.apply(this,arguments)}function Oe(){return Oe=Y(i.a.mark((function e(){var t,n=arguments;return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=n.length>0&&void 0!==n[0]?n[0]:{log:s.a},t.log||(t.log=s.a),t.adapter){e.next=6;break}return e.next=5,A();case 5:t.adapter=e.sent;case 6:return e.abrupt("return",l["a"].defaults(t));case 7:case"end":return e.stop()}}),e)}))),Oe.apply(this,arguments)}function je(e){return ge.apply(this,arguments)}function ge(){return ge=Y(i.a.mark((function e(t){var n,r,a,o,c,u,s,l,p,f,b,y,O,j=this,g=arguments;return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=g.length>1&&void 0!==g[1]?g[1]:D,r=g.length>2&&void 0!==g[2]&&g[2],a=this.__defaults.log,o=ye(n),c=0,s=o.length-1;case 6:if(!(s>=0)){e.next=18;break}return l=o[s],e.next=10,oe.call(this,"".concat(t,"_").concat(l));case 10:if(p=e.sent,!p){e.next=15;break}return c=l,u=p,e.abrupt("break",18);case 15:--s,e.next=6;break;case 18:if(u){e.next=22;break}return e.next=21,oe.call(this,"".concat(t,"_").concat(c));case 21:u=e.sent;case 22:if(u){e.next=27;break}return c=he(n),e.next=26,ue.call(this,"".concat(t,"_").concat(c));case 26:u=e.sent;case 27:f=W(o),e.prev=28,y=i.a.mark((function e(){var o,s,l;return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(o=b.value,!(o<=c)){e.next=3;break}return e.abrupt("return","continue");case 3:return e.next=5,ue.call(j,"".concat(t,"_").concat(o));case 5:return s=e.sent,e.prev=6,l=/^[a-z]/i,e.next=10,Object(h["a"])(le(u,{since:0,include_docs:!0,filter:function(e){var t=e._id;return l.test(t)}}).pipe(Object(w["a"])((function(e){return Object(d["a"])((function(){return n[o](e.doc,u)})).pipe(Object(v["a"])((function(e){return Object(m["a"])(e)})),Object(w["a"])(function(){var e=Y(i.a.mark((function e(t){var n;return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t._rev,n=C(t,R),e.abrupt("return",s.put(n));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}))));case 10:e.next=17;break;case 12:throw e.prev=12,e.t0=e["catch"](6),null===a||void 0===a||a.error("Error migrating db",{from:c,to:o},e.t0),s.destroy(),e.t0;case 17:if(null===a||void 0===a||a.info("Migrated db",{name:t,from:c,to:o}),!r){e.next=23;break}return e.next=21,u.destroy();case 21:e.next=25;break;case 23:return e.next=25,u.close();case 25:c=o,u=s;case 27:case"end":return e.stop()}}),e,null,[[6,12]])})),f.s();case 31:if((b=f.n()).done){e.next=38;break}return e.delegateYield(y(),"t0",33);case 33:if(O=e.t0,"continue"!==O){e.next=36;break}return e.abrupt("continue",36);case 36:e.next=31;break;case 38:e.next=43;break;case 40:e.prev=40,e.t1=e["catch"](28),f.e(e.t1);case 43:return e.prev=43,f.f(),e.finish(43);case 46:return Object(k["d"])(me(u)===he(n),"Not latest version"),e.abrupt("return",u);case 48:case"end":return e.stop()}}),e,this,[[28,40,43,46]])}))),ge.apply(this,arguments)}function we(e){return _e.apply(this,arguments)}function _e(){return _e=Y(i.a.mark((function e(t){return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=me(t),e.next=3,t.get(te+"chainId");case 3:return e.t1=e.sent.value,e.next=6,t.get(te+"registry");case 6:return e.t2=e.sent.value,e.next=9,t.get(te+"address");case 9:return e.t3=e.sent.value,e.next=12,t.get(te+"blockNumber");case 12:return e.t4=e.sent.value,e.abrupt("return",{_id:"_meta",version:e.t0,network:e.t1,registry:e.t2,address:e.t3,blockNumber:e.t4});case 14:case"end":return e.stop()}}),e)}))),_e.apply(this,arguments)}function ke(e){return"function"===typeof e[Symbol.asyncIterator]}function Ee(e,t){return Te.apply(this,arguments)}function Te(){return Te=Y(i.a.mark((function e(t,n){var r,a,o,c,u,s,l,p,f,d,b,y,h,m,v,O,j=arguments;return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=j.length>2&&void 0!==j[2]?j[2]:D,a=j.length>3&&void 0!==j[3]&&j[3],o=this.__defaults.log,c=ke(t)?t[Symbol.asyncIterator]():t[Symbol.iterator](),e.next=6,c.next();case 6:u=e.sent,Object(k["d"])(!u.done&&"_meta"===u.value._id,'first yielded value must be "_meta"'),s=u.value,l=he(r);case 10:if(!(l>=s.version)){e.next=28;break}return p="".concat(n,"_").concat(l),e.next=14,oe.call(this,p);case 14:if(f=e.sent,f){e.next=17;break}return e.abrupt("continue",25);case 17:return e.next=19,we(f);case 19:return d=e.sent,Object(k["d"])(s.version>=l&&s.blockNumber>=d.blockNumber,k["b"].RDN_STATE_MIGRATION),Object(k["d"])(s.address===d.address,[k["b"].RDN_STATE_ADDRESS_MISMATCH,{expected:d.address,received:s.address}],null===o||void 0===o?void 0:o.error),Object(k["d"])(s.registry===d.registry&&s.network===d.network,[k["b"].RDN_STATE_NETWORK_MISMATCH,{expectedRegistry:d.registry,receivedRegistry:s.registry,expectedNetwork:d.network,receivedNetwork:s.network}],null===o||void 0===o?void 0:o.error),e.next=25,f.destroy();case 25:--l,e.next=10;break;case 28:return b="".concat(n,"_").concat(s.version),e.next=31,ue.call(this,b);case 31:return y=e.sent,e.next=34,c.next();case 34:h=e.sent;case 35:if(h.done){e.next=45;break}return m=h.value,"_rev"in m&&delete m["_rev"],e.next=40,Promise.all([c.next(),y.put(m)]);case 40:v=e.sent,O=L(v,1),h=O[0],e.next=35;break;case 45:return null===o||void 0===o||o.warn("Replaced/loaded database",{name:n,meta:s}),e.next=48,y.close();case 48:return e.next=50,je.call(this,n,r,a);case 50:return e.abrupt("return",e.sent);case 51:case"end":return e.stop()}}),e,this)}))),Te.apply(this,arguments)}function Se(e){return e?e.slice(0,-1)+String.fromCharCode(e.slice(-1).charCodeAt(0)+1):""}function Ae(e){return Pe.apply(this,arguments)}function Pe(){return Pe=X(i.a.mark((function e(t){var n,r,a,o,u,s,l,p,f=arguments;return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=f.length>1&&void 0!==f[1]?f[1]:{},r=n.batch,a=void 0===r?10:r,u=t.changes({since:"now",live:!0}),u.on("change",(function(e){var t=e.id;return o=t})),e.prev=3,e.next=6,we(t);case 6:s="a";case 7:return e.next=10,Z(t.allDocs({startkey:s,endkey:"￰",limit:a,include_docs:!0}));case 10:return l=e.sent,e.delegateYield(ee(z(l.rows.map((function(e){var t=e.doc;return c()(["_rev"],t)}))),Z),"t0",12);case 12:if(Object(k["d"])(!o,["Database changed while dumping",{key:o}]),p=Object(E["q"])(l.rows),!p){e.next=18;break}s=Se(p.id),e.next=19;break;case 18:return e.abrupt("break",21);case 19:e.next=7;break;case 21:return e.prev=21,u.cancel(),e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[3,,21,24]])}))),Pe.apply(this,arguments)}function xe(e){return Ne.apply(this,arguments)}function Ne(){return Ne=Y(i.a.mark((function e(t){return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",ue.call(t.constructor,t.name));case 1:case"end":return e.stop()}}),e)}))),Ne.apply(this,arguments)}function Ie(e,t){return De.apply(this,arguments)}function De(){return De=Y(i.a.mark((function e(t,n){var r,a,o,c,u,s,l,p,f,d;return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=t.constructor.__defaults.log,a=!1,o=10;case 3:if(!(o>0)){e.next=51;break}e.prev=4,c=[],u=!1,s=!1,e.prev=8,p=z(Ae(t,n));case 10:return e.next=12,p.next();case 12:if(!(u=!(f=e.sent).done)){e.next=18;break}d=f.value,c.push(d);case 15:u=!1,e.next=10;break;case 18:e.next=24;break;case 20:e.prev=20,e.t0=e["catch"](8),s=!0,l=e.t0;case 24:if(e.prev=24,e.prev=25,!u||null==p.return){e.next=29;break}return e.next=29,p.return();case 29:if(e.prev=29,!s){e.next=32;break}throw l;case 32:return e.finish(29);case 33:return e.finish(24);case 34:if(!a){e.next=37;break}return e.next=37,t.close();case 37:return e.abrupt("return",c);case 40:if(e.prev=40,e.t1=e["catch"](4),!k["a"].is(e.t1)||!e.t1.message.includes("database is closed")){e.next=47;break}return a=!0,e.next=46,xe(t);case 46:t=e.sent;case 47:null===r||void 0===r||r.warn("Restarting dump because",e.t1);case 48:--o,e.next=3;break;case 51:throw new Error("Could not dump database");case 52:case"end":return e.stop()}}),e,null,[[4,40],[8,20,24,34],[25,,29,33]])}))),De.apply(this,arguments)}},"750b":function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-btn",{staticClass:"text-capitalize action-button",class:{"action-button--sticky":e.sticky,"action-button--full-width":e.fullWidth,"action-button--angular":e.angular},style:{width:e.width,height:e.height},attrs:{type:"submit",disabled:!e.enabled,loading:e.loading,"data-cy":"action_button",depressed:"",large:""},on:{click:function(t){return e.click()}},scopedSlots:e._u([e.loadingText?{key:"loader",fn:function(){return[n("div",{staticClass:"action-button__loading"},[n("span",[e._v(e._s(e.loadingText))]),n("v-progress-linear",{staticClass:"action-button__loading__indicator",attrs:{indeterminate:"",rounded:""}})],1)]},proxy:!0}:null],null,!0)},[e._v(" "+e._s(e.text)+" "),e.arrow?n("v-icon",{attrs:{right:""}},[e._v("keyboard_arrow_right")]):e._e()],1)},a=[],i=n("6dbe"),o=n("5cf9");function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&f(e,t)}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function d(e){var t=h();return function(){var n,r=m(e);if(t){var a=m(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return b(this,n)}}function b(e,t){if(t&&("object"===c(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return y(e)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}var v=function(e){p(n,e);var t=d(n);function n(){return u(this,n),t.apply(this,arguments)}return l(n,[{key:"click",value:function(){return!0}}]),n}(o["g"]);Object(i["f"])([Object(o["e"])({required:!0,type:Boolean})],v.prototype,"enabled",void 0),Object(i["f"])([Object(o["e"])({required:!0})],v.prototype,"text",void 0),Object(i["f"])([Object(o["e"])({type:Boolean,default:!1})],v.prototype,"loading",void 0),Object(i["f"])([Object(o["e"])({type:String})],v.prototype,"loadingText",void 0),Object(i["f"])([Object(o["e"])({type:Boolean,default:!1})],v.prototype,"sticky",void 0),Object(i["f"])([Object(o["e"])({type:Boolean,default:!1})],v.prototype,"arrow",void 0),Object(i["f"])([Object(o["e"])({type:String,default:"250px"})],v.prototype,"width",void 0),Object(i["f"])([Object(o["e"])({type:Boolean,default:!1})],v.prototype,"fullWidth",void 0),Object(i["f"])([Object(o["e"])({type:String,default:"40px"})],v.prototype,"height",void 0),Object(i["f"])([Object(o["e"])({type:Boolean,default:!1})],v.prototype,"angular",void 0),Object(i["f"])([Object(o["b"])()],v.prototype,"click",null),v=Object(i["f"])([Object(o["a"])({})],v);var O=v,j=O,g=(n("74ae"),n("a6c2")),w=n("411c"),_=n.n(w),k=n("9c46"),E=n("b503"),T=n("452d"),S=Object(g["a"])(j,r,a,!1,null,"616272c7",null);t["a"]=S.exports;_()(S,{VBtn:k["a"],VIcon:E["a"],VProgressLinear:T["a"]})},"77fd":function(e,t,n){"use strict";var r=n("6dbe"),a=n("5cf9");function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&l(e,t)}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function p(e){var t=b();return function(){var n,r=y(e);if(t){var a=y(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){if(t&&("object"===i(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return d(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}var h=function(e){s(n,e);var t=p(n);function n(){return o(this,n),t.apply(this,arguments)}return u(n,[{key:"$blockie",value:function(e){return e?this.$identicon.getIdenticon(e):this.$identicon.getIdenticon("0x000")}}]),n}(a["g"]);h=Object(r["f"])([a["a"]],h),t["a"]=h},7990:function(e,t,n){},"7de2":function(e,t,n){"use strict";n.d(t,"a",(function(){return P})),n.d(t,"b",(function(){return I})),n.d(t,"d",(function(){return L})),n.d(t,"c",(function(){return U})),n.d(t,"g",(function(){return F})),n.d(t,"e",(function(){return V})),n.d(t,"f",(function(){return $}));var r,a=n("36d8"),i=n.n(a),o=n("b97c"),c=n("905c9"),u=n("6da0"),s=n("f211"),l=n("699d"),p=n("8379"),f=n("b8fc"),d=n("1045"),b=n.n(d),y=n("2b5b"),h=n("0862"),m=n("f2df"),v=n("46f7"),O=n("ee6c"),j=n("ca14"),g=n("8173"),w=n("5778");function _(e,t,n,r,a,i,o){try{var c=e[i](o),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function k(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){_(i,r,a,o,c,"next",e)}function c(e){_(i,r,a,o,c,"throw",e)}o(void 0)}))}}function E(e){return E="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var P,x=(r={},A(r,w["d"].DELIVERED,12),A(r,w["d"].PROCESSED,0),A(r,w["d"].SECRET_REQUEST,3),A(r,w["d"].SECRET_REVEAL,11),A(r,w["d"].LOCKED_TRANSFER,7),A(r,w["d"].UNLOCK,4),A(r,w["d"].LOCK_EXPIRED,13),A(r,w["d"].WITHDRAW_REQUEST,15),A(r,w["d"].WITHDRAW_CONFIRMATION,16),A(r,w["d"].WITHDRAW_EXPIRED,17),A(r,w["d"].PFS_CAPACITY_UPDATE,-1),A(r,w["d"].PFS_FEE_UPDATE,-1),A(r,w["d"].MONITOR_REQUEST,-1),r);function N(e){return Object(u["a"])(Object(l["f"])(Object(f["a"])(e)))}function I(e){var t=e.transferredAmount,n=e.lockedAmount,r=e.locksroot,a=c["a"];return t.isZero()&&n.isZero()&&(r===c["a"]||r===y["e"])||(a=Object(u["a"])(Object(o["b"])([Object(v["a"])(t,32),Object(v["a"])(n,32),Object(v["a"])(r,32)]))),a}function D(e){var t;switch(e.type){case w["d"].LOCKED_TRANSFER:t=Object(u["a"])(Object(o["b"])([Object(v["a"])(x[e.type],1),Object(v["a"])(e.message_identifier,8),Object(v["a"])(e.payment_identifier,8),Object(v["a"])(e.lock.expiration,32),Object(v["a"])(e.token,20),Object(v["a"])(e.recipient,20),Object(v["a"])(e.target,20),Object(v["a"])(e.initiator,20),Object(v["a"])(e.lock.secrethash,32),Object(v["a"])(e.lock.amount,32),N(e.metadata)]));break;case w["d"].UNLOCK:t=Object(u["a"])(Object(o["b"])([Object(v["a"])(x[e.type],1),Object(v["a"])(e.message_identifier,8),Object(v["a"])(e.payment_identifier,8),Object(v["a"])(e.secret,32)]));break;case w["d"].LOCK_EXPIRED:t=Object(u["a"])(Object(o["b"])([Object(v["a"])(x[e.type],1),Object(v["a"])(e.message_identifier,8),Object(v["a"])(e.recipient,20),Object(v["a"])(e.secrethash,32)]));break}return t}function R(e){switch(e.type){case w["d"].DELIVERED:return Object(o["i"])(Object(o["b"])([Object(v["a"])(x[e.type],1),Object(v["a"])(0,3),Object(v["a"])(e.delivered_message_identifier,8)]));case w["d"].PROCESSED:return Object(o["i"])(Object(o["b"])([Object(v["a"])(x[e.type],1),Object(v["a"])(0,3),Object(v["a"])(e.message_identifier,8)]));case w["d"].LOCKED_TRANSFER:case w["d"].UNLOCK:case w["d"].LOCK_EXPIRED:var t=D(e),n=I({transferredAmount:e.transferred_amount,lockedAmount:e.locked_amount,locksroot:e.locksroot});return Object(o["i"])(Object(o["b"])([Object(v["a"])(e.token_network_address,20),Object(v["a"])(e.chain_id,32),Object(v["a"])(P.BALANCE_PROOF,32),Object(v["a"])(e.channel_identifier,32),Object(v["a"])(n,32),Object(v["a"])(e.nonce,32),Object(v["a"])(t,32)]));case w["d"].SECRET_REQUEST:return Object(o["i"])(Object(o["b"])([Object(v["a"])(x[e.type],1),Object(v["a"])(0,3),Object(v["a"])(e.message_identifier,8),Object(v["a"])(e.payment_identifier,8),Object(v["a"])(e.secrethash,32),Object(v["a"])(e.amount,32),Object(v["a"])(e.expiration,32)]));case w["d"].SECRET_REVEAL:return Object(o["i"])(Object(o["b"])([Object(v["a"])(x[e.type],1),Object(v["a"])(0,3),Object(v["a"])(e.message_identifier,8),Object(v["a"])(e.secret,32)]));case w["d"].WITHDRAW_REQUEST:case w["d"].WITHDRAW_CONFIRMATION:return Object(o["i"])(Object(o["b"])([Object(v["a"])(e.token_network_address,20),Object(v["a"])(e.chain_id,32),Object(v["a"])(P.WITHDRAW,32),Object(v["a"])(e.channel_identifier,32),Object(v["a"])(e.participant,20),Object(v["a"])(e.total_withdraw,32),Object(v["a"])(e.expiration,32)]));case w["d"].WITHDRAW_EXPIRED:return Object(o["i"])(Object(o["b"])([Object(v["a"])(x[e.type],1),Object(v["a"])(0,3),Object(v["a"])(e.nonce,32),Object(v["a"])(e.message_identifier,8),Object(v["a"])(e.token_network_address,20),Object(v["a"])(e.chain_id,32),Object(v["a"])(P.WITHDRAW,32),Object(v["a"])(e.channel_identifier,32),Object(v["a"])(e.participant,20),Object(v["a"])(e.total_withdraw,32),Object(v["a"])(e.expiration,32)]));case w["d"].PFS_CAPACITY_UPDATE:return Object(o["i"])(Object(o["b"])([Object(v["a"])(e.canonical_identifier.chain_identifier,32),Object(v["a"])(e.canonical_identifier.token_network_address,20),Object(v["a"])(e.canonical_identifier.channel_identifier,32),Object(v["a"])(e.updating_participant,20),Object(v["a"])(e.other_participant,20),Object(v["a"])(e.updating_nonce,8),Object(v["a"])(e.other_nonce,8),Object(v["a"])(e.updating_capacity,32),Object(v["a"])(e.other_capacity,32),Object(v["a"])(e.reveal_timeout,32)]));case w["d"].PFS_FEE_UPDATE:return Object(o["i"])(Object(o["b"])([Object(v["a"])(e.canonical_identifier.chain_identifier,32),Object(v["a"])(e.canonical_identifier.token_network_address,20),Object(v["a"])(e.canonical_identifier.channel_identifier,32),Object(v["a"])(e.updating_participant,20),Object(v["a"])(e.fee_schedule.cap_fees,1),Object(v["a"])(e.fee_schedule.flat,32),Object(v["a"])(e.fee_schedule.proportional,32),Object(s["encode"])(e.fee_schedule.imbalance_penalty?e.fee_schedule.imbalance_penalty.map((function(e){return e.map((function(e){return e.isZero()?"0x":e.toHexString()}))})):"0x"),Object(l["f"])(e.timestamp)]));case w["d"].MONITOR_REQUEST:return Object(o["i"])(Object(o["b"])([Object(v["a"])(e.monitoring_service_contract_address,20),Object(v["a"])(e.balance_proof.chain_id,32),Object(v["a"])(P.MS_REWARD,32),Object(v["a"])(e.balance_proof.token_network_address,20),Object(v["a"])(e.non_closing_participant,20),Object(v["a"])(e.non_closing_signature,65),Object(v["a"])(e.reward_amount,32)]))}}function C(e){return j["i"].is(e.signature)}function M(e,t){return!Object(h["b"])(t,y["a"].IMMUTABLE_METADATA)&&"metadata"in e&&(e=S(S({},e),{},{metadata:Object(j["n"])(w["e"],e.metadata)})),Object(p["b"])(Object(o["a"])(R(e)),e.signature)}function L(e){return{chainId:e.chain_id,tokenNetworkAddress:e.token_network_address,channelId:e.channel_identifier,nonce:e.nonce,transferredAmount:e.transferred_amount,lockedAmount:e.locked_amount,locksroot:e.locksroot,additionalHash:D(e),signature:e.signature}}function U(e){return"signature"in e?Object(v["c"])(Object(j["j"])(w["c"]).encode(e)):Object(v["c"])(w["c"].encode(e))}function B(e){var t=Object(v["b"])(e);return Object(m["a"])(t&&"object"===E(t)&&"type"in t&&Object.values(w["d"]).some((function(e){return e===t["type"]})),"Invalid message type: ".concat(null===t||void 0===t?void 0:t["type"])),"signature"in t?Object(j["n"])(Object(j["j"])(w["c"]),t):Object(j["n"])(w["c"],t)}function F(e,t){return W.apply(this,arguments)}function W(){return W=k(i.a.mark((function e(t,n){var r,a,c,u=arguments;return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:{log:b.a},a=r.log,!C(n)){e.next=3;break}return e.abrupt("return",n);case 3:return a.debug('Signing message "'.concat(n.type,'"'),n),e.next=6,t.signMessage(Object(o["a"])(R(n)));case 6:return c=e.sent,e.abrupt("return",S(S({},n),{},{signature:c}));case 8:case"end":return e.stop()}}),e)}))),W.apply(this,arguments)}function V(e){return function(t){return g["messageReceived"].is(t)&&(Array.isArray(e)?e.some((function(e){return e.is(t.payload.message)})):e.is(t.payload.message))}}function $(e,t,n){var r=n.log;if("string"===typeof e)try{var a=B(e);if("signature"in a){var i=M(a,t.payload.caps);Object(m["a"])(i===t.meta.address,[O["b"].TRNS_MESSAGE_SIGNATURE_MISMATCH,{sender:t.meta.address,signer:i}])}return a}catch(o){r.warn("Could not decode message: ".concat(e,": ").concat(o))}}(function(e){e[e["BALANCE_PROOF"]=1]="BALANCE_PROOF",e[e["BALANCE_PROOF_UPDATE"]=2]="BALANCE_PROOF_UPDATE",e[e["WITHDRAW"]=3]="WITHDRAW",e[e["COOP_SETTLE"]=4]="COOP_SETTLE",e[e["IOU"]=5]="IOU",e[e["MS_REWARD"]=6]="MS_REWARD"})(P||(P={}))},8:function(e,t){},8089:function(e,t,n){"use strict";n.d(t,"d",(function(){return Ge})),n.d(t,"e",(function(){return Qe})),n.d(t,"h",(function(){return Ze})),n.d(t,"l",(function(){return Je})),n.d(t,"a",(function(){return ze})),n.d(t,"c",(function(){return et})),n.d(t,"n",(function(){return tt})),n.d(t,"b",(function(){return rt})),n.d(t,"g",(function(){return it})),n.d(t,"j",(function(){return ct})),n.d(t,"k",(function(){return ut})),n.d(t,"f",(function(){return lt})),n.d(t,"m",(function(){return bt})),n.d(t,"i",(function(){return yt}));var r=n("36d8"),a=n.n(r),i=n("4fe5"),o=n("87b8"),c=n("2b89"),u=n("09d5"),s=n("699d"),l=n("8379"),p=n("7ff5"),f=n.n(p),d=n("427e"),b=n.n(d),y=n("1045"),h=n.n(y),m=n("0146"),v=n("cea7"),O=n("f068"),j=n("c32d"),g=n("277b"),w=n("9c65"),_=n("996a"),k=n("1319"),E=n("b211"),T=n("009f"),S=n("ef4a"),A=n("c0bf"),P=n("f5be"),x=n("b8ff"),N=n("8120"),I=n("5bbb"),D=n("2b5b"),R=n("de7d"),C=n("74e4"),M=n("3501"),L=n("ee79"),U=n("31a7"),B=n("a0df"),F=n("4c29"),W=n("1f0b"),V=n("0ff6"),$=n("b4cc"),H=n("65e1"),q=n("c00b"),K=n("30c0"),G=n("79b8"),Y=n("2111"),X=n("d011"),Q=n("f2df"),Z=n("ca14");function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){ee(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function te(e){return ae(e)||re(e)||ce(e)||ne()}function ne(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function re(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function ae(e){if(Array.isArray(e))return ue(e)}function ie(e,t){return le(e)||se(e,t)||ce(e,t)||oe()}function oe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ce(e,t){if(e){if("string"===typeof e)return ue(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ue(e,t):void 0}}function ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function se(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,c=!1;try{for(n=n.call(e);!(o=(r=n.next()).done);o=!0)if(i.push(r.value),t&&i.length===t)break}catch(u){c=!0,a=u}finally{try{o||null==n["return"]||n["return"]()}finally{if(c)throw a}}return i}}function le(e){if(Array.isArray(e))return e}var pe=G["Decimal"].clone({precision:40,rounding:G["Decimal"].ROUND_HALF_EVEN}),fe=new pe(0),de=new pe(1);function be(e){var t=parseInt(e);return Object(Q["a"])(void 0!==t&&t==e),t}function ye(e,t){var n=ie(t,2),r=n[0],a=n[1];return Object(Q["a"])(e.gt(0),"no output channel capacity available"),function(t){var n=new pe(t.toHexString()),i=r(n),o=function(e){return i.add(a(e.neg())).sub(n).add(e)},c=fe,u=o(c);Object(Q["a"])(u.lt(0),"input transfer not enough to pay minimum fees");var s=e,l=o(s);Object(Q["a"])(l.gte(0),"output capacity not enough to mediate transfer");while(1){var p=s.add(c).div(2),f=o(p),d=f.sub(u).div(p.sub(c)),b=l.sub(f).div(s.sub(p));if(b.sub(d).abs().lt(1e-6))break;u.isNegative()!==f.isNegative()?(s=p,l=f):(c=p,u=f)}var y=c.sub(u.mul(s.sub(c)).div(l.sub(u)));return Object(Z["n"])(X["b"],n.sub(y).toFixed(0,pe.ROUND_HALF_EVEN))}}var he={name:"flat",emptySchedule:{flat:o["h"]},decodeConfig:function(e,t){return Object(Z["n"])(X["b"],null!==e&&void 0!==e?e:t).div(2)},channelFee:function(e){var t=new pe(e.toHexString());return function(){return t}},fee:function(e){var t=Object(Z["n"])(X["b"],e.mul(2));return function(){return t}},schedule:function(e){return{flat:e}}},me={name:"proportional",emptySchedule:{proportional:o["h"]},decodeConfig:function(e,t){var n=new pe(be(null!==e&&void 0!==e?e:t)).div(1e6),r=n.div(n.add(2)).mul(1e6);return r.toDecimalPlaces(0,pe.ROUND_HALF_EVEN).toNumber()},channelFee:function(e){var t=new pe(e).div(1e6);return function(e){return e.mul(t).abs()}},fee:function(e){var t=new pe(e).div(1e6);return function(e){var n=new pe(e.toHexString()),r=n.mul(de.sub(t).div(de.add(t))),a=n.sub(r);return Object(Z["n"])(X["b"],a.toFixed(0,pe.ROUND_HALF_EVEN))}},schedule:function(e){return{proportional:q["a"].from(e)}}};function ve(e,t,n){var r=t.sub(e);Object(Q["a"])(n>=2&&r.gte(n-1),"invalid linspace params");for(var a=n-1,i=new pe(r.toString()).div(a),o=[e],c=1;c<a;c++)o.push(e.add(i.mul(c).toFixed(0,pe.ROUND_HALF_EVEN)));return[].concat(o,[t])}function Oe(e,t){Object(Q["a"])(t.length>=2,"invalid linspace");var n=t[0][0],r=t[t.length-1][0];if(e.eq(r.toHexString()))return t.length-2;var a=new pe(r.sub(n).toHexString()),i=a.div(t.length-1),o=Math.floor(e.sub(n.toHexString()).div(i).toNumber()),c=0;do{if(o<0)return-1;if(o>=t.length-1)return t.length-1;c=e.gte(t[o+1][0].toHexString())?-1:e.lt(t[o][0].toHexString())?1:0,o+=c}while(c);return o}function je(e,t,n){var r=ie(t,2),a=r[0],i=r[1],o=ie(n,2),c=o[0],u=o[1];return e.sub(a.toHexString()).mul(u.sub(i).toHexString()).div(c.sub(a).toHexString()).add(i.toHexString())}function ge(e,t){var n=Oe(e,t);return n<0?n=0:n>=t.length-1&&(n=t.length-2),je(e,t[n],t[n+1])}function we(e,t){var n=21,r=new pe("0.1");Object(Q["a"])(e.gt(0),"not enough capacity");var a=new pe(e.toHexString()),i=pe.min(n,a.add(1)).toNumber(),c=ve(o["h"],e,i);if(0===t)return[[o["h"],o["h"]],[e,o["h"]]];var u=new pe(t).div(1e6);Object(Q["a"])(u.lte(r.div(2)),"Too high imbalance fee");var s=a.mul(u),l=r,p=s,f=a.div(2),d=pe.min(10,l.mul(f).div(p)),b=function(e){return q["a"].from(new pe(e.toHexString()).sub(f).abs().pow(d).mul(p).div(f.pow(d)).toFixed(0,pe.ROUND_HALF_EVEN))};return c.map((function(e){return[e,b(e)]}))}var _e={name:"imbalance",emptySchedule:{imbalance_penalty:null},decodeConfig:function(e,t){var n=be(null!==e&&void 0!==e?e:t);return Object(Q["a"])(n>=0&&n<=5e4,"Too high imbalance fee"),n},channelFee:function(e,t){var n=Object(N["a"])(t),r=n.totalCapacity,a=n.ownCapacity;if(!e||!r.gt(0))return function(){return fe};var i=we(r,e),o=ge(new pe(a.toHexString()),i);return function(e){return ge(e.add(a.toHexString()),i).sub(o)}},fee:function(e,t,n){var r=this.channelFee(e,t),a=this.channelFee(e,n),i=new pe(Object(N["a"])(n).ownCapacity.toHexString());return ye(i,[r,a])},schedule:function(e,t){var n=Object(N["a"])(t),r=n.totalCapacity;if(!e||!r.gt(0))return{imbalance_penalty:null};var a=we(r,e);return{imbalance_penalty:a}}};function ke(e){var t=Object.assign.apply(Object,[{cap_fees:!0}].concat(te(Object.values(e).map((function(e){return e.emptySchedule}))))),n=Y["w"]([Y["v"],Y["q"](Y["r"],Y["q"](Y["r"],Y["x"]))]),r={name:"standard",emptySchedule:t,decodeConfig:function(t,r){for(var a=z(z({},Object(Z["n"])(n,t)),Object(Z["n"])(n,r)),i=0,o=Object.entries(a);i<o.length;i++){for(var c,u=ie(o[i],2),s=u[0],l=u[1],p=Object(Z["n"])(Z["a"],s),f={cap:null===(c=l["cap"])||void 0===c||c},d=0,b=Object.entries(e);d<b.length;d++){var y=ie(b[d],2),h=y[0],m=y[1],v=h;v in l&&(f[v]=m.decodeConfig(l[h]))}a[p]=f}return a},channelFee:function(t,n){var r,a=n.token,i=null!==(r=t[a])&&void 0!==r?r:t[K["a"]],o=Object.entries(e).map((function(e){var t=ie(e,2),r=t[0],a=t[1],o=null===i||void 0===i?void 0:i[r];if(o)return a.channelFee(o,n)})).filter(Z["p"]);return function(e){return o.reduce((function(t,n){return t.add(n(e))}),fe)}},fee:function(e,n,r){var a,i,c,u=this.channelFee(e,n),s=this.channelFee(e,r),l=new pe(Object(N["a"])(r).ownCapacity.toHexString()),p=null!==(a=null===(i=null!==(c=e[n.token])&&void 0!==c?c:e[K["a"]])||void 0===i?void 0:i.cap)&&void 0!==a?a:t.cap_fees,f=ye(l,[u,s]);return function(e){var t=f(e);return p&&t.lt(0)&&(t=o["h"]),t}},schedule:function(n,r){var a,i=r.token,o=null!==(a=n[i])&&void 0!==a?a:n[K["a"]];return Object.assign.apply(Object,[{},t,void 0!==(null===o||void 0===o?void 0:o.cap)?{cap_fees:o.cap}:void 0].concat(te(Object.entries(e).map((function(e){var t=ie(e,2),n=t[0],a=t[1],i=n,c=null===o||void 0===o?void 0:o[i];return c?a.schedule(c,r):{}})))))}};return r}var Ee=ke({flat:he,proportional:me,imbalance:_e}),Te=n("1a78"),Se=n("59ec"),Ae=n("d276"),Pe=n("46f7"),xe=n("ee6c"),Ne=n("1b23"),Ie=n("325b"),De=["state"];function Re(e,t){if(null==e)return{};var n,r,a=Ce(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Ce(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}function Me(e,t){return We(e)||Fe(e,t)||Ue(e,t)||Le()}function Le(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ue(e,t){if(e){if("string"===typeof e)return Be(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Be(e,t):void 0}}function Be(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Fe(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,c=!1;try{for(n=n.call(e);!(o=(r=n.next()).done);o=!0)if(i.push(r.value),t&&i.length===t)break}catch(u){c=!0,a=u}finally{try{o||null==n["return"]||n["return"]()}finally{if(c)throw a}}return i}}function We(e){if(Array.isArray(e))return e}function Ve(e,t,n,r,a,i,o){try{var c=e[i](o),u=c.value}catch(xe){return void n(xe)}c.done?t(u):Promise.resolve(u).then(r,a)}function $e(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){Ve(i,r,a,o,c,"next",e)}function c(e){Ve(i,r,a,o,c,"throw",e)}o(void 0)}))}}function He(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?He(Object(n),!0).forEach((function(t){Ke(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):He(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ke(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ge=function(e){switch(e.name){case"rinkeby":return qe(qe({},U.contracts),V.contracts);case"ropsten":return qe(qe({},B.contracts),$.contracts);case"goerli":return qe(qe({},M.contracts),F.contracts);case"homestead":return qe(qe({},L.contracts),W.contracts);default:throw new xe["c"](xe["b"].RDN_UNRECOGNIZED_NETWORK,{network:e.name})}};function Ye(e,t,n){return Xe.apply(this,arguments)}function Xe(){return Xe=$e(a.a.mark((function e(t,n,r){var i,o,c,p,f,d,b;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return c=null!==(i=null!==r&&void 0!==r?r:null===globalThis||void 0===globalThis||null===(o=globalThis.location)||void 0===o?void 0:o.origin)&&void 0!==i?i:"unknown",p="=== RAIDEN SUBKEY GENERATION ===\n\nNetwork: ".concat(Object(Ne["d"])(t).toUpperCase(),"\nRaiden dApp URL: ").concat(c,"\n\nWARNING: ensure this signature is being requested from Raiden dApp running at URL above by comparing it to your browser's url bar.\nSigning this message at any other address WILL give it FULL control of this subkey's funds, tokens and Raiden channels!"),e.next=4,n.signMessage(Object(s["f"])(p));case 4:return f=e.sent,d=Object(u["c"])(f),b=new l["a"](d,n.provider),e.abrupt("return",{signer:b,address:b.address});case 8:case"end":return e.stop()}}),e)}))),Xe.apply(this,arguments)}var Qe=function(){var e=$e(a.a.mark((function e(t,n,r,o){var c,u,s,p,f;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!i["a"].isSigner(t)){e.next=15;break}if(t.provider!==n){e.next=5;break}c=t,e.next=10;break;case 5:if(!(t instanceof l["a"])){e.next=9;break}c=t.connect(n),e.next=10;break;case 9:throw new xe["c"](xe["b"].RDN_SIGNER_NOT_CONNECTED,{account:t.toString(),provider:n.toString()});case 10:return e.next=12,c.getAddress();case 12:u=e.sent,e.next=38;break;case 15:if("number"!==typeof t){e.next=22;break}return c=n.getSigner(t),e.next=19,c.getAddress();case 19:u=e.sent,e.next=38;break;case 22:if(!Z["a"].is(t)){e.next=32;break}return e.next=25,n.listAccounts();case 25:if(p=e.sent,p.includes(t)){e.next=28;break}throw new xe["c"](xe["b"].RDN_ACCOUNT_NOT_FOUND,{account:t,accounts:JSON.stringify(p)});case 28:c=n.getSigner(t),u=t,e.next=38;break;case 32:if(!Z["f"].is(t)){e.next=37;break}c=new l["a"](t,n),u=c.address,e.next=38;break;case 37:throw new xe["c"](xe["b"].RDN_STRING_ACCOUNT_INVALID);case 38:if(!r){e.next=51;break}return s={signer:c,address:u},e.t0=Ye,e.next=43,n.getNetwork();case 43:return e.t1=e.sent,e.t2=s.signer,e.t3=o,e.next=48,(0,e.t0)(e.t1,e.t2,e.t3);case 48:f=e.sent,c=f.signer,u=f.address;case 51:return e.abrupt("return",{signer:c,address:u,main:s});case 52:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}();function Ze(e,t){return Object(m["a"])(Object(C["a"])(t,{since:0,include_docs:!0,selector:{direction:{$in:Object.values(Te["a"])}}}).pipe(Object(w["a"])("doc"),Object(_["a"])(Z["p"]),Object(k["a"])((function(e){return Object(Z["n"])(Te["e"],e)}))),e.pipe(Object(Ie["g"])("transfers"),Object(Ie["d"])(),Object(w["a"])(1))).pipe(Object(k["a"])(Se["k"]))}var Je=function(e){return Object.values(e).reduce((function(e,t){var n=Object(N["a"])(t),r=qe({state:t.state,id:t.id,token:t.token,tokenNetwork:t.tokenNetwork,settleTimeout:t.settleTimeout,openBlock:t.openBlock,closeBlock:"closeBlock"in t?t.closeBlock:void 0,partner:t.partner.address,balance:n.ownBalance,capacity:n.ownCapacity},n);return qe(qe({},e),{},Ke({},t.token,qe(qe({},e[t.token]),{},Ke({},t.partner.address,r))))}),{})};function ze(e,t){var n=e.signer,r=e.address,a=e.main;return a&&!t?a:{signer:n,address:r}}function et(e,t){return e.signer===t?e:e.connect(t)}function tt(e,t,n){return nt.apply(this,arguments)}function nt(){return nt=$e(a.a.mark((function e(t,n,r){var i,o,c,u,s;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=n.latest$,o=n.config$,c=n.provider,u=t.blockNumber,s=t.transactionHash,e.abrupt("return",Object(v["a"])(i.pipe(Object(Ie["g"])("state","blockNumber"),Object(E["a"])(o),Object(_["a"])((function(e){var t=Me(e,2),n=t[0],a=t[1].confirmationBlocks;return u+(null!==r&&void 0!==r?r:a)<=n})),Object(T["a"])((function(e){var t=Me(e,2),n=t[0],i=t[1].confirmationBlocks;return Object(O["a"])($e(a.a.mark((function e(){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",c.getTransactionReceipt(s));case 1:case"end":return e.stop()}}),e)})))).pipe(Object(k["a"])((function(e){if(null!==e&&void 0!==e&&e.confirmations&&e.confirmations>=(null!==r&&void 0!==r?r:i))return e.blockNumber;if(u+2*(null!==r&&void 0!==r?r:i)<n)throw new xe["c"](xe["b"].RDN_TRANSACTION_REORG,{transactionHash:s})})))})),Object(_["a"])(Z["p"]))));case 4:case"end":return e.stop()}}),e)}))),nt.apply(this,arguments)}function rt(e,t,n){return at.apply(this,arguments)}function at(){return at=$e(a.a.mark((function e(t,n,r){var i,o,c,u,s,l,p,f,d,b;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=R["h"].connect(n,t),e.next=3,i.msc_address();case 3:return o=e.sent,c=R["c"].connect(o,t),e.next=7,c.token_network_registry();case 7:return u=e.sent,s=R["f"].connect(u,t),e.next=11,s.secret_registry_address();case 11:return l=e.sent,e.next=14,c.service_registry();case 14:return p=e.sent,e.next=17,t.getBlockNumber();case 17:if(f=e.sent,e.t0=r,e.t0){e.next=23;break}return e.next=22,Object(v["a"])(Object(Ne["c"])(t,qe(qe({},s.filters.TokenNetworkCreated(null,null)),{},{fromBlock:1,toBlock:f})).pipe(Object(w["a"])("blockNumber"),Object(_["a"])(Z["p"])),{defaultValue:f});case 22:e.t0=e.sent;case 23:return d=e.t0,e.next=26,i.one_to_n_address();case 26:return b=e.sent,e.abrupt("return",{TokenNetworkRegistry:{address:u,block_number:d},ServiceRegistry:{address:p,block_number:d},UserDeposit:{address:n,block_number:d},SecretRegistry:{address:l,block_number:d},MonitoringService:{address:o,block_number:d},OneToN:{address:b,block_number:d}});case 28:case"end":return e.stop()}}),e)}))),at.apply(this,arguments)}function it(e){return ot.apply(this,arguments)}function ot(){return ot=$e(a.a.mark((function e(t){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(v["a"])(t.pipe(Object(w["a"])("udcDeposit","balance"),Object(_["a"])((function(e){return!!e&&e.lt(o["b"])})))));case 1:case"end":return e.stop()}}),e)}))),ot.apply(this,arguments)}function ct(e){return Object(v["a"])(e.pipe(Object(S["a"])(Object(Ae["e"])([P["g"],P["e"]])),Object(k["a"])((function(e){if(P["e"].is(e)){if(Object.values(D["g"]).some((function(t){return t===e.payload.reason})))return;throw e.payload}return e.payload}))))}function ut(e){var t=e.log,n=e.getTokenContract;return b()(function(){var e=$e(a.a.mark((function e(r){var i,o,c,u,s,l,p;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return Object(Q["a"])(Z["a"].is(r),[xe["b"].DTA_INVALID_ADDRESS,{token:r}],t.info),i=n(r),e.next=4,Promise.all([i.callStatic.totalSupply(),i.callStatic.decimals(),i.callStatic.name().catch(f()(void 0)),i.callStatic.symbol().catch(f()(void 0))]);case 4:return o=e.sent,c=Me(o,4),u=c[0],s=c[1],l=c[2],p=c[3],e.abrupt("return",{totalSupply:u,decimals:s,name:l,symbol:p});case 11:case"end":return e.stop()}}),e)})));function r(t){return e.apply(this,arguments)}return r}())}function st(e,t){var n,r,a,i=t.address,o=t.network,c=t.contractsInfo,u=e[0];Object(Q["a"])("_meta"===(null===u||void 0===u?void 0:u._id),xe["b"].RDN_STATE_MIGRATION),Object(Q["a"])(u.address===i,xe["b"].RDN_STATE_ADDRESS_MISMATCH),Object(Q["a"])(u.registry===c.TokenNetworkRegistry.address,xe["b"].RDN_STATE_NETWORK_MISMATCH),Object(Q["a"])(u.network===o.chainId,xe["b"].RDN_STATE_NETWORK_MISMATCH),Object(Q["a"])((null===(n=e.find((function(e){return"state.address"===e._id})))||void 0===n?void 0:n.value)===i,xe["b"].RDN_STATE_ADDRESS_MISMATCH),Object(Q["a"])((null===(r=e.find((function(e){return"state.chainId"===e._id})))||void 0===r?void 0:r.value)===o.chainId,xe["b"].RDN_STATE_NETWORK_MISMATCH),Object(Q["a"])((null===(a=e.find((function(e){return"state.registry"===e._id})))||void 0===a?void 0:a.value)===c.TokenNetworkRegistry.address,xe["b"].RDN_STATE_NETWORK_MISMATCH)}function lt(e){return pt.apply(this,arguments)}function pt(){return pt=$e(a.a.mark((function e(t){var n,r,i,o,c,u,s,l,p,f,d,b,y=arguments;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.address,r=t.network,i=t.contractsInfo,o=t.log,c=y.length>1&&void 0!==y[1]?y[1]:{},u=["raiden",Object(Ne["d"])(r),i.TokenNetworkRegistry.address,n].join("_"),l=c.state,p=Re(c,De),f=l,e.next=7,Object(C["c"])(qe(qe({},p),{},{log:o}));case 7:if(d=e.sent,!f){e.next=16;break}return"string"===typeof f&&(f=Object(Pe["b"])(f)),st(f,{address:n,network:r,contractsInfo:i}),e.next=13,C["g"].call(d,f,u);case 13:s=e.sent,e.next=19;break;case 16:return e.next=18,C["e"].call(d,u);case 18:s=e.sent;case 19:return e.next=21,Object(C["d"])(s);case 21:if(b=e.sent,b){e.next=28;break}return b=Object(H["c"])({network:r,address:n,contractsInfo:i}),e.next=26,Object(C["f"])(s,b);case 26:e.next=29;break;case 28:b=Object(Z["n"])(H["a"],b);case 29:return e.abrupt("return",{db:s,state:b});case 30:case"end":return e.stop()}}),e)}))),pt.apply(this,arguments)}var ft=[x["b"].settleable,x["b"].settling],dt=[x["b"].closed].concat(ft);function bt(e,t){return e.pipe(Object(S["a"])(),Object(A["a"])((function(n){var r=n.channels,a=r[Object(N["b"])(t)];return Object(Q["a"])(a&&dt.includes(a.state),xe["b"].CNL_NO_SETTLEABLE_OR_SETTLING_CHANNEL_FOUND),e.pipe(Object(Ie["g"])("channels",Object(N["b"])(t)))})),Object(S["a"])((function(e){return ft.includes(e.state)})))}function yt(e,t,n){var r,a,i,o,u,s=n.signer,l=n.contractsInfo,p=n.db,f=n.main;Object(Q["a"])(s.provider&&s.provider instanceof c["a"]&&s.provider.network,"Signer must be connected to a JsonRpcProvider");var d=new j["a"](1);return{latest$:d,config$:d.pipe(Object(Ie["g"])("config")),matrix$:new g["a"],signer:s,provider:s.provider,network:s.provider.network,address:e.address,log:h.a.getLogger("raiden:".concat(e.address)),defaultConfig:Object(I["c"])({network:s.provider.network},t),contractsInfo:l,registryContract:R["f"].connect(l.TokenNetworkRegistry.address,null!==(r=null===f||void 0===f?void 0:f.signer)&&void 0!==r?r:s),getTokenNetworkContract:b()((function(e){var t;return R["g"].connect(e,null!==(t=null===f||void 0===f?void 0:f.signer)&&void 0!==t?t:s)})),getTokenContract:b()((function(e){var t;return R["b"].connect(e,null!==(t=null===f||void 0===f?void 0:f.signer)&&void 0!==t?t:s)})),serviceRegistryContract:R["e"].connect(l.ServiceRegistry.address,null!==(a=null===f||void 0===f?void 0:f.signer)&&void 0!==a?a:s),userDepositContract:R["h"].connect(l.UserDeposit.address,null!==(i=null===f||void 0===f?void 0:f.signer)&&void 0!==i?i:s),secretRegistryContract:R["d"].connect(l.SecretRegistry.address,null!==(o=null===f||void 0===f?void 0:f.signer)&&void 0!==o?o:s),monitoringServiceContract:R["c"].connect(l.MonitoringService.address,null!==(u=null===f||void 0===f?void 0:f.signer)&&void 0!==u?u:s),main:f,db:p,init$:new j["a"],mediationFeeCalculator:Ee}}},"80bf":function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e["DISCLAIMER"]="disclaimer",e["TRANSFER"]="transfer",e["TRANSFER_STEPS"]="transfer-steps",e["QUICK_PAY"]="quick-pay",e["SELECT_TOKEN"]="select-token",e["SELECT_HUB"]="select-hub",e["HOME"]="home",e["NO_CONNECTED_TOKEN"]="no-connected-token",e["CHANNELS"]="channels",e["OPEN_CHANNEL"]="open-channel",e["ACCOUNT_ROOT"]="account-root",e["ACCOUNT_BACKUP"]="account-backup",e["ACCOUNT_RAIDEN"]="account-raiden",e["ACCOUNT_SETTINGS"]="account-settings",e["ACCOUNT_WITHDRAWAL"]="account-withdrawal",e["ACCOUNT_UDC"]="account-udc",e["NOTIFICATIONS"]="notifications"}(r||(r={}))},8120:function(e,t,n){"use strict";n.d(t,"b",(function(){return F})),n.d(t,"c",(function(){return W})),n.d(t,"a",(function(){return V})),n.d(t,"e",(function(){return H})),n.d(t,"f",(function(){return G})),n.d(t,"d",(function(){return Y}));var r=n("36d8"),a=n.n(r),i=n("87b8"),o=n("c32d"),c=n("f068"),u=n("f541"),s=n("dd89"),l=n("c0bf"),p=n("1319"),f=n("9c65"),d=n("c1c6"),b=n("33b9"),y=n("996a"),h=n("b211"),m=n("ef4a"),v=n("15e7"),O=n("4a12"),j=n("8089"),g=n("5778"),w=n("ee6c"),_=n("325b"),k=n("ca14");function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A(e,t,n,r,a,i,o){try{var c=e[i](o),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function P(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){A(i,r,a,o,c,"next",e)}function c(e){A(i,r,a,o,c,"throw",e)}o(void 0)}))}}function x(e,t){return D(e)||I(e,t)||M(e,t)||N()}function N(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function I(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,c=!1;try{for(n=n.call(e);!(o=(r=n.next()).done);o=!0)if(i.push(r.value),t&&i.length===t)break}catch(u){c=!0,a=u}finally{try{o||null==n["return"]||n["return"]()}finally{if(c)throw a}}return i}}function D(e){if(Array.isArray(e))return e}function R(e){return U(e)||L(e)||M(e)||C()}function C(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function M(e,t){if(e){if("string"===typeof e)return B(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?B(e,t):void 0}}function L(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function U(e){if(Array.isArray(e))return B(e)}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function F(e){var t=e.tokenNetwork,n=e.partner,r="string"===typeof n?n:n.address;return"".concat(t,"@").concat(r)}function W(e){return"_id"in e&&e._id?e._id:"".concat(F(e),"#").concat(e.id.toString().padStart(9,"0"))}function V(e){var t=e.own.withdraw,n=e.partner.withdraw,r=e.own.balanceProof.transferredAmount,a=e.partner.balanceProof.transferredAmount,o=e.own.locks.filter((function(e){return e.registered})).reduce((function(e,t){return e.add(t.amount)}),i["h"]),c=e.partner.locks.filter((function(e){return e.registered})).reduce((function(e,t){return e.add(t.amount)}),i["h"]),u=r.add(o),s=a.add(c),l=e.own.balanceProof.lockedAmount.sub(o),p=e.partner.balanceProof.lockedAmount.sub(c),f=s.sub(u),d=u.sub(s),b=k["m"].apply(void 0,[t].concat(R(e.own.pendingWithdraws.filter((function(e){return e.type===g["d"].WITHDRAW_REQUEST})).map((function(e){return e.total_withdraw}))))),y=k["m"].apply(void 0,[n].concat(R(e.partner.pendingWithdraws.filter((function(e){return e.type===g["d"].WITHDRAW_REQUEST})).map((function(e){return e.total_withdraw}))))),h=e.own.deposit.sub(b).sub(l).add(f),m=e.partner.deposit.sub(y).sub(p).add(d),v=e.own.deposit.add(f).sub(l),O=v.sub(t),j=e.partner.deposit.add(d).sub(p),w=j.sub(n),_=e.own.deposit.sub(e.own.withdraw).add(e.partner.deposit).sub(e.partner.withdraw);return{ownDeposit:e.own.deposit,ownWithdraw:t,ownTransferred:r,ownLocked:l,ownBalance:f,ownCapacity:h,ownOnchainUnlocked:o,ownUnlocked:u,partnerDeposit:e.partner.deposit,partnerWithdraw:n,partnerTransferred:a,partnerLocked:p,partnerBalance:d,partnerCapacity:m,partnerOnchainUnlocked:c,partnerUnlocked:s,ownTotalWithdrawable:v,ownWithdrawable:O,partnerTotalWithdrawable:j,partnerWithdrawable:w,totalCapacity:_}}function $(e,t,n){var r=n.log,a=n.provider;return function(n){return n.pipe(Object(s["a"])((function(t){return r.debug("sent ".concat(e,' tx "').concat(t.hash,'" to "').concat(t.to,'"'))})),Object(l["a"])((function(e){return Object(_["i"])((function(){return e.wait()}),a.pollingInterval,{onErrors:w["h"]}).pipe(Object(p["a"])((function(t){return[e,t]})))})),Object(p["a"])((function(n){var a,i,o,c=x(n,2),u=c[0],s=c[1];if(!s.status||!s.transactionHash||!s.blockNumber)throw new w["c"](t,{status:null!==(a=s.status)&&void 0!==a?a:null,transactionHash:null!==(i=s.transactionHash)&&void 0!==i?i:null,blockNumber:null!==(o=s.blockNumber)&&void 0!==o?o:null});return r.debug("".concat(e,' tx "').concat(s.transactionHash,'" successfuly mined!')),[u,s]})))}}function H(){return function(e){return e.pipe(Object(f["a"])("channels"),Object(_["d"])(),Object(f["a"])(1),Object(d["a"])(W,{connector:function(){return new o["a"](1)}}),Object(p["a"])((function(t){var n=t.key.split("#"),r=x(n,2),a=r[0],i=r[1],o=+i;return t.pipe(Object(b["a"])(e.pipe(Object(y["a"])((function(e){var t,n=e.channels;return(null===(t=n[a])||void 0===t?void 0:t.id)!==o})))))})))}}var q=new WeakMap,K=Object.assign((function(e){var t=q.get(e);if((null===t||void 0===t?void 0:t[0])===e.blockNumber)return t[1];var n=e.getFeeData().catch((function(t){throw q.delete(e),t}));return q.set(e,[e.blockNumber,n]),n}),{cache:q});function G(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=i.subkey,u=i.error,s=void 0===u?w["b"].RDN_TRANSACTION_FAILED:u,p=r.provider,f=r.config$;return Object(c["a"])(P(a.a.mark((function e(){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",K(p));case 1:case"end":return e.stop()}}),e)})))).pipe(Object(h["a"])(f),Object(l["a"])((function(i){var u,s=x(i,2),p=s[0],f=s[1],d=f.gasPriceFactor,b=f.subkey;if(d&&1!==d)if(p.maxPriorityFeePerGas&&p.maxFeePerGas){var y=p.maxPriorityFeePerGas.mul(Math.round(1e6*(d-1))).div(1e6);u={maxPriorityFeePerGas:p.maxPriorityFeePerGas.add(y),maxFeePerGas:p.maxFeePerGas.add(y)}}else p.gasPrice&&(u={gasPrice:p.gasPrice.mul(Math.round(1e6*d)).div(1e6)});else u=void 0;var h=e;if(null!==o){var m=Object(j["a"])(r,null!==o&&void 0!==o?o:b),v=m.signer;h=Object(j["c"])(e,v)}return Object(c["a"])(P(a.a.mark((function e(){var r;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",(r=h.estimateGas)[t].apply(r,R(n)));case 1:case"end":return e.stop()}}),e)})))).pipe(Object(l["a"])(function(){var e=P(a.a.mark((function e(r){var i,o;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=r.add(r.mul(5).div(100)),o=n.length===h[t].length?n.slice(0,-1).concat(T(T(T({},Object(k["q"])(n)),u),{},{gasLimit:r})):n.concat(T(T({},u),{},{gasLimit:r})),e.abrupt("return",(i=h)[t].apply(i,R(o)));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))})),$(t,s,r))}function Y(e,t,n,r){var i=r.config$;return i.pipe(Object(m["a"])(),Object(l["a"])(function(){var n=P(a.a.mark((function n(i){var o,c,u;return a.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return o=i.subkey,c=Object(j["a"])(r,o),u=c.address,n.abrupt("return",Promise.all([e.callStatic.balanceOf(u),e.callStatic.allowance(u,t)]));case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()),Object(h["a"])(i),Object(l["a"])((function(a){var i=x(a,2),o=x(i[0],2),c=o[0],s=o[1],l=i[1].minimumAllowance;if(Object(w["d"])(c.gte(n),[w["b"].RDN_INSUFFICIENT_BALANCE,{current:c,required:n}]),s.gte(n))return Object(u["a"])(!0);var p=Object(u["a"])(!0);return s.isZero()||(p=G(e,"approve",[t,0],r,{error:w["b"].RDN_APPROVE_TRANSACTION_FAILED}).pipe(Object(v["a"])(!0))),p.pipe(Object(O["a"])(G(e,"approve",[t,Object(k["m"])(l,n)],r,{error:w["b"].RDN_APPROVE_TRANSACTION_FAILED})),Object(f["a"])(1))})))}},8173:function(e,t,n){"use strict";n.r(t),n.d(t,"messageSend",(function(){return s})),n.d(t,"messageServiceSend",(function(){return l})),n.d(t,"messageReceived",(function(){return p}));var r=n("2111"),a=n("d011"),i=n("0602"),o=n("d276"),c=n("ca14"),u=n("5778"),s=Object(o["c"])(r["u"]({address:c["a"],msgId:r["r"]}),"message/send",r["i"]([r["u"]({message:r["w"]([r["r"],Object(c["j"])(u["c"])])}),r["n"]({msgtype:r["r"]}),i["b"]]),r["w"]([r["v"],r["u"]({via:r["r"],tookMs:r["m"],retries:r["m"]})])),l=Object(o["c"])(r["u"]({service:a["o"],msgId:r["r"]}),"message/service/send",r["u"]({message:Object(c["j"])(u["c"])}),r["w"]([r["v"],r["u"]({via:r["x"],tookMs:r["m"],retries:r["m"]})])),p=Object(o["b"])("message/received",r["i"]([r["u"]({text:r["r"],ts:r["m"]}),r["n"]({message:r["w"]([u["c"],Object(c["j"])(u["c"])]),userId:r["r"],msgtype:r["r"]})]),r["u"]({address:c["a"]}))},"83ee":function(e,t,n){"use strict";n.r(t),n.d(t,"transfer",(function(){return f})),n.d(t,"transferSigned",(function(){return d})),n.d(t,"transferProcessed",(function(){return b})),n.d(t,"transferSecret",(function(){return y})),n.d(t,"transferSecretRegister",(function(){return h})),n.d(t,"transferSecretRequest",(function(){return m})),n.d(t,"transferSecretReveal",(function(){return v})),n.d(t,"transferUnlock",(function(){return O})),n.d(t,"transferUnlockProcessed",(function(){return j})),n.d(t,"transferExpire",(function(){return g})),n.d(t,"transferExpireProcessed",(function(){return w})),n.d(t,"transferClear",(function(){return _})),n.d(t,"transferLoad",(function(){return k})),n.d(t,"withdrawResolve",(function(){return T})),n.d(t,"withdraw",(function(){return S})),n.d(t,"withdrawMessage",(function(){return A})),n.d(t,"withdrawBusy",(function(){return P})),n.d(t,"withdrawExpire",(function(){return x})),n.d(t,"withdrawCompleted",(function(){return N}));var r=n("2111"),a=n("9201"),i=n("5778"),o=n("d011"),c=n("0602"),u=n("d276"),s=n("ca14"),l=n("1a78"),p=r["u"]({secrethash:s["c"],direction:l["b"]}),f=Object(u["c"])(p,"transfer",r["i"]([r["u"]({tokenNetwork:s["a"],target:s["a"],value:Object(s["l"])(32),paymentId:Object(s["l"])(8)}),r["w"]([r["i"]([r["u"]({resolved:r["k"](!1)}),r["n"]({paths:o["d"],pfs:r["w"]([o["f"],r["l"]]),encryptSecret:r["d"]})]),r["i"]([r["u"]({resolved:r["k"](!0),metadata:r["x"],fee:o["b"],partner:s["a"]}),c["b"]])]),r["n"]({secret:s["h"],initiator:s["a"]}),r["w"]([r["n"]({expiration:r["m"]}),r["n"]({lockTimeout:r["m"]})])]),r["n"]({balanceProof:Object(s["j"])(a["a"])})),d=Object(u["b"])("transfer/signed",r["i"]([r["u"]({message:Object(s["j"])(i["b"]),fee:o["b"],partner:s["a"]}),c["b"]]),p),b=Object(u["b"])("transfer/processed",r["i"]([r["u"]({message:Object(s["j"])(i["f"])}),c["b"]]),p),y=Object(u["b"])("transfer/secret",r["u"]({secret:s["h"]}),p),h=Object(u["c"])(p,"transfer/secret/register",r["u"]({secret:s["h"]}),r["u"]({secret:s["h"],txHash:s["c"],txBlock:r["m"],confirmed:r["w"]([r["v"],r["d"]])})),m=Object(u["b"])("transfer/secret/request",r["i"]([r["u"]({message:Object(s["j"])(i["g"])}),c["b"]]),p),v=Object(u["b"])("transfer/secret/reveal",r["i"]([r["u"]({message:Object(s["j"])(i["h"])}),c["b"]]),p),O=Object(u["c"])(p,"transfer/unlock",r["w"]([r["v"],c["b"]]),r["i"]([r["u"]({message:Object(s["j"])(i["i"]),partner:s["a"]}),c["b"]])),j=Object(u["b"])("transfer/unlock/processed",r["i"]([r["u"]({message:Object(s["j"])(i["f"])}),c["b"]]),p),g=Object(u["c"])(p,"transfer/expire",void 0,r["u"]({message:Object(s["j"])(i["a"]),partner:s["a"]})),w=Object(u["b"])("transfer/expire/processed",r["i"]([r["u"]({message:Object(s["j"])(i["f"])}),c["b"]]),p),_=Object(u["b"])("transfer/clear",r["v"],p),k=Object(u["b"])("transfer/load",l["e"],p),E=r["u"]({direction:l["b"],tokenNetwork:s["a"],partner:s["a"],totalWithdraw:Object(s["l"])(32),expiration:r["m"]}),T=Object(u["b"])("withdraw/resolve",r["w"]([r["v"],r["u"]({coopSettle:r["k"](!0)})]),E),S=Object(u["c"])(E,"withdraw",r["w"]([r["v"],r["u"]({coopSettle:r["d"]})]),r["u"]({txHash:s["c"],txBlock:r["m"],confirmed:r["w"]([r["v"],r["d"]])})),A=Object(u["c"])(E,"withdraw/message",r["u"]({message:Object(s["j"])(i["l"])}),r["u"]({message:Object(s["j"])(i["j"])})),P=Object(u["b"])("withdraw/busy",r["v"],E),x=Object(u["c"])(E,"withdraw/expire",r["v"],r["u"]({message:Object(s["j"])(i["k"])})),N=Object(u["b"])("withdraw/completed",r["v"],E)},"87b1":function(e,t,n){"use strict";n.d(t,"a",(function(){return T})),n.d(t,"b",(function(){return F})),n.d(t,"c",(function(){return re}));var r=n("36d8"),a=n.n(r),i=n("fbcd"),o=n("2fca");function c(e,t,n,r,a,i,o){try{var c=e[i](o),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){c(i,r,a,o,u,"next",e)}function u(e){c(i,r,a,o,u,"throw",e)}o(void 0)}))}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var f=function(){function e(){s(this,e);var t=this.constructor.isAvailable;if(!t)throw new Error("The provider is not available.")}return p(e,null,[{key:"isDisabled",value:function(){var e=u(a.a.mark((function e(){var t,n,r;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,o["a"].configuration();case 2:return n=e.sent,r=null!==(t=n.disabled_ethereum_providers)&&void 0!==t?t:[],e.abrupt("return",r.includes(this.providerName));case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),e}();function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function b(e,t,n,r,a,i,o){try{var c=e[i](o),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function y(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){b(i,r,a,o,c,"next",e)}function c(e){b(i,r,a,o,c,"throw",e)}o(void 0)}))}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function O(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&j(e,t)}function j(e,t){return j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},j(e,t)}function g(e){var t=k();return function(){var n,r=E(e);if(t){var a=E(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return w(this,n)}}function w(e,t){if(t&&("object"===d(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _(e)}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function E(e){return E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},E(e)}f.isAvailable=!1;var T=function(e){O(n,e);var t=g(n);function n(e,r){var a;return h(this,n),a=t.call(this),a.provider=new i["b"].JsonRpcProvider(e),a.account=r,a}return v(n,null,[{key:"link",value:function(){var e=y(a.a.mark((function e(t){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new this(t.rpcUrl,t.privateKey));case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),n}(f);function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}function A(e,t,n,r,a,i,o){try{var c=e[i](o),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function P(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){A(i,r,a,o,c,"next",e)}function c(e){A(i,r,a,o,c,"throw",e)}o(void 0)}))}}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(e,t,n){return t&&N(e.prototype,t),n&&N(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function D(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&R(e,t)}function R(e,t){return R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},R(e,t)}function C(e){var t=U();return function(){var n,r=B(e);if(t){var a=B(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return M(this,n)}}function M(e,t){if(t&&("object"===S(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return L(e)}function L(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function U(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function B(e){return B=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},B(e)}T.providerName="direct_rpc_provider",T.isAvailable=!0;var F=function(e){D(n,e);var t=C(n);function n(e){var r;return x(this,n),r=t.call(this),r.account=0,r.provider=new i["b"].Web3Provider(e),r}return I(n,null,[{key:"isAvailable",get:function(){return!!window.ethereum||!!window.web3}},{key:"link",value:function(){var e=P(a.a.mark((function e(){var t;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n.isAvailable){e.next=2;break}throw new Error("No injected provider is available.");case 2:if(!window.ethereum){e.next=9;break}return window.ethereum.autoRefreshOnNetworkChange=!1,e.next=6,window.ethereum.request({method:"eth_requestAccounts"});case 6:t=window.ethereum,e.next=10;break;case 9:t=window.web3.currentProvider;case 10:return t.on("chainChanged",W),t.on("disconnect",W),e.abrupt("return",new this(t));case 13:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),n}(f);function W(){window.location.replace(window.location.origin)}F.providerName="injected_provider";var V=n("7dd2");function $(e){return $="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$(e)}function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q(e,t,n,r,a,i,o){try{var c=e[i](o),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function K(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){q(i,r,a,o,c,"next",e)}function c(e){q(i,r,a,o,c,"throw",e)}o(void 0)}))}}function G(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function X(e,t,n){return t&&Y(e.prototype,t),n&&Y(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Q(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&Z(e,t)}function Z(e,t){return Z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Z(e,t)}function J(e){var t=te();return function(){var n,r=ne(e);if(t){var a=ne(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return z(this,n)}}function z(e,t){if(t&&("object"===$(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ee(e)}function ee(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function te(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function ne(e){return ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ne(e)}var re=function(e){Q(n,e);var t=J(n);function n(e){var r;return G(this,n),r=t.call(this),r.account=0,r.provider=new i["b"].Web3Provider(e),r}return X(n,null,[{key:"link",value:function(){var e=K(a.a.mark((function e(t){var r,i;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=(null===t||void 0===t?void 0:t.bridgeUrl)||void 0,void 0!==t.rpcUrl||void 0!==t.infuraId){e.next=5;break}throw new Error("One of the options RPC URL or Infura Id are required to link.");case 5:if(void 0===t.rpcUrl||void 0===t.infuraId){e.next=9;break}throw new Error("Only one link option allowed. Either a RPC URL or a Infura Id.");case 9:if(void 0===t.rpcUrl){e.next=15;break}return e.next=12,ae(t.rpcUrl,r);case 12:i=e.sent,e.next=16;break;case 15:t.infuraId&&(i=oe(t.infuraId,r));case 16:return e.next=18,i.enable();case 18:return i.on("chainChanged",ce),i.on("disconnect",ce),e.abrupt("return",new n(i));case 21:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}]),n}(f);function ae(e,t){return ie.apply(this,arguments)}function ie(){return ie=K(a.a.mark((function e(t,n){var r,o,c;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=new i["b"].JsonRpcProvider(t),e.next=3,r.getNetwork();case 3:return o=e.sent,c={bride:n,rpc:H({},o.chainId,t)},e.abrupt("return",new V["a"](c));case 6:case"end":return e.stop()}}),e)}))),ie.apply(this,arguments)}function oe(e,t){return new V["a"]({bridge:t,infuraId:e})}function ce(){window.location.replace(window.location.origin)}re.providerName="wallet_connect",re.isAvailable=!0},"8a6f":function(e,t,n){"use strict";n("7990")},"8aa9":function(e,t,n){"use strict";n.d(t,"b",(function(){return C})),n.d(t,"a",(function(){return B}));var r=n("36d8"),a=n.n(r),i=n("1d25"),o=n("5c7d"),c=n.n(o);function u(e){return p(e)||l(e)||m(e)||s()}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function p(e){if(Array.isArray(e))return v(e)}function f(e,t){return y(e)||b(e,t)||m(e,t)||d()}function d(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function b(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,c=!1;try{for(n=n.call(e);!(o=(r=n.next()).done);o=!0)if(i.push(r.value),t&&i.length===t)break}catch(u){c=!0,a=u}finally{try{o||null==n["return"]||n["return"]()}finally{if(c)throw a}}return i}}function y(e){if(Array.isArray(e))return e}function h(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=m(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw i}}}}function m(e,t){if(e){if("string"===typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e,t,n,r,a,i,o){try{var c=e[i](o),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function j(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){O(i,r,a,o,c,"next",e)}function c(e){O(i,r,a,o,c,"throw",e)}o(void 0)}))}}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k,E="logs",T=void 0;function S(e){var t=e.toString();return e.stack?e.stack.startsWith(t)?e.stack:"".concat(t,"\n").concat(e.stack):t}function A(e){var t,n,r,a;if("%c prev state"!==e[0]&&(null===(t=e[0])||void 0===t||null===(n=t.startsWith)||void 0===n||!n.call(t,"action %c"))&&"—— log end ——"!==e[0]){var i=null===(r=e[2])||void 0===r||null===(a=r.payload)||void 0===a?void 0:a.blockNumber;if(!i)return e=e.map((function(e){return e instanceof Error?S(e):(null===e||void 0===e?void 0:e.payload)instanceof Error?w(w({},e),{},{payload:S(e.payload)}):e})),"string"===typeof e[1]&&e[1].startsWith("color:")&&e.splice(1,1),e;T=i}}function P(e){if("string"===typeof e)return e;try{return JSON.stringify(e)}catch(t){try{return e.toString()}catch(t){return"<unserializable>"}}}function x(e){return N.apply(this,arguments)}function N(){return N=j(a.a.mark((function e(t){var n;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if((null===(n=k)||void 0===n?void 0:n.name)!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Object(i["a"])(t,1,{upgrade:function(e){var t=e.createObjectStore(E);t.createIndex("by-logger","logger"),t.createIndex("by-level","level")}});case 4:k=e.sent;case 5:case"end":return e.stop()}}),e)}))),N.apply(this,arguments)}var I=/^raiden:(0x[0-9a-f]{40})$/i;function D(e){return R.apply(this,arguments)}function R(){return R=j(a.a.mark((function e(t){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(I.test(t)){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,x(t);case 4:case"end":return e.stop()}}),e)}))),R.apply(this,arguments)}function C(){return M.apply(this,arguments)}function M(){return M=j(a.a.mark((function e(){var t,n,r,i,o=arguments;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=o.length>0&&void 0!==o[0]?o[0]:["matrix"],"undefined"===typeof k){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,x("raiden");case 5:for(n=function(){var e=i[r],t=e.methodFactory;function n(e,n,r){var a=this,i=t.call(this,e,n,r),o=r.toString();return D(o),function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];i.call.apply(i,[a].concat(n));var c=A(n);c&&k.put(E,w({logger:o,level:e,message:c},T?{block:T}:{}),Date.now()).catch((function(){return k.put(E,w({logger:o,level:e,message:n.map(P)},T?{block:T}:{}),Date.now())}))}}n.allowOverwrite=!0,e.methodFactory=n},r=0,i=[c.a].concat(u(t.map(c.a.getLogger)));r<i.length;r++)n();case 7:case"end":return e.stop()}}),e)}))),M.apply(this,arguments)}var L=[[/(\\?["']?access_?token\\?["']?\s*[=:]\s*\\?["']?)[\w-]+(\\?["']?)/gi,"$1<redacted>$2"],[/(\\?["']?secret\\?["']?\s*[=:]\s*)\[[^\]]+\]/gi,'$1["<redacted>"]'],[/(\\?["']?secret\\?["']?\s*[=:]\s*\\?["']?)\w+(\\?["']?)/gi,"$1<redacted>$2"]];function U(e){var t,n=h(L);try{for(n.s();!(t=n.n()).done;){var r=f(t.value,2),a=r[0],i=r[1];e=e.replace(a,i)}}catch(o){n.e(o)}finally{n.f()}return e}function B(){return F.apply(this,arguments)}function F(){return F=j(a.a.mark((function e(){var t,n,r,i,o,c,u,s,l,p,f,d,b;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t="",e.next=3,k.transaction(E).store.openCursor();case 3:n=e.sent,r=Date.now(),i=!0;case 6:if(!n){e.next=20;break}return o=n.value,c=o.logger,u=o.level,s=o.message,l=o.block,p=s.map((function(e){return"string"===typeof e?e:JSON.stringify(e)})).join(" "),r=+n.key,f=new Date(n.key).toISOString(),d=l?" #".concat(l):"",b=void 0,c!==k.name||i?(b=" @ ".concat(c),i=!1):b="",t+="".concat(f).concat(d).concat(b," [").concat(u,"] \t=> ").concat(p,"\n"),e.next=17,n.continue();case 17:n=e.sent,e.next=6;break;case 20:return t=U(t),e.abrupt("return",[r,t]);case 22:case"end":return e.stop()}}),e)}))),F.apply(this,arguments)}},"8d26":function(e,t,n){},"8e8c":function(e,t,n){},"8f83":function(e,t,n){e.exports=n.p+"img/info.1557b307.svg"},9:function(e,t){},9201:function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return d}));var r=n("87b8"),a=n("30c0"),i=n("905c9"),o=n("2111"),c=n("2b5b"),u=n("ca14"),s=(Object(u["r"])(/^0x[0-9a-fA-F]{40}@0x[0-9a-fA-F]{40}$/),Object(u["r"])(/^0x[0-9a-fA-F]{40}@0x[0-9a-fA-F]{40}#\d+$/)),l=o["i"]([o["u"]({amount:Object(u["l"])(32),expiration:Object(u["l"])(32),secrethash:u["c"]}),o["n"]({registered:o["k"](!0)})],"Lock"),p=o["o"](o["u"]({chainId:Object(u["l"])(32),tokenNetworkAddress:u["a"],channelId:Object(u["l"])(32),nonce:Object(u["l"])(8),transferredAmount:Object(u["l"])(32),lockedAmount:Object(u["l"])(32),locksroot:u["c"],additionalHash:u["c"]})),f=p,d={chainId:r["h"],tokenNetworkAddress:a["a"],channelId:r["h"],nonce:r["h"],transferredAmount:r["h"],lockedAmount:r["h"],locksroot:c["e"],additionalHash:i["a"],signature:c["h"]}},"92b0":function(e,t,n){},9547:function(e,t,n){"use strict";n("4b97")},9662:function(e,t,n){e.exports=n.p+"img/open_channel_info.7e9ea0d5.svg"},"9a49":function(e,t,n){"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function c(e,t,n){return c="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=u(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(n):a.value}},c(e,t,n||e)}function u(e,t){while(!Object.prototype.hasOwnProperty.call(e,t))if(e=v(e),null===e)break;return e}function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}function l(e){var t=y();return function(){var n,r=v(e);if(t){var a=v(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return f(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){var t="function"===typeof Map?new Map:void 0;return d=function(e){if(null===e||!h(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return b(e,arguments,v(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),m(n,e)},d(e)}function b(e,t,n){return b=y()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var a=Function.bind.apply(e,r),i=new a;return n&&m(i,n.prototype),i},b.apply(null,arguments)}function y(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function h(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function m(e,t){return m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},m(e,t)}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}n.d(t,"a",(function(){return O}));var O=function(e){s(n,e);var t=l(n);function n(e){var r;return a(this,n),r=t.call(this),r.max=e,r}return o(n,[{key:"get",value:function(e){var t;return this.has(e)&&(t=c(v(n.prototype),"get",this).call(this,e),this.delete(e),c(v(n.prototype),"set",this).call(this,e,t)),t}},{key:"set",value:function(e,t){this.get(e),c(v(n.prototype),"set",this).call(this,e,t);while(this.size>this.max){var r=this.keys().next().value;this.delete(r)}return this}}]),n}(d(Map))},"9b19":function(e,t,n){e.exports=n.p+"img/logo.5c4b022d.svg"},a0df:function(e){e.exports=JSON.parse('{"contracts_version":null,"chain_id":3,"contracts":{"SecretRegistry":{"address":"0x00a286e17418A2cf0384ef0E001B7F47483Fb6D7","transaction_hash":"0x93ba1e7c354da55e5ed30f84f7c9c5f709764534e4ae91beda7367c2b3eb9178","block_number":10948968,"gas_cost":253286,"constructor_arguments":[]},"TokenNetworkRegistry":{"address":"0xE7c3c20c7e9d3E73cBD269aEc21029c7Fa60ECA1","transaction_hash":"0x42287bccb873835be04a9232ee4333a8e1ac5ab8d11672393f441814f163acd8","block_number":10948971,"gas_cost":4579888,"constructor_arguments":["0x00a286e17418A2cf0384ef0E001B7F47483Fb6D7",20,555428,1.157920892373162e+77]}},"token_networks":[{"token_network_address":"0x9EC018301D9968A553E917949cDb6FA79DA0AD6f","constructor_arguments":{"_token_address":"0xA9A8b1b74d7256b30C81a7BD82B5B659569E4EB2","_secret_registry":"0x00a286e17418A2cf0384ef0E001B7F47483Fb6D7","_chain_id":3,"_settlement_timeout_min":20,"_settlement_timeout_max":555428,"_controller":"0xfB398E621c15E2BC5Ae6A508D8D89AF1f88c93e8","_channel_participant_deposit_limit":1.157920892373162e+77,"_token_network_deposit_limit":1.157920892373162e+77}}]}')},a2b8:function(e,t,n){"use strict";n("bbb7")},a32b:function(e){e.exports=JSON.parse('{"PFS_EMPTY_URL":"A registered Pathfinding Service returned an empty service URL.","PFS_INVALID_URL":"A registered Pathfinding Service returned an invalid service URL.","PFS_INVALID_INFO":"Could not find any valid Pathfinding service. Client and PFS versions are possibly out-of-sync.","PFS_TOO_EXPENSIVE":"Pathfinding Service price higher than pfsMaxFee.","PFS_NO_ROUTES_FOUND":"No valid routes found.","PFS_ERROR_RESPONSE":"Pathfinding Service request returned an error","PFS_DISABLED":"Pathfinding Service is disabled and no direct route is available.","PFS_UNKNOWN_TOKEN_NETWORK":"No open channels on this token network.","PFS_TARGET_OFFLINE":"The requested target is offline.","PFS_TARGET_NO_RECEIVE":"The requested target doesn\'t receive transfers.","PFS_LAST_IOU_REQUEST_FAILED":"The request for the last IOU has failed.","PFS_IOU_SIGNATURE_MISMATCH":"The signature of the last IOU did not match.","PFS_NO_ROUTES_BETWEEN_NODES":"No route between nodes found.","CNL_INVALID_STATE":"Invalid channel state.","CNL_NO_OPEN_CHANNEL_FOUND":"No open channel has been found.","CNL_NO_OPEN_OR_CLOSING_CHANNEL_FOUND":"No open or closing channel has been found.","CNL_NO_SETTLEABLE_OR_SETTLING_CHANNEL_FOUND":"No settleable or settling channel has been found.","CNL_OPENCHANNEL_FAILED":"TokenNetwork.openChannel transaction reverted.","CNL_SETTOTALDEPOSIT_FAILED":"TokenNetwork.setTotalDeposit transaction reverted.","CNL_CLOSECHANNEL_FAILED":"TokenNetwork.closeChannel transaction reverted.","CNL_SETTLE_INVALID_BALANCEHASH":"Could not find BalanceProof matching on-chain closing data. This client may have had its state cleared and can\'t settle.","CNL_SETTLE_FAILED":"TokenNetwork.settleChannel transaction reverted.","CNL_COOP_SETTLE_FAILED":"TokenNetwork.cooperativeSettle transaction reverted.","CNL_SETTLE_AUTO_ENABLED":"Interactive channel settlement disabled when config.autoSettle is enabled; request will be made automatically","CNL_UPDATE_NONCLOSING_BP_FAILED":"updateNonClosingBalanceProof transaction reverted.","CNL_ONCHAIN_UNLOCK_FAILED":"on-chain unlock transaction reverted.","CNL_WITHDRAW_PENDING":"There\'s already a withdraw request pending.","CNL_WITHDRAW_RETRY_CONFIRMATION":"Retrying pending WithdrawConfirmation. Confirm or try again later.","CNL_WITHDRAW_TRANSACTION_FAILED":"Withdraw transaction has failed.","CNL_WITHDRAW_EXPIRES_SOON":"Withdraw request expired or expires too soon.","CNL_WITHDRAW_EXPIRED":"Withdraw request expired.","CNL_WITHDRAW_AMOUNT_TOO_LOW":"Withdraw request contains an amount smaller than already withdrawn.","CNL_WITHDRAW_AMOUNT_TOO_HIGH":"Withdraw request contains an amount bigger than channel\'s liquidity.","CNL_COOP_SETTLE_NOT_POSSIBLE":"Can not create or answer channel cooperative settle request","XFER_EXPIRED":"Transfer expired.","XFER_CHANNEL_CLOSED_PREMATURELY":"Channel was closed before secret got reveiled or transfer unlocked.","XFER_REFUNDED":"Transfer has been refunded.","XFER_INVALID_SECRETREQUEST":"Invalid SecretRequest received","XFER_ALREADY_COMPLETED":"Not waiting for transfer, it\'s already completed.","XFER_REGISTERSECRET_TX_FAILED":"SecretRegistry.registerSecret transaction reverted","TRNS_NO_MATRIX_SERVERS":"Could not contact any Matrix servers.","TRNS_NO_VALID_USER":"Could not find a user with a valid signature.","TRNS_NO_SERVERNAME":"Could not get server name from Matrix server.","TRNS_MESSAGE_SIGNATURE_MISMATCH":"Unable to decode message due to signature mismatch.","RDN_GENERAL_ERROR":"An unknown error occured.","RDN_ASSERT_ERROR":"An unknown assertion failed.","RDN_MINT_FAILED":"Failed to mint tokens.","RDN_MINT_MAINNET":"Minting is only allowed on test networks.","RDN_REGISTER_TOKEN_FAILED":"Failed to register tokens.","RDN_REGISTER_TOKEN_MAINNET":"Registering a token is only allowed on test networks.","RDN_REGISTER_TOKEN_REGISTERED":"Token is already registered.","RDN_TRANSACTION_FAILED":"Contract transaction failed.","RDN_APPROVE_TRANSACTION_FAILED":"Token approve transaction has failed.","RDN_DEPOSIT_TRANSACTION_FAILED":"Deposit transaction has failed.","RDN_TRANSFER_ONCHAIN_BALANCE_FAILED":"Failed to transfer on-chain balance.","RDN_TRANSFER_ONCHAIN_TOKENS_FAILED":"Failed to transfer on-chain tokens.","RDN_UNRECOGNIZED_NETWORK":"No deploy info provided nor recognized network.","RDN_SIGNER_NOT_CONNECTED":"The signing account is not connected to the provider.","RDN_ACCOUNT_NOT_FOUND":"Account not found in provider.","RDN_STRING_ACCOUNT_INVALID":"String account must be either a 0x-encoded address or private key.","RDN_TRANSACTION_REORG":"Transaction has been mined but got removed by a reorg.","RDN_STATE_MIGRATION":"Could not replace stored state with older, provided state.","RDN_INSUFFICIENT_BALANCE":"Insufficient balance.","RDN_INSUFFICIENT_ALLOWANCE":"Requested allowance smaller than deposit.","RDN_NOT_A_TOKEN":"Not a token contract.","RDN_STATE_ADDRESS_MISMATCH":"Mismatch between provided account and loaded state.","RDN_STATE_NETWORK_MISMATCH":"Mismatch between network or registry address and loaded state","RDN_ALREADY_STARTED":"Already started or stopped!","RDN_UNKNOWN_TOKEN_NETWORK":"Unknown Tokennetwork","RDN_INVALID_SECRET":"Invalid provided secret.","RDN_INVALID_SECRETHASH":"Invalid provided secrethash.","RDN_SECRET_SECRETHASH_MISMATCH":"Provided secrethash must match the sha256 hash of provided secret.","RDN_UNKNOWN_TRANSFER":"Unknown transfer.","RDN_DATABASE_DELETED":"Database deleted!","DTA_NEGATIVE_NUMBER":"Encountered negative number while encoding to HEX string.","DTA_NUMBER_TOO_LARGE":"Encountered a number that is too large to be encoded.","DTA_ARRAY_LENGTH_DIFFERENCE":"Expected length of HEX string differs from integer array input.","DTA_UNENCODABLE_DATA":"Passed data is not a HEX string nor integer array.","DTA_NON_POSITIVE_NUMBER":"Number must be positive.","DTA_INVALID_ADDRESS":"Invalid address parameter.","DTA_INVALID_DEPOSIT":"Invalid deposit parameter.","DTA_INVALID_TIMEOUT":"Invalid timeout parameter.","DTA_INVALID_AMOUNT":"Invalid amount parameter.","DTA_INVALID_PAYMENT_ID":"Invalid payment identifier parameter.","DTA_INVALID_PATH":"Invalid path parameter.","DTA_INVALID_PFS":"Invalid path finding service parameter.","UDC_DEPOSIT_OUTDATED":"The UDC contains a target balance different than requested deposit","UDC_PLAN_WITHDRAW_FAILED":"An error occurred while planning to withdraw from the User Deposit contract.","UDC_PLAN_WITHDRAW_GT_ZERO":"The planned withdraw amount has to be greater than zero.","UDC_PLAN_WITHDRAW_EXCEEDS_AVAILABLE":"The planned withdraw amount exceeds the total amount available for withdrawing.","UDC_WITHDRAW_NO_BALANCE":"There is no balances left to withdraw from UDC.","UDC_WITHDRAW_FAILED":"An error occurred while withdrawing from the UDC.","UDC_WITHDRAW_AUTO_ENABLED":"Interactive UDC withdraw disabled when config.autoUDCWithdraw is enabled; request will be made automatically","UDC_WITHDRAW_NO_PLAN":"No plan currently registered; you must call Raiden.planUDCWithdraw first","UDC_WITHDRAW_TOO_LARGE":"Your current plan is not enough to withdraw the requested amount"}')},a3d5:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("fbcd");function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var c=function(){function e(){a(this,e)}return o(e,null,[{key:"toEth",value:function(e){return r["c"].formatEther(e)}},{key:"toUnits",value:function(e,t){var n=r["c"].formatUnits(e,t);return 0===t?n.split(".")[0]:n}},{key:"decimalsOverflow",value:function(e,t){var n;return n=e.indexOf(".")>0?e.split(".")[1]:"",n.length>t}},{key:"parse",value:function(e,t){try{return r["c"].parseUnits(e.endsWith(".")?e.substring(0,e.length-1):e,t)}catch(n){return r["a"].Zero}}}]),e}()},a500:function(e,t,n){"use strict";n("6fce")},b19b:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return y}));var r,a=n("36d8"),i=n.n(a),o=n("8962"),c=n("6bc1");function u(e,t,n,r,a,i,o){try{var c=e[i](o),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){u(i,r,a,o,c,"next",e)}function c(e){u(i,r,a,o,c,"throw",e)}o(void 0)}))}}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var b=(null!==(r="/")&&void 0!==r?r:"/")+"version.json",y=function(){function t(n){var r,a,i,u,s=this,f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:36e5,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e4,b=arguments.length>3?arguments[3]:void 0;p(this,t),this.handleInstalledVersionMessage=function(e){var t=e.version;if(!Object(o["b"])(t))throw new Error("Malformed installation version: ".concat(t));s.store.commit("versionInformation/setInstalledVersion",t)},this.handleInstallationErrorMessage=function(e){s.console.error("Service worker failed during installation phase."),s.console.error(e.error),s.setUpdateIsMandatory()},this.handleCacheIsInvalidMessage=function(){s.setUpdateIsMandatory()},this.handleReloadWindowMessage=function(){s.reloadWindow()},this.store=n,this.serviceWorkerContainer=null!==(r=null===b||void 0===b?void 0:b.serviceWorkerContainer)&&void 0!==r?r:e.navigator.serviceWorker,this.window=null!==(a=null===b||void 0===b?void 0:b.window)&&void 0!==a?a:e.window,this.console=null!==(i=null===b||void 0===b?void 0:b.console)&&void 0!==i?i:e.console,this.messageHandlers=(u={},l(u,c["c"].INSTALLED_VERSION,this.handleInstalledVersionMessage),l(u,c["c"].INSTALLATION_ERROR,this.handleInstallationErrorMessage),l(u,c["c"].CACHE_IS_INVALID,this.handleCacheIsInvalidMessage),l(u,c["c"].RELOAD_WINDOW,this.handleReloadWindowMessage),u),this.serviceWorkerContainer&&(this.serviceWorkerContainer.addEventListener("message",this.onMessage.bind(this)),this.updateAvailableVersion(),setInterval(this.updateAvailableVersion.bind(this),f),setInterval(this.verifyCacheValidity.bind(this),d))}return d(t,[{key:"update",value:function(){var e=s(i.a.mark((function e(){return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.prepareUpdate(),e.next=3,this.postMessage(c["c"].UPDATE);case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"verifyIfCorrectVersionGotLoaded",value:function(){var e=s(i.a.mark((function e(){return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.t0=!this.correctVersionIsLoaded,!e.t0){e.next=5;break}return e.next=4,this.isAnyServiceWorkerRegistered();case 4:e.t0=e.sent;case 5:if(!e.t0){e.next=10;break}return this.console.error("Active version is not installed version."),e.next=9,this.unregisterAllServiceWorker();case 9:this.reloadWindow();case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onMessage",value:function(e){var t,n=new c["a"](e);n.isInOldFormat||null===(t=this.messageHandlers[n.type])||void 0===t||t.call(this,n.payload)}},{key:"updateAvailableVersion",value:function(){var e=s(i.a.mark((function e(){var t,n,r;return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.window.fetch(b);case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,r=n.version.version,this.setAvailableVersion(r),e.next=15;break;case 11:e.prev=11,e.t0=e["catch"](0),this.console.error("Failed to update available version"),this.console.error(e.t0);case 15:case"end":return e.stop()}}),e,this,[[0,11]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"verifyCacheValidity",value:function(){this.postMessage(c["c"].VERIFY_CACHE)}},{key:"isAnyServiceWorkerRegistered",value:function(){var e=s(i.a.mark((function e(){var t,n,r;return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,null===(n=this.serviceWorkerContainer)||void 0===n?void 0:n.getRegistrations();case 2:if(e.t1=t=e.sent,e.t0=null!==e.t1,!e.t0){e.next=6;break}e.t0=void 0!==t;case 6:if(!e.t0){e.next=10;break}e.t2=t,e.next=11;break;case 10:e.t2=[];case 11:return r=e.t2,e.abrupt("return",r.length>0);case 13:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"postMessage",value:function(){var e=s(i.a.mark((function e(t){var n,r,a,o=arguments;return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=o.length>1&&void 0!==o[1]?o[1]:{},!this.serviceWorkerContainer){e.next=6;break}return e.next=4,this.serviceWorkerContainer.ready;case 4:a=new c["b"](t,n),null===(r=this.serviceWorkerContainer.controller)||void 0===r||r.postMessage(a.encode());case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"unregisterAllServiceWorker",value:function(){var e=s(i.a.mark((function e(){var t,n,r;return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,null===(n=this.serviceWorkerContainer)||void 0===n?void 0:n.getRegistrations();case 2:if(e.t1=t=e.sent,e.t0=null!==e.t1,!e.t0){e.next=6;break}e.t0=void 0!==t;case 6:if(!e.t0){e.next=10;break}e.t2=t,e.next=11;break;case 10:e.t2=[];case 11:return r=e.t2,e.next=14,Promise.all(r.map(function(){var e=s(i.a.mark((function e(t){return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t.unregister());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 14:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"reloadWindow",value:function(){this.window.location.reload()}},{key:"correctVersionIsLoaded",get:function(){return this.store.getters["versionInformation/correctVersionIsLoaded"]}},{key:"setAvailableVersion",value:function(e){if(!Object(o["b"])(e))throw new Error("Malformed available version: ".concat(e));this.store.commit("versionInformation/setAvailableVersion",e)}},{key:"setUpdateIsMandatory",value:function(){this.store.commit("versionInformation/setUpdateIsMandatory")}},{key:"prepareUpdate",value:function(){this.store.commit("versionInformation/prepareUpdate")}}]),t}()}).call(this,n("a42b"))},b4cc:function(e){e.exports=JSON.parse('{"contracts_version":null,"chain_id":3,"contracts":{"ServiceRegistry":{"address":"0xB1A7C888e261504A3F2290F8DE1A0642d58abe6E","transaction_hash":"0xb86c3f9d6595c93131a9f667cee1427451e16b081cf0c3790cd3c88037555428","block_number":10948974,"gas_cost":1684374,"constructor_arguments":["0xF8881DdDfB76147c0627F5d7bD1206b101AFE58C","0xfB398E621c15E2BC5Ae6A508D8D89AF1f88c93e8",2e+21,6,5,17280000,1000,15552000]},"UserDeposit":{"address":"0xAa77531BfdC85aC07D662d2BB3421859b4e838b9","transaction_hash":"0xda5ee5d2b499f0629f6b51a730e85125ae85bfa3138064598438fc501d79a080","block_number":10948975,"gas_cost":1030612,"constructor_arguments":["0xF8881DdDfB76147c0627F5d7bD1206b101AFE58C",1.157920892373162e+77]},"MonitoringService":{"address":"0xb901a61208b7AF03f19CF32818fFE49521f93252","transaction_hash":"0xd60a214dc73f10a25dde138f19ff55ad147f3da547195dd5bf6eaa8c60a5015f","block_number":10948977,"gas_cost":1450972,"constructor_arguments":["0xF8881DdDfB76147c0627F5d7bD1206b101AFE58C","0xB1A7C888e261504A3F2290F8DE1A0642d58abe6E","0xAa77531BfdC85aC07D662d2BB3421859b4e838b9","0xE7c3c20c7e9d3E73cBD269aEc21029c7Fa60ECA1"]},"OneToN":{"address":"0x9Bc911f72BD9156dD6EDdf68be0b89ff91c01B72","transaction_hash":"0x95acbe202e964f2a04879c8880474df1d9eae4652651951c8e1daf47f4a364f9","block_number":10948978,"gas_cost":962079,"constructor_arguments":["0xAa77531BfdC85aC07D662d2BB3421859b4e838b9",3,"0xB1A7C888e261504A3F2290F8DE1A0642d58abe6E"]}}}')},b592:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{staticClass:"header-content pa-0",attrs:{fluid:""}},[r("v-row",{attrs:{align:"center","no-gutters":""}},[r("v-col",{attrs:{cols:"2"}},[e.canNavigateBack?r("v-btn",{attrs:{"data-cy":"header-content_back-button",height:"36px",width:"36px",icon:""},on:{click:function(t){return e.navigateBack()}}},[r("v-img",{attrs:{src:n("0dd2")}})],1):e._e()],1),r("v-col",{staticClass:"header-content__title",attrs:{cols:"auto"}},[r("div",{staticClass:"header-content__title__route"},[r("span",{staticClass:"header-content__title__route__name"},[e._v(e._s(e.$route.meta.title))]),e.availableInfoOverlay&&!e.disableInfoButton?r("v-btn",{staticClass:"header-content__title__route__info",attrs:{icon:"","x-small":""}},[r("v-img",{staticClass:"header-content__title__route__info__icon",attrs:{src:n("8f83"),width:"10px"},on:{click:function(t){return e.showInfo()}}})],1):e._e()],1),e.showNetwork?r("span",{staticClass:"header-content__title__network"},[e._v(e._s(e.network))]):e._e()]),r("v-col",{attrs:{cols:"2"}},[e._t("default")],2)],1)],1)},a=[],i=n("6dbe"),o=n("5cf9"),c=n("94ea");function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&h(e,t)}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}function m(e){var t=j();return function(){var n,r=g(e);if(t){var a=g(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return v(this,n)}}function v(e,t){if(t&&("object"===u(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return O(e)}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}var w=function(e){y(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return b(n,[{key:"showInfo",value:function(){}},{key:"navigateBack",value:function(){}},{key:"availableInfoOverlay",get:function(){var e;return!(null===(e=this.$route.meta)||void 0===e||!e.infoOverlay)}},{key:"canNavigateBack",get:function(){var e;return!this.disableBackButton&&!(null!==(e=this.$route.meta)&&void 0!==e&&e.cannotNavigateBack)}}]),n}(o["g"]);Object(i["f"])([Object(o["e"])({type:Boolean,default:!1})],w.prototype,"disableBackButton",void 0),Object(i["f"])([Object(o["e"])({type:Boolean,default:!1})],w.prototype,"showNetwork",void 0),Object(i["f"])([Object(o["e"])({type:Boolean,default:!1})],w.prototype,"disableInfoButton",void 0),Object(i["f"])([Object(o["b"])()],w.prototype,"showInfo",null),Object(i["f"])([Object(o["b"])()],w.prototype,"navigateBack",null),w=Object(i["f"])([Object(o["a"])({computed:l(l({},Object(c["e"])(["isConnected"])),Object(c["c"])(["network"]))})],w);var _=w,k=_,E=(n("62a5"),n("a6c2")),T=n("411c"),S=n.n(T),A=n("9c46"),P=n("1fb1"),x=n("f56c"),N=n("1331"),I=n("e614"),D=Object(E["a"])(k,r,a,!1,null,"c5165142",null);t["a"]=D.exports;S()(D,{VBtn:A["a"],VCol:P["a"],VContainer:x["a"],VImg:N["a"],VRow:I["a"]})},b8ff:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return l}));var r,a=n("2111"),i=n("0ba5"),o=n("ca14"),c=n("9201");(function(e){e["open"]="open",e["closing"]="closing",e["closed"]="closed",e["settleable"]="settleable",e["settling"]="settling",e["settled"]="settled"})(r||(r={}));var u=a["o"](a["u"]({address:o["a"],deposit:Object(o["l"])(32),withdraw:Object(o["l"])(32),locks:a["p"](c["d"]),balanceProof:Object(o["j"])(c["a"]),pendingWithdraws:a["p"](a["w"]([Object(o["j"])(i["e"]),Object(o["j"])(i["c"]),Object(o["j"])(i["d"])])),nextNonce:Object(o["l"])(8)}),"ChannelEnd"),s=u,l=a["i"]([a["o"](a["u"]({_id:c["c"],id:a["m"],token:o["a"],tokenNetwork:o["a"],settleTimeout:a["m"],isFirstParticipant:a["d"],openBlock:a["m"],own:s,partner:s}),"Channel"),a["w"]([a["o"](a["u"]({state:a["w"]([a["k"](r.open),a["k"](r.closing)])}),"state[open|closing]"),a["i"]([a["o"](a["u"]({closeBlock:a["m"],closeParticipant:o["a"]}),"ChannelClosed"),a["w"]([a["o"](a["u"]({state:a["w"]([a["k"](r.closed),a["k"](r.settleable),a["k"](r.settling)])}),"state[closed|settleable|settling]"),a["o"](a["u"]({state:a["k"](r.settled),settleBlock:a["m"]}),"state[settled]")])])])])},bbb7:function(e,t,n){},bcdd:function(e,t,n){"use strict";n("c12f")},bf6c:function(e){e.exports=JSON.parse('{"sdk":"2.1.0","contracts":"0.40.0"}')},c12f:function(e,t,n){},c50f:function(e,t,n){"use strict";n("0f05")},ca14:function(e,t,n){"use strict";n.d(t,"n",(function(){return j})),n.d(t,"p",(function(){return g})),n.d(t,"b",(function(){return w})),n.d(t,"d",(function(){return _})),n.d(t,"e",(function(){return k})),n.d(t,"l",(function(){return E})),n.d(t,"i",(function(){return T})),n.d(t,"c",(function(){return S})),n.d(t,"h",(function(){return A})),n.d(t,"f",(function(){return P})),n.d(t,"g",(function(){return x})),n.d(t,"a",(function(){return I})),n.d(t,"k",(function(){return D})),n.d(t,"s",(function(){return R})),n.d(t,"t",(function(){return C})),n.d(t,"j",(function(){return M})),n.d(t,"o",(function(){return L})),n.d(t,"q",(function(){return U})),n.d(t,"m",(function(){return B})),n.d(t,"r",(function(){return F}));var r=n("2d67"),a=n("c00b"),i=n("b97c"),o=n("87b8"),c=n("a91f"),u=n("2111"),s=n("c2c4"),l=n("427e"),p=n.n(l),f=n("ee6c"),d=["ts"];function b(e,t){if(null==e)return{};var n,r,a=y(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function y(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e){if(Object(c["isLeft"])(e))throw new Error(s["PathReporter"].report(e).join("\n"))}function j(e,t,n,r){try{var a=e.decode(t);return O(a),a.right}catch(i){throw null===r||void 0===r||r("__decode failed:",e,t),n?n instanceof Error?n:new f["c"](n):i}}function g(e){return null!=e}var w=new u["b"]("BigNumber",a["a"].isBigNumber,(function(e,t){try{return u["s"](a["a"].from(e))}catch(n){return u["g"](e,t)}}),(function(e){return e.toString()})),_=p()((function(e){return u["e"](u["r"],(function(t){return"string"===typeof t&&(e?Object(i["d"])(t)===e:Object(i["l"])(t))}),"HexString")})),k=p()((function(e){var t=e?o["h"].sub(o["f"].pow(8*e-1)):void 0,n=e?o["f"].pow(8*e-1):void 0;return u["e"](w,(function(e){return w.is(e)&&(!t||!n||e.gte(t)&&e.lt(n))}),"Int")})),E=p()((function(e){var t=e?o["h"]:void 0,n=e?o["f"].pow(8*e):void 0;return u["e"](w,(function(e){return w.is(e)&&(!t||!n||e.gte(t)&&e.lt(n))}),"UInt")})),T=_(65),S=_(32),A=_(32),P=_(32),x=_(65);function N(e){try{return Object(r["a"])(e)===e}catch(t){return!1}}var I=new u["a"]("Address",N,(function(e,t){try{return u["s"](Object(r["a"])(e))}catch(n){return u["g"](e,t)}}),u["h"],_(20),N),D=p()((function(e){return u["i"]([e,u["o"](u["u"]({ts:u["m"]}))])}));function R(e){return m(m({},e),{},{ts:Date.now()})}function C(e){e.ts;var t=b(e,d);return t}var M=p()((function(e){return u["i"]([e,u["o"](u["u"]({signature:T}))])})),L=p()((function(e){return new u["b"]("instanceOf(".concat(e,")"),(function(t){var n;return(null===t||void 0===t||null===(n=t.constructor)||void 0===n?void 0:n.name)===e}),(function(t,n){var r;return(null===t||void 0===t||null===(r=t.constructor)||void 0===r?void 0:r.name)===e?u["s"](t):u["g"](t,n)}),u["h"])}));function U(e){return e[e.length-1]}function B(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return e.lt(t)?t:e}))}function F(e,t){var n="string"===typeof e?new RegExp(e):e,r=function(e){return n.test(e)};return new u["a"](null!==t&&void 0!==t?t:"TemplateLiteral<".concat(n.source,">"),(function(e){return u["r"].is(e)&&r(e)}),(function(e,t){var n=u["r"].validate(e,t);if(Object(c["isLeft"])(n))return n;var a=n.right;return r(a)?u["s"](a):u["g"](a,t)}),u["r"].encode,u["r"],r)}},cd49:function(e,t,n){"use strict";n.r(t);var r=n("d74d");r["b"].registerHooks(["beforeRouteEnter","beforeRouteLeave","beforeRouteUpdate"]);n("0f75");r["b"].registerHooks(["beforeRouteEnter","beforeRouteLeave","beforeRouteUpdate"]);var a=n("e832"),i=n("b7e6"),o=n.n(i);function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var l=function(){function e(){c(this,e),this.cache={}}return s(e,[{key:"getIdenticon",value:function(e){var t=this.cache[e];if(t)return t;var n=o()(e);return this.cache[e]=n,n}}]),e}();function p(e,t){e.prototype.$identicon=new l}var f,d=n("3568"),b=n("4af9"),y=n("e6ee"),h=n.n(y),m=n("79e0"),v=n.n(m),O=n("0cb2"),j=n.n(O),g=n("605b"),w=n.n(g),_=n("fe07"),k=n.n(_),E=n("c38e"),T=n.n(E),S=n("6298"),A=n.n(S),P=n("94ea"),x=n("fbac"),N=n("f455"),I=function(){return{name:"",symbol:"",address:"",opening:0,open:0,closing:0,closed:0,settling:0,settled:0}},D={name:"",chainId:-1};(function(e){e["DEPLOYMENT_INFO_PARSING_FAILED"]="deployment-info-parsing-failed",e["UNSUPPORTED_NETWORK"]="unsupported-network",e["SDK_INITIALIZATION_FAILED"]="sdk-initialization-failed",e["STATE_MIGRATION_FAILED"]="state-migration-failed"})(f||(f={}));var R=n("6485");function C(e,t){return t.id-e.id}var M={notifications:function(e){return Object.values(e.notifications).sort(C)},notificationQueue:function(e){return Object.values(e.notifications).filter((function(e){return e.importance===R["a"].HIGH&&!0===e.display})).sort(C)}},L=n("d8a5");function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){F(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W(e){return q(e)||H(e)||$(e)||V()}function V(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function $(e,t){if(e){if("string"===typeof e)return K(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?K(e,t):void 0}}function H(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function q(e){if(Array.isArray(e))return K(e)}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function G(e){var t=Object.values(e).map((function(e){return e.id}));return Math.max.apply(Math,W(t).concat([0]))+1}var Y={notificationDelete:function(e,t){var n=B({},e.notifications);delete n[t],e.notifications=n},notificationsViewed:function(e){e.newNotifications=!1},notificationAddOrReplace:function(e,t){var n,r,a,i,o,c,u=e.notifications,s=Object.values(u).filter((function(e){var n=e.txHash;return n&&n===t.txHash})),l=null!==(n=null===(r=s[0])||void 0===r?void 0:r.id)&&void 0!==n?n:G(u),p=null===(a=s[0])||void 0===a||!a.id,f=B(B({},t),{},{id:l,received:new Date,display:p,context:null!==(i=t.context)&&void 0!==i?i:L["a"].NONE,importance:null!==(o=t.importance)&&void 0!==o?o:R["a"].LOW,duration:null!==(c=t.duration)&&void 0!==c?c:5e3});e.notifications=B(B({},u),{},F({},f.id,f)),e.newNotifications=!0},setNotificationShown:function(e,t){e.notifications[t].display=!1},clear:function(e){e.notifications=[]}},X=function(){return{notifications:{},newNotifications:!1}},Q=X(),Z=Q,J={namespaced:!0,mutations:Y,state:Z,getters:M},z={setTokenAddress:function(e,t){e.tokenAddress=t},setToken:function(e,t){e.token=t},setPlannedWithdrawal:function(e,t){e.plannedWithdrawal=t},clearPlannedWithdrawal:function(e){e.plannedWithdrawal=void 0}},ee=function(){return{tokenAddress:"",token:void 0,plannedWithdrawal:void 0}},te=ee(),ne=te,re={namespaced:!0,mutations:z,state:ne},ae={getEthereumProviderOptions:function(e){return function(t){var n;return null!==(n=e.ethereumProviderOptions[t])&&void 0!==n?n:{}}}},ie={enableRaidenAccount:function(e){e.useRaidenAccount=!0},disableRaidenAccount:function(e){e.useRaidenAccount=!1},saveEthereumProviderOptions:function(e,t){e.ethereumProviderOptions[t.providerName]=t.providerOptions}},oe=function(){return{useRaidenAccount:!0,ethereumProviderOptions:{}}},ce=oe(),ue=ce,se={namespaced:!0,state:ue,getters:ae,mutations:ie};function le(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.localStorage,t=new x["a"]({key:"raiden_dapp_settings",storage:e,modules:["userSettings"]});return t.plugin}var pe=n("8962"),fe="disclaimer";function de(e,t,n){return Object(pe["b"])(e)&&Object(pe["b"])(t)&&Object(pe["a"])(e,t,n)}function be(){return null===localStorage.getItem(fe)}var ye={correctVersionIsLoaded:function(e){if(be()||e.updateInProgress)return!0;var t=e.installedVersion,n=e.activeVersion;return void 0===t?de(n,"2.0.1","<="):de(t,n,"=")},updateIsAvailable:function(e){return de(e.availableVersion,e.installedVersion,">")}},he={setInstalledVersion:function(e,t){Object(pe["b"])(t)&&(e.installedVersion=t),e.updateInProgress=!1},setAvailableVersion:function(e,t){Object(pe["b"])(t)&&(e.availableVersion=t)},setUpdateIsMandatory:function(e){e.updateIsMandatory=!0},prepareUpdate:function(e){e.updateInProgress=!0}},me=function(){var e;return{activeVersion:null!==(e="2.1.0")&&void 0!==e?e:"0.0.0",installedVersion:void 0,availableVersion:void 0,updateIsMandatory:!1,updateInProgress:!1}},ve=me(),Oe=ve,je={namespaced:!0,state:Oe,getters:ye,mutations:he};function ge(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.localStorage,t=new x["a"]({key:"raiden_dapp_versionInformation",storage:e,reducer:function(e){return{versionInformation:{installedVersion:e.versionInformation.installedVersion,updateInProgress:e.versionInformation.updateInProgress}}},filter:function(e){return["versionInformation/setInstalledVersion","versionInformation/prepareUpdate"].includes(e.type)}});return t.plugin}function we(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?we(Object(n),!0).forEach((function(t){ke(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):we(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ke(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ee(e,t){return xe(e)||Pe(e,t)||Se(e,t)||Te()}function Te(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Se(e,t){if(e){if("string"===typeof e)return Ae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ae(e,t):void 0}}function Ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Pe(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,c=!1;try{for(n=n.call(e);!(o=(r=n.next()).done);o=!0)if(i.push(r.value),t&&i.length===t)break}catch(u){c=!0,a=u}finally{try{o||null==n["return"]||n["return"]()}finally{if(c)throw a}}return i}}function xe(e){if(Array.isArray(e))return e}a["a"].use(P["b"]);var Ne={isConnected:!1,blockNumber:0,defaultAccount:"",accountBalance:"0.0",raidenAccountBalance:"",channels:{},tokens:{},transfers:{},presences:{},network:D,stateBackup:"",config:{},disclaimerAccepted:!1,stateBackupReminderDateMs:0,persistDisclaimerAcceptance:!1};function Ie(){return h()(Ne)}var De=function(e,t){return e.balance&&t.balance&&(!e.balance.isZero()||!t.balance.isZero())},Re=new x["b"]({reducer:function(e){return{disclaimerAccepted:!!e.persistDisclaimerAcceptance&&e.disclaimerAccepted}},filter:function(e){return"acceptDisclaimer"===e.type},key:fe}),Ce=new x["b"]({reducer:function(e){return{stateBackupReminderDateMs:e.stateBackupReminderDateMs}},filter:function(e){return"updateStateBackupReminderDate"===e.type},key:"backupReminder"}),Me={state:Ie(),mutations:{setConnected:function(e){e.isConnected=!0},setDisconnected:function(e){e.isConnected=!1},account:function(e,t){e.defaultAccount=t},updateBlock:function(e,t){e.blockNumber=t},balance:function(e,t){e.accountBalance=t},raidenAccountBalance:function(e,t){e.raidenAccountBalance=t},updateChannels:function(e,t){e.channels=t},updateTokens:function(e,t){for(var n=0,r=Object.entries(t);n<r.length;n++){var a=Ee(r[n],2),i=a[0],o=a[1];i in e.tokens&&k()(o,e.tokens[i])||(i in e.tokens?e.tokens[i]=_e(_e({},e.tokens[i]),o):e.tokens=_e(_e({},e.tokens),{},ke({},i,o)))}},updatePresence:function(e,t){e.presences=_e(_e({},e.presences),t)},network:function(e,t){e.network=t},reset:function(e){var t=e.disclaimerAccepted,n=e.stateBackup,r=e.stateBackupReminderDateMs;Object.assign(e,_e(_e({},Ie()),{},{disclaimerAccepted:t,stateBackup:n,stateBackupReminderDateMs:r}))},updateTransfers:function(e,t){e.transfers=_e(_e({},e.transfers),{},ke({},t.key,t))},backupState:function(e,t){e.stateBackup=t},clearBackupState:function(e){e.stateBackup=""},updateConfig:function(e,t){e.config=t},acceptDisclaimer:function(e,t){e.disclaimerAccepted=!0,e.persistDisclaimerAcceptance=t},updateStateBackupReminderDate:function(e,t){e.stateBackupReminderDateMs=t}},actions:{},getters:{tokensWithChannels:function(e){for(var t={},n=0,r=Object.entries(e.tokens);n<r.length;n++){var a=Ee(r[n],2),i=a[0],o=a[1];e.channels[i]&&(t[i]=o)}return t},tokens:function(e){var t=function(e,t){return e.address=t.token,e[t.state]+=1,e};return T()(v()(j()(e.channels),(function(e){return!w()(e)})),(function(n){var r=A()(n,t,I()),a=e.tokens[r.address];return a&&(r.name=a.name||"",r.symbol=a.symbol||""),r}))},allTokens:function(e){return Object.values(e.tokens).sort((function(e,t){return De(e,t)?t.balance.gt(e.balance)?1:-1:e.symbol&&t.symbol?e.symbol.localeCompare(t.symbol):0}))},channels:function(e){return function(t){var n=[],r=e.channels[t];return r&&!w()(r)&&(n=j()(r)),n}},openChannels:function(e){return Object.keys(e.channels).length>0},token:function(e){return function(t){return t in e.tokens?e.tokens[t]:null}},network:function(e){return Object(N["g"])(e.network)},mainnet:function(e){return 1===e.network.chainId},channelWithBiggestCapacity:function(e,t){return function(e){var n=t.channels(e),r=n.filter((function(e){return e.state===N["b"].open})),a=r.sort((function(e,t){var n=e.capacity.sub(t.capacity);return n.lt(0)?1:n.gt(0)?-1:0}));return a[0]}},pendingTransfers:function(e){var t=e.transfers;return Object.keys(t).filter((function(e){var n=t[e].completed;return!n})).reduce((function(e,n){return e[n]=t[n],e}),{})},transfer:function(e){return function(t){return Object.values(e.transfers).find((function(e){return e.paymentId.eq(t)}))}}},plugins:[le(),Re.plugin,Ce.plugin,ge()],modules:{notifications:J,userDepositContract:re,userSettings:se,versionInformation:je}},Le=new P["b"].Store(Me),Ue=n("80bf");function Be(e,t,r){null===t.name?r({name:Ue["a"].HOME}):e.matched.length&&(e.matched[0].components.default=t.matched[0].components.default,e.matched[0].components.modal=function(){return n.e("chunk-3314e250").then(n.bind(null,"47f5"))}),r()}var Fe=[Ue["a"].ACCOUNT_ROOT,Ue["a"].ACCOUNT_BACKUP,Ue["a"].ACCOUNT_SETTINGS],We=function(e,t){var n,r=t.state.isConnected,a=Fe.includes(null!==(n=e.name)&&void 0!==n?n:""),i=e.name===Ue["a"].HOME;if(!a)return r||i?!r&&i?null:r&&i?{name:Ue["a"].TRANSFER}:void 0:{name:Ue["a"].HOME,query:{redirectTo:e.fullPath}}},Ve=function(e,t){var n=t.state.disclaimerAccepted,r=e.name===Ue["a"].DISCLAIMER;return n||r?!n&&r?null:n&&r?{name:Ue["a"].HOME}:void 0:{name:Ue["a"].DISCLAIMER,query:{redirectTo:e.fullPath}}};function $e(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=He(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw i}}}}function He(e,t){if(e){if("string"===typeof e)return qe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qe(e,t):void 0}}function qe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ke(e,t,n){var r,a=$e(this.children);try{for(a.s();!(r=a.n()).done;){var i=r.value,o=i(e,this.store);if(null===o)return void n();if(void 0!==o)return void n(o)}}catch(c){a.e(c)}finally{a.f()}n({})}var Ge=[Ue["a"].ACCOUNT_ROOT,Ue["a"].ACCOUNT_BACKUP,Ue["a"].ACCOUNT_RAIDEN,Ue["a"].ACCOUNT_SETTINGS,Ue["a"].ACCOUNT_WITHDRAWAL,Ue["a"].ACCOUNT_UDC],Ye=[Ue["a"].SELECT_TOKEN,Ue["a"].SELECT_HUB,Ue["a"].OPEN_CHANNEL],Xe=function(e,t){var n,r,a=t.getters.tokensWithChannels,i=0===Object.keys(a).length,o=e.name===Ue["a"].NO_CONNECTED_TOKEN,c=e.name===Ue["a"].QUICK_PAY,u=Ge.includes(null!==(n=e.name)&&void 0!==n?n:""),s=Ye.includes(null!==(r=e.name)&&void 0!==r?r:"");if(!u&&!c)return s?null:i&&!o?{name:Ue["a"].NO_CONNECTED_TOKEN}:i&&o?null:!i&&o?{name:Ue["a"].TRANSFER}:void 0};function Qe(e,t,r){null===t.name?r({name:Ue["a"].HOME}):e.matched.length&&(e.matched[0].components.default=t.matched[0].components.default,e.matched[0].components.notifications=function(){return n.e("chunk-f6a6c064").then(n.bind(null,"c284"))}),r()}var Ze=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"disclaimer",attrs:{"data-cy":"disclaimer"}},[n("div",{staticClass:"disclaimer__content"},[n("div",{staticClass:"disclaimer__content__text"},[n("span",{staticClass:"disclaimer__content__text__header"},[e._v(" "+e._s(e.$t("disclaimer.user-info.header"))+" ")]),n("span",{staticClass:"disclaimer__content__text__body"},[e._v(e._s(e.$t("disclaimer.user-info.body")))]),n("div",e._l(e.$t("disclaimer.user-info.bullet-points"),(function(t,r){return n("ul",{key:r,staticClass:"disclaimer__content__text__bullet-points"},[n("li",[e._v(" "+e._s(t.text)+" "),n("a",{attrs:{href:e.disclaimerUrlMappings[r],target:"_blank"}},[e._v(" "+e._s(t.link)+" ")])])])})),0),e.imprint&&e.terms?n("span",{staticClass:"disclaimer__content__text__header, imprint_terms_header"},[e._v(" "+e._s(e.$t("disclaimer.terms.header"))+" ")]):e._e(),e.imprint&&e.terms?n("i18n",{staticClass:"disclaimer__content__text__imprint-terms-body",attrs:{path:"disclaimer.terms.body",tag:"span"}},[n("a",{attrs:{href:e.terms,target:"_blank"}},[e._v(" "+e._s(e.$t("disclaimer.terms.link-name-terms"))+" ")]),n("a",{attrs:{href:e.imprint,target:"_blank"}},[e._v(" "+e._s(e.$t("disclaimer.terms.link-name-policy"))+" ")])]):e._e(),n("span",{staticClass:"disclaimer__content__text__header"},[e._v(" "+e._s(e.$t("disclaimer.disclaimer.header"))+" ")]),n("span",{staticClass:"disclaimer__content__text__body"},[e._v(e._s(e.$t("disclaimer.disclaimer.body")))]),n("span",{staticClass:"disclaimer__content__text__header"},[e._v(" "+e._s(e.$t("disclaimer.privacy.header"))+" ")]),e._l(e.$t("disclaimer.privacy.body"),(function(t,r){return n("div",{key:r,staticClass:"disclaimer__content__text__body"},[n("span",[e._v(e._s(t))])])}))],2),n("v-checkbox",{staticClass:"disclaimer__content__accept-checkbox",attrs:{"data-cy":"disclaimer_accept_checkbox",label:e.$t("disclaimer.accept-checkbox"),dense:"","hide-details":""},model:{value:e.checkedAccept,callback:function(t){e.checkedAccept=t},expression:"checkedAccept"}}),n("v-checkbox",{staticClass:"disclaimer__content__persist-checkbox",attrs:{"data-cy":"disclaimer_persist_checkbox",label:e.$t("disclaimer.persist-checkbox"),dense:"","hide-details":""},model:{value:e.checkedPersist,callback:function(t){e.checkedPersist=t},expression:"checkedPersist"}})],1),n("action-button",{staticClass:"disclaimer__accept-button",attrs:{text:e.$t("disclaimer.accept-button"),"data-cy":"disclaimer_accept_button",enabled:e.checkedAccept,"full-width":"",sticky:""},on:{click:e.accept}})],1)},Je=[],ze=n("6dbe"),et=n("5cf9"),tt=n("750b");function nt(e){return nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nt(e)}function rt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function at(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function it(e,t,n){return t&&at(e.prototype,t),n&&at(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ot(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&ct(e,t)}function ct(e,t){return ct=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ct(e,t)}function ut(e){var t=pt();return function(){var n,r=ft(e);if(t){var a=ft(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return st(this,n)}}function st(e,t){if(t&&("object"===nt(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return lt(e)}function lt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function ft(e){return ft=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ft(e)}var dt=function(e){ot(n,e);var t=ut(n);function n(){var e;return rt(this,n),e=t.apply(this,arguments),e.checkedAccept=!1,e.checkedPersist=!1,e.disclaimerUrlMappings={portal:"https://developer.raiden.network",docs:"https://docs.raiden.network",videos:"https://www.youtube.com/channel/UCoUP_hnjUddEvbxmtNCcApg",medium:"https://medium.com/@raiden_network"},e}return it(n,[{key:"imprint",get:function(){return"https://raiden.network/privacy.html"}},{key:"terms",get:function(){return"https://github.com/raiden-network/light-client/blob/master/TERMS.md"}},{key:"navigationTarget",get:function(){var e=this.$route.query.redirectTo;return e?{path:e}:{name:Ue["a"].HOME}}},{key:"accept",value:function(){this.$store.commit("acceptDisclaimer",this.checkedPersist),this.$router.push(this.navigationTarget)}}]),n}(et["g"]);dt=Object(ze["f"])([Object(et["a"])({components:{ActionButton:tt["a"]}})],dt);var bt=dt,yt=bt,ht=(n("5c69"),n("a6c2")),mt=n("411c"),vt=n.n(mt),Ot=n("0591"),jt=Object(ht["a"])(yt,Ze,Je,!1,null,"37e09807",null),gt=jt.exports;vt()(jt,{VCheckbox:Ot["a"]});var wt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"home",attrs:{fluid:"","data-cy":"home"}},[r("v-row",{attrs:{"no-gutters":""}},[r("v-col",{attrs:{cols:"12"}},[r("div",{staticClass:"home__logo-container"},[r("v-img",{staticClass:"home__logo-container__logo",attrs:{src:n("9b19"),"aspect-ratio":"1",contain:""}})],1)])],1),r("v-row",{attrs:{"no-gutters":""}},[r("v-col",{attrs:{cols:"12"}},[r("div",{staticClass:"home__app-welcome text-center"},[e._v(" "+e._s(e.$t("home.welcome"))+" ")])])],1),r("v-row",{attrs:{"no-gutters":""}},[r("v-col",{attrs:{cols:"12"}},[r("div",{staticClass:"home__disclaimer text-center font-weight-light"},[e._v(" "+e._s(e.$t("home.disclaimer"))+" ")]),r("i18n",{staticClass:"home__getting-started text-center font-weight-light",attrs:{path:"home.getting-started.description",tag:"div"}},[r("a",{attrs:{href:"https://github.com/raiden-network/light-client#try-out-the-raiden-dapp",target:"_blank"}},[e._v(" "+e._s(e.$t("home.getting-started.link-name"))+" ")])])],1)],1),r("v-row",{attrs:{"no-gutters":""}},[r("v-col",{staticClass:"mt-10",attrs:{cols:"12"}},[r("connection-manager")],1)],1)],1)},_t=[],kt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"connection-manager"},[n("v-alert",{staticClass:"connection-manager__error-message font-weight-light",class:{"connection-manager__error-message--hidden":!e.errorCode},attrs:{color:"error",icon:"warning"}},[e._v(" "+e._s(e.translatedErrorCode)+" ")]),e.showProviderButtons?[e._l(e.providerList,(function(t,r){return[e.isProviderDisabled(r)?e._e():n("action-button",{key:"button_"+r,staticClass:"connection-manager__provider-dialog-button",attrs:{"data-cy":"connection-manager__provider-dialog-button__"+r,enabled:t.factory.isAvailable,text:e.$t(t.buttonText),width:"280px"},on:{click:function(t){return e.openProviderDialog(r)}}})]}))]:e._e(),e._l(e.providerList,(function(t,r){return[e.isProviderDialogVisible(r)?n(t.dialogComponent,{key:"dialog_"+r,tag:"component",on:{linkEstablished:e.onProviderLinkEstablished,cancel:function(t){return e.closeProviderDialog(r)}}}):e._e()]})),e.inProgress?[n("connection-pending-dialog",{on:{"reset-connection":e.resetConnection}})]:e._e()],2)},Et=[],Tt=n("36d8"),St=n.n(Tt),At=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("raiden-dialog",{attrs:{visible:!0,"hide-close":!0}},[n("v-card-title",[e._v(" "+e._s(e.$t("connection-manager.dialogs.connection-pending.title"))+" ")]),n("v-card-text",[n("spinner"),e._v(" "+e._s(e.$t("connection-manager.dialogs.connection-pending.text"))+" ")],1),n("v-card-actions",[n("action-button",{attrs:{text:e.$t("connection-manager.dialogs.connection-pending.button"),enabled:!0},on:{click:e.resetConnection}})],1)],1)},Pt=[],xt=n("66bc"),Nt=n("0527");function It(e){return It="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},It(e)}function Dt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ct(e,t,n){return t&&Rt(e.prototype,t),n&&Rt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Mt(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&Lt(e,t)}function Lt(e,t){return Lt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Lt(e,t)}function Ut(e){var t=Wt();return function(){var n,r=Vt(e);if(t){var a=Vt(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Bt(this,n)}}function Bt(e,t){if(t&&("object"===It(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ft(e)}function Ft(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Vt(e){return Vt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Vt(e)}var $t=function(e){Mt(n,e);var t=Ut(n);function n(){return Dt(this,n),t.apply(this,arguments)}return Ct(n,[{key:"resetConnection",value:function(){}}]),n}(et["g"]);Object(ze["f"])([Object(et["b"])("reset-connection")],$t.prototype,"resetConnection",null),$t=Object(ze["f"])([Object(et["a"])({components:{ActionButton:tt["a"],RaidenDialog:xt["a"],Spinner:Nt["a"]}})],$t);var Ht=$t,qt=Ht,Kt=n("e47e"),Gt=Object(ht["a"])(qt,At,Pt,!1,null,null,null),Yt=Gt.exports;vt()(Gt,{VCardActions:Kt["a"],VCardText:Kt["c"],VCardTitle:Kt["d"]});var Xt,Qt=n("2fca"),Zt=n("87b1");function Jt(e){return Jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jt(e)}function zt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function en(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zt(Object(n),!0).forEach((function(t){jn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tn(e,t){return cn(e)||on(e,t)||rn(e,t)||nn()}function nn(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function rn(e,t){if(e){if("string"===typeof e)return an(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?an(e,t):void 0}}function an(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function on(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,c=!1;try{for(n=n.call(e);!(o=(r=n.next()).done);o=!0)if(i.push(r.value),t&&i.length===t)break}catch(u){c=!0,a=u}finally{try{o||null==n["return"]||n["return"]()}finally{if(c)throw a}}return i}}function cn(e){if(Array.isArray(e))return e}function un(e,t,n,r,a,i,o){try{var c=e[i](o),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function sn(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){un(i,r,a,o,c,"next",e)}function c(e){un(i,r,a,o,c,"throw",e)}o(void 0)}))}}function ln(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fn(e,t,n){return t&&pn(e.prototype,t),n&&pn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function dn(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&bn(e,t)}function bn(e,t){return bn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},bn(e,t)}function yn(e){var t=vn();return function(){var n,r=On(e);if(t){var a=On(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return hn(this,n)}}function hn(e,t){if(t&&("object"===Jt(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return mn(e)}function mn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vn(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function On(e){return On=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},On(e)}function jn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gn(e){return e instanceof Qt["b"]?f.DEPLOYMENT_INFO_PARSING_FAILED:e.message&&e.message.includes("No deploy info provided")?f.UNSUPPORTED_NETWORK:e.message&&e.message.includes("Could not replace stored state")?f.STATE_MIGRATION_FAILED:f.SDK_INITIALIZATION_FAILED}var wn=Object(P["a"])("userSettings"),_n=wn.mapState,kn=(Xt={},jn(Xt,Zt["b"].providerName,{factory:Zt["b"],buttonText:"connection-manager.dialogs.injected-provider.header",dialogComponent:function(){return n.e("chunk-999b6682").then(n.bind(null,"073a"))}}),jn(Xt,Zt["c"].providerName,{factory:Zt["c"],buttonText:"connection-manager.dialogs.wallet-connect-provider.header",dialogComponent:function(){return Promise.all([n.e("chunk-0516db04"),n.e("chunk-b99bb93e")]).then(n.bind(null,"f634"))}}),jn(Xt,Zt["a"].providerName,{factory:Zt["a"],buttonText:"connection-manager.dialogs.direct-rpc-provider.header",dialogComponent:function(){return Promise.all([n.e("chunk-0516db04"),n.e("chunk-2d0ac3da")]).then(n.bind(null,"1962"))}}),Xt),En=function(e){dn(n,e);var t=yn(n);function n(){var e;return ln(this,n),e=t.apply(this,arguments),e.inProgress=!1,e.errorCode=null,e.providerList=kn,e.providerDialogOpenState=Object.fromEntries(Object.keys(e.providerList).map((function(e){return[e,!1]}))),e.providerDisabledState=Object.fromEntries(Object.keys(e.providerList).map((function(e){return[e,!0]}))),e}return fn(n,[{key:"showProviderButtons",get:function(){return!this.isConnected&&!this.inProgress}},{key:"translatedErrorCode",get:function(){if(this.errorCode){var e="error-codes.".concat(this.errorCode.toString());return this.$t(e)}return""}},{key:"isProviderDisabled",value:function(e){var t;return null===(t=this.providerDisabledState[e])||void 0===t||t}},{key:"isProviderDialogVisible",value:function(e){var t;return null!==(t=this.providerDialogOpenState[e])&&void 0!==t&&t}},{key:"openProviderDialog",value:function(e){this.providerDialogOpenState[e]=!0}},{key:"closeProviderDialog",value:function(e){this.providerDialogOpenState[e]=!1}},{key:"created",value:function(){this.checkForDisabledProviders()}},{key:"checkForDisabledProviders",value:function(){var e=sn(St.a.mark((function e(){var t,n,r,a=this;return St.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(t=function(){var e=tn(r[n],2),t=e[0],i=e[1];i.factory.isDisabled().then((function(e){a.providerDisabledState[t]=e}))},n=0,r=Object.entries(this.providerList);n<r.length;n++)t();case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"closeAllProviderDialogs",value:function(){this.providerDialogOpenState=Object.fromEntries(Object.keys(this.providerDialogOpenState).map((function(e){return[e,!1]})))}},{key:"onProviderLinkEstablished",value:function(){var e=sn(St.a.mark((function e(t){return St.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.closeAllProviderDialogs(),e.next=3,this.connect(t);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"connect",value:function(){var e=sn(St.a.mark((function e(t){var n,r,a;return St.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.isConnected&&!this.inProgress){e.next=2;break}throw new Error("Can only connect once!");case 2:return this.inProgress=!0,this.errorCode=null,this.$store.commit("reset"),e.next=7,Qt["a"].configuration();case 7:return n=e.sent,r=!!this.useRaidenAccount||void 0,e.next=11,t.provider.getNetwork();case 11:a=e.sent,a.chainId,e.next=16;break;case 16:return e.prev=16,e.next=19,this.$raiden.connect(t.provider,t.account,this.stateBackup,n.per_network,r);case 19:e.next=26;break;case 21:return e.prev=21,e.t0=e["catch"](16),this.errorCode=gn(e.t0),this.inProgress=!1,e.abrupt("return");case 26:this.$store.commit("setConnected"),this.$store.commit("clearBackupState");case 28:case"end":return e.stop()}}),e,this,[[16,21]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"resetConnection",value:function(){localStorage.removeItem("walletconnect"),window.location.replace(window.location.origin)}}]),n}(et["g"]);En=Object(ze["f"])([Object(et["a"])({computed:en(en({},Object(P["e"])(["isConnected","stateBackup"])),_n(["useRaidenAccount"])),components:{ActionButton:tt["a"],ConnectionPendingDialog:Yt}})],En);var Tn=En,Sn=Tn,An=(n("9547"),n("36c4")),Pn=Object(ht["a"])(Sn,kt,Et,!1,null,"7294558e",null),xn=Pn.exports;function Nn(e){return Nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nn(e)}function In(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Dn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?In(Object(n),!0).forEach((function(t){Rn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):In(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Rn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ln(e,t,n){return t&&Mn(e.prototype,t),n&&Mn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Un(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&Bn(e,t)}function Bn(e,t){return Bn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Bn(e,t)}function Fn(e){var t=$n();return function(){var n,r=Hn(e);if(t){var a=Hn(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Wn(this,n)}}function Wn(e,t){if(t&&("object"===Nn(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Vn(e)}function Vn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $n(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Hn(e){return Hn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Hn(e)}vt()(Pn,{VAlert:An["a"]});var qn=function(e){Un(n,e);var t=Fn(n);function n(){return Cn(this,n),t.apply(this,arguments)}return Ln(n,[{key:"navigationTarget",get:function(){var e=this.$route.query.redirectTo;return e?{path:e}:{name:Ue["a"].TRANSFER}}},{key:"onConnectionEstablished",value:function(e){e&&this.$router.push(this.navigationTarget)}}]),n}(et["g"]);Object(ze["f"])([Object(et["h"])("isConnected",{immediate:!0})],qn.prototype,"onConnectionEstablished",null),qn=Object(ze["f"])([Object(et["a"])({computed:Dn({},Object(P["e"])(["isConnected"])),components:{ConnectionManager:xn}})],qn);var Kn=qn,Gn=Kn,Yn=(n("e3b7"),n("1fb1")),Xn=n("1331"),Qn=n("e614"),Zn=Object(ht["a"])(Gn,wt,_t,!1,null,"11491f22",null),Jn=Zn.exports;vt()(Zn,{VCol:Yn["a"],VImg:Xn["a"],VRow:Qn["a"]});var zn=[{path:"/",name:Ue["a"].DISCLAIMER,meta:{title:"Disclaimer",cannotNavigateBack:!0},component:gt},{path:"*",redirect:"/"},{path:"/home",name:Ue["a"].HOME,meta:{title:"Raiden dApp",cannotNavigateBack:!0},component:Jn},{path:"/no_connected_token",name:Ue["a"].NO_CONNECTED_TOKEN,meta:{title:"Connect",cannotNavigateBack:!0},component:function(){return n.e("chunk-2d0abce7").then(n.bind(null,"179d"))}},{path:"/transfer/:token?",name:Ue["a"].TRANSFER,meta:{title:"Transfer",cannotNavigateBack:!0,infoOverlay:{headerImage:"transfer_info.svg",header:"info-overlay.transfer.header",body:"info-overlay.transfer.body"}},component:function(){return Promise.all([n.e("chunk-46e56bfa"),n.e("chunk-04c2b6fd"),n.e("chunk-2cce55b7"),n.e("chunk-6f7377eb"),n.e("chunk-548cab13")]).then(n.bind(null,"ded4"))}},{path:"/transfer/:token/:target",name:Ue["a"].TRANSFER_STEPS,meta:{title:"Transfer",infoOverlay:{headerImage:"transfer_steps_info.svg",header:"info-overlay.transfer-steps.header",body:"info-overlay.transfer-steps.body"}},component:function(){return Promise.all([n.e("chunk-46e56bfa"),n.e("chunk-04c2b6fd"),n.e("chunk-2cce55b7"),n.e("chunk-0f5a786a")]).then(n.bind(null,"146c"))}},{path:"/quick_pay",name:Ue["a"].QUICK_PAY,meta:{title:"Quick Pay",cannotNavigateBack:!0},component:function(){return Promise.all([n.e("chunk-46e56bfa"),n.e("chunk-2cce55b7"),n.e("chunk-6f7377eb"),n.e("chunk-43e44688"),n.e("chunk-554e465f")]).then(n.bind(null,"3fb0"))}},{path:"/connect",name:Ue["a"].SELECT_TOKEN,meta:{title:"Select Token"},component:function(){return Promise.all([n.e("chunk-04c2b6fd"),n.e("chunk-451aab9e")]).then(n.bind(null,"eb67"))}},{path:"/connect/:token",name:Ue["a"].SELECT_HUB,meta:{title:"Select Hub",infoOverlay:{headerImage:"select_hub_info.svg",header:"info-overlay.select-hub.header",body:"info-overlay.select-hub.body"}},component:function(){return Promise.all([n.e("chunk-46e56bfa"),n.e("chunk-2cce55b7"),n.e("chunk-6f7377eb"),n.e("chunk-95a85f32")]).then(n.bind(null,"5876"))}},{path:"/connect/:token/:partner",name:Ue["a"].OPEN_CHANNEL,meta:{title:"Open Channel",infoOverlay:{headerImage:"open_channel_info.svg",header:"info-overlay.open-channel.header",body:"info-overlay.open-channel.body"}},component:function(){return Promise.all([n.e("chunk-46e56bfa"),n.e("chunk-2cce55b7"),n.e("chunk-6f7377eb"),n.e("chunk-43e44688"),n.e("chunk-6060fe37")]).then(n.bind(null,"9db2"))}},{path:"/channels/:token",name:Ue["a"].CHANNELS,meta:{title:"Channels",infoOverlay:{headerImage:"channels_info.svg",header:"info-overlay.channels.header",body:"info-overlay.channels.body"}},component:function(){return Promise.all([n.e("chunk-46e56bfa"),n.e("chunk-04c2b6fd"),n.e("chunk-2cce55b7"),n.e("chunk-6f7377eb"),n.e("chunk-9ad0759c")]).then(n.bind(null,"3a90"))}},{path:"/notifications",name:Ue["a"].NOTIFICATIONS,beforeEnter:Qe},{path:"/account",beforeEnter:Be,children:[{path:"/",name:Ue["a"].ACCOUNT_ROOT,meta:{title:"Account"},component:function(){return Promise.all([n.e("chunk-04c2b6fd"),n.e("chunk-69594727")]).then(n.bind(null,"f18d"))}},{path:"backup",name:Ue["a"].ACCOUNT_BACKUP,meta:{title:"Backup State",infoOverlay:{headerImage:"backup_state_info.svg",header:"info-overlay.account-backup.header",body:"info-overlay.account-backup.body"}},component:function(){return Promise.all([n.e("chunk-04c2b6fd"),n.e("chunk-bd351282")]).then(n.bind(null,"248bd"))}},{path:"raiden",name:Ue["a"].ACCOUNT_RAIDEN,meta:{title:"Raiden Account",infoOverlay:{headerImage:"transfer_eth_info.svg",header:"info-overlay.account-raiden.header",body:"info-overlay.account-raiden.body"}},component:function(){return Promise.all([n.e("chunk-46e56bfa"),n.e("chunk-5f022d76")]).then(n.bind(null,"9114"))}},{path:"settings",name:Ue["a"].ACCOUNT_SETTINGS,meta:{title:"Settings"},component:function(){return Promise.all([n.e("chunk-04c2b6fd"),n.e("chunk-767d4d90")]).then(n.bind(null,"5d16"))}},{path:"withdrawal",name:Ue["a"].ACCOUNT_WITHDRAWAL,meta:{title:"Withdrawal",infoOverlay:{headerImage:"withdraw_tokens_info.svg",header:"info-overlay.account-withdrawal.header",body:"info-overlay.account-withdrawal.body"}},component:function(){return Promise.all([n.e("chunk-04c2b6fd"),n.e("chunk-60aceac4")]).then(n.bind(null,"c917"))}},{path:"udc",name:Ue["a"].ACCOUNT_UDC,meta:{title:"UDC",infoOverlay:{headerImage:"udc_info.svg",header:"info-overlay.account-udc.header",body:"info-overlay.account-udc.body"}},component:function(){return Promise.all([n.e("chunk-46e56bfa"),n.e("chunk-7f857a46")]).then(n.bind(null,"4c07"))}}]}];function er(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?er(Object(n),!0).forEach((function(t){nr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):er(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rr(e){var t=Object(d["parse"])(window.location.search),n=Object(d["parse"])(e);return tr(tr({},t),n)}a["a"].use(b["a"]);var ar=new b["a"]({base:"/",mode:"hash",parseQuery:rr,routes:zn});ar.beforeEach(Ke.bind({store:Le,children:[Ve,We,Xe]}));var ir=ar,or=n("22b7"),cr=n("fbcd"),ur=n("590d"),sr=n("996a"),lr=n("009f"),pr=n("573d"),fr=n.n(pr),dr=n("2726");function br(){var e=n("49f8"),t={};return e.keys().forEach((function(n){var r=n.match(/([A-Za-z0-9-_]+)\./i);if(r&&r.length>1){var a=r[1];t[a]=e(n)}})),t}a["a"].use(dr["a"]);var yr=new dr["a"]({locale:"en",fallbackLocale:"en",messages:br()}),hr=n("a3d5");function mr(e){return mr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mr(e)}function vr(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&Tr(e,t)}function Or(e){var t=kr();return function(){var n,r=Sr(e);if(t){var a=Sr(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return jr(this,n)}}function jr(e,t){if(t&&("object"===mr(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return gr(e)}function gr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wr(e){var t="function"===typeof Map?new Map:void 0;return wr=function(e){if(null===e||!Er(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return _r(e,arguments,Sr(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Tr(n,e)},wr(e)}function _r(e,t,n){return _r=kr()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var a=Function.bind.apply(e,r),i=new a;return n&&Tr(i,n.prototype),i},_r.apply(null,arguments)}function kr(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Er(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function Tr(e,t){return Tr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Tr(e,t)}function Sr(e){return Sr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Sr(e)}function Ar(e,t){return Nr(e)||xr(e,t)||Mr(e,t)||Pr()}function Pr(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function xr(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,c=!1;try{for(n=n.call(e);!(o=(r=n.next()).done);o=!0)if(i.push(r.value),t&&i.length===t)break}catch(u){c=!0,a=u}finally{try{o||null==n["return"]||n["return"]()}finally{if(c)throw a}}return i}}function Nr(e){if(Array.isArray(e))return e}function Ir(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Dr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ir(Object(n),!0).forEach((function(t){Rr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ir(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Rr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cr(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Mr(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw i}}}}function Mr(e,t){if(e){if("string"===typeof e)return Lr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Lr(e,t):void 0}}function Lr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ur(e,t,n,r,a,i,o){try{var c=e[i](o),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function Br(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){Ur(i,r,a,o,c,"next",e)}function c(e){Ur(i,r,a,o,c,"throw",e)}o(void 0)}))}}function Fr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vr(e,t,n){return t&&Wr(e.prototype,t),n&&Wr(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function $r(e){return void 0===e?yr.t("notifications.tx-state-pending"):e?yr.t("notifications.tx-state-confirmed"):""}var Hr=function(){function e(t,n){var r=this;Fr(this,e),this._userDepositTokenAddress="",this.disconnect=Br(St.a.mark((function e(){return St.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r.raiden.stop();case 2:window.onbeforeunload=null;case 3:case"end":return e.stop()}}),e)}))),this.getAccount=function(){return r.raiden.address},this.getMainAccount=function(){return r.raiden.mainAddress},this._raiden=void 0,this.store=t,this.router=n}return Vr(e,[{key:"raiden",get:function(){if(void 0===this._raiden)throw new Error("Raiden instance was not initialized");return this._raiden}},{key:"updateBalances",value:function(){var e=Br(St.a.mark((function e(){return St.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=this.store,e.next=3,this.getBalance();case 3:return e.t1=e.sent,e.t0.commit.call(e.t0,"balance",e.t1),e.t2=this.store,e.next=8,this.getBalance(this.raiden.address);case 8:e.t3=e.sent,e.t2.commit.call(e.t2,"raidenAccountBalance",e.t3);case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"fetchTokenList",value:function(){var e=Br(St.a.mark((function e(){var t,n,r,a,i,o;return St.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.getTokenList();case 2:t=e.sent,n=[],r={},a=Cr(t);try{for(a.s();!(i=a.n()).done;)o=i.value,n.push(o),r[o]={address:o}}catch(c){a.e(c)}finally{a.f()}return this.store.commit("updateTokens",r),e.next=10,this.fetchAndUpdateTokenData(n);case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"monitoringReward",get:function(){return this.raiden.config.monitoringReward}},{key:"ensResolve",value:function(){var e=Br(St.a.mark((function e(t){return St.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.raiden.resolveName(t);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e["catch"](0),new qr(e.t0.message);case 9:case"end":return e.stop()}}),e,this,[[0,6]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"connect",value:function(){var t=Br(St.a.mark((function t(n,r,a){var i,o,c,u,s=this,l=arguments;return St.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=l.length>3&&void 0!==l[3]?l[3]:{},o=l.length>4?l[4]:void 0,t.next=4,e.createRaiden(n,r,a,o);case 4:return c=t.sent,this._raiden=c,this.usingSubkey=null!==o&&void 0!==o&&o,u=this.getAccount(),this.store.commit("account",u),t.next=11,c.userDepositTokenAddress();case 11:return this._userDepositTokenAddress=t.sent,this.store.commit("userDepositContract/setTokenAddress",this._userDepositTokenAddress),t.next=15,this.monitorPreSetTokens(i);case 15:return c.events$.subscribe((function(e){"block/new"===e.type&&s.store.commit("updateBlock",e.payload.blockNumber)})),c.events$.pipe(Object(sr["a"])((function(e){return"block/new"===e.type})),Object(lr["a"])((function(){return s.updateUserDepositContractToken()}))).subscribe(),c.events$.pipe(Object(sr["a"])((function(e){return"raiden/shutdown"===e.type}))).subscribe((function(){s.store.commit("reset"),s.router.push({name:Ue["a"].HOME})})),c.config$.subscribe(function(){var e=Br(St.a.mark((function e(t){var n;return St.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(s.store.commit("updateConfig",t),null!==(n=t.caps)&&void 0!==n&&n[N["a"].RECEIVE]){e.next=4;break}return e.next=4,s.notifyNoReceive();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c.events$.subscribe(function(){var e=Br(St.a.mark((function e(t){return St.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("token/monitored"!==t.type){e.next=5;break}s.store.commit("updateTokens",Rr({},t.payload.token,{address:t.payload.token})),s.fetchAndUpdateTokenData([t.payload.token]),e.next=47;break;case 5:if("matrix/presence/success"!==t.type){e.next=9;break}s.store.commit("updatePresence",Rr({},t.meta.address,t.payload.available)),e.next=47;break;case 9:if("ms/balanceProof/sent"!==t.type){e.next=16;break}if(t.payload.confirmed){e.next=12;break}return e.abrupt("return");case 12:return e.next=14,s.notifyBalanceProofSend(t.payload.monitoringService,t.payload.partner,t.payload.reward,t.payload.txHash);case 14:e.next=47;break;case 16:if("udc/withdraw/success"!==t.type){e.next=23;break}if(t.payload.confirmed){e.next=19;break}return e.abrupt("return");case 19:return e.next=21,s.notifyWithdrawal(t.meta.amount,t.payload.withdrawal);case 21:e.next=47;break;case 23:if("udc/withdraw/plan/failure"!==t.type){e.next=28;break}return e.next=26,s.notifyWithdrawalFailure(t.payload.code,t.meta.amount,t.payload.message);case 26:e.next=47;break;case 28:if("channel/settle/success"!==t.type){e.next=34;break}if(!t.payload.confirmed){e.next=32;break}return e.next=32,s.notifyChannelSettleSuccess(t.meta.partner);case 32:e.next=47;break;case 34:if("channel/settle/failure"!==t.type){e.next=39;break}return e.next=37,s.notifyChannelSettleFailure(t.meta.partner);case 37:e.next=47;break;case 39:if("channel/open/success"!==t.type){e.next=44;break}return e.next=42,s.notifyChannelOpenSuccess(t.payload.txBlock,t.payload.txHash,t.payload.confirmed,t.meta.partner);case 42:e.next=47;break;case 44:if("channel/open/failure"!==t.type){e.next=47;break}return e.next=47,s.notifyChannelOpenFailed(t.payload.message);case 47:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c.events$.subscribe((function(e){s.updatePlannedUserDepositWithdrawals(e)})),c.channels$.subscribe((function(e){s.store.commit("updateChannels",e)})),c.transfers$.subscribe((function(e){s.store.commit("updateTransfers",e)})),this.store.commit("network",c.network),window.onbeforeunload=function(e){return e.preventDefault(),""},t.next=27,c.start();case 27:return t.t0=this.store,t.next=30,this.getBalance();case 30:if(t.t1=t.sent,t.t0.commit.call(t.t0,"balance",t.t1),!o){t.next=38;break}return t.t2=this.store,t.next=36,this.getBalance(c.address);case 36:t.t3=t.sent,t.t2.commit.call(t.t2,"raidenAccountBalance",t.t3);case 38:case"end":return t.stop()}}),t,this)})));function n(e,n,r){return t.apply(this,arguments)}return n}()},{key:"notifyNoReceive",value:function(){var e=Br(St.a.mark((function e(){return St.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.store.commit("notifications/notificationAddOrReplace",{icon:yr.t("notifications.no-receive.icon"),title:yr.t("notifications.no-receive.title"),description:yr.t("notifications.no-receive.description"),importance:R["a"].HIGH,context:L["a"].WARNING});case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"monitorPreSetTokens",value:function(){var e=Br(St.a.mark((function e(t){var n,r,a,i,o,c,u;return St.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=this.raiden.network.chainId,i=null!==(n=null===(r=t[a])||void 0===r?void 0:r.monitored)&&void 0!==n?n:[],o=Cr(i),e.prev=3,o.s();case 5:if((c=o.n()).done){e.next=11;break}return u=c.value,e.next=9,this.raiden.monitorToken(u);case 9:e.next=5;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](3),o.e(e.t0);case 16:return e.prev=16,o.f(),e.finish(16);case 19:case"end":return e.stop()}}),e,this,[[3,13,16,19]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"notifyWithdrawalFailure",value:function(){var e=Br(St.a.mark((function e(t,n,r){var a,i,o,c,u,s;return St.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(["UDC_PLAN_WITHDRAW_GT_ZERO","UDC_PLAN_WITHDRAW_EXCEEDS_AVAILABLE","UDC_PLAN_WITHDRAW_FAILED"].indexOf(t)>=0)){e.next=2;break}return e.abrupt("return");case 2:i=this.store.state.userDepositContract.token,o=null!==(a=i.decimals)&&void 0!==a?a:18,c=hr["a"].toUnits(n,o),u="string"===typeof t?yr.t("notifications.withdrawal.failure.descriptions.".concat(t),{amount:c,symbol:i.symbol}):void 0,s=u||yr.t("notifications.withdrawal.failure.description",{amount:c,symbol:i.symbol,message:r}),this.store.commit("notifications/notificationAddOrReplace",{title:yr.t("notifications.withdrawal.failure.title"),description:s,context:L["a"].ERROR,importance:R["a"].HIGH});case 8:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"notifyWithdrawal",value:function(){var e=Br(St.a.mark((function e(t,n){var r,a,i,o,c,u;return St.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=this.store.state.userDepositContract.token,i=null!==(r=a.decimals)&&void 0!==r?r:18,o=hr["a"].toUnits(t,i),c=hr["a"].toUnits(n,i),u={icon:yr.t("notifications.withdrawn.icon"),title:yr.t("notifications.withdrawn.title"),description:yr.t("notifications.withdrawn.description",{plannedAmount:o,withdrawnAmount:c,symbol:a.symbol}),context:L["a"].INFO,importance:R["a"].HIGH},this.usingSubkey&&(u=Dr(Dr({},u),{},{link:yr.t("notifications.withdrawn.link"),dappRoute:Ue["a"].ACCOUNT_WITHDRAWAL})),this.store.commit("notifications/notificationAddOrReplace",u);case 7:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"notifyBalanceProofSend",value:function(){var e=Br(St.a.mark((function e(t,n,r,a){var i,o,c,u;return St.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:o=this.store.state.userDepositContract.token,c=null!==(i=o.decimals)&&void 0!==i?i:18,u=hr["a"].toUnits(r,c),this.store.commit("notifications/notificationAddOrReplace",{title:yr.t("notifications.ms-balance-proof.title"),description:yr.t("notifications.ms-balance-proof.description",{monitoringService:t,partner:n,reward:u,symbol:o.symbol,txHash:a}),context:L["a"].INFO,importance:R["a"].HIGH});case 4:case"end":return e.stop()}}),e,this)})));function t(t,n,r,a){return e.apply(this,arguments)}return t}()},{key:"notifyChannelSettleSuccess",value:function(){var e=Br(St.a.mark((function e(t){var n;return St.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=yr.t("notifications.settlement.success.description",{partner:t}),this.store.commit("notifications/notificationAddOrReplace",{title:yr.t("notifications.settlement.success.title"),description:n,icon:yr.t("notifications.settlement.icon"),context:L["a"].NONE,importance:R["a"].HIGH});case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"notifyChannelSettleFailure",value:function(){var e=Br(St.a.mark((function e(t){return St.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.store.commit("notifications/notificationAddOrReplace",{title:yr.t("notifications.settlement.failure.title"),description:yr.t("notifications.settlement.failure.description",{partner:t}),icon:yr.t("notifications.settlement.icon"),context:L["a"].NONE,importance:R["a"].HIGH});case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"notifyChannelOpenSuccess",value:function(){var e=Br(St.a.mark((function e(t,n,r,a){var i,o,c,u,s,l,p,f,d,b;return St.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:c=null!==(i=null===(o=this.store.state.config)||void 0===o?void 0:o.confirmationBlocks)&&void 0!==i?i:0,u=t+c,s=yr.t("notifications.channel-open.icon"),l="",p="",void 0===r||!0===r?(l=yr.t("notifications.channel-open.success.title"),f=$r(r),p=yr.t("notifications.channel-open.success.description",{partner:a,state:f})):(d=yr.t("notifications.tx-reorged-failure-reason"),l=yr.t("notifications.channel-open.failure.title"),p=yr.t("notifications.channel-open.failure.description",{reason:d})),b={title:l,description:p,icon:s,txHash:n,txConfirmationBlock:u,importance:R["a"].HIGH},this.store.commit("notifications/notificationAddOrReplace",b);case 8:case"end":return e.stop()}}),e,this)})));function t(t,n,r,a){return e.apply(this,arguments)}return t}()},{key:"notifyChannelOpenFailed",value:function(){var e=Br(St.a.mark((function e(t){return St.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.store.commit("notifications/notificationAddOrReplace",{title:yr.t("notifications.channel-open.failure.title"),description:yr.t("notifications.channel-open.failure.description",{reason:t}),icon:yr.t("notifications.channel-open.icon"),importance:R["a"].HIGH});case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"updatePlannedUserDepositWithdrawals",value:function(){var e=Br(St.a.mark((function e(t){return St.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:"udc/withdraw/plan/success"===t.type?!1===t.payload.confirmed?this.store.commit("userDepositContract/clearPlannedWithdrawal"):this.store.commit("userDepositContract/setPlannedWithdrawal",{txHash:t.payload.txHash,txBlock:t.payload.txBlock,amount:t.meta.amount,withdrawBlock:t.payload.block,confirmed:t.payload.confirmed}):"udc/withdraw/success"===t.type&&t.payload.confirmed&&this.store.commit("userDepositContract/clearPlannedWithdrawal");case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getBalance",value:function(){var e=Br(St.a.mark((function e(t){var n;return St.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.getBalance(t);case 2:return n=e.sent,e.abrupt("return",hr["a"].toEth(n));case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getToken",value:function(){var e=Br(St.a.mark((function e(t){var n,r,a,i,o,c,u,s;return St.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=this.raiden,e.prev=1,e.next=4,Promise.all([n.getTokenBalance(t),n.getTokenInfo(t)]);case 4:return r=e.sent,a=Ar(r,2),i=a[0],o=a[1],c=o.decimals,u=o.symbol,s=o.name,e.abrupt("return",{name:s,symbol:u,balance:i,decimals:c,address:t});case 14:return e.prev=14,e.t0=e["catch"](1),e.abrupt("return",null);case 17:case"end":return e.stop()}}),e,this,[[1,14]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"openChannel",value:function(){var e=Br(St.a.mark((function e(t,n,r,a){return St.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.openChannel(t,n,{deposit:r},a);case 2:case"end":return e.stop()}}),e,this)})));function t(t,n,r,a){return e.apply(this,arguments)}return t}()},{key:"closeChannel",value:function(){var e=Br(St.a.mark((function e(t,n){return St.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.closeChannel(t,n);case 2:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"deposit",value:function(){var e=Br(St.a.mark((function e(t,n,r){return St.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.depositChannel(t,n,r);case 2:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"withdraw",value:function(){var e=Br(St.a.mark((function e(t,n,r){return St.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.withdrawChannel(t,n,r);case 2:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"settleChannel",value:function(){var e=Br(St.a.mark((function e(t,n){return St.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.settleChannel(t,n);case 2:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"updateUserDepositContractToken",value:function(){var e=Br(St.a.mark((function e(){var t;return St.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getToken(this._userDepositTokenAddress);case 2:t=e.sent,this.store.commit("userDepositContract/setToken",t);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"fetchAndUpdateTokenData",value:function(){var e=Br(St.a.mark((function e(){var t,n,r=this,a=arguments;return St.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=a.length>0&&void 0!==a[0]?a[0]:Object.values(this.store.state.tokens).map((function(e){return e.address})),t.length){e.next=3;break}return e.abrupt("return");case 3:return n=function(){var e=Br(St.a.mark((function e(t){return St.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",r.getToken(t).then((function(e){e&&r.store.commit("updateTokens",Rr({},e.address,e))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.next=6,fr()(6,t,n);case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"transfer",value:function(){var e=Br(St.a.mark((function e(t,n,r,a,i){var o;return St.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.transfer(t,n,r,{paymentId:a,paths:i});case 2:return o=e.sent,e.next=5,this.raiden.waitTransfer(o);case 5:case"end":return e.stop()}}),e,this)})));function t(t,n,r,a,i){return e.apply(this,arguments)}return t}()},{key:"findRoutes",value:function(){var e=Br(St.a.mark((function e(t,n,r,a){return St.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.findRoutes(t,n,r,{pfs:a});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t,n,r,a){return e.apply(this,arguments)}return t}()},{key:"fetchServices",value:function(){var e=Br(St.a.mark((function e(){return St.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.findPFS();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"directRoute",value:function(){var e=Br(St.a.mark((function e(t,n,r){return St.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.directRoute(t,n,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"mint",value:function(){var e=Br(St.a.mark((function e(t,n){return St.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.mint(t,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"depositToUDC",value:function(){var e=Br(St.a.mark((function e(t,n){return St.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.depositToUDC(t,(function(e){return e.type===N["d"].APPROVED?n():null}));case 2:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"planUDCWithdraw",value:function(){var e=Br(St.a.mark((function e(t){return St.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.raiden.planUDCWithdraw(t));case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getUDCCapacity",value:function(){var e=Br(St.a.mark((function e(){return St.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.raiden.getUDCCapacity());case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getAvailability",value:function(){var e=Br(St.a.mark((function e(t){var n,r;return St.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.raiden.getAvailability(t);case 3:return n=e.sent,r=n.available,e.abrupt("return",r);case 8:e.prev=8,e.t0=e["catch"](0),this.store.commit("updatePresence",Rr({},t,!1));case 11:return e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,this,[[0,8]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"stopAndGetDatabaseDump",value:function(){var e=Br(St.a.mark((function e(){return St.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this._raiden.stop(),e.abrupt("return",this._raiden.dumpDatabase());case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"transferToRaidenAccount",value:function(){var e=Br(St.a.mark((function e(t){return St.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.transferOnchainBalance(this.raiden.address,cr["c"].parseEther(t));case 2:return e.next=4,this.updateBalances();case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"transferToMainAccount",value:function(){var e=Br(St.a.mark((function e(t){var n;return St.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=this.raiden.mainAddress,!n){e.next=6;break}return e.next=4,this.raiden.transferOnchainBalance(n,cr["c"].parseEther(t),{subkey:!0});case 4:return e.next=6,this.updateBalances();case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"transferOnChainTokens",value:function(){var e=Br(St.a.mark((function e(t,n){var r;return St.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=this.raiden.mainAddress,r){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,this.raiden.transferOnchainTokens(t,r,n,{subkey:!0});case 5:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"getRaidenAccountBalances",value:function(){var e=Br(St.a.mark((function e(){var t,n,r,a,i,o,c,u=this;return St.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.raiden,t.mainAddress){e.next=3;break}return e.abrupt("return",[]);case 3:return e.next=5,t.getTokenList();case 5:return n=e.sent,r={},a=function(){var e=Br(St.a.mark((function e(n){return St.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t.getTokenBalance(n,t.address).then((function(e){e.gt(cr["a"].Zero)&&(r[n]={address:n,balance:e})})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.next=10,fr()(6,n,a);case 10:if(i={},Object.keys(r).forEach((function(e){var t=u.store.state.tokens[e];t&&(i[e]=Dr(Dr({},t),r[e]),delete r[e])})),o=function(){var e=Br(St.a.mark((function e(n){return St.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t.getTokenInfo(n).then((function(e){i[n]=Dr(Dr({},e),r[n])})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c=Object.keys(r),!(c.length>0)){e.next=17;break}return e.next=17,fr()(6,c,o);case 17:return e.abrupt("return",Object.values(i));case 18:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"monitorToken",value:function(){var e=Br(St.a.mark((function e(t){return St.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.monitorToken(t);case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getTokenBalance",value:function(){var e=Br(St.a.mark((function e(t,n){var r;return St.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.getTokenBalance(t,n);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"getSuggestedPartners",value:function(){var e=Br(St.a.mark((function e(t){return St.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.suggestPartners(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}],[{key:"createRaiden",value:function(){var e=Br(St.a.mark((function e(t){var r,a,i,o,c,u,s,l,p,f=arguments;return St.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=f.length>1&&void 0!==f[1]?f[1]:0,a=f.length>2?f[2]:void 0,i=f.length>3?f[3]:void 0,o={state:a},"cordova-sqlite"!==Object({VUE_APP_ALLOW_MAINNET:"true",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",VUE_APP_TERMS:"https://github.com/raiden-network/light-client/blob/master/TERMS.md",VUE_APP_CONFIGURATION_URL:"config.production.json",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",VUE_APP_SERVICE_WORKER_DISABLED:"false",BASE_URL:"/"}).VUE_APP_DB_ADAPTER){e.next=12;break}return e.next=7,n.e("chunk-2f161406").then(n.t.bind(null,"09f4",7));case 7:c=e.sent,u=c.default,ur["a"].plugin(u),s=or["a"].getPlatform(),"android"===s?o=Dr(Dr({},o),{},{adapter:"cordova-sqlite",location:"default"}):"ios"===s&&(o=Dr(Dr({},o),{},{adapter:"cordova-sqlite",iosDatabaseLocation:"Library"}));case 12:return e.next=14,Qt["a"].contracts();case 14:return l=e.sent,e.prev=15,e.next=18,N["f"].create(t,r,o,null!==(p=Object({VUE_APP_ALLOW_MAINNET:"true",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",VUE_APP_TERMS:"https://github.com/raiden-network/light-client/blob/master/TERMS.md",VUE_APP_CONFIGURATION_URL:"config.production.json",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",VUE_APP_SERVICE_WORKER_DISABLED:"false",BASE_URL:"/"}).VUE_APP_UDC_ADDRESS)&&void 0!==p?p:l,Dr(Dr(Dr(Dr(Dr({pfsSafetyMargin:1.1},Object({VUE_APP_ALLOW_MAINNET:"true",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",VUE_APP_TERMS:"https://github.com/raiden-network/light-client/blob/master/TERMS.md",VUE_APP_CONFIGURATION_URL:"config.production.json",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",VUE_APP_SERVICE_WORKER_DISABLED:"false",BASE_URL:"/"}).VUE_APP_PFS?{pfsMode:N["e"].onlyAdditional,additionalServices:[Object({VUE_APP_ALLOW_MAINNET:"true",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",VUE_APP_TERMS:"https://github.com/raiden-network/light-client/blob/master/TERMS.md",VUE_APP_CONFIGURATION_URL:"config.production.json",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",VUE_APP_SERVICE_WORKER_DISABLED:"false",BASE_URL:"/"}).VUE_APP_PFS]}:{}),{},{matrixServer:Object({VUE_APP_ALLOW_MAINNET:"true",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",VUE_APP_TERMS:"https://github.com/raiden-network/light-client/blob/master/TERMS.md",VUE_APP_CONFIGURATION_URL:"config.production.json",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",VUE_APP_SERVICE_WORKER_DISABLED:"false",BASE_URL:"/"}).VUE_APP_MATRIX_SERVER,matrixServerLookup:Object({VUE_APP_ALLOW_MAINNET:"true",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",VUE_APP_TERMS:"https://github.com/raiden-network/light-client/blob/master/TERMS.md",VUE_APP_CONFIGURATION_URL:"config.production.json",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",VUE_APP_SERVICE_WORKER_DISABLED:"false",BASE_URL:"/"}).VUE_APP_MATRIX_LIST_URL},Object({VUE_APP_ALLOW_MAINNET:"true",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",VUE_APP_TERMS:"https://github.com/raiden-network/light-client/blob/master/TERMS.md",VUE_APP_CONFIGURATION_URL:"config.production.json",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",VUE_APP_SERVICE_WORKER_DISABLED:"false",BASE_URL:"/"}).VUE_APP_REVEAL_TIMEOUT&&+Object({VUE_APP_ALLOW_MAINNET:"true",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",VUE_APP_TERMS:"https://github.com/raiden-network/light-client/blob/master/TERMS.md",VUE_APP_CONFIGURATION_URL:"config.production.json",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",VUE_APP_SERVICE_WORKER_DISABLED:"false",BASE_URL:"/"}).VUE_APP_REVEAL_TIMEOUT?{revealTimeout:+Object({VUE_APP_ALLOW_MAINNET:"true",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",VUE_APP_TERMS:"https://github.com/raiden-network/light-client/blob/master/TERMS.md",VUE_APP_CONFIGURATION_URL:"config.production.json",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",VUE_APP_SERVICE_WORKER_DISABLED:"false",BASE_URL:"/"}).VUE_APP_REVEAL_TIMEOUT}:void 0),Object({VUE_APP_ALLOW_MAINNET:"true",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",VUE_APP_TERMS:"https://github.com/raiden-network/light-client/blob/master/TERMS.md",VUE_APP_CONFIGURATION_URL:"config.production.json",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",VUE_APP_SERVICE_WORKER_DISABLED:"false",BASE_URL:"/"}).VUE_APP_SETTLE_TIMEOUT&&+Object({VUE_APP_ALLOW_MAINNET:"true",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",VUE_APP_TERMS:"https://github.com/raiden-network/light-client/blob/master/TERMS.md",VUE_APP_CONFIGURATION_URL:"config.production.json",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",VUE_APP_SERVICE_WORKER_DISABLED:"false",BASE_URL:"/"}).VUE_APP_SETTLE_TIMEOUT?{settleTimeout:+Object({VUE_APP_ALLOW_MAINNET:"true",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",VUE_APP_TERMS:"https://github.com/raiden-network/light-client/blob/master/TERMS.md",VUE_APP_CONFIGURATION_URL:"config.production.json",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",VUE_APP_SERVICE_WORKER_DISABLED:"false",BASE_URL:"/"}).VUE_APP_SETTLE_TIMEOUT}:void 0),Object({VUE_APP_ALLOW_MAINNET:"true",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",VUE_APP_TERMS:"https://github.com/raiden-network/light-client/blob/master/TERMS.md",VUE_APP_CONFIGURATION_URL:"config.production.json",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",VUE_APP_SERVICE_WORKER_DISABLED:"false",BASE_URL:"/"}).VUE_APP_CONFIRMATION_BLOCKS&&+Object({VUE_APP_ALLOW_MAINNET:"true",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",VUE_APP_TERMS:"https://github.com/raiden-network/light-client/blob/master/TERMS.md",VUE_APP_CONFIGURATION_URL:"config.production.json",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",VUE_APP_SERVICE_WORKER_DISABLED:"false",BASE_URL:"/"}).VUE_APP_CONFIRMATION_BLOCKS?{confirmationBlocks:+Object({VUE_APP_ALLOW_MAINNET:"true",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",VUE_APP_TERMS:"https://github.com/raiden-network/light-client/blob/master/TERMS.md",VUE_APP_CONFIGURATION_URL:"config.production.json",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",VUE_APP_SERVICE_WORKER_DISABLED:"false",BASE_URL:"/"}).VUE_APP_CONFIRMATION_BLOCKS}:void 0),Object({VUE_APP_ALLOW_MAINNET:"true",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",VUE_APP_TERMS:"https://github.com/raiden-network/light-client/blob/master/TERMS.md",VUE_APP_CONFIGURATION_URL:"config.production.json",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",VUE_APP_SERVICE_WORKER_DISABLED:"false",BASE_URL:"/"}).VUE_APP_EXPIRY_FACTOR&&+Object({VUE_APP_ALLOW_MAINNET:"true",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",VUE_APP_TERMS:"https://github.com/raiden-network/light-client/blob/master/TERMS.md",VUE_APP_CONFIGURATION_URL:"config.production.json",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",VUE_APP_SERVICE_WORKER_DISABLED:"false",BASE_URL:"/"}).VUE_APP_EXPIRY_FACTOR?{expiryFactor:+Object({VUE_APP_ALLOW_MAINNET:"true",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",VUE_APP_TERMS:"https://github.com/raiden-network/light-client/blob/master/TERMS.md",VUE_APP_CONFIGURATION_URL:"config.production.json",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",VUE_APP_SERVICE_WORKER_DISABLED:"false",BASE_URL:"/"}).VUE_APP_EXPIRY_FACTOR}:void 0),i,Object({VUE_APP_ALLOW_MAINNET:"true",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",VUE_APP_TERMS:"https://github.com/raiden-network/light-client/blob/master/TERMS.md",VUE_APP_CONFIGURATION_URL:"config.production.json",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",VUE_APP_SERVICE_WORKER_DISABLED:"false",BASE_URL:"/"}).VUE_APP_SUBKEY_ORIGIN_URL);case 18:return e.abrupt("return",e.sent);case 21:throw e.prev=21,e.t0=e["catch"](15),new Kr(e.t0.message);case 24:case"end":return e.stop()}}),e,null,[[15,21]])})));function t(t){return e.apply(this,arguments)}return t}()}]),e}(),qr=function(e){vr(n,e);var t=Or(n);function n(){return Fr(this,n),t.apply(this,arguments)}return n}(wr(Error)),Kr=function(e){vr(n,e);var t=Or(n);function n(){return Fr(this,n),t.apply(this,arguments)}return n}(wr(Error));function Gr(e,t){e.prototype.$raiden=new Hr(Le,ir)}var Yr,Xr=n("47c8"),Qr=n.n(Xr),Zr=n("b19b");function Jr(e,t,n,r,a,i,o){try{var c=e[i](o),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function zr(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){Jr(i,r,a,o,c,"next",e)}function c(e){Jr(i,r,a,o,c,"throw",e)}o(void 0)}))}}var ea=Qr.a.join(null!==(Yr="/")&&void 0!==Yr?Yr:"/","service-worker.js");function ta(){var e=!!navigator.serviceWorker.controller;e||navigator.serviceWorker.register(ea)}function na(e,t){return ra.apply(this,arguments)}function ra(){return ra=zr(St.a.mark((function e(t,n){return St.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.prototype.$serviceWorkerAssistant=new Zr["a"](Le),"serviceWorker"in navigator&&(window.onload=ta);case 2:case"end":return e.stop()}}),e)}))),ra.apply(this,arguments)}n("8935"),n("8b61"),n("275c");var aa=n("8d28");a["a"].use(aa["a"]);var ia=new aa["a"]({icons:{iconfont:"mdi"},theme:{options:{customProperties:!0},dark:!0,themes:{dark:{notification:"#ea6464",primary:"#28A5C8",secondary:"#0A6E87",pending:"#fdd327",success:"#1dc512",failed:"#ea6464"}}}}),oa=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",{attrs:{dark:""}},[n("install-banner"),n("div",{attrs:{id:"application-wrapper"}},[n("router-view",{attrs:{name:"modal"}}),n("transition",{attrs:{name:"slide"}},[n("router-view",{attrs:{name:"notifications"}})],1),n("div",{attrs:{id:"application-content"}},[n("app-header"),n("v-main",[n("v-container",{staticClass:"application__container fill-height",attrs:{fluid:""}},[n("router-view")],1)],1)],1)],1),e.imprint&&e.terms?n("div",{staticClass:"imprint"},[n("a",{staticClass:"imprint__policy",attrs:{href:e.imprint,target:"_blank"}},[e._v(" "+e._s(e.$t("application.privacy-policy"))+" ")]),n("a",{staticClass:"imprint__terms",attrs:{href:e.terms,target:"_blank"}},[e._v(" "+e._s(e.$t("application.terms"))+" ")])]):e._e(),n("offline-snackbar"),n("version-snackbar"),n("receiving-ongoing-snackbar"),n("notification-snackbar")],1)},ca=[],ua=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"app-header"},[e.showInfoOverlay?r("info-overlay",{on:{"close-overlay":function(t){e.showInfoOverlay=!1}}}):e._e(),r("header-content",{staticClass:"app-header__content",attrs:{"show-network":!e.showTitleOnly},on:{"show-info":function(t){e.showInfoOverlay=!0},"navigate-back":function(t){return e.navigateBack()}}},[r("div",{staticClass:"app-header__content__icons"},[e.showTitleOnly?e._e():r("v-btn",{staticClass:"app-header__content__icons__notifications-button",attrs:{"data-cy":"app-header_content_icons_notifications-button",icon:"",height:"30px",width:"25px"},nativeOn:{click:function(t){return e.notificationPanel()}}},[e.newNotifications?r("v-badge",{attrs:{color:"notification",overlap:"",bordered:"",dot:""}},[r("v-img",{attrs:{height:"30px",width:"25px",src:n("db7b")}})],1):r("v-img",{attrs:{height:"30px",width:"25px",src:n("db7b")}})],1),e.isDisclaimerRoute?e._e():r("header-identicon",{staticClass:"app-header__content__icons__identicon",attrs:{"data-cy":"app-header_content_icons_identicon"},nativeOn:{click:function(t){return e.accountMenu()}}})],1)])],1)},sa=[],la=n("b592"),pa=n("233e"),fa=n("6af0"),da=n("152b");function ba(e){return ba="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ba(e)}function ya(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ha(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ya(Object(n),!0).forEach((function(t){ma(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ya(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ma(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function va(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Oa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ja(e,t,n){return t&&Oa(e.prototype,t),n&&Oa(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ga(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&wa(e,t)}function wa(e,t){return wa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},wa(e,t)}function _a(e){var t=Ta();return function(){var n,r=Sa(e);if(t){var a=Sa(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ka(this,n)}}function ka(e,t){if(t&&("object"===ba(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ea(e)}function Ea(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ta(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Sa(e){return Sa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Sa(e)}var Aa=Object(P["a"])("notifications"),Pa=Aa.mapState,xa=Aa.mapMutations,Na=function(e){ga(n,e);var t=_a(n);function n(){var e;return va(this,n),e=t.apply(this,arguments),e.showInfoOverlay=!1,e}return ja(n,[{key:"isDisclaimerRoute",get:function(){return this.$route.name===Ue["a"].DISCLAIMER}},{key:"showTitleOnly",get:function(){return this.isDisclaimerRoute||!this.isConnected}},{key:"navigateBack",value:function(){this.onBackClicked()}},{key:"notificationPanel",value:function(){this.notificationsViewed(),this.navigateToNotifications(),this.showInfoOverlay=!1}},{key:"accountMenu",value:function(){this.navigateToAccount(),this.showInfoOverlay=!1}}]),n}(Object(et["c"])(da["a"]));Na=Object(ze["f"])([Object(et["a"])({components:{InfoOverlay:fa["a"],HeaderContent:la["a"],HeaderIdenticon:pa["a"]},computed:ha(ha({},Object(P["e"])(["isConnected"])),Pa(["newNotifications"])),methods:ha({},xa(["notificationsViewed"]))})],Na);var Ia=Na,Da=Ia,Ra=(n("727f"),n("4675")),Ca=n("9c46"),Ma=Object(ht["a"])(Da,ua,sa,!1,null,"ea324d9c",null),La=Ma.exports;vt()(Ma,{VBadge:Ra["a"],VBtn:Ca["a"],VImg:Xn["a"]});var Ua=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.visible?n("v-banner",{staticClass:"install-banner",attrs:{color:"#1e1e1e","two-line":""},scopedSlots:e._u([{key:"actions",fn:function(t){var r=t.dismiss;return[n("v-btn",{staticClass:"install-banner__install-button",attrs:{dark:"",text:"",outlined:""},on:{click:e.install}},[e._v(" "+e._s(e.$t("install-banner.install"))+" ")]),n("v-btn",{staticClass:"install-banner__dismiss-button",attrs:{dark:"",text:"",outlined:""},on:{click:r}},[e._v(" "+e._s(e.$t("install-banner.dismiss"))+" ")])]}}],null,!1,3359785919)},[e.$vuetify.breakpoint.mobile?[e._v(" "+e._s(e.$t("install-banner.message-mobile"))+" ")]:[e._v(" "+e._s(e.$t("install-banner.message-desktop"))+" ")]],2):e._e()},Ba=[];function Fa(e){return Fa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fa(e)}function Wa(e,t,n,r,a,i,o){try{var c=e[i](o),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function Va(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){Wa(i,r,a,o,c,"next",e)}function c(e){Wa(i,r,a,o,c,"throw",e)}o(void 0)}))}}function $a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ha(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qa(e,t,n){return t&&Ha(e.prototype,t),n&&Ha(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ka(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&Ga(e,t)}function Ga(e,t){return Ga=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ga(e,t)}function Ya(e){var t=Za();return function(){var n,r=Ja(e);if(t){var a=Ja(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Xa(this,n)}}function Xa(e,t){if(t&&("object"===Fa(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Qa(e)}function Qa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Za(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Ja(e){return Ja=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ja(e)}var za=function(e){Ka(n,e);var t=Ya(n);function n(){var e;return $a(this,n),e=t.apply(this,arguments),e.visible=!1,e.installEvent=void 0,e}return qa(n,[{key:"created",value:function(){window.addEventListener("beforeinstallprompt",this.onBeforeInstallPrompt)}},{key:"onBeforeInstallPrompt",value:function(e){e.preventDefault(),this.installEvent=e,this.visible=!0}},{key:"install",value:function(){var e=Va(St.a.mark((function e(){return St.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.installEvent){e.next=2;break}return e.abrupt("return");case 2:return this.visible=!1,e.next=5,this.installEvent.prompt();case 5:this.installEvent=void 0;case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),n}(et["g"]);za=Object(ze["f"])([et["a"]],za);var ei=za,ti=ei,ni=n("1a6b"),ri=Object(ht["a"])(ti,Ua,Ba,!1,null,null,null),ai=ri.exports;vt()(ri,{VBanner:ni["a"],VBtn:Ca["a"]});var ii=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.isVisible?r("v-snackbar",{staticClass:"notification-snackbar",attrs:{value:e.isVisible,timeout:e.notificationToShow.duration,app:"",rounded:"","max-width":"550px",color:"primary"},on:{input:e.dismiss},scopedSlots:e._u([{key:"action",fn:function(t){var n=t.attrs;return[r("v-btn",e._b({attrs:{"data-cy":"notification-snackbar__dismiss-button",icon:"",left:""},on:{click:function(t){return e.dismiss()}}},"v-btn",n,!1),[r("v-icon",[e._v("mdi-close")])],1)]}}],null,!1,2634841300),model:{value:e.notificationToShow.display,callback:function(t){e.$set(e.notificationToShow,"display",t)},expression:"notificationToShow.display"}},[r("div",{staticClass:"notification-snackbar__area",on:{click:e.open}},[r("img",{attrs:{src:n("4cd4")}}),r("span",{staticClass:"notification-snackbar__area__title"},[e._v(" "+e._s(e.notificationToShow.title)+" ")])])]):e._e()},oi=[];function ci(e){return ci="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ci(e)}function ui(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function si(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ui(Object(n),!0).forEach((function(t){li(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ui(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function li(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function di(e,t,n){return t&&fi(e.prototype,t),n&&fi(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function bi(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&yi(e,t)}function yi(e,t){return yi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},yi(e,t)}function hi(e){var t=Oi();return function(){var n,r=ji(e);if(t){var a=ji(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return mi(this,n)}}function mi(e,t){if(t&&("object"===ci(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return vi(e)}function vi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Oi(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function ji(e){return ji=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ji(e)}var gi=Object(P["a"])("notifications"),wi=gi.mapGetters,_i=gi.mapMutations,ki=function(e){bi(n,e);var t=hi(n);function n(){return pi(this,n),t.apply(this,arguments)}return di(n,[{key:"notificationToShow",get:function(){return this.notificationQueue[0]}},{key:"isVisible",get:function(){return void 0!==this.notificationToShow}},{key:"dismiss",value:function(){this.notificationToShow&&this.setNotificationShown(this.notificationToShow.id)}},{key:"open",value:function(){this.dismiss(),this.navigateToNotifications()}}]),n}(Object(et["c"])(da["a"]));ki=Object(ze["f"])([Object(et["a"])({computed:si({},wi(["notificationQueue"])),methods:si({},_i(["setNotificationShown"]))})],ki);var Ei=ki,Ti=Ei,Si=(n("a2b8"),n("b503")),Ai=n("5dee"),Pi=Object(ht["a"])(Ti,ii,oi,!1,null,"020e2213",null),xi=Pi.exports;vt()(Pi,{VBtn:Ca["a"],VIcon:Si["a"],VSnackbar:Ai["a"]});var Ni=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.offline?n("span",[n("blurred-overlay",{attrs:{show:e.offline,fullscreen:!0}}),n("v-snackbar",{attrs:{timeout:-1,color:"error"},model:{value:e.offline,callback:function(t){e.offline=t},expression:"offline"}},[e._v(" "+e._s(e.$t("general.offline"))+" "),n("v-icon",[e._v("mdi-alert")])],1)],1):e._e()},Ii=[],Di=n("0a08");function Ri(e){return Ri="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ri(e)}function Ci(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Li(e,t,n){return t&&Mi(e.prototype,t),n&&Mi(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ui(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&Bi(e,t)}function Bi(e,t){return Bi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Bi(e,t)}function Fi(e){var t=$i();return function(){var n,r=Hi(e);if(t){var a=Hi(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Wi(this,n)}}function Wi(e,t){if(t&&("object"===Ri(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Vi(e)}function Vi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $i(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Hi(e){return Hi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Hi(e)}var qi=function(e){Ui(n,e);var t=Fi(n);function n(){var e;return Ci(this,n),e=t.apply(this,arguments),e.offline=!1,e}return Li(n,[{key:"handleOnline",value:function(){this.offline=!1}},{key:"handleOffline",value:function(){this.offline=!0}},{key:"mounted",value:function(){this.offline=!navigator.onLine,window.addEventListener("offline",this.handleOffline),window.addEventListener("online",this.handleOnline)}},{key:"beforeDestroy",value:function(){window.removeEventListener("offline",this.handleOffline),window.removeEventListener("online",this.handleOnline)}}]),n}(et["g"]);qi=Object(ze["f"])([Object(et["a"])({components:{BlurredOverlay:Di["a"]}})],qi);var Ki=qi,Gi=Ki,Yi=Object(ht["a"])(Gi,Ni,Ii,!1,null,null,null),Xi=Yi.exports;vt()(Yi,{VIcon:Si["a"],VSnackbar:Ai["a"]});var Qi=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.show?n("transition",{attrs:{name:"delay"}},[n("v-snackbar",{staticClass:"receiving-ongoing-snackbar",attrs:{timeout:"-1",color:"primary"},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[n("span",{staticClass:"receiving-ongoing-snackbar__warning"},[e._v(" "+e._s(e.$t("transfer.receiving-transfer-snackbar"))+" ")])])],1):e._e()},Zi=[];function Ji(e){return Ji="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ji(e)}function zi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function eo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zi(Object(n),!0).forEach((function(t){to(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function to(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function no(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ro(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ao(e,t,n){return t&&ro(e.prototype,t),n&&ro(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function io(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&oo(e,t)}function oo(e,t){return oo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},oo(e,t)}function co(e){var t=lo();return function(){var n,r=po(e);if(t){var a=po(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return uo(this,n)}}function uo(e,t){if(t&&("object"===Ji(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return so(e)}function so(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lo(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function po(e){return po=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},po(e)}var fo=function(e){io(n,e);var t=co(n);function n(){return no(this,n),t.apply(this,arguments)}return ao(n,[{key:"pendingReceivedTransfers",get:function(){return Object.values(this.pendingTransfers).filter((function(e){return"received"===e.direction}))}},{key:"show",get:function(){return Object.keys(this.pendingReceivedTransfers).length>0}}]),n}(et["g"]);fo=Object(ze["f"])([Object(et["a"])({computed:eo({},Object(P["c"])(["pendingTransfers"]))})],fo);var bo=fo,yo=bo,ho=(n("c50f"),Object(ht["a"])(yo,Qi,Zi,!1,null,"4795eb56",null)),mo=ho.exports;vt()(ho,{VSnackbar:Ai["a"]});var vo=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.visible?n("span",[n("blurred-overlay",{attrs:{show:e.blocking,fullscreen:!0}}),n("v-snackbar",{staticClass:"version-snackbar",attrs:{timeout:-1,color:"primary"},model:{value:e.showMessage,callback:function(t){e.showMessage=t},expression:"showMessage"}},[n("v-container",{staticClass:"d-flex align-center py-0"},[n("div",{staticClass:"version-snackbar__message"},[e._v(e._s(e.message))]),n("v-btn",{staticClass:"ml-5",attrs:{dark:"",text:"",loading:e.showProgressSpinner},on:{click:e.update}},[e._v(" "+e._s(e.$t("update.update"))+" ")])],1)],1)],1):e._e()},Oo=[];function jo(e){return jo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jo(e)}function go(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?go(Object(n),!0).forEach((function(t){_o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):go(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ko(e,t,n,r,a,i,o){try{var c=e[i](o),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function Eo(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){ko(i,r,a,o,c,"next",e)}function c(e){ko(i,r,a,o,c,"throw",e)}o(void 0)}))}}function To(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function So(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ao(e,t,n){return t&&So(e.prototype,t),n&&So(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Po(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&xo(e,t)}function xo(e,t){return xo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},xo(e,t)}function No(e){var t=Ro();return function(){var n,r=Co(e);if(t){var a=Co(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Io(this,n)}}function Io(e,t){if(t&&("object"===jo(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Do(e)}function Do(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ro(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Co(e){return Co=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Co(e)}var Mo=Object(P["a"])("versionInformation"),Lo=Mo.mapState,Uo=Mo.mapGetters,Bo=function(e){Po(n,e);var t=No(n);function n(){var e;return To(this,n),e=t.apply(this,arguments),e.showProgressSpinner=!1,e}return Ao(n,[{key:"visible",get:function(){return!this.correctVersionIsLoaded||this.updateIsAvailable||this.updateIsMandatory||this.updateInProgress}},{key:"blocking",get:function(){return!this.correctVersionIsLoaded||this.updateIsMandatory||this.updateInProgress}},{key:"message",get:function(){return this.updateInProgress?this.$t("update.updateInProgress"):this.updateIsMandatory?this.$t("update.updateMandatory"):this.updateIsAvailable?this.$t("update.updateAvailable"):""}},{key:"showMessage",get:function(){return this.message.length>0}},{key:"update",value:function(){var e=Eo(St.a.mark((function e(){return St.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.showProgressSpinner=!0,!this.isConnected){e.next=4;break}return e.next=4,this.$raiden.disconnect();case 4:this.$serviceWorkerAssistant.update();case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onUpdateInProgressChange",value:function(){this.showProgressSpinner=this.updateInProgress}}]),n}(et["g"]);Object(ze["f"])([Object(et["h"])("updateInProgress",{immediate:!0})],Bo.prototype,"onUpdateInProgressChange",null),Bo=Object(ze["f"])([Object(et["a"])({components:{BlurredOverlay:Di["a"]},computed:wo(wo(wo({},Object(P["e"])(["isConnected"])),Lo(["updateIsMandatory","updateInProgress"])),Uo(["correctVersionIsLoaded","updateIsAvailable"]))})],Bo);var Fo=Bo,Wo=Fo,Vo=(n("f726"),n("f56c")),$o=Object(ht["a"])(Wo,vo,Oo,!1,null,"b7210ec8",null),Ho=$o.exports;function qo(e){return qo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qo(e)}function Ko(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Go(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yo(e,t,n){return t&&Go(e.prototype,t),n&&Go(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Xo(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&Qo(e,t)}function Qo(e,t){return Qo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Qo(e,t)}function Zo(e){var t=ec();return function(){var n,r=tc(e);if(t){var a=tc(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Jo(this,n)}}function Jo(e,t){if(t&&("object"===qo(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return zo(e)}function zo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ec(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function tc(e){return tc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},tc(e)}vt()($o,{VBtn:Ca["a"],VContainer:Vo["a"],VSnackbar:Ai["a"]});var nc=function(e){Xo(n,e);var t=Zo(n);function n(){return Ko(this,n),t.apply(this,arguments)}return Yo(n,[{key:"imprint",get:function(){return"https://raiden.network/privacy.html"}},{key:"terms",get:function(){return"https://github.com/raiden-network/light-client/blob/master/TERMS.md"}},{key:"beforeCreate",value:function(){this.$serviceWorkerAssistant.verifyIfCorrectVersionGotLoaded()}},{key:"destroyed",value:function(){this.$raiden.disconnect()}}]),n}(Object(et["c"])(da["a"]));nc=Object(ze["f"])([Object(et["a"])({components:{AppHeader:La,OfflineSnackbar:Xi,VersionSnackbar:Ho,NotificationSnackbar:xi,ReceivingOngoingSnackbar:mo,InstallBanner:ai}})],nc);var rc=nc,ac=rc,ic=(n("6c88"),n("072b")),oc=n("e8f8"),cc=Object(ht["a"])(ac,oa,ca,!1,null,"272248e0",null),uc=cc.exports;vt()(cc,{VApp:ic["a"],VContainer:Vo["a"],VMain:oc["a"]});var sc=n("8aa9");a["a"].config.productionTip=!1,Object(sc["b"])(),a["a"].use(Gr),a["a"].use(p),a["a"].use(na),new a["a"]({vuetify:ia,router:ir,store:Le,i18n:yr,render:function(e){return e(uc)}}).$mount("#app")},d009:function(e,t,n){var r={"./backup_state_info.svg":"1924","./channels_info.svg":"18cb","./open_channel_info.svg":"9662","./select_hub_info.svg":"f496","./transfer_eth_info.svg":"60f8","./transfer_info.svg":"6cb9","./transfer_steps_info.svg":"fb60","./udc_info.svg":"d43a","./withdraw_tokens_info.svg":"68e9"};function a(e){var t=i(e);return n(t)}function i(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=i,e.exports=a,a.id="d009"},d011:function(e,t,n){"use strict";n.d(t,"n",(function(){return h})),n.d(t,"o",(function(){return m})),n.d(t,"p",(function(){return v})),n.d(t,"j",(function(){return O})),n.d(t,"k",(function(){return j})),n.d(t,"g",(function(){return g})),n.d(t,"a",(function(){return _})),n.d(t,"m",(function(){return S})),n.d(t,"b",(function(){return A})),n.d(t,"h",(function(){return P})),n.d(t,"d",(function(){return x})),n.d(t,"l",(function(){return N})),n.d(t,"i",(function(){return I})),n.d(t,"f",(function(){return D})),n.d(t,"c",(function(){return R})),n.d(t,"e",(function(){return C})),n.d(t,"r",(function(){return L})),n.d(t,"q",(function(){return U}));var r,a=n("a91f"),i=n("2111"),o=n("48a3"),c=n.n(o),u=n("ca14");function s(e,t){return b(e)||d(e,t)||p(e,t)||l()}function l(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function p(e,t){if(e){if("string"===typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,c=!1;try{for(n=n.call(e);!(o=(r=n.next()).done);o=!0)if(i.push(r.value),t&&i.length===t)break}catch(u){c=!0,a=u}finally{try{o||null==n["return"]||n["return"]()}finally{if(c)throw a}}return i}}function b(e){if(Array.isArray(e))return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h={PFS:"path_finding",MS:"monitoring"},m=i["j"](c()(h)),v=(r={},y(r,h.PFS,"PATH_FINDING"),y(r,h.MS,"MONITORING"),r),O={disabled:"disabled",auto:"auto",onlyAdditional:"onlyAdditional"},j=i["j"](c()(O)),g=i["p"](u["a"]),w=i["o"](i["u"]({user_id:i["r"],displayname:i["r"],capabilities:i["r"]})),_=w,k=i["o"](i["q"](i["r"],_)),E=function(e){return i["c"](u["a"]).is(Object.keys(e))},T=new i["a"]("AddressMetadataMap",(function(e){return k.is(e)&&E(e)}),(function(e,t){var n=k.validate(e,t);if(Object(a["isLeft"])(n))return n;for(var r=n.right,o={},c=0,l=Object.entries(r);c<l.length;c++){var p=s(l[c],2),f=p[0],d=p[1],b=u["a"].validate(f,t);if(Object(a["isLeft"])(b))return b;o[b.right]=d}return i["s"](o)}),k.encode,k,E),S=i["n"]({address_metadata:T}),A=Object(u["e"])(32),P=i["p"](i["o"](i["i"]([i["u"]({path:g,fee:A}),S]))),x=i["p"](i["o"](i["i"]([i["w"]([i["u"]({route:g}),i["u"]({path:g})]),i["w"]([i["u"]({fee:A}),i["u"]({estimated_fee:A})]),S]))),N=i["o"](i["u"]({result:x})),I=i["o"](i["i"]([i["u"]({error_code:i["m"],errors:i["r"]}),i["n"]({error_details:i["q"](i["r"],i["x"])})])),D=i["o"](i["u"]({address:u["a"],url:i["r"],rtt:i["m"],price:Object(u["l"])(32),token:u["a"],validTill:i["m"]})),R=i["o"](i["u"]({sender:u["a"],receiver:u["a"],amount:Object(u["l"])(32),expiration_block:Object(u["l"])(32),one_to_n_address:u["a"],chain_id:Object(u["l"])(32)})),C=i["o"](i["u"]({last_iou:Object(u["j"])(R)})),M=i["o"](i["u"]({address:u["a"],capacity:Object(u["l"])(32),centrality:i["w"]([i["m"],i["r"]]),score:i["w"]([i["m"],i["r"]]),uptime:i["w"]([i["m"],i["r"]])}),"SuggestedPartner"),L=i["c"](M,"SuggestedPartners"),U=i["o"](i["q"](i["r"],i["m"]),"ServicesValidityMap")},d0dd:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return Ne}));var r=n("36d8"),a=n.n(r),i=(n("40b2"),n("c00b")),o=n("30c0"),c=n("87b8"),u=n("2b89"),s=n("f45b"),l=n("8730"),p=n.n(l),f=n("427e"),d=n.n(f),b=n("ea1b"),y=n.n(b),h=n("1045"),m=n.n(h),v=n("7276"),O=n("384a"),j=n("1ed4"),g=n("1b8f"),w=n("f541"),_=n("9ead"),k=n("cea7"),E=n("cd9d"),T=n("56a6"),S=n("b62a"),A=n("247b"),P=n("1319"),x=n("996a"),N=n("d5a4"),I=n("9c65"),D=n("a157"),R=n("aece"),C=n("c0bf"),M=n("1981"),L=n("ef4a"),U=n("f5be"),B=n("f799"),F=n("b8ff"),W=n("8120"),V=n("5bbb"),$=n("2b5b"),H=n("de7d"),q=n("74e4"),K=n("50e7"),G=n("8089"),Y=n("db2c5"),X=n("6c61"),Q=n("eed9"),Z=n("d011"),J=n("358d"),z=n("83ee"),ee=n("1a78"),te=n("59ec"),ne=n("d890"),re=n("05eb"),ae=n("f2df"),ie=n("d276"),oe=n("46f7"),ce=n("ee6c"),ue=n("1b23"),se=n("325b"),le=n("ca14"),pe=n("bf6c");function fe(e){return we(e)||ye(e)||Oe(e)||ve()}function de(e){return he(e)||ye(e)||Oe(e)||be()}function be(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ye(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function he(e){if(Array.isArray(e))return je(e)}function me(e,t){return we(e)||ge(e,t)||Oe(e,t)||ve()}function ve(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Oe(e,t){if(e){if("string"===typeof e)return je(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?je(e,t):void 0}}function je(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ge(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,c=!1;try{for(n=n.call(e);!(o=(r=n.next()).done);o=!0)if(i.push(r.value),t&&i.length===t)break}catch(u){c=!0,a=u}finally{try{o||null==n["return"]||n["return"]()}finally{if(c)throw a}}return i}}function we(e){if(Array.isArray(e))return e}function _e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(n),!0).forEach((function(t){Ee(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Te(e,t,n,r,a,i,o){try{var c=e[i](o),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function Se(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){Te(i,r,a,o,c,"next",e)}function c(e){Te(i,r,a,o,c,"throw",e)}o(void 0)}))}}function Ae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xe(e,t,n){return t&&Pe(e.prototype,t),n&&Pe(e,n),e}var Ne=function(){function t(e,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object(K["a"])(),o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:X["a"];Ae(this,t),this.deps=n,this.epic=i,this.action$=this.deps.latest$.pipe(Object(se["g"])("action"),Object(A["a"])(1)),this.state$=this.deps.latest$.pipe(Object(se["g"])("state")),this.channels$=this.state$.pipe(Object(se["g"])("channels"),Object(P["a"])(G["l"])),this.events$=this.action$.pipe(Object(x["a"])(Object(ie["e"])(U["b"]))),this.transfers$=Object(G["h"])(this.state$,this.deps.db),this.config$=this.deps.config$,this.blockTime$=this.deps.latest$.pipe(Object(se["g"])("blockTime")),this.synced=Object(G["j"])(this.action$),this.getTokenInfo=Object(G["k"])(this.deps),this.resolveName=this.deps.provider.resolveName.bind(this.deps.provider),this.userDepositTokenAddress=d()(Se(a.a.mark((function e(){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",r.deps.userDepositContract.callStatic.token());case 1:case"end":return e.stop()}}),e)})))),n.provider.resetEventsBlock(e.blockNumber+1);var c=!(null===globalThis||void 0===globalThis||!globalThis.location),u=Object(j["createLogger"])(ke({predicate:function(){return r.log.getLevel()<=m.a.levels.INFO},logger:this.log,level:{prevState:!1,action:"info",error:"error",nextState:"debug"}},c?{}:{colors:!1}));this.epicMiddleware=Object(g["a"])({dependencies:n});var s=Object(Y["a"])(n.db);this.store=Object(v["createStore"])(o,e,Object(O["composeWithDevTools"])(Object(v["applyMiddleware"])(u,s,this.epicMiddleware))),n.config$.subscribe((function(e){return r.config=e})),Object(K["b"])(Object(w["a"])(Object(U["d"])({})),Object(w["a"])(this.store.getState()),n).subscribe((function(e){return n.latest$.next(e)}))}return xe(t,[{key:"start",value:function(){var n=Se(a.a.mark((function n(){var r,i=this;return a.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return Object(ae["a"])(this.epicMiddleware,ce["b"].RDN_ALREADY_STARTED,this.log.info),this.log.info("Starting Raiden Light-Client",{prevBlockNumber:this.state.blockNumber,address:this.address,TokenNetworkRegistry:this.deps.contractsInfo.TokenNetworkRegistry.address,network:{name:this.deps.network.name,chainId:this.deps.network.chainId},"raiden-ts":t.version,"raiden-contracts":t.contractVersion,config:this.config,versions:null===(r=e)||void 0===r?void 0:r.versions}),this.deps.latest$.subscribe({complete:function(){return i.epicMiddleware=null}}),this.epicMiddleware.run(this.epic),this.epicMiddleware=void 0,this.store.dispatch(Object(U["f"])()),n.next=8,this.synced;case 8:case"end":return n.stop()}}),n,this)})));function r(){return n.apply(this,arguments)}return r}()},{key:"started",get:function(){if(!this.epicMiddleware)return void 0===this.epicMiddleware}},{key:"stop",value:function(){var e=Se(a.a.mark((function e(){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.started&&this.store.dispatch(Object(U["e"])({reason:$["g"].STOP})),void 0===this.started){e.next=4;break}return e.next=4,Object(_["a"])(this.deps.db.busy$,{defaultValue:void 0});case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"log",get:function(){return this.deps.log}},{key:"state",get:function(){return this.store.getState()}},{key:"address",get:function(){return this.deps.address}},{key:"mainAddress",get:function(){var e;return null===(e=this.deps.main)||void 0===e?void 0:e.address}},{key:"network",get:function(){return this.deps.network}},{key:"getBlockNumber",value:function(){var e=Se(a.a.mark((function e(){var t;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.deps.provider.blockNumber,!(t&&t>=this.deps.contractsInfo.TokenNetworkRegistry.block_number)){e.next=5;break}return e.abrupt("return",t);case 5:return e.next=7,this.deps.provider.getBlockNumber();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"contractsInfo",get:function(){return this.deps.contractsInfo}},{key:"updateConfig",value:function(e){"mediationFees"in e&&this.deps.mediationFeeCalculator.decodeConfig(e.mediationFees,this.deps.defaultConfig.mediationFees),this.store.dispatch(Object(U["d"])(Object(le["n"])(V["a"],e)))}},{key:"dumpDatabase",value:function(){var e=Se(a.a.mark((function e(){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(void 0===this.started){e.next=3;break}return e.next=3,Object(_["a"])(this.deps.db.busy$,{defaultValue:void 0});case 3:return e.abrupt("return",Object(q["b"])(this.deps.db));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getBalance",value:function(e){var t;return e=null!==(t=e)&&void 0!==t?t:Object(G["a"])(this.deps,this.config.subkey).address,Object(ae["a"])(le["a"].is(e),[ce["b"].DTA_INVALID_ADDRESS,{address:e}],this.log.info),this.deps.provider.getBalance(e)}},{key:"getTokenBalance",value:function(){var e=Se(a.a.mark((function e(t,n){var r,i;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=null!==(r=n)&&void 0!==r?r:Object(G["a"])(this.deps,this.config.subkey).address,Object(ae["a"])(le["a"].is(n),[ce["b"].DTA_INVALID_ADDRESS,{address:n}],this.log.info),Object(ae["a"])(le["a"].is(t),[ce["b"].DTA_INVALID_ADDRESS,{token:t}],this.log.info),i=this.deps.getTokenContract(t),e.abrupt("return",i.callStatic.balanceOf(n));case 5:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"getTokenList",value:function(){var e=Se(a.a.mark((function e(){var t=this;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=_["a"],e.t1=ue["c"],e.t2=this.deps.provider,e.t3=ke,e.t4=ke({},this.deps.registryContract.filters.TokenNetworkCreated(null,null)),e.t5={},e.t6=this.deps.contractsInfo.TokenNetworkRegistry.block_number,e.next=9,this.getBlockNumber();case 9:return e.t7=e.sent,e.t8={fromBlock:e.t6,toBlock:e.t7},e.t9=(0,e.t3)(e.t4,e.t5,e.t8),e.t10=(0,e.t1)(e.t2,e.t9).pipe(Object(P["a"])((function(e){return t.deps.registryContract.interface.parseLog(e)})),Object(x["a"])((function(e){return!!e.args["token_address"]})),Object(P["a"])((function(e){return e.args["token_address"]})),Object(N["a"])()),e.next=15,(0,e.t0)(e.t10);case 15:return e.abrupt("return",e.sent);case 16:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"monitorToken",value:function(){var e=Se(a.a.mark((function e(t){var n;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(Object(ae["a"])(le["a"].is(t),[ce["b"].DTA_INVALID_ADDRESS,{token:t}],this.log.info),n=this.state.tokens[t],!n){e.next=4;break}return e.abrupt("return",n);case 4:return e.next=6,this.deps.registryContract.token_to_token_networks(t);case 6:return n=e.sent,Object(ae["a"])(n&&n!==o["a"],ce["b"].RDN_UNKNOWN_TOKEN_NETWORK,this.log.info),this.store.dispatch(Object(B["tokenMonitored"])({token:t,tokenNetwork:n,fromBlock:this.deps.contractsInfo.TokenNetworkRegistry.block_number})),e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"openChannel",value:function(){var e=Se(a.a.mark((function e(t,n){var r,i,o,c,u,s,l,p,f,d,b,y,h,m,v,O=this,j=arguments;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=j.length>2&&void 0!==j[2]?j[2]:{},o=j.length>3?j[3]:void 0,Object(ae["a"])(le["a"].is(t),[ce["b"].DTA_INVALID_ADDRESS,{token:t}],this.log.info),Object(ae["a"])(le["a"].is(n),[ce["b"].DTA_INVALID_ADDRESS,{partner:n}],this.log.info),e.next=6,this.monitorToken(t);case 6:return c=e.sent,u=i.settleTimeout?Object(le["n"])(Object(le["l"])(4),i.settleTimeout,ce["b"].DTA_INVALID_TIMEOUT,this.log.info).toNumber():void 0,s=i.deposit?Object(le["n"])(Object(le["l"])(32),i.deposit,ce["b"].DTA_INVALID_DEPOSIT,this.log.info):void 0,l=null===(r=i.confirmConfirmation)||void 0===r||r,p={tokenNetwork:c,partner:n},f=Object(ie["a"])(B["channelOpen"],p,this.action$).then((function(e){var t=e.txHash;return null===o||void 0===o||o({type:re["a"].OPENED,payload:{txHash:t}}),t})),d=Object(ie["a"])(B["channelOpen"],p,this.action$,!0).then((function(e){var t=e.txHash;return null===o||void 0===o||o({type:re["a"].CONFIRMED,payload:{txHash:t}}),t})),null!==s&&void 0!==s&&s.gt(0)&&(b=Object(ie["a"])(B["channelDeposit"],p,this.action$.pipe(Object(x["a"])((function(e){return!B["channelDeposit"].success.is(e)||e.payload.participant===O.address}))),!0).then((function(e){var t=e.txHash;return null===o||void 0===o||o({type:re["a"].DEPOSITED,payload:{txHash:t}}),t}))),this.store.dispatch(B["channelOpen"].request(ke(ke({},i),{},{settleTimeout:u,deposit:s}),p)),e.next=17,Promise.all([f,d,b]);case 17:if(y=e.sent,h=me(y,3),m=h[1],v=h[2],!l){e.next=30;break}return e.t0=G["n"],e.next=25,this.deps.provider.getTransactionReceipt(null!==v&&void 0!==v?v:m);case 25:return e.t1=e.sent,e.t2=this.deps,e.t3=2*this.config.confirmationBlocks,e.next=30,(0,e.t0)(e.t1,e.t2,e.t3);case 30:return e.abrupt("return",m);case 31:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"depositChannel",value:function(){var e=Se(a.a.mark((function e(t,n,r){var i,o,c,u,s,l,p,f,d,b=this,y=arguments;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=y.length>3&&void 0!==y[3]?y[3]:{},o=i.confirmConfirmation,c=void 0===o||o,Object(ae["a"])(le["a"].is(t),[ce["b"].DTA_INVALID_ADDRESS,{token:t}],this.log.info),Object(ae["a"])(le["a"].is(n),[ce["b"].DTA_INVALID_ADDRESS,{partner:n}],this.log.info),u=this.state,s=u.tokens[t],Object(ae["a"])(s,ce["b"].RDN_UNKNOWN_TOKEN_NETWORK,this.log.info),l=Object(le["n"])(Object(le["l"])(32),r,ce["b"].DTA_INVALID_DEPOSIT,this.log.info),p={tokenNetwork:s,partner:n},f=Object(ie["a"])(B["channelDeposit"],p,this.action$.pipe(Object(x["a"])((function(e){return!B["channelDeposit"].success.is(e)||e.payload.participant===b.address}))),!0).then((function(e){var t=e.txHash;return t})),this.store.dispatch(B["channelDeposit"].request({deposit:l},p)),e.next=12,f;case 12:if(d=e.sent,!c){e.next=22;break}return e.t0=G["n"],e.next=17,this.deps.provider.getTransactionReceipt(d);case 17:return e.t1=e.sent,e.t2=this.deps,e.t3=2*this.config.confirmationBlocks,e.next=22,(0,e.t0)(e.t1,e.t2,e.t3);case 22:return e.abrupt("return",d);case 23:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"closeChannel",value:function(){var e=Se(a.a.mark((function e(t,n){var r,i,o,c,u,s,l,p,f,d;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return Object(ae["a"])(le["a"].is(t),[ce["b"].DTA_INVALID_ADDRESS,{token:t}],this.log.info),Object(ae["a"])(le["a"].is(n),[ce["b"].DTA_INVALID_ADDRESS,{partner:n}],this.log.info),r=this.state,i=r.tokens[t],Object(ae["a"])(i,ce["b"].RDN_UNKNOWN_TOKEN_NETWORK,this.log.info),e.prev=5,o=this.state.channels[Object(W["b"])({tokenNetwork:i,partner:n})],Object(ae["a"])(o,"channel not found"),c=Object(W["a"])(o),u=c.ownTotalWithdrawable,s=this.state.blockNumber+this.config.revealTimeout+this.config.confirmationBlocks,l={direction:ee["a"].SENT,tokenNetwork:i,partner:n,totalWithdraw:u,expiration:s},p=Object(ie["a"])(z["withdraw"],l,this.action$,!0).then((function(e){var t=e.txHash;return t})),this.store.dispatch(Object(z["withdrawResolve"])({coopSettle:!0},l)),e.next=15,p;case 15:return e.abrupt("return",e.sent);case 18:e.prev=18,e.t0=e["catch"](5),this.log.info("Could not settle cooperatively, performing uncooperative close",e.t0);case 21:return f={tokenNetwork:i,partner:n},d=Object(ie["a"])(B["channelClose"],f,this.action$,!0).then((function(e){var t=e.txHash;return t})),this.store.dispatch(B["channelClose"].request(void 0,f)),e.abrupt("return",d);case 25:case"end":return e.stop()}}),e,this,[[5,18]])})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"settleChannel",value:function(){var e=Se(a.a.mark((function e(t,n){var r,i,o,c;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return Object(ae["a"])(le["a"].is(t),[ce["b"].DTA_INVALID_ADDRESS,{token:t}],this.log.info),Object(ae["a"])(le["a"].is(n),[ce["b"].DTA_INVALID_ADDRESS,{partner:n}],this.log.info),r=this.state,i=r.tokens[t],Object(ae["a"])(i,ce["b"].RDN_UNKNOWN_TOKEN_NETWORK,this.log.info),Object(ae["a"])(!this.config.autoSettle,ce["b"].CNL_SETTLE_AUTO_ENABLED,this.log.info),o={tokenNetwork:i,partner:n},e.next=9,Object(_["a"])(Object(G["m"])(this.state$,o));case 9:return c=Object(ie["a"])(B["channelSettle"],o,this.action$,!0).then((function(e){var t=e.txHash;return t})),this.store.dispatch(B["channelSettle"].request(void 0,o)),e.abrupt("return",c);case 12:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"getAvailability",value:function(){var e=Se(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return Object(ae["a"])(le["a"].is(t),[ce["b"].DTA_INVALID_ADDRESS,{address:t}],this.log.info),n={address:t},r=Object(ie["a"])(ne["matrixPresence"],n,this.action$),this.store.dispatch(ne["matrixPresence"].request(void 0,n)),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"transfer",value:function(){var e=Se(a.a.mark((function e(t,n,r){var i,o,c,u,s,l,p,f,d,b=arguments;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=b.length>3&&void 0!==b[3]?b[3]:{},Object(ae["a"])(le["a"].is(t),[ce["b"].DTA_INVALID_ADDRESS,{token:t}],this.log.info),Object(ae["a"])(le["a"].is(n),[ce["b"].DTA_INVALID_ADDRESS,{target:n}],this.log.info),o=this.state.tokens[t],Object(ae["a"])(o,ce["b"].RDN_UNKNOWN_TOKEN_NETWORK,this.log.info),c=Object(le["n"])(Object(le["l"])(32),r,ce["b"].DTA_INVALID_AMOUNT,this.log.info),u=void 0!==i.paymentId?Object(le["n"])(Object(le["l"])(8),i.paymentId,ce["b"].DTA_INVALID_PAYMENT_ID,this.log.info):Object(te["h"])(),s=i.paths&&Object(le["n"])(Z["d"],i.paths,ce["b"].DTA_INVALID_PATH,this.log.info),l=i.pfs&&Object(le["n"])(Z["f"],i.pfs,ce["b"].DTA_INVALID_PFS,this.log.info),Object(ae["a"])(void 0===i.secret||le["h"].is(i.secret),ce["b"].RDN_INVALID_SECRET,this.log.info),Object(ae["a"])(void 0===i.secrethash||le["c"].is(i.secrethash),ce["b"].RDN_INVALID_SECRETHASH,this.log.info),p=i.secret||(i.secrethash?void 0:Object(te["i"])()),f=i.secrethash||Object(te["e"])(p),Object(ae["a"])(!p||Object(te["e"])(p)===f,ce["b"].RDN_SECRET_SECRETHASH_MISMATCH,this.log.info),d=Object(k["a"])(this.action$.pipe(Object(x["a"])(Object(ie["e"])([z["transferSigned"],z["transfer"].failure])),Object(x["a"])((function(e){var t=e.meta;return t.direction===ee["a"].SENT&&t.secrethash===f})),Object(P["a"])((function(e){if(z["transfer"].failure.is(e))throw e.payload;return Object(te["n"])(e.meta)})))),this.store.dispatch(z["transfer"].request({tokenNetwork:o,target:n,value:c,paymentId:u,secret:p,resolved:!1,paths:s,pfs:l,lockTimeout:i.lockTimeout,encryptSecret:i.encryptSecret},{secrethash:f,direction:ee["a"].SENT})),e.abrupt("return",d);case 17:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"waitTransfer",value:function(){var e=Se(a.a.mark((function e(t){var n,r,i,o,c,u,s;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=Object(te["o"])(t),i=r.direction,o=r.secrethash,c=this.state.transfers[t],c){e.next=14;break}return e.prev=3,e.t0=le["n"],e.t1=ee["e"],e.next=8,this.deps.db.get(t);case 8:e.t2=e.sent,c=(0,e.t0)(e.t1,e.t2),e.next=14;break;case 12:e.prev=12,e.t3=e["catch"](3);case 14:if(Object(ae["a"])(c,ce["b"].RDN_UNKNOWN_TRANSFER,this.log.info),u=Object(te["k"])(c),!u.completed){e.next=22;break}if(!u.success){e.next=21;break}return e.abrupt("return",u);case 21:throw new ce["c"](ce["b"].XFER_ALREADY_COMPLETED,{status:u.status});case 22:return e.next=24,Object(ie["a"])(z["transfer"],{secrethash:o,direction:i},this.action$);case 24:return e.next=26,Object(k["a"])(this.state$.pipe(Object(I["a"])("transfers",t),Object(x["a"])((function(e){return!!e.unlockProcessed}))));case 26:return s=e.sent,this.log.info("Transfer successful",{key:t,partner:s.partner,initiator:s.transfer.initiator,target:s.transfer.target,fee:s.fee.toString(),lockAmount:s.transfer.lock.amount.toString(),targetReceived:null===(n=s.secretRequest)||void 0===n?void 0:n.amount.toString(),transferTime:s.unlockProcessed.ts-s.transfer.ts}),e.abrupt("return",Object(te["k"])(s));case 29:case"end":return e.stop()}}),e,this,[[3,12]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"findRoutes",value:function(){var e=Se(a.a.mark((function e(t,n,r){var i,o,c,u,s,l,p=arguments;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=p.length>3&&void 0!==p[3]?p[3]:{},Object(ae["a"])(le["a"].is(t),[ce["b"].DTA_INVALID_ADDRESS,{token:t}],this.log.info),Object(ae["a"])(le["a"].is(n),[ce["b"].DTA_INVALID_ADDRESS,{target:n}],this.log.info),o=this.state.tokens[t],Object(ae["a"])(o,ce["b"].RDN_UNKNOWN_TOKEN_NETWORK,this.log.info),c=Object(le["n"])(Object(le["l"])(32),r),u=i.pfs?Object(le["n"])(Z["f"],i.pfs):void 0,s={tokenNetwork:o,target:n,value:c},l=Object(ie["a"])(Q["pathFind"],s,this.action$).then((function(e){var t=e.paths;return t})),this.store.dispatch(Q["pathFind"].request({pfs:u},s)),e.abrupt("return",l);case 11:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"directRoute",value:function(){var e=Se(a.a.mark((function e(t,n,r){var i,o,c,u;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return Object(ae["a"])(le["a"].is(t),[ce["b"].DTA_INVALID_ADDRESS,{token:t}],this.log.info),Object(ae["a"])(le["a"].is(n),[ce["b"].DTA_INVALID_ADDRESS,{target:n}],this.log.info),i=this.state.tokens[t],Object(ae["a"])(i,ce["b"].RDN_UNKNOWN_TOKEN_NETWORK,this.log.info),o=Object(le["n"])(Object(le["l"])(32),r),c={tokenNetwork:i,target:n,value:o},u=Object(ie["a"])(Q["pathFind"],c,this.action$).then((function(e){var t=e.paths;return t}),(function(){})),this.store.dispatch(Q["pathFind"].request({pfs:null},c)),e.abrupt("return",u);case 9:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"findPFS",value:function(){var e=Se(a.a.mark((function e(){var t;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return Object(ae["a"])(this.config.pfsMode!==Z["j"].disabled,ce["b"].PFS_DISABLED,this.log.info),e.next=3,this.synced;case 3:return t=de(this.config.additionalServices),this.config.pfsMode===Z["j"].auto&&t.push.apply(t,de(Object.keys(this.state.services))),e.abrupt("return",Object(_["a"])(Object(J["e"])(t,this.deps)));case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"mint",value:function(){var e=Se(a.a.mark((function e(t,n){var r,i,o,c,u,s,l,p,f,d,b,y=arguments;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=y.length>2&&void 0!==y[2]?y[2]:{},i=r.to,Object(ae["a"])(le["a"].is(t),[ce["b"].DTA_INVALID_ADDRESS,{token:t}],this.log.info),Object(ae["a"])(1!==this.deps.network.chainId,ce["b"].RDN_MINT_MAINNET,this.log.info),o=Object(G["a"])(this.deps,this.config.subkey),c=o.signer,u=o.address,s=H["a"].connect(t,c),l=null!==i&&void 0!==i?i:u,Object(ae["a"])(le["a"].is(l),[ce["b"].DTA_INVALID_ADDRESS,{beneficiary:l}],this.log.info),p=Object(le["n"])(Object(le["l"])(32),n,ce["b"].DTA_INVALID_AMOUNT),e.next=10,Object(_["a"])(Object(W["f"])(s,"mintFor",[p,l],this.deps,{error:ce["b"].RDN_MINT_FAILED}));case 10:return f=e.sent,d=me(f,2),b=d[1],e.next=15,Object(G["n"])(b,this.deps,1);case 15:return e.abrupt("return",b.transactionHash);case 16:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"registerToken",value:function(){var e=Se(a.a.mark((function e(t){var n,r,i,o,u,s,l,p,f=arguments;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=f.length>1&&void 0!==f[1]?f[1]:c["b"],r=f.length>2&&void 0!==f[2]?f[2]:c["b"],Object(ae["a"])(le["a"].is(t),[ce["b"].DTA_INVALID_ADDRESS,{token:t}],this.log.info),Object(ae["a"])(1!==this.deps.network.chainId,ce["b"].RDN_REGISTER_TOKEN_MAINNET,this.log.info),i=Object(G["a"])(this.deps,this.config.subkey),o=i.signer,u=Object(G["c"])(this.deps.registryContract,o),e.next=8,this.monitorToken(t).then((function(e){throw new ce["c"](ce["b"].RDN_REGISTER_TOKEN_REGISTERED,{tokenNetwork:e})}),(function(){}));case 8:return e.next=10,Object(_["a"])(Object(W["f"])(u,"createERC20TokenNetwork",[t,n,r],this.deps,{error:ce["b"].RDN_REGISTER_TOKEN_FAILED}));case 10:return s=e.sent,l=me(s,2),p=l[1],e.next=15,Object(G["n"])(p,this.deps);case 15:return e.next=17,this.monitorToken(t);case 17:return e.abrupt("return",e.sent);case 18:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getUDCCapacity",value:function(){var e=Se(a.a.mark((function e(){var t,n,r;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(G["g"])(this.deps.latest$);case 2:return t=e.sent,n=this.state.blockNumber,r=Object.values(this.state.iou).reduce((function(e,t){return[].concat(de(e),de(Object.values(t).filter((function(e){return e.expiration_block.gte(n)}))))}),[]).reduce((function(e,t){return e.add(t.amount)}),c["h"]),e.abrupt("return",t.sub(r));case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getUDCTotalDeposit",value:function(){var e=Se(a.a.mark((function e(){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(k["a"])(this.deps.latest$.pipe(Object(I["a"])("udcDeposit","totalDeposit"),Object(x["a"])((function(e){return!!e&&e.lt(c["b"])})))));case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"depositToUDC",value:function(){var e=Se(a.a.mark((function e(t,n){var r,i,o,u,s,l,p,f;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=Object(le["n"])(Object(le["l"])(32),t,ce["b"].DTA_INVALID_DEPOSIT,this.log.info),Object(ae["a"])(r.gt(c["h"]),ce["b"].DTA_NON_POSITIVE_NUMBER,this.log.info),e.next=4,this.deps.userDepositContract.callStatic.total_deposit(this.address);case 4:return i=e.sent,o={totalDeposit:i.add(r)},u=Object(ie["a"])(Q["udcDeposit"],o,this.action$,!1).then((function(e){var t=e.txHash;return null===n||void 0===n?void 0:n({type:re["a"].DEPOSITED,payload:{txHash:t}})})),this.store.dispatch(Q["udcDeposit"].request({deposit:r},o)),s=Object(ie["a"])(Q["udcDeposit"],o,this.action$,!0).then((function(e){var t=e.txHash;return null===n||void 0===n||n({type:re["a"].CONFIRMED,payload:{txHash:t}}),t})),e.next=11,Promise.all([u,s]);case 11:return l=e.sent,p=me(l,2),f=p[1],e.abrupt("return",f);case 15:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"transferOnchainBalance",value:function(){var e=Se(a.a.mark((function e(t){var n,r,o,u,s,l,p,f,d,b,y,h,m,v,O=arguments;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=O.length>1&&void 0!==O[1]?O[1]:c["b"],r=O.length>2&&void 0!==O[2]?O[2]:{},o=r.subkey,u=r.gasPrice,Object(ae["a"])(le["a"].is(t),[ce["b"].DTA_INVALID_ADDRESS,{to:t}],this.log.info),s=Object(G["a"])(this.deps,null!==o&&void 0!==o?o:this.config.subkey),l=s.signer,p=s.address,!u){e.next=8;break}e.t0=i["a"].from(u),e.next=11;break;case 8:return e.next=10,this.deps.provider.getGasPrice();case 10:e.t0=e.sent;case 11:return f=e.t0,d=i["a"].from(21e3),e.next=15,this.getBalance(p);case 15:return b=e.sent,y=b.sub(f.mul(d)),Object(ae["a"])(y.gt(c["h"]),[ce["b"].RDN_INSUFFICIENT_BALANCE,{transferable:y.toString()}],this.log.info),h=y.lte(n)?y:i["a"].from(n),e.next=21,l.sendTransaction({to:t,value:h,gasPrice:f,gasLimit:d});case 21:return m=e.sent,e.next=24,m.wait();case 24:return v=e.sent,Object(ae["a"])(v.status,ce["b"].RDN_TRANSFER_ONCHAIN_BALANCE_FAILED,this.log.info),e.abrupt("return",m.hash);case 27:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"transferOnchainTokens",value:function(){var e=Se(a.a.mark((function e(t,n){var r,o,u,s,l,p,f,d,b,y,h,m,v=arguments;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=v.length>2&&void 0!==v[2]?v[2]:c["b"],o=v.length>3&&void 0!==v[3]?v[3]:{},u=o.subkey,Object(ae["a"])(le["a"].is(t),[ce["b"].DTA_INVALID_ADDRESS,{token:t}],this.log.info),Object(ae["a"])(le["a"].is(n),[ce["b"].DTA_INVALID_ADDRESS,{to:n}],this.log.info),s=Object(G["a"])(this.deps,null!==u&&void 0!==u?u:this.config.subkey),l=s.signer,p=s.address,f=Object(G["c"])(this.deps.getTokenContract(t),l),e.next=8,this.getTokenBalance(t,p);case 8:return d=e.sent,b=d.lte(r)?d:i["a"].from(r),e.next=12,Object(_["a"])(Object(W["f"])(f,"transfer",[n,b],this.deps,{error:ce["b"].RDN_TRANSFER_ONCHAIN_TOKENS_FAILED}));case 12:return y=e.sent,h=me(y,2),m=h[1],e.abrupt("return",m.transactionHash);case 16:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"getUDCWithdrawPlan",value:function(){var e=Se(a.a.mark((function e(){var t;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.deps.userDepositContract.withdraw_plans(this.address);case 2:if(t=e.sent,!t.withdraw_block.isZero()){e.next=5;break}return e.abrupt("return");case 5:return e.abrupt("return",{amount:t.amount,block:t.withdraw_block.toNumber(),ready:t.withdraw_block.lte(this.state.blockNumber)});case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"planUDCWithdraw",value:function(){var e=Se(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={amount:Object(le["n"])(Object(le["l"])(32),t,ce["b"].DTA_INVALID_AMOUNT,this.log.error)},r=Object(ie["a"])(Q["udcWithdrawPlan"],n,this.action$,!0).then((function(e){var t=e.txHash;return t})),this.store.dispatch(Q["udcWithdrawPlan"].request(void 0,n)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"withdrawFromUDC",value:function(){var e=Se(a.a.mark((function e(t,n){var r,i,o;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return Object(ae["a"])(!this.config.autoUDCWithdraw,ce["b"].UDC_WITHDRAW_AUTO_ENABLED,this.log.warn),e.next=3,this.getUDCWithdrawPlan();case 3:if(r=e.sent,Object(ae["a"])(r,ce["b"].UDC_WITHDRAW_NO_PLAN,this.log.warn),t?Object(ae["a"])(r.amount.gte(t),ce["b"].UDC_WITHDRAW_TOO_LARGE,this.log.warn):t=r.amount,i={amount:Object(le["n"])(Object(le["l"])(32),t,ce["b"].DTA_INVALID_AMOUNT,this.log.error)},r.ready){e.next=10;break}return e.next=10,Object(k["a"])(this.state$.pipe(Object(se["g"])("blockNumber"),Object(x["a"])((function(e){return e>=r.block}))));case 10:return o=Object(ie["a"])(Q["udcWithdraw"],i,this.action$,!0).then((function(e){var t=e.txHash;return t})),this.store.dispatch(Q["udcWithdraw"].request(n,i)),e.abrupt("return",o);case 13:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"withdrawChannel",value:function(){var e=Se(a.a.mark((function e(t,n,r){var i,o,c,u,s,l,p,f,d,b;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return Object(ae["a"])(le["a"].is(t),[ce["b"].DTA_INVALID_ADDRESS,{token:t}],this.log.info),Object(ae["a"])(le["a"].is(n),[ce["b"].DTA_INVALID_ADDRESS,{partner:n}],this.log.info),i=this.state.tokens[t],Object(ae["a"])(i,ce["b"].RDN_UNKNOWN_TOKEN_NETWORK,this.log.info),o=this.state.channels[Object(W["b"])({tokenNetwork:i,partner:n})],Object(ae["a"])((null===o||void 0===o?void 0:o.state)===F["b"].open,ce["b"].CNL_NO_OPEN_CHANNEL_FOUND,this.log.error),c=Object(W["a"])(o),u=c.ownWithdrawable,s=c.ownWithdraw,l=Object(le["n"])(Object(le["l"])(32),null!==r&&void 0!==r?r:u,ce["b"].DTA_INVALID_AMOUNT,this.log.info),p=s.add(l),f=this.state.blockNumber+2*this.config.revealTimeout,d={direction:ee["a"].SENT,tokenNetwork:i,partner:n,totalWithdraw:p,expiration:f},b=Object(ie["a"])(z["withdraw"],d,this.action$,!0).then((function(e){var t=e.txHash;return t})),this.store.dispatch(Object(z["withdrawResolve"])(void 0,d)),e.abrupt("return",b);case 14:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"suggestPartners",value:function(){var e=Se(a.a.mark((function e(t){var n,r,i,o,c=this,u=arguments;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=u.length>1&&void 0!==u[1]?u[1]:{},Object(ae["a"])(le["a"].is(t),[ce["b"].DTA_INVALID_ADDRESS,{token:t}],this.log.info),r=this.state.tokens[t],Object(ae["a"])(r,ce["b"].RDN_UNKNOWN_TOKEN_NETWORK,this.log.info),!n.pfs){e.next=8;break}e.t0=[Object(le["n"])(Z["f"],n.pfs)],e.next=11;break;case 8:return e.next=10,this.findPFS();case 10:e.t0=e.sent;case 11:return i=e.t0,e.abrupt("return",Object(k["a"])(Object(E["a"])(i).pipe(Object(D["a"])((function(e){return Object(S["a"])("".concat(e.url,"/api/v1/").concat(r,"/suggest_partner"),{method:"GET",headers:{"Content-Type":"application/json"}}).pipe(Object(R["a"])(c.config.httpTimeout),Object(C["a"])(function(){var e=Se(a.a.mark((function e(t){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t.text());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(P["a"])((function(e){var t=Object(le["n"])(Z["r"],Object(oe["b"])(e));if(!t.length)throw o=[],new Error("PFS returned no suggested partners");return t})),Object(M["a"])((function(t){return c.log.info("Could not fetch PFS suggested partners",e,t),o||(o=t),T["a"]})))})),Object(L["a"])(),Object(M["a"])((function(e){if(Array.isArray(o))return Object(w["a"])(o);var t;throw null!==(t=o)&&void 0!==t?t:e})))));case 13:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}],[{key:"create",value:function(){var e=Se(a.a.mark((function e(t,n,r,i,o,c,l){var f,d,b,h,v,O,j,g,w,_,k,E,T,S,A,P;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return f="string"===typeof t?new u["a"](t):t instanceof u["a"]?t:new s["a"](t),e.next=3,f.getNetwork();case 3:if(d=e.sent,i){e.next=8;break}b=Object(G["d"])(d),e.next=17;break;case 8:if("string"!==typeof i){e.next=16;break}return h=i.split(":"),v=fe(h),O=v[0],j=v.slice(1),Object(ae["a"])(le["a"].is(O),[ce["b"].DTA_INVALID_ADDRESS,{contractsOrUserDepositAddress:i}]),e.next=13,G["b"].apply(void 0,[f,O].concat(de(j.map((function(e){return+e})))));case 13:b=e.sent,e.next=17;break;case 16:b=i;case 17:return e.next=19,Object(G["e"])(n,f,c,l);case 19:return g=e.sent,w=g.signer,_=g.address,k=g.main,e.next=25,Object(G["f"])({network:d,contractsInfo:b,address:_,log:m.a.getLogger("raiden:".concat(_))},r);case 25:return E=e.sent,T=E.state,S=E.db,Object(ae["a"])(_===T.address,[ce["b"].RDN_STATE_ADDRESS_MISMATCH,{account:_,state:T.address}]),Object(ae["a"])(d.chainId===T.chainId&&b.TokenNetworkRegistry.address===T.registry,[ce["b"].RDN_STATE_NETWORK_MISMATCH,{network:d.chainId,contracts:b.TokenNetworkRegistry.address,stateNetwork:T.chainId,stateRegistry:T.registry}]),A=o&&Object(le["n"])(V["a"],y()(o,p.a)),P=Object(G["i"])(T,A,{signer:w,contractsInfo:b,db:S,main:k}),e.abrupt("return",new this(T,P));case 33:case"end":return e.stop()}}),e,this)})));function t(t,n,r,a,i,o,c){return e.apply(this,arguments)}return t}()},{key:"version",get:function(){return pe.sdk}},{key:"contractVersion",get:function(){return pe.contracts}}]),t}()}).call(this,n("6fc9"))},d276:function(e,t,n){"use strict";n.d(t,"b",(function(){return S})),n.d(t,"e",(function(){return A})),n.d(t,"c",(function(){return P})),n.d(t,"g",(function(){return N})),n.d(t,"f",(function(){return I})),n.d(t,"a",(function(){return D})),n.d(t,"d",(function(){return C}));var r=n("36d8"),a=n.n(r),i=n("2111"),o=n("53b1"),c=n.n(o),u=n("cea7"),s=n("996a"),l=n("f39b"),p=n("1319"),f=n("f2df"),d=n("ee6c"),b=n("ca14");function y(e){return O(e)||v(e)||m(e)||h()}function h(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function m(e,t){if(e){if("string"===typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?j(e,t):void 0}}function v(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function O(e){if(Array.isArray(e))return j(e)}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t,n,r,a,i,o){try{var c=e[i](o),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function w(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){g(i,r,a,o,c,"next",e)}function c(e){g(i,r,a,o,c,"throw",e)}o(void 0)}))}}function _(e){return _="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){T(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],a=t[1],o=t[2],c=t[3],u=i["o"](i["u"](E(E(E({type:i["k"](r)},a?{payload:a}:null),o?{meta:o}:null),c?{error:i["k"](!0)}:null))),s=function(e){return(null===e||void 0===e?void 0:e["type"])===r};return Object.assign((function(e,t){return E(E(E({type:r},a?{payload:e}:{}),o?{meta:t}:{}),c?{error:c}:{})}),{type:r,is:s,codec:u,error:c})}function A(e){function t(e){return"function"===typeof this?this.is(e):Array.isArray(this)?this.some((function(n){return t.call(n,e)})):"object"===_(this)&&t.call(Object.values(this),e)}return(arguments.length<=1?0:arguments.length-1)>0?t.call(e,arguments.length<=1?void 0:arguments[1]):t.bind(e)}function P(){var e;return{request:S("".concat(arguments.length<=1?void 0:arguments[1],"/request"),arguments.length<=2?void 0:arguments[2],arguments.length<=0?void 0:arguments[0]),success:S("".concat(arguments.length<=1?void 0:arguments[1],"/success"),arguments.length<=3?void 0:arguments[3],arguments.length<=0?void 0:arguments[0]),failure:S("".concat(arguments.length<=1?void 0:arguments[1],"/failure"),null!==(e=arguments.length<=4?void 0:arguments[4])&&void 0!==e?e:i["x"],arguments.length<=0?void 0:arguments[0],!0)}}function x(e){var t=function(t){return c()(t.meta,e,(function(e,t){return b["b"].is(e)&&b["b"].is(t)?e.eq(t):void 0}))};return!(arguments.length<=1)&&arguments.length-1?t(arguments.length<=1?void 0:arguments[1]):t}function N(e,t){var n=function(n){return A([e.success,e.failure],n)&&x(t,n)};return!(arguments.length<=2)&&arguments.length-2?n(arguments.length<=2?void 0:arguments[2]):n}function I(e,t){function n(e){var t;return"boolean"===typeof(null===e||void 0===e||null===(t=e["payload"])||void 0===t?void 0:t["confirmed"])}var r=function(r){return N(e,t,r)&&(e.failure.is(r)||n(r))};return!(arguments.length<=2)&&arguments.length-2?r(arguments.length<=2?void 0:arguments[2]):r}function D(e,t,n,r){return R.apply(this,arguments)}function R(){return R=w(a.a.mark((function e(t,n,r,i){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(u["a"])(r.pipe(Object(s["a"])(i?I(t,n):N(t,n)),Object(s["a"])((function(e){return void 0===i||!t.success.is(e)||"confirmed"in e.payload})),Object(l["a"])(1),Object(p["a"])((function(e){var n;if(t.failure.is(e))throw e.payload;if(!1===(null===(n=e.payload)||void 0===n?void 0:n.confirmed))throw new d["c"](d["b"].RDN_TRANSACTION_REORG,{transactionHash:e.payload.txHash});return e.payload}))),{defaultValue:void 0}));case 1:case"end":return e.stop()}}),e)}))),R.apply(this,arguments)}function C(e){function t(n){var r=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,r=arguments.length>1?arguments[1]:void 0,a=n[r.type];return a&&a[0].is(r)?a[1](t,r):t};function a(e,r){var a=Array.isArray(e)?e:[e];return Object(f["a"])(!a.some((function(e){return e.type in n})),"Already handled"),t(Object.assign.apply(Object,[{},n].concat(y(a.map((function(e){return T({},e.type,[e,r])}))))))}return Object.assign(r,{handle:a})}return t({})}},d43a:function(e,t,n){e.exports=n.p+"img/udc_info.92f96cdc.svg"},d890:function(e,t,n){"use strict";n.r(t),n.d(t,"matrixSetup",(function(){return s})),n.d(t,"matrixPresence",(function(){return l})),n.d(t,"rtcChannel",(function(){return p}));var r=n("2111"),a=n("d276"),i=n("ca14"),o=n("ee57"),c=n("0602"),u=r["u"]({address:i["a"]}),s=Object(a["b"])("matrix/setup",r["u"]({server:r["r"],setup:o["a"]})),l=Object(a["c"])(u,"matrix/presence",void 0,r["i"]([r["u"]({userId:r["r"],available:r["d"],ts:r["m"],pubkey:i["g"]}),r["n"]({caps:c["a"]})])),p=Object(a["b"])("rtc/channel",r["w"]([r["v"],Object(i["o"])("RTCDataChannel")]),u)},d8a5:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e["NONE"]="none",e["INFO"]="info",e["WARNING"]="warning",e["ERROR"]="error"}(r||(r={}))},db2c5:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var r=n("36d8"),a=n.n(r),i=n("605b"),o=n.n(i),c=n("ee6c");function u(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=b(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw i}}}}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){return m(e)||h(e,t)||b(e,t)||d()}function d(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function b(e,t){if(e){if("string"===typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,c=!1;try{for(n=n.call(e);!(o=(r=n.next()).done);o=!0)if(i.push(r.value),t&&i.length===t)break}catch(u){c=!0,a=u}finally{try{o||null==n["return"]||n["return"]()}finally{if(c)throw a}}return i}}function m(e){if(Array.isArray(e))return e}function v(e,t,n,r,a,i,o){try{var c=e[i](o),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function O(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){v(i,r,a,o,c,"next",e)}function c(e){v(i,r,a,o,c,"throw",e)}o(void 0)}))}}function j(e){var t={},n=function(){var n=O(a.a.mark((function n(){var r;return a.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.info();case 2:Object(c["d"])(!e.__opts.versionchanged,c["b"].RDN_DATABASE_DELETED),r=a.a.mark((function n(){var r,i,o,c,s,p,d,b;return a.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=t,t={},i=Object.keys(r),n.next=5,e.allDocs({keys:i});case 5:return o=n.sent,c=function(e){var t=o.rows.find((function(t){return t.id===e}));return null!==t&&void 0!==t&&t.value.deleted?{_rev:t.value.rev,deleted:!1}:t&&!("error"in t)?{_rev:t.value.rev}:void 0},n.next=9,e.bulkDocs(Object.entries(r).map((function(e){var t=f(e,2),n=t[0],r=t[1];return l(l({},r),{},{_id:n},c(n))})));case 9:s=n.sent,p=u(s);try{for(p.s();!(d=p.n()).done;)b=d.value,"error"in b&&b.error&&b.id&&!(b.id in t)&&(t[b.id]=r[b.id])}catch(a){p.e(a)}finally{p.f()}case 12:case"end":return n.stop()}}),n)}));case 4:if(o()(t)){n.next=8;break}return n.delegateYield(r(),"t0",6);case 6:n.next=4;break;case 8:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return function(r){return function(a){return function(i){var o=r.getState(),c=a(i),u=r.getState();if(u===o)return c;for(var s in u){var p=s;if(u[p]!==o[p])if("channels"===p||"oldChannels"===p){for(var f in u[p])if(u[p][f]!==o[p][f]){var d="channels.".concat(u[p][f]._id);e.storageKeys.add(d),t[d]=u[p][f]}}else if("transfers"===p){for(var b in u.transfers)u.transfers[b]!==o.transfers[b]&&(e.storageKeys.add(b),t[b]=u.transfers[b]);for(var y in o.transfers)y in u.transfers||(t[y]=l(l({},o.transfers[y]),{},{cleared:Date.now()}))}else{var h="state.".concat(p);e.storageKeys.add(h),t[h]={value:u[p]}}}return e.busy$.value||(e.busy$.next(!0),n().then((function(){return e.busy$.next(!1)}),(function(t){return e.busy$.error(t)}))),c}}}}},db7b:function(e,t,n){e.exports=n.p+"img/notifications.9b9982fe.svg"},de7d:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return k})),n.d(t,"c",(function(){return P})),n.d(t,"d",(function(){return B})),n.d(t,"e",(function(){return H})),n.d(t,"g",(function(){return le})),n.d(t,"f",(function(){return ye})),n.d(t,"h",(function(){return Ee}));var r=n("fbcd"),a=n("bf95");function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var u=[{inputs:[{internalType:"address",name:"new_controller",type:"address"}],name:"changeController",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"controller",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}],s=function(){function e(){i(this,e)}return c(e,null,[{key:"createInterface",value:function(){return new r["c"].Interface(u)}},{key:"connect",value:function(e,t){return new a["a"](e,u,t)}}]),e}();function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t&&p(e.prototype,t),n&&p(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}s.abi=u;var d=[{inputs:[{internalType:"uint256",name:"initial_supply",type:"uint256"},{internalType:"uint8",name:"decimal_units",type:"uint8"},{internalType:"string",name:"token_name",type:"string"},{internalType:"string",name:"token_symbol",type:"string"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_owner",type:"address"},{indexed:!0,internalType:"address",name:"_spender",type:"address"},{indexed:!1,internalType:"uint256",name:"_value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_to",type:"address"},{indexed:!0,internalType:"uint256",name:"_num",type:"uint256"}],name:"Minted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_from",type:"address"},{indexed:!0,internalType:"address",name:"_to",type:"address"},{indexed:!1,internalType:"uint256",name:"_value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[],name:"_decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"address",name:"_spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"remaining",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_spender",type:"address"},{internalType:"uint256",name:"_value",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"balance",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"balances",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"decimals",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"num",type:"uint256"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"num",type:"uint256"},{internalType:"address",name:"target",type:"address"}],name:"mintFor",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"multiplier",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner_address",outputs:[{internalType:"address payable",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"supply",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_value",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_from",type:"address"},{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"transferFunds",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"version",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}],b=function(){function e(){l(this,e)}return f(e,null,[{key:"createInterface",value:function(){return new r["c"].Interface(d)}},{key:"connect",value:function(e,t){return new a["a"](e,d,t)}}]),e}();function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t,n){return t&&h(e.prototype,t),n&&h(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}b.abi=d;var v=[{inputs:[{internalType:"contract Token",name:"_token",type:"address"},{internalType:"uint256",name:"_release_at",type:"uint256"},{internalType:"address",name:"_withdrawer",type:"address"},{internalType:"contract ServiceRegistryConfigurableParameters",name:"_service_registry",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"release_at",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"token",outputs:[{internalType:"contract Token",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address payable",name:"_to",type:"address"}],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdrawer",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}],O=function(){function e(){y(this,e)}return m(e,null,[{key:"createInterface",value:function(){return new r["c"].Interface(v)}},{key:"connect",value:function(e,t){return new a["a"](e,v,t)}}]),e}();function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t,n){return t&&g(e.prototype,t),n&&g(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}O.abi=v;var _=[{inputs:[{internalType:"uint256",name:"_initialAmount",type:"uint256"},{internalType:"uint8",name:"_decimalUnits",type:"uint8"},{internalType:"string",name:"_tokenName",type:"string"},{internalType:"string",name:"_tokenSymbol",type:"string"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_owner",type:"address"},{indexed:!0,internalType:"address",name:"_spender",type:"address"},{indexed:!1,internalType:"uint256",name:"_value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_from",type:"address"},{indexed:!0,internalType:"address",name:"_to",type:"address"},{indexed:!1,internalType:"uint256",name:"_value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[],name:"_decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"address",name:"_spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"remaining",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_spender",type:"address"},{internalType:"uint256",name:"_value",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_spender",type:"address"},{internalType:"uint256",name:"_value",type:"uint256"},{internalType:"bytes",name:"_extraData",type:"bytes"}],name:"approveAndCall",outputs:[{internalType:"bool",name:"success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"balance",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"balances",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"decimals",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"supply",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_value",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_from",type:"address"},{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"version",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}],k=function(){function e(){j(this,e)}return w(e,null,[{key:"createInterface",value:function(){return new r["c"].Interface(_)}},{key:"connect",value:function(e,t){return new a["a"](e,_,t)}}]),e}();function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e,t,n){return t&&T(e.prototype,t),n&&T(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}k.abi=_;var A=[{inputs:[{internalType:"address",name:"_token_address",type:"address"},{internalType:"address",name:"_service_registry_address",type:"address"},{internalType:"address",name:"_udc_address",type:"address"},{internalType:"address",name:"_token_network_registry_address",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"token_network_address",type:"address"},{indexed:!1,internalType:"uint256",name:"channel_identifier",type:"uint256"},{indexed:!1,internalType:"uint256",name:"reward_amount",type:"uint256"},{indexed:!0,internalType:"uint256",name:"nonce",type:"uint256"},{indexed:!0,internalType:"address",name:"ms_address",type:"address"},{indexed:!0,internalType:"address",name:"raiden_node_address",type:"address"}],name:"NewBalanceProofReceived",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"ms_address",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!0,internalType:"bytes32",name:"reward_identifier",type:"bytes32"}],name:"RewardClaimed",type:"event"},{inputs:[{internalType:"uint256",name:"channel_identifier",type:"uint256"},{internalType:"address",name:"token_network_address",type:"address"},{internalType:"address",name:"closing_participant",type:"address"},{internalType:"address",name:"non_closing_participant",type:"address"}],name:"claimReward",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"contract_address",type:"address"}],name:"contractExists",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"a",type:"uint256"},{internalType:"uint256",name:"b",type:"uint256"}],name:"failsafe_addition",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"a",type:"uint256"},{internalType:"uint256",name:"b",type:"uint256"}],name:"failsafe_subtract",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"closed_at_block",type:"uint256"},{internalType:"uint256",name:"settle_timeout",type:"uint256"},{internalType:"address",name:"participant1",type:"address"},{internalType:"address",name:"participant2",type:"address"},{internalType:"address",name:"monitoring_service_address",type:"address"}],name:"firstBlockAllowedToMonitor",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"contract TokenNetwork",name:"token_network",type:"address"},{internalType:"uint256",name:"channel_identifier",type:"uint256"},{internalType:"address",name:"closing_participant",type:"address"},{internalType:"address",name:"non_closing_participant",type:"address"},{internalType:"address",name:"monitoring_service_address",type:"address"}],name:"firstBlockAllowedToMonitorChannel",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"a",type:"uint256"},{internalType:"uint256",name:"b",type:"uint256"}],name:"max",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"a",type:"uint256"},{internalType:"uint256",name:"b",type:"uint256"}],name:"min",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"closing_participant",type:"address"},{internalType:"address",name:"non_closing_participant",type:"address"},{internalType:"bytes32",name:"balance_hash",type:"bytes32"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"bytes32",name:"additional_hash",type:"bytes32"},{internalType:"bytes",name:"closing_signature",type:"bytes"},{internalType:"bytes",name:"non_closing_signature",type:"bytes"},{internalType:"uint256",name:"reward_amount",type:"uint256"},{internalType:"address",name:"token_network_address",type:"address"},{internalType:"bytes",name:"reward_proof_signature",type:"bytes"}],name:"monitor",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"service_registry",outputs:[{internalType:"contract ServiceRegistry",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"signature_prefix",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"token",outputs:[{internalType:"contract Token",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"token_network_registry",outputs:[{internalType:"contract TokenNetworkRegistry",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"user_deposit",outputs:[{internalType:"contract UserDeposit",name:"",type:"address"}],stateMutability:"view",type:"function"}],P=function(){function e(){E(this,e)}return S(e,null,[{key:"createInterface",value:function(){return new r["c"].Interface(A)}},{key:"connect",value:function(e,t){return new a["a"](e,A,t)}}]),e}();function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(e,t,n){return t&&N(e.prototype,t),n&&N(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}P.abi=A;var D=[{inputs:[{internalType:"address",name:"_deposit_contract",type:"address"},{internalType:"uint256",name:"_chain_id",type:"uint256"},{internalType:"address",name:"_service_registry_contract",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"sender",type:"address"},{indexed:!0,internalType:"address",name:"receiver",type:"address"},{indexed:!1,internalType:"uint256",name:"expiration_block",type:"uint256"},{indexed:!1,internalType:"uint256",name:"transferred",type:"uint256"}],name:"Claimed",type:"event"},{inputs:[{internalType:"address[]",name:"senders",type:"address[]"},{internalType:"address[]",name:"receivers",type:"address[]"},{internalType:"uint256[]",name:"amounts",type:"uint256[]"},{internalType:"uint256[]",name:"expiration_blocks",type:"uint256[]"},{internalType:"bytes",name:"signatures",type:"bytes"}],name:"bulkClaim",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"chain_id",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"receiver",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"expiration_block",type:"uint256"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"claim",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"contract_address",type:"address"}],name:"contractExists",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"deposit_contract",outputs:[{internalType:"contract UserDeposit",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"a",type:"uint256"},{internalType:"uint256",name:"b",type:"uint256"}],name:"failsafe_addition",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"a",type:"uint256"},{internalType:"uint256",name:"b",type:"uint256"}],name:"failsafe_subtract",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"a",type:"uint256"},{internalType:"uint256",name:"b",type:"uint256"}],name:"max",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"a",type:"uint256"},{internalType:"uint256",name:"b",type:"uint256"}],name:"min",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[],name:"service_registry_contract",outputs:[{internalType:"contract ServiceRegistry",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"settled_sessions",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"signature_prefix",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}],R=function(){function e(){x(this,e)}return I(e,null,[{key:"createInterface",value:function(){return new r["c"].Interface(D)}},{key:"connect",value:function(e,t){return new a["a"](e,D,t)}}]),e}();function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function L(e,t,n){return t&&M(e.prototype,t),n&&M(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}R.abi=D;var U=[{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"secrethash",type:"bytes32"},{indexed:!1,internalType:"bytes32",name:"secret",type:"bytes32"}],name:"SecretRevealed",type:"event"},{inputs:[{internalType:"bytes32",name:"secrethash",type:"bytes32"}],name:"getSecretRevealBlockHeight",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"secret",type:"bytes32"}],name:"registerSecret",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32[]",name:"secrets",type:"bytes32[]"}],name:"registerSecretBatch",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}],B=function(){function e(){C(this,e)}return L(e,null,[{key:"createInterface",value:function(){return new r["c"].Interface(U)}},{key:"connect",value:function(e,t){return new a["a"](e,U,t)}}]),e}();function F(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function W(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function V(e,t,n){return t&&W(e.prototype,t),n&&W(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}B.abi=U;var $=[{inputs:[{internalType:"contract Token",name:"_token_for_registration",type:"address"},{internalType:"address",name:"_controller",type:"address"},{internalType:"uint256",name:"_initial_price",type:"uint256"},{internalType:"uint256",name:"_price_bump_numerator",type:"uint256"},{internalType:"uint256",name:"_price_bump_denominator",type:"uint256"},{internalType:"uint256",name:"_decay_constant",type:"uint256"},{internalType:"uint256",name:"_min_price",type:"uint256"},{internalType:"uint256",name:"_registration_duration",type:"uint256"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"service",type:"address"},{indexed:!1,internalType:"uint256",name:"valid_till",type:"uint256"},{indexed:!1,internalType:"uint256",name:"deposit_amount",type:"uint256"},{indexed:!1,internalType:"contract Deposit",name:"deposit_contract",type:"address"}],name:"RegisteredService",type:"event"},{inputs:[{internalType:"address",name:"new_controller",type:"address"}],name:"changeController",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_price_bump_numerator",type:"uint256"},{internalType:"uint256",name:"_price_bump_denominator",type:"uint256"},{internalType:"uint256",name:"_decay_constant",type:"uint256"},{internalType:"uint256",name:"_min_price",type:"uint256"},{internalType:"uint256",name:"_registration_duration",type:"uint256"}],name:"changeParameters",outputs:[{internalType:"bool",name:"_success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"contract_address",type:"address"}],name:"contractExists",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"controller",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"currentPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decay_constant",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_set_price",type:"uint256"},{internalType:"uint256",name:"_seconds_passed",type:"uint256"}],name:"decayedPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_limit_amount",type:"uint256"}],name:"deposit",outputs:[{internalType:"bool",name:"_success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"deprecated",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"everMadeDepositsLen",outputs:[{internalType:"uint256",name:"_len",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"ever_made_deposits",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"a",type:"uint256"},{internalType:"uint256",name:"b",type:"uint256"}],name:"failsafe_addition",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"a",type:"uint256"},{internalType:"uint256",name:"b",type:"uint256"}],name:"failsafe_subtract",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"_address",type:"address"}],name:"hasValidRegistration",outputs:[{internalType:"bool",name:"_has_registration",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"a",type:"uint256"},{internalType:"uint256",name:"b",type:"uint256"}],name:"max",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"a",type:"uint256"},{internalType:"uint256",name:"b",type:"uint256"}],name:"min",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[],name:"min_price",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"price_bump_denominator",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"price_bump_numerator",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"registration_duration",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"service_valid_till",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"setDeprecationSwitch",outputs:[{internalType:"bool",name:"_success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"new_url",type:"string"}],name:"setURL",outputs:[{internalType:"bool",name:"_success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"set_price",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"set_price_at",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"signature_prefix",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"token",outputs:[{internalType:"contract Token",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"urls",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}],H=function(){function e(){F(this,e)}return V(e,null,[{key:"createInterface",value:function(){return new r["c"].Interface($)}},{key:"connect",value:function(e,t){return new a["a"](e,$,t)}}]),e}();function q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function K(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function G(e,t,n){return t&&K(e.prototype,t),n&&K(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}H.abi=$;var Y=[{inputs:[{internalType:"address",name:"new_controller",type:"address"}],name:"changeController",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_price_bump_numerator",type:"uint256"},{internalType:"uint256",name:"_price_bump_denominator",type:"uint256"},{internalType:"uint256",name:"_decay_constant",type:"uint256"},{internalType:"uint256",name:"_min_price",type:"uint256"},{internalType:"uint256",name:"_registration_duration",type:"uint256"}],name:"changeParameters",outputs:[{internalType:"bool",name:"_success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"controller",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"currentPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decay_constant",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_set_price",type:"uint256"},{internalType:"uint256",name:"_seconds_passed",type:"uint256"}],name:"decayedPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"deprecated",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"min_price",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"price_bump_denominator",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"price_bump_numerator",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"registration_duration",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"setDeprecationSwitch",outputs:[{internalType:"bool",name:"_success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"set_price",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"set_price_at",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],X=function(){function e(){q(this,e)}return G(e,null,[{key:"createInterface",value:function(){return new r["c"].Interface(Y)}},{key:"connect",value:function(e,t){return new a["a"](e,Y,t)}}]),e}();function Q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function J(e,t,n){return t&&Z(e.prototype,t),n&&Z(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}X.abi=Y;var z=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_owner",type:"address"},{indexed:!0,internalType:"address",name:"_spender",type:"address"},{indexed:!1,internalType:"uint256",name:"_value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_from",type:"address"},{indexed:!0,internalType:"address",name:"_to",type:"address"},{indexed:!1,internalType:"uint256",name:"_value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"address",name:"_spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"remaining",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_spender",type:"address"},{internalType:"uint256",name:"_value",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"balance",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"balances",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"decimals",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"supply",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_value",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_from",type:"address"},{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"success",type:"bool"}],stateMutability:"nonpayable",type:"function"}],ee=function(){function e(){Q(this,e)}return J(e,null,[{key:"createInterface",value:function(){return new r["c"].Interface(z)}},{key:"connect",value:function(e,t){return new a["a"](e,z,t)}}]),e}();function te(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function re(e,t,n){return t&&ne(e.prototype,t),n&&ne(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}ee.abi=z;var ae=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_owner",type:"address"},{indexed:!0,internalType:"address",name:"_spender",type:"address"},{indexed:!1,internalType:"uint256",name:"_value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_from",type:"address"},{indexed:!0,internalType:"address",name:"_to",type:"address"},{indexed:!1,internalType:"uint256",name:"_value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"address",name:"_spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"remaining",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_spender",type:"address"},{internalType:"uint256",name:"_value",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"balance",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"decimals",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"supply",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_value",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_from",type:"address"},{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"success",type:"bool"}],stateMutability:"nonpayable",type:"function"}],ie=function(){function e(){te(this,e)}return re(e,null,[{key:"createInterface",value:function(){return new r["c"].Interface(ae)}},{key:"connect",value:function(e,t){return new a["a"](e,ae,t)}}]),e}();function oe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ue(e,t,n){return t&&ce(e.prototype,t),n&&ce(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}ie.abi=ae;var se=[{inputs:[{internalType:"address",name:"_token_address",type:"address"},{internalType:"address",name:"_secret_registry",type:"address"},{internalType:"uint256",name:"_settlement_timeout_min",type:"uint256"},{internalType:"uint256",name:"_settlement_timeout_max",type:"uint256"},{internalType:"address",name:"_controller",type:"address"},{internalType:"uint256",name:"_channel_participant_deposit_limit",type:"uint256"},{internalType:"uint256",name:"_token_network_deposit_limit",type:"uint256"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"channel_identifier",type:"uint256"},{indexed:!0,internalType:"address",name:"closing_participant",type:"address"},{indexed:!0,internalType:"uint256",name:"nonce",type:"uint256"},{indexed:!1,internalType:"bytes32",name:"balance_hash",type:"bytes32"}],name:"ChannelClosed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"channel_identifier",type:"uint256"},{indexed:!0,internalType:"address",name:"participant",type:"address"},{indexed:!1,internalType:"uint256",name:"total_deposit",type:"uint256"}],name:"ChannelNewDeposit",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"channel_identifier",type:"uint256"},{indexed:!0,internalType:"address",name:"participant1",type:"address"},{indexed:!0,internalType:"address",name:"participant2",type:"address"},{indexed:!1,internalType:"uint256",name:"settle_timeout",type:"uint256"}],name:"ChannelOpened",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"channel_identifier",type:"uint256"},{indexed:!1,internalType:"address",name:"participant1",type:"address"},{indexed:!1,internalType:"uint256",name:"participant1_amount",type:"uint256"},{indexed:!1,internalType:"bytes32",name:"participant1_locksroot",type:"bytes32"},{indexed:!1,internalType:"address",name:"participant2",type:"address"},{indexed:!1,internalType:"uint256",name:"participant2_amount",type:"uint256"},{indexed:!1,internalType:"bytes32",name:"participant2_locksroot",type:"bytes32"}],name:"ChannelSettled",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"channel_identifier",type:"uint256"},{indexed:!0,internalType:"address",name:"receiver",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"bytes32",name:"locksroot",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"unlocked_amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"returned_tokens",type:"uint256"}],name:"ChannelUnlocked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"channel_identifier",type:"uint256"},{indexed:!0,internalType:"address",name:"participant",type:"address"},{indexed:!1,internalType:"uint256",name:"total_withdraw",type:"uint256"}],name:"ChannelWithdraw",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bool",name:"new_value",type:"bool"}],name:"DeprecationSwitch",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"channel_identifier",type:"uint256"},{indexed:!0,internalType:"address",name:"closing_participant",type:"address"},{indexed:!0,internalType:"uint256",name:"nonce",type:"uint256"},{indexed:!1,internalType:"bytes32",name:"balance_hash",type:"bytes32"}],name:"NonClosingBalanceProofUpdated",type:"event"},{inputs:[],name:"chain_id",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"new_controller",type:"address"}],name:"changeController",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"channel_counter",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"channel_participant_deposit_limit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"channels",outputs:[{internalType:"uint256",name:"settle_block_number",type:"uint256"},{internalType:"enum TokenNetwork.ChannelState",name:"state",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"channel_identifier",type:"uint256"},{internalType:"address",name:"non_closing_participant",type:"address"},{internalType:"address",name:"closing_participant",type:"address"},{internalType:"bytes32",name:"balance_hash",type:"bytes32"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"bytes32",name:"additional_hash",type:"bytes32"},{internalType:"bytes",name:"non_closing_signature",type:"bytes"},{internalType:"bytes",name:"closing_signature",type:"bytes"}],name:"closeChannel",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"contract_address",type:"address"}],name:"contractExists",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"controller",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"channel_identifier",type:"uint256"},{components:[{internalType:"address",name:"participant",type:"address"},{internalType:"uint256",name:"total_withdraw",type:"uint256"},{internalType:"uint256",name:"expiration_block",type:"uint256"},{internalType:"bytes",name:"participant_signature",type:"bytes"},{internalType:"bytes",name:"partner_signature",type:"bytes"}],internalType:"struct TokenNetwork.WithdrawInput",name:"data1",type:"tuple"},{components:[{internalType:"address",name:"participant",type:"address"},{internalType:"uint256",name:"total_withdraw",type:"uint256"},{internalType:"uint256",name:"expiration_block",type:"uint256"},{internalType:"bytes",name:"participant_signature",type:"bytes"},{internalType:"bytes",name:"partner_signature",type:"bytes"}],internalType:"struct TokenNetwork.WithdrawInput",name:"data2",type:"tuple"}],name:"cooperativeSettle",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"deprecate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"a",type:"uint256"},{internalType:"uint256",name:"b",type:"uint256"}],name:"failsafe_addition",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"a",type:"uint256"},{internalType:"uint256",name:"b",type:"uint256"}],name:"failsafe_subtract",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"participant",type:"address"},{internalType:"address",name:"partner",type:"address"}],name:"getChannelIdentifier",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"channel_identifier",type:"uint256"},{internalType:"address",name:"participant1",type:"address"},{internalType:"address",name:"participant2",type:"address"}],name:"getChannelInfo",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"enum TokenNetwork.ChannelState",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"channel_identifier",type:"uint256"},{internalType:"address",name:"participant",type:"address"},{internalType:"address",name:"partner",type:"address"}],name:"getChannelParticipantInfo",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bool",name:"",type:"bool"},{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"participant1_deposit",type:"uint256"},{internalType:"uint256",name:"participant1_withdrawn",type:"uint256"},{internalType:"uint256",name:"participant1_transferred",type:"uint256"},{internalType:"uint256",name:"participant1_locked",type:"uint256"},{internalType:"uint256",name:"participant2_transferred",type:"uint256"},{internalType:"uint256",name:"participant2_locked",type:"uint256"}],name:"getMaxPossibleReceivableAmount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"participant",type:"address"},{internalType:"address",name:"partner",type:"address"}],name:"getParticipantsHash",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"channel_identifier",type:"uint256"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"receiver",type:"address"}],name:"getUnlockIdentifier",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"a",type:"uint256"},{internalType:"uint256",name:"b",type:"uint256"}],name:"max",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"a",type:"uint256"},{internalType:"uint256",name:"b",type:"uint256"}],name:"min",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"participant1",type:"address"},{internalType:"address",name:"participant2",type:"address"},{internalType:"uint256",name:"settle_timeout",type:"uint256"}],name:"openChannel",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"participant1",type:"address"},{internalType:"address",name:"participant2",type:"address"},{internalType:"uint256",name:"settle_timeout",type:"uint256"},{internalType:"uint256",name:"participant1_total_deposit",type:"uint256"}],name:"openChannelWithDeposit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"participants_hash_to_channel_identifier",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"removeLimits",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"safety_deprecation_switch",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"secret_registry",outputs:[{internalType:"contract SecretRegistry",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"channel_identifier",type:"uint256"},{internalType:"address",name:"participant",type:"address"},{internalType:"uint256",name:"total_deposit",type:"uint256"},{internalType:"address",name:"partner",type:"address"}],name:"setTotalDeposit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"channel_identifier",type:"uint256"},{internalType:"address",name:"participant",type:"address"},{internalType:"uint256",name:"total_withdraw",type:"uint256"},{internalType:"uint256",name:"expiration_block",type:"uint256"},{internalType:"bytes",name:"participant_signature",type:"bytes"},{internalType:"bytes",name:"partner_signature",type:"bytes"}],name:"setTotalWithdraw",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"channel_identifier",type:"uint256"},{components:[{internalType:"address",name:"participant",type:"address"},{internalType:"uint256",name:"total_withdraw",type:"uint256"},{internalType:"uint256",name:"expiration_block",type:"uint256"},{internalType:"bytes",name:"participant_signature",type:"bytes"},{internalType:"bytes",name:"partner_signature",type:"bytes"}],internalType:"struct TokenNetwork.WithdrawInput",name:"withdraw_data",type:"tuple"}],name:"setTotalWithdraw2",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"channel_identifier",type:"uint256"},{internalType:"address",name:"participant1",type:"address"},{internalType:"uint256",name:"participant1_transferred_amount",type:"uint256"},{internalType:"uint256",name:"participant1_locked_amount",type:"uint256"},{internalType:"bytes32",name:"participant1_locksroot",type:"bytes32"},{internalType:"address",name:"participant2",type:"address"},{internalType:"uint256",name:"participant2_transferred_amount",type:"uint256"},{internalType:"uint256",name:"participant2_locked_amount",type:"uint256"},{internalType:"bytes32",name:"participant2_locksroot",type:"bytes32"}],name:"settleChannel",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"channel_identifier",type:"uint256"},{components:[{internalType:"address",name:"participant",type:"address"},{internalType:"uint256",name:"transferred_amount",type:"uint256"},{internalType:"uint256",name:"locked_amount",type:"uint256"},{internalType:"bytes32",name:"locksroot",type:"bytes32"}],internalType:"struct TokenNetwork.SettleInput",name:"participant1_settlement",type:"tuple"},{components:[{internalType:"address",name:"participant",type:"address"},{internalType:"uint256",name:"transferred_amount",type:"uint256"},{internalType:"uint256",name:"locked_amount",type:"uint256"},{internalType:"bytes32",name:"locksroot",type:"bytes32"}],internalType:"struct TokenNetwork.SettleInput",name:"participant2_settlement",type:"tuple"}],name:"settleChannel2",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"settlement_timeout_max",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"settlement_timeout_min",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"signature_prefix",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"token",outputs:[{internalType:"contract Token",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"token_network_deposit_limit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"channel_identifier",type:"uint256"},{internalType:"address",name:"receiver",type:"address"},{internalType:"address",name:"sender",type:"address"},{internalType:"bytes",name:"locks",type:"bytes"}],name:"unlock",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"channel_identifier",type:"uint256"},{internalType:"address",name:"closing_participant",type:"address"},{internalType:"address",name:"non_closing_participant",type:"address"},{internalType:"bytes32",name:"balance_hash",type:"bytes32"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"bytes32",name:"additional_hash",type:"bytes32"},{internalType:"bytes",name:"closing_signature",type:"bytes"},{internalType:"bytes",name:"non_closing_signature",type:"bytes"}],name:"updateNonClosingBalanceProof",outputs:[],stateMutability:"nonpayable",type:"function"}],le=function(){function e(){oe(this,e)}return ue(e,null,[{key:"createInterface",value:function(){return new r["c"].Interface(se)}},{key:"connect",value:function(e,t){return new a["a"](e,se,t)}}]),e}();function pe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function de(e,t,n){return t&&fe(e.prototype,t),n&&fe(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}le.abi=se;var be=[{inputs:[{internalType:"address",name:"_secret_registry_address",type:"address"},{internalType:"uint256",name:"_settlement_timeout_min",type:"uint256"},{internalType:"uint256",name:"_settlement_timeout_max",type:"uint256"},{internalType:"uint256",name:"_max_token_networks",type:"uint256"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"token_address",type:"address"},{indexed:!0,internalType:"address",name:"token_network_address",type:"address"}],name:"TokenNetworkCreated",type:"event"},{inputs:[{internalType:"address",name:"new_controller",type:"address"}],name:"changeController",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"contract_address",type:"address"}],name:"contractExists",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"controller",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_token_address",type:"address"},{internalType:"uint256",name:"_channel_participant_deposit_limit",type:"uint256"},{internalType:"uint256",name:"_token_network_deposit_limit",type:"uint256"}],name:"createERC20TokenNetwork",outputs:[{internalType:"address",name:"token_network_address",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_token_address",type:"address"}],name:"createERC20TokenNetworkWithoutLimits",outputs:[{internalType:"address",name:"token_network_address",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"a",type:"uint256"},{internalType:"uint256",name:"b",type:"uint256"}],name:"failsafe_addition",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"a",type:"uint256"},{internalType:"uint256",name:"b",type:"uint256"}],name:"failsafe_subtract",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"a",type:"uint256"},{internalType:"uint256",name:"b",type:"uint256"}],name:"max",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[],name:"max_token_networks",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"a",type:"uint256"},{internalType:"uint256",name:"b",type:"uint256"}],name:"min",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[],name:"removeLimits",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"secret_registry_address",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"settlement_timeout_max",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"settlement_timeout_min",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"signature_prefix",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"token_network_created",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"token_to_token_networks",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}],ye=function(){function e(){pe(this,e)}return de(e,null,[{key:"createInterface",value:function(){return new r["c"].Interface(be)}},{key:"connect",value:function(e,t){return new a["a"](e,be,t)}}]),e}();function he(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ve(e,t,n){return t&&me(e.prototype,t),n&&me(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}ye.abi=be;var Oe=[{inputs:[{internalType:"address",name:"udc_address",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"receiver",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"success",type:"bool"}],stateMutability:"nonpayable",type:"function"}],je=function(){function e(){he(this,e)}return ve(e,null,[{key:"createInterface",value:function(){return new r["c"].Interface(Oe)}},{key:"connect",value:function(e,t){return new a["a"](e,Oe,t)}}]),e}();function ge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function we(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _e(e,t,n){return t&&we(e.prototype,t),n&&we(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}je.abi=Oe;var ke=[{inputs:[{internalType:"address",name:"_token_address",type:"address"},{internalType:"uint256",name:"_whole_balance_limit",type:"uint256"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!1,internalType:"uint256",name:"newBalance",type:"uint256"}],name:"BalanceReduced",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"withdrawer",type:"address"},{indexed:!1,internalType:"uint256",name:"plannedBalance",type:"uint256"}],name:"WithdrawPlanned",type:"event"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"balances",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"contract_address",type:"address"}],name:"contractExists",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"beneficiary",type:"address"},{internalType:"uint256",name:"new_total_deposit",type:"uint256"}],name:"deposit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"effectiveBalance",outputs:[{internalType:"uint256",name:"remaining_balance",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"a",type:"uint256"},{internalType:"uint256",name:"b",type:"uint256"}],name:"failsafe_addition",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"a",type:"uint256"},{internalType:"uint256",name:"b",type:"uint256"}],name:"failsafe_subtract",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"_msc_address",type:"address"},{internalType:"address",name:"_one_to_n_address",type:"address"}],name:"init",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"a",type:"uint256"},{internalType:"uint256",name:"b",type:"uint256"}],name:"max",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"a",type:"uint256"},{internalType:"uint256",name:"b",type:"uint256"}],name:"min",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[],name:"msc_address",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"one_to_n_address",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"planWithdraw",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"signature_prefix",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"token",outputs:[{internalType:"contract Token",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"total_deposit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"receiver",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"whole_balance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"whole_balance_limit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"address",name:"beneficiary",type:"address"}],name:"withdrawToBeneficiary",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdraw_delay",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"withdraw_plans",outputs:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"withdraw_block",type:"uint256"}],stateMutability:"view",type:"function"}],Ee=function(){function e(){ge(this,e)}return _e(e,null,[{key:"createInterface",value:function(){return new r["c"].Interface(ke)}},{key:"connect",value:function(e,t){return new a["a"](e,ke,t)}}]),e}();function Te(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ae(e,t,n){return t&&Se(e.prototype,t),n&&Se(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}Ee.abi=ke;var Pe=[{inputs:[{internalType:"address",name:"contract_address",type:"address"}],name:"contractExists",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"a",type:"uint256"},{internalType:"uint256",name:"b",type:"uint256"}],name:"failsafe_addition",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"a",type:"uint256"},{internalType:"uint256",name:"b",type:"uint256"}],name:"failsafe_subtract",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"a",type:"uint256"},{internalType:"uint256",name:"b",type:"uint256"}],name:"max",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"a",type:"uint256"},{internalType:"uint256",name:"b",type:"uint256"}],name:"min",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[],name:"signature_prefix",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}],xe=function(){function e(){Te(this,e)}return Ae(e,null,[{key:"createInterface",value:function(){return new r["c"].Interface(Pe)}},{key:"connect",value:function(e,t){return new a["a"](e,Pe,t)}}]),e}();xe.abi=Pe},e3b7:function(e,t,n){"use strict";n("8d26")},edd4:function(e){e.exports=JSON.parse('{"disclaimer":{"user-info":{"header":"Important Information for Users","body":"The Raiden Light Client  is an application that allows you to interact with the Raiden network. If you haven\'t used Raiden before we recommend that you:","bullet-points":{"portal":{"text":"Checkout the","link":"developer portal"},"docs":{"text":"Look at the","link":"documentation"},"videos":{"text":"Learn more by watching","link":"explanatory videos"},"medium":{"text":"Read blog posts on","link":"Medium"}}},"terms":{"header":"Terms of Use","body":"By accessing the Raiden Light Client through our website you agree to the {0} and {1}.","link-name-terms":"Terms of Use","link-name-policy":"Privacy Policy"},"disclaimer":{"header":"Disclaimer","body":"The Raiden Light Client is a beta version of experimental open source software released as a test version under an MIT license and may contain errors and/or bugs. No guarantee or representation whatsoever is made regarding its suitability (or its use) for any purpose or regarding its compliance with any applicable laws and regulations. Use of the Raiden Light Client is at your own risk and discretion and by using the software you warrant and represent that you have read this disclaimer, understand its contents, assume all risk related thereto and hereby release, waive, discharge and covenant not to hold us or any of our officers, employees or affiliates from and for any direct or indirect damage resulting from the Raiden Light Client or the use thereof. Such to the extent as permissible by applicable laws and regulations."},"privacy":{"header":"Privacy Warning","body":["Please be aware, that by using the Raiden Light Client, among others your Ethereum address, channels, channel deposits, settlements and the Ethereum address of your channel counterparty will be stored on the Ethereum chain, i.e. on servers of Ethereum node operators and ergo are to a certain extent publicly available. The same might also be stored on systems of parties running Raiden nodes connected to the same token network. Data present in the Ethereum chain is very unlikely to be able to be changed, removed or deleted from the public arena.","Also be aware, that data on individual Raiden token transfers will be made available via the Matrix protocol to the recipient, intermediating nodes of a specific transfer as well as to the Matrix server operators, see Raiden Transport Specification."]},"accept-checkbox":"I have read, understood and hereby agree to the above Terms of Use, Privacy Policy including the Disclaimer and Privacy Warning","persist-checkbox":"Don’t display this message on start up","accept-button":"Accept"},"info-overlay":{"done":"Close","transfer":{"header":"About Transfer","body":"Enter a recipient address and a token amount to make a transfer. You need to have an open channel with the recipient or with a hub that is connected to the recipient."},"transfer-steps":{"header":"About Direct and Mediated Transfers","body":"A direct transfer will be possible if you have an open channel with the recipient. In any other case, the PFS will try to find the best way to route your transfer to the recipient."},"select-hub":{"header":"About Selecting a Hub","body":"A Hub is a well-connected node. You can connect to a hub or to any other node. Make sure you have enough service tokens to pay for the monitoring and pathfinding service as well as a balance of your selected token."},"open-channel":{"header":"About Opening a Channel","body":"Opening a channel will connect you to your selected hub or node. You need to choose an amount to deposit in the channel. Later you can transfer small amounts of this deposit to any recipient in the network."},"channels":{"header":"About Channels","body":"This is an overview of all your open channels for the selected token. You can choose to close and settle any channel to withdraw your tokens."},"account-backup":{"header":"About Backing Up the State","body":"Your state is stored in the browser. You should continuously keep a backup of your state by downloading the latest JSON file and storing it somewhere safe."},"account-raiden":{"header":"About Transferring ETH","body":"You need ETH on your Raiden Account to withdraw your tokens. You can add ETH by transferring it from your main account."},"account-withdrawal":{"header":"About Withdrawing Tokens","body":"Withdraw tokens from your Raiden account back to your main account."},"account-udc":{"header":"About UDC","body":"Your User Deposit Contract stores the utility tokens necessary for paying the Pathfinding and Monitoring Service."}},"home":{"welcome":"Welcome to the Raiden dApp","disclaimer":"The Raiden dApp is a reference implementation of the Raiden Light Client SDK. As this release still has its limitations and is a beta release, it is crucial to read the documentation with the security notes before using the software.","getting-started":{"description":"Read the {0} for detailed information on how to use the Raiden dApp.","link-name":"getting started guide"}},"notifications":{"no-notifications":"No notifications","clear":"Clear","block-count-progress":"Blocks until confirmation: ","tx-reorged-failure-reason":"The transaction could not get confirmed due to a reorg of the blockchain!","tx-state-confirmed":"confirmed","tx-state-pending":"not confirmed yet","backup-state":{"icon":"notification_state_backup","title":"Backup your state!","description":"Backup your state to not risk losing funds","link":"Click here to go to the backup state menu"},"ms-balance-proof":{"title":"Balance proof submitted","description":"A monitoring service successfully submitted a balance proof for a channel claiming a reward of {reward} {symbol}. Service: {monitoringService}, Partner: {partner}, Transaction: {txHash}"},"no-receive":{"icon":"notification_receive","title":"Receiving transfers disabled","description":"Check configuration and/or UDC balance"},"withdrawal":{"success":{"title":"User Deposit Withdraw Planned","description":"A planned withdrawal of {amount} {symbol} was successfully completed withdrawing {withdrawal} {symbol}"},"failure":{"title":"User Deposit Withdrawal","description":"The planned withdrawal of {amount} {symbol} failed: {message}","descriptions":{"UDC_WITHDRAW_NO_BALANCE":"We could not complete the withdrawal of {amount} {symbol} because there was not enough balance.","UDC_WITHDRAW_FAILED":"We could not complete the withdrawal of {amount} {symbol} because the transaction failed."}}},"withdrawn":{"icon":"notification_withdrawn","title":"User Deposit Tokens Withdrawn","description":"{withdrawnAmount} {symbol} ({plannedAmount} planned) have been withdrawn from the user deposit contract.","link":"Click here to transfer them to your main account."},"settlement":{"icon":"notification_settle","success":{"title":"Channel Settlement","description":"Channel with {partner} was settled."},"failure":{"title":"Channel Settlement","description":"Channel settlement with {partner} failed."}},"channel-open":{"icon":"notification_channels","success":{"title":"Channel Open","description":"Open channel with {partner} is {state}."},"failure":{"title":"Channel Open Failure","description":"{reason}"}}},"general":{"buttons":{"cancel":"Cancel","transfer":"Transfer","continue":"Continue","confirm":"Confirm"},"offline":"Please connect to the internet.","raiden-account":"Raiden Account","main-account":"Main Account"},"account-content":{"account-details":"Account Details","address":"Address:","disconnect-button":"Disconnect","account":{"main":"Main ETH:","raiden":"Raiden ETH:"},"menu-items":{"settings":{"title":"Settings","subtitle":"Change how you interact with the dApp"},"backup-state":{"title":"Backup State","subtitle":"Download or upload your state"},"report-bugs":{"title":"Download Logs","subtitle":"Download your logs"},"raiden-account":{"title":"Transfer ETH","subtitle":"Transfer ETH between main and Raiden account"},"withdrawal":{"title":"Withdraw Tokens","subtitle":"Transfer tokens from your Raiden account to your main account"},"udc":{"title":"Manage UDC Tokens","subtitle":"Transfer tokens from or to your User Deposit Contract"}}},"withdrawal":{"title":"Transfer tokens to your main Ethereum account.","navigation-link-title":"For service tokens, make sure you withdrew them at the UDC screen first.","dialog":{"title":"Withdraw {0}","body":"You are about to withdraw {0} from your Raiden account.","progress":"Withdrawing...","button":"Confirm","no-eth":"Your Raiden account does not have sufficient ETH to withdraw."},"blockie-alt":"Token address blockie","no-tokens":"The Raiden account has no tokens"},"udc":{"balance":"User Deposit Contract Balance","balance-too-low":"Balance is too low for services. Deposit at least {minAmount} {tokenSymbol} to enable receiving.","withdrawal-header":"Withdrawal in progress","withdrawal":"Withdrawal","deposit":"Deposit","asterisk":"*","withdrawal-footnote":"Actual withdrawal amount might vary","withdrawal-planned":"The withdrawal from the user deposit has been planned. You will get notified when the withdrawal is complete.","information":{"no-withdrawal-in-progress":"No withdrawal in progress","pending-message":"Blocks remaining...","ready-message":"Ready・Tokens get claimed automatically"}},"backup-state":{"description":"The state holds all account information except the private key. You can backup your state to make sure the dApp is kept in sync when switching between browsers.","disabled-download":"Downloading the state is only possible when connected to the dApp","disabled-upload":"Uploading the state is only possible when the dApp is disconnected","download":"Download State","download-warning":"Downloading the state will force the dApp to shut down","download-button":"Download","upload":"Upload State and Connect","upload-drag-and-drop":"Drag and drop state file","upload-divider":"or","upload-button":"Browse files","upload-error":"Only one state file in valid JSON format can be uploaded"},"raiden-account":{"in-progress":"Transfer in progress","transfer-from-main-account":"Transfer ETH from Main Account to Raiden Account","transfer-from-raiden-account":"Transfer ETH from Raiden Account to Main Account"},"update":{"updateAvailable":"A new version is available.","updateMandatory":"Something happened to the local cached version. Perhaps the browser storage got cleared. You must update to get the app working again. You will not lose your current state.","update":"Update","updateInProgress":"Please wait for the update to finish."},"address-input":{"input":{"placeholder":"Address / ENS name"},"blockie-alt":"Selected token address blockie","error":{"invalid-address":"Enter a valid address or ENS name","no-checksum":"Please enter an address in checksum format. You can convert your address on {ethsum}.","empty":"Enter an address or ENS name","ens-resolve-failed":"Please enter a resolvable ENS name","invalid-excluded-address":"Please enter a different address or ENS name. You can\'t use your own address or the address of the token network.","invalid-restricted-address":"Address not allowed, please enter a different address or ENS name.","target-offline":"Target is offline."}},"amount-input":{"input":{"hint":"Please enter an amount"},"error":{"empty":"Please enter an amount","too-many-decimals":"Please use only up to {decimals} decimals for this token","not-enough-funds":"Your maximum usable amount is {funds} {symbol}","less-than-minimum":"Enter an amount larger than {funds}","invalid":"Please enter a valid amount"}},"address-display":{"copy":"Click to copy","copied":"Copied!"},"app-header":{"currency":"ETH"},"channel-actions":{"open":"Open","deposit":"Deposit","withdraw":"Withdraw","close":"Close","settle":"Settle"},"channel-deposit":{"title":"Channel Deposit","restricted-partner-error":"You can only use addresses you have an open channel with.","partner":"Channel Partner","buttons":{"confirm":"Deposit"},"input":{"label":"Amount"}},"mediated-transfer-action":{"confirm-button-label":"Confirm Payment","steps":{"transfer":{"title":"Transfering tokens via route","description":"Transfer in progress"}}},"direct-transfer-action":{"confirm-button-label":"Confirm Payment","no-route-error":"Please verify that the recipient is online and receives payments before trying again.","steps":{"transfer":{"title":"Transfering tokens directly","description":"Transfer in progress"}}},"channel-deposit-and-transfer-action":{"confirm-button-label":"Deposit and Pay","steps":{"deposit":{"title":"Depositing tokens to channel","description":"Please do not close the browser and confirm the transaction with your wallet."},"transfer":{"title":"Transfering tokens","description":"Please wait until tokens have ben successfully sent."}}},"channel-open-and-transfer-action":{"confirm-button-label":"Open Channel and Pay","steps":{"open":{"title":"Opening new channel with target","description":"Please do not close the browser and confirm the transaction with your wallet."},"deposit":{"title":"Depositing tokens into channel","description":"Please confirm the transaction with your wallet."},"transfer":{"title":"Transfering tokens","description":"Please wait until tokens have ben successfully sent."}}},"channel-withdraw":{"buttons":{"confirm":"Withdraw"},"input":{"label":"Amount"},"dialog":{"label":"Withdraw","title":"Withdrawing Tokens","description":"Sign the transaction in MetaMask and close this dialogue to continue using the dApp."},"done":{"label":"Done","title":"Withdraw Successful","description":"Your tokens have been successfully withdrawn."}},"channel-action-form":{"partner":"Partner","amount":"Amount","restricted-partner-address-error":"Please enter the address of an existing channel partner.","exclude-partner-address-error":"You can\'t select an already existing channel partner."},"find-routes":{"hops":"Hops","price":"Price","sub-title":"Route(s) provided by {subdomain} including number of hops and estimated fee","error":{"title":"Oops, something went wrong"}},"stepper":{"steps":{"open":{"title":"Open","description":"You can deposit more tokens \\n or close the channel."},"closed":{"title":"Closed","description":"Please wait until your channel is settleable. \\nthis may take some time."},"settleable":{"title":"Settleable","description":"Settle your channel to transfer \\n your tokens back to your account."}}},"channels":{"open":{"header":"Open"},"closed":{"header":"Closed"},"settleable":{"header":"Settleable"},"snackbar-close":"Close","token-info":"{symbol} | {name}","title":"Channels on"},"channel-list":{"channel":{"blockie_alt":"Partner address blockie","capacity":"Capacity: {value}","close_dialog":{"title":"Close Channel","description":"Are you sure you want to close this channel? This action cannot be undone."},"settle_dialog":{"title":"Settle Channel","description":"Are you sure you want to settle the channel with hub {partner} for token {token}?"}},"messages":{"close":{"success":"Channel closed successfully","failure":"Channel close failed"},"deposit":{"success":"Deposit was successful","failure":"Deposit failed"},"withdraw":{"success":"Withdraw was successful","failure":"Withdraw failed"},"settle":{"success":"Channel settle was successful","failure":"Channel settle failed"}}},"confirmation":{"buttons":{"cancel":"Cancel","close":"Close","settle":"Settle"}},"confirmation-dialog":{"buttons":{"cancel":"Cancel","confirm":"Confirm"}},"error-screen":{"title":"Error"},"error-codes":{"deployment-info-parsing-failed":"Failed to read the contract or service deployment information file!","unsupported-network":"The current network is unsupported. Please choose a different network.","sdk-initialization-failed":"SDK initialization failed. Please check the console for more information.","state-migration-failed":"Cannot replace state with older uploaded state."},"tokens":{"connected-tokens":"Connected Tokens","connect-new":"Connect new token","disconnect-dialog":{"header":"Disconnect token","confirmation-message":"This action will close all channels for the {symbol} token! {address}"},"leave-progress":{"label":"Disconnect","title":"Disconnecting from the token network","description":"Closing the channels"},"leave-done":{"label":"Done","title":"Disconnected from the token network","description":"All your channels were successfully closed"}},"application":{"privacy-policy":"Privacy Policy, Disclaimer & Imprint.","terms":"Terms."},"udc-deposit-dialog":{"title":"Deposit to UDC","button":"Mint and deposit","button-main":"Deposit","uniswap-url-title":"Click here to purchase RDN","available-utility-token":"Available {utilityTokenSymbol} to deposit: {utilityTokenBalance}","available-eth":"Available ETH for on-chain transaction: {balance} {currency}","error":"The mint and deposit operation failed.","error-main":"The deposit operation failed.","progress":{"mint":"Minting {currency} tokens","approve":"Allow UDC to access {currency} tokens","deposit":"Deposit {currency} tokens to the UDC"}},"transfer":{"receiving-transfer-snackbar":"Receiving transfer, do not close browser.","capacity-label":"Capacity","recipient-label":"Recipient","amount-label":"Amount","amount-placeholder":"Amount","error":{"button":"Dismiss","title":"Token transfer unsuccessful","deposit-title":"Deposit failed, please try again."},"transfer-menus":{"select-token-title":"Select Token","deposit-button":"Deposit","channel-button":"Channels","no-channels":"No open channels"},"transfer-inputs":{"title":"Transfer"},"no-channels-dialog":{"title":"No open channels for the selected token","button":"Connect new token"},"steps":{"request-route":{"title":"Request Route","tooltip":"Mint and deposit {token} to the User Deposit Contract to pay for PFS requests","tooltip-main":"Deposit {token} to the User Deposit Contract to pay for PFS requests","udc-description":"Balance to pay the Pathfinding Service","udc-description-low-balance":"Your {token} token balance is too low to pay for the Pathfinding Service. Use the button above to mint and deposit more tokens.","in-progress":"Paying for the route request","searching-for-route":"Searching for route...","done":"Route request payment complete"},"select-route":{"title":"Select Route"},"confirm-transfer":{"title":"Confirm Transfer","total-amount":"Total Amount"},"call-to-action":{"1":{"default":"Transfer Route Request","amount":"Confirm PFS Fee of {amount} {symbol}"},"2":{"default":"Confirm Mediation Fees","amount":"Confirm Mediation Fee of {amount} {symbol}"},"3":{"amount":"Transfer {amount} {symbol}"}},"transfer":{"title":"Transferring Tokens"},"done":{"title":"Send Successful","description":"Your transfer was successful."},"deposit":{"label":"Deposit","title":"Depositing Tokens","description":"Sign the transaction in MetaMask and close this dialogue to continue using the dApp."},"deposit-done":{"label":"Done","title":"Deposit Successful","description":"Your tokens have been successfully deposited."},"summary":{"headline":"Summary","route-request":"Route Request","pfs":"Pathfinding Service","service-fee":"Service Fee","mediated-transfer":"Mediated Transfer","direct-transfer":"Direct Transfer","target":"Target","transfer-amount":"Transfer Amount","total-amount":"Total Amount","mediation-fee":"Mediation Fee","identifier":"Identifier","footnotes":{"one":"1","direct-transfer":"Route request and selection skipped, because you are performing a direct transfer.","route-selection-skipped":"Automatically skipped route selection, because there was only a single route with zero fees."}}}},"transfer-history":{"title":"History","pending-transfer":"PENDING","successful-transfer":"CONFIRMED","failed-transfer":"FAILED"},"select-token":{"header":"Available Tokens"},"select-hub":{"select-button":"Select Hub","service-token-tooltip":"Mint and deposit {token} to the User Deposit Contract to pay for the Monitoring Service.","service-token-tooltip-main":"Deposit {token} to the User Deposit Contract to pay for the Monitoring Service.","service-token-description":"balance for monitoring service"},"hub-list":{"header":"Current top 3 suggested hubs (best first)","error":"Error: List of hubs cannot be fetched from the Pathfinding Service.","no-results":"In this token network, the Pathfinding Service does not find a node which is online. Try again later.","select-button":"Select"},"open-channel":{"error":{"title":"Ops, something went wrong","button":"Dismiss","deposit-failed":"Could not deposit to the channel.","open-failed":"Channel open failed."},"title":"Open Channel","open-button":"Open Channel","partner":"Channel Partner","deposit":"Initial Deposit","excluded-partner-error":"You already have an open channel with the address for this token.","steps":{"open":{"label":"Open","title":"Opening a new channel","description":"Please do not close the browser and confirm the transaction with MetaMask."},"transfer":{"label":"Transfer","title":"Transferring tokens to the network","description":"Please do not close the browser and confirm two (2) transactions with MetaMask."},"deposit":{"label":"Deposit","title":"Deposit tokens into the channel","description":"Wait until tokens are confirmed to be deposited in the channel"},"done":{"label":"Done","title":"New Channel opened","description":"A new channel was successfully opened. You can now start making transfers."}},"confirmation":"Channel opening is in progress, are you sure you want to leave?"},"token-information":{"title":"Token","description":"{symbol} | {name}","balance":"Balance"},"pathfinding-services":{"title":"Select Pathfinding Service","rtt":"{time} ms","headers":{"host":"Pathfinding Service","rtt":"Ping","price":"Price"}},"mint-dialog":{"title":"Mint {symbol}","description":"If you continue, you will get prompted by MetaMask to sign off a minting transaction. In order to mint tokens, you need test net ETH in your wallet."},"error-message":{"problem":"Problem:","solution":"Solution:"},"errors":{"RDN_GENERAL_ERROR":{"title":"An error occurred","problem":"We do not know this error, sorry.","solution":["Please help us and report the issue","Click on your identicon in the top right corner","Click on Report Bugs / Download logs","File a new issue on https://github.com/raiden-network/light-client","Upload logs to the issue"]},"RDN_MINT_FAILED":{"title":"Could not mint token","problem":"It looks like the Light Client does not support minting out-of-the-box for this token contract.","solution":"You may try to mint manually via MetaMask and Etherscan. You can find a step-by-step guide on https://github.com/raiden-network/light-client#minting-manually."},"PFS_UNKNOWN_TOKEN_NETWORK":{"title":"No open channels","problem":"You don\'t seem to have open channels on this token network.","solution":["Hit the ← button in the top left","Click on the current token network","Select Connect new token","Select the token you want to transfer","Proceed with the flow to open a new channel"]},"PFS_INVALID_INFO":{"title":"Couldn\'t understand Pathfinding Service","problem":"The Light Client has received a response from the Pathfinding Service that it couldn\'t understand. It\'s possible that the current Light Client version is out-of-sync with the Pathfinding Service.","solution":["Update the dApp by reloading the page","Attempt a new transfer","If the problem persists, please help us and report the issue","Click on your identicon in the top right corner","Click on Report Bugs / Download logs","File a new issue on https://github.com/raiden-network/light-client","Upload logs to the issue"]},"PFS_NO_ROUTES_FOUND":{"title":"No routes found","problem":"Pathfinding Service wasn\'t able to find a route in the Raiden Network to perform your transfer.","solution":"Make sure that you either have a direct channel with the target or that both of you are connected to a well-connected hub."},"PFS_ERROR_RESPONSE":{"title":"Pathfinding replied with an error","problem":"While communicating with the Pathfinding Service, you have received an error response that we don\'t actively handle yet.","solution":["Simply retry your last action","If the problem persists, please help us and report the issue","Click on your identicon in the top right corner","Click on Report Bugs / Download logs","File a new issue on https://github.com/raiden-network/light-client","Upload logs to the issue"]},"PFS_DISABLED":{"title":"Pathfinding Service disabled","problem":"You tried to find a route in the Raiden Network but Pathfinding was either disabled in your configuration or you did not select a valid Pathfinding Service.","solution":"Try to restart the Light Client by reloading the page and attempt a new transfer."},"PFS_TARGET_OFFLINE":{"title":"Target address is offline","problem":"You are trying to send tokens to an offline target.","solution":"Hit the ← button and verify that the address is online or choose a different target address."},"PFS_LAST_IOU_REQUEST_FAILED":{"title":"Error while depositing tokens for Pathfinding Service","problem":"While trying to deposit tokens for route requests, the Pathfinding Service returned an error.","solution":["This should happen very rarely, please retry to deposit","If the problem persists, please help us and report the issue","Click on your identicon in the top right corner","Click on Report Bugs / Download logs","File a new issue on https://github.com/raiden-network/light-client","Upload logs to the issue"]},"PFS_IOU_SIGNATURE_MISMATCH":{"title":"Error while depositing tokens for Pathfinding Service","problem":"While trying to deposit tokens for route requests, the Pathfinding Service encountered mismatching signatures.","solution":["This should happen very rarely, please retry to deposit","If the problem persists, please help us and report the issue","Click on your identicon in the top right corner","Click on Report Bugs / Download logs","File a new issue on https://github.com/raiden-network/light-client","Upload logs to the issue"]},"PFS_NO_ROUTES_BETWEEN_NODES":{"title":"No route between you and your target","problem":"The Pathfinding Service was not able to find a usable route between you and the target you want to transfer tokens to.","solution":["Hit the ← button in the top left","Click on the current token network","Select Connect new token","Select the token you want to transfer","Connect with a more popular hub, e.g. hub.raiden.eth. That way, Pathfinding Service is more likely to find a route between you and the target","Retry your transfer"]},"PFS_TARGET_NO_RECEIVE":{"title":"Target does not receive payments","problem":"The target is online but does not seem to receive payments.","solution":"Please contact the payment target to make sure he can receive payments and try again."}},"versions":{"sdk":"Raiden SDK: {version}","contracts":"Raiden Contracts: {version}"},"scan":{"permission":{"title":"Grant Camera Access","description":"In order to scan QR codes, you will need to allow camera access."}},"progress-steps":{"transfer":{"PENDING":"Transfer sent","RECEIVED":"Transfer acknowledged by partner","REFUNDED":"Transfer refunded","CLOSED":"Channel closed early","REVEALED":"Secret revealed to target","UNLOCKING":"Unlock sent to partner","EXPIRING":"Lock expired","UNLOCKED":"Unlock acknowledged","EXPIRED":"Lock expired acknowledged","REQUESTED":"Secret requested by target","REGISTERED":"Secret registered on-chain"}},"settings":{"raiden-account":{"title":"Use Raiden Account","description":"By default the dApp uses a generated Raiden account to sign messages. Disable the Raiden account to use your Web3 provider account. All messages will then have to be signed manually."}},"token-list":{"item":{"blockie-alt":"Token address blockie","information-template":"{symbol} | {name}"}},"install-banner":{"install":"Install","dismiss":"Dismiss","message-mobile":"Add the Raiden dApp to your Home screen","message-desktop":"Install the Raiden dApp on your desktop"},"connection-manager":{"dialogs":{"base":{"link-button":"Connect"},"direct-rpc-provider":{"header":"Private Key","description":"Connect directly to an Ethereum node and use your accounts private key. This approach is NOT RECOMMENDED for security concerns.","error-message":"Failed to link to configured provider. Please make sure the given paramaters and the service is available.","options":{"rpc-url":{"name":"RPC","details":"Provide the URL for an RPC endpoint","placeholder":"https://"},"private-key":{"name":"Private Key","details":"Hex encoded private key of your Ethereum account.","placeholder":"f0a78..."}}},"injected-provider":{"header":"Browser Extension","description":"Connect with a provider in your web browser.","error-message":"Failed to link to provider. Please make sure to grant the requested permissions."},"wallet-connect-provider":{"header":"WalletConnect","description":"Connect with any mobile wallet app that supports WalletConnect.","error-message":"Failed to link via WalletConnect. Please make sure the given parmaters are correct and confirm the connection in the wallet.","options":{"bridge-url":{"name":"Bridge Server","details":"Provide the URL for an alternative bridge server","placeholder":"https://"},"infura-id":{"name":"Infura","details":"Provide the ID for an Infura project","placeholder":"Project ID"},"rpc-url":{"name":"RPC","details":"Provide the URL for an RPC endpoint","placeholder":"https://"}}},"connection-pending":{"title":"Connecting","text":"Please check if any actions are required in your wallet.","button":"Cancel"}}},"quick-pay":{"transfer-information":{"header":"Payment Information","target-address":"Receiver","token-amount":"Payment amount","pathfinding-service-price":"Mediation possible, price for requesting route","fetch-route-trigger":"Pay to find route","fetch-route-error-too-expensive":"UDC balance too low","fetch-route-error-no-route":"No route available"},"action-titles":{"channel-deposit":"Channel Deposit","channel-open":"Open Channel","channel-deposit-and-transfer":"Channel Deposit and Pay","channel-open-and-transfer":"Channel Open and Pay"},"action-messages":{"direct-transfer":"Please confirm the above payment information.","mediated-transfer":"Please confirm the above payment information including the mediation fees for the to use route.","channel-deposit-and-transfer":"{deposit} will be deposited into the existing channel and {payment} will be paid out.","channel-open-and-transfer":"{deposit} will be deposited into a new channel and {payment} will be paid out."},"invalid-parameter-error":"Some payment parameters are invalid. Please verify the link is correct."}}')},ee57:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("2111"),a=r["o"](r["u"]({userId:r["r"],accessToken:r["r"],deviceId:r["r"],displayName:r["r"]}))},ee6c:function(e,t,n){"use strict";n.d(t,"b",(function(){return M})),n.d(t,"g",(function(){return L})),n.d(t,"i",(function(){return U})),n.d(t,"h",(function(){return B})),n.d(t,"f",(function(){return $})),n.d(t,"e",(function(){return H})),n.d(t,"c",(function(){return q})),n.d(t,"d",(function(){return K})),n.d(t,"a",(function(){return Y}));var r=n("a91f"),a=n("ccde"),i=n("2111"),o=n("5a9d"),c=n.n(o),u=n("a32b");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){return f="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t,n){return t&&b(e.prototype,t),n&&b(e,n),e}function h(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}function m(e){var t=w();return function(){var n,r=E(e);if(t){var a=E(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return v(this,n)}}function v(e,t){if(t&&("object"===f(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return O(e)}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e){var t="function"===typeof Map?new Map:void 0;return j=function(e){if(null===e||!_(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return g(e,arguments,E(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),k(n,e)},j(e)}function g(e,t,n){return g=w()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var a=Function.bind.apply(e,r),i=new a;return n&&k(i,n.prototype),i},g.apply(null,arguments)}function w(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function _(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function k(e,t){return k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},k(e,t)}function E(e){return E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},E(e)}function T(e){return P(e)||A(e)||I(e)||S()}function S(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function A(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function P(e){if(Array.isArray(e))return D(e)}function x(e,t){return C(e)||R(e,t)||I(e,t)||N()}function N(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function I(e,t){if(e){if("string"===typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?D(e,t):void 0}}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function R(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,c=!1;try{for(n=n.call(e);!(o=(r=n.next()).done);o=!0)if(i.push(r.value),t&&i.length===t)break}catch(u){c=!0,a=u}finally{try{o||null==n["return"]||n["return"]()}finally{if(c)throw a}}return i}}function C(e){if(Array.isArray(e))return e}var M=u;function L(e,t){var n=function e(t,n){var r,a;return a="string"===typeof t?(null===n||void 0===n?void 0:n.name)===t||(null===n||void 0===n||null===(r=n.message)||void 0===r?void 0:r.includes(t)):"number"===typeof t?(null===n||void 0===n?void 0:n.httpStatus)===t:Object.entries(t).every((function(e){var t=x(e,2),r=t[0],a=t[1];return(null===n||void 0===n?void 0:n[r])===a})),!a&&n&&"error"in n&&(a=e(t,n.error)),a},r=Array.isArray(e)?function(t){return e.some((function(e){return n(e,t)}))}:function(t){return n(e,t)};return arguments.length<2?r:r(t)}function U(e){var t,n=-1,r=null!==(t=e.maxRetries)&&void 0!==t?t:10;return function(t){var a;n++;var i=!0;return r>=0&&i&&(i=n<r),e.onErrors&&i&&(i=L(e.onErrors,t)),e.neverOnErrors&&i&&(i=!L(e.neverOnErrors,t)),e.predicate&&i&&(i=!!e.predicate(t,n)),e.stopPredicate&&i&&(i=!e.stopPredicate(t,n)),null===(a=e.log)||void 0===a||a.call(e,i?"retrying":"giving up",{count:n,maxRetries:r},t),i}}var B=["invalid response","missing response",{code:"TIMEOUT"},{code:"SERVER_ERROR"},{code:"NETWORK_ERROR"},{code:"ENOTFOUND"},429,500,502,503],F=["always failing transaction","cannot estimate gas",{code:"UNPREDICTABLE_GAS_LIMIT"}],W=["replacement fee too low","gas price supplied is too low","nonce is too low","nonce has already been used","already known","Transaction with the same hash was already imported"],V=["execution failed due to an exception","transaction failed","execution reverted"],$=[].concat(F,W,B),H=[].concat(T($),V),q=function(e){h(n,e);var t=m(n);function n(e,r){var a;return d(this,n),a=t.call(this,e),a.details=r,a.name="RaidenError",Object.setPrototypeOf(O(a),n.prototype),a}return y(n,[{key:"code",get:function(){var e,t=this;return null!==(e=c()(M,(function(e){return e===t.message})))&&void 0!==e?e:"RDN_GENERAL_ERROR"}}]),n}(j(Error));function K(e,t,n){if(!e)throw null===n||void 0===n||n("__assertion failed:",e,t),t instanceof Error?t:"function"===typeof t?t(e):Array.isArray(t)?g(q,T(t)):new q(null!==t&&void 0!==t?t:M.RDN_ASSERT_ERROR,{condition:e})}var G=i["i"]([i["u"]({name:i["r"]}),i["n"]({message:i["r"],stack:i["r"],details:i["x"]})]),Y=new i["b"]("Error",(function(e){return"object"===f(e)&&!!e&&"message"in e}),(function(e){return Object(a["pipe"])(G.decode(e),Object(r["map"])((function(e){return"details"in e?Object.assign(new q(e.message,e.details),{name:e.name,stack:e.stack}):Object.assign(new Error(e.message),{name:e.name,stack:e.stack})})))}),(function(e){return l({name:e.name,message:e.message,stack:e.stack},"details"in e?{details:e.details}:{})}))},ee79:function(e){e.exports=JSON.parse('{"contracts_version":null,"chain_id":1,"contracts":{"SecretRegistry":{"address":"0x70f0c29b946E63803BD0Be796E17E47138668A68","transaction_hash":"0xa5a2672315e336dde3b43f3c09a4d0dbc7a59a4fe84f0506ea3abb5025bf94fb","block_number":10095755,"gas_cost":247286,"constructor_arguments":[]},"TokenNetworkRegistry":{"address":"0x244076b99Fb84363D4E7d7b4779bFFb7eB4e982D","transaction_hash":"0xd052bc3902029704d74b7fba38952a446de15ad297595312064873b605b0a802","block_number":13721645,"gas_cost":4546989,"constructor_arguments":["0x70f0c29b946E63803BD0Be796E17E47138668A68",100,500,2]}},"token_networks":[{"token_network_address":"0x2F2630825e4244EffF4369d262E4F46A3467D04a","constructor_arguments":{"_token_address":"0x6B175474E89094C44Da98b954EedeAC495271d0F","_secret_registry":"0x70f0c29b946E63803BD0Be796E17E47138668A68","_chain_id":1,"_settlement_timeout_min":100,"_settlement_timeout_max":500,"_controller":"0xF8b8E4d2e40714869558EaB5CF08865864Cf0Afd","_channel_participant_deposit_limit":5e+21,"_token_network_deposit_limit":5e+24}},{"token_network_address":"0x94B5127E40295dc37B85A30644FC01d1063b34e4","constructor_arguments":{"_token_address":"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2","_secret_registry":"0x70f0c29b946E63803BD0Be796E17E47138668A68","_chain_id":1,"_settlement_timeout_min":100,"_settlement_timeout_max":500,"_controller":"0xF8b8E4d2e40714869558EaB5CF08865864Cf0Afd","_channel_participant_deposit_limit":1190476190476190000,"_token_network_deposit_limit":1.19047619047619e+21}}]}')},eed9:function(e,t,n){"use strict";n.r(t),n.d(t,"pathFind",(function(){return s})),n.d(t,"servicesValid",(function(){return l})),n.d(t,"iouPersist",(function(){return p})),n.d(t,"iouClear",(function(){return f})),n.d(t,"udcDeposit",(function(){return d})),n.d(t,"udcWithdrawPlan",(function(){return y})),n.d(t,"udcWithdraw",(function(){return h})),n.d(t,"msBalanceProofSent",(function(){return m}));var r=n("2111"),a=n("d276"),i=n("ca14"),o=n("d011"),c=r["u"]({tokenNetwork:i["a"],target:i["a"],value:Object(i["l"])(32)}),u=r["u"]({tokenNetwork:i["a"],serviceAddress:i["a"]}),s=Object(a["c"])(c,"path/find",r["n"]({paths:o["d"],pfs:r["w"]([o["f"],r["l"]])}),r["u"]({paths:o["h"]})),l=Object(a["b"])("services/valid",o["q"]),p=Object(a["b"])("iou/persist",r["u"]({iou:Object(i["j"])(o["c"])}),u),f=Object(a["b"])("iou/clear",void 0,u),d=Object(a["c"])(r["u"]({totalDeposit:Object(i["l"])(32)}),"udc/deposit",r["u"]({deposit:Object(i["l"])(32)}),r["w"]([r["u"]({balance:Object(i["l"])(32)}),r["u"]({balance:Object(i["l"])(32),txHash:i["c"],txBlock:r["m"],confirmed:r["w"]([r["v"],r["d"]])})])),b=r["u"]({amount:Object(i["l"])(32)}),y=Object(a["c"])(b,"udc/withdraw/plan",r["v"],r["i"]([r["u"]({block:r["m"]}),r["n"]({txHash:i["c"],txBlock:r["m"],confirmed:r["w"]([r["v"],r["d"]])})])),h=Object(a["c"])(b,"udc/withdraw",r["w"]([r["v"],r["n"]({subkey:r["d"]})]),r["u"]({withdrawal:Object(i["l"])(32),beneficiary:i["a"],txHash:i["c"],txBlock:r["m"],confirmed:r["w"]([r["v"],r["d"]])})),m=Object(a["b"])("ms/balanceProof/sent",r["u"]({tokenNetwork:i["a"],partner:i["a"],id:r["m"],reward:Object(i["l"])(32),nonce:Object(i["l"])(8),monitoringService:i["a"],txHash:i["c"],txBlock:r["m"],confirmed:r["w"]([r["v"],r["d"]])}))},ef8c:function(e,t,n){"use strict";n("0731")},f2df:function(e,t,n){"use strict";var r=n("ee6c");n.d(t,"a",(function(){return r["d"]}))},f455:function(e,t,n){"use strict";var r=n("d0dd");n.d(t,"f",(function(){return r["a"]}));var a=n("b8ff");n.d(t,"b",(function(){return a["b"]}));n("5bbb");var i=n("2b5b");n.d(t,"a",(function(){return i["a"]})),n.d(t,"c",(function(){return i["d"]}));var o=n("d011");n.d(t,"e",(function(){return o["j"]}));n("65e1"),n("1a78");var c=n("05eb");n.d(t,"d",(function(){return c["a"]}));n("ee6c");var u=n("1b23");n.d(t,"g",(function(){return u["d"]}));n("ca14")},f496:function(e,t,n){e.exports=n.p+"img/select_hub_info.32d32b20.svg"},f5be:function(e,t,n){"use strict";n.d(t,"e",(function(){return T})),n.d(t,"d",(function(){return S})),n.d(t,"c",(function(){return A})),n.d(t,"f",(function(){return P})),n.d(t,"g",(function(){return x})),n.d(t,"b",(function(){return I})),n.d(t,"a",(function(){return C}));var r=n("a91f"),a=n("ccde"),i=n("2111"),o=n("0128"),c=n.n(o),u=n("d2a5"),s=n.n(u),l=n("6298"),p=n.n(l),f=n("f799"),d=n("5bbb"),b=n("2b5b"),y=n("8173"),h=n("eed9"),m=n("83ee"),v=n("d890"),O=n("0602"),j=n("d276"),g=n("ee6c"),w=n("ca14");function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var T=Object(j["b"])("raiden/shutdown",i["u"]({reason:i["w"]([i["k"](b["g"].STOP),i["k"](b["g"].ACCOUNT_CHANGED),i["k"](b["g"].NETWORK_CHANGED),g["a"]])})),S=Object(j["b"])("raiden/config/update",d["a"]),A=Object(j["b"])("raiden/config/caps",i["u"]({caps:i["w"]([O["a"],i["l"]])})),P=Object(j["b"])("raiden/started"),x=Object(j["b"])("raiden/synced",i["u"]({tookMs:i["m"],initialBlock:i["m"],currentBlock:i["m"]})),N=k(k(k(k(k({raidenShutdown:T,raidenConfigUpdate:S,raidenConfigCaps:A,raidenStarted:P,raidenSynced:x},f),v),y),m),h),I=[N.raidenShutdown,N.newBlock,N.matrixPresence.success,N.tokenMonitored,N.udcWithdrawPlan.success,N.udcWithdrawPlan.failure,N.udcWithdraw.success,N.udcWithdraw.failure,N.msBalanceProofSent,N.channelSettle.success,N.channelSettle.failure,N.channelOpen.success,N.channelOpen.failure],D=p()(N,(function(e,t){return k(k({},e),"type"in t?E({},t.type,t):c()(t,s()("type")))}),{}),R=i["o"](i["u"]({type:i["r"],payload:i["u"]({txHash:w["c"],txBlock:i["m"],confirmed:i["w"]([i["v"],i["d"]])})})),C=new i["b"]("ConfirmableAction",R.is,(function(e,t){return Object(a["pipe"])(R.validate(e,t),Object(r["chain"])((function(e){var n=e.type;return n in D?D[n].codec.validate(e,t):i["g"](e,t)})))}),(function(e){return D[e.type].codec.encode(e)}))},f726:function(e,t,n){"use strict";n("92b0")},f799:function(e,t,n){"use strict";n.r(t),n.d(t,"newBlock",(function(){return s})),n.d(t,"blockTime",(function(){return l})),n.d(t,"blockStale",(function(){return p})),n.d(t,"tokenMonitored",(function(){return f})),n.d(t,"channelOpen",(function(){return d})),n.d(t,"channelMonitored",(function(){return b})),n.d(t,"channelDeposit",(function(){return y})),n.d(t,"channelWithdrawn",(function(){return h})),n.d(t,"channelClose",(function(){return m})),n.d(t,"channelSettleable",(function(){return v})),n.d(t,"channelSettle",(function(){return j}));var r=n("2111"),a=n("0ba5"),i=n("d276"),o=n("ca14"),c=n("9201"),u=r["u"]({tokenNetwork:o["a"],partner:o["a"]}),s=Object(i["b"])("block/new",r["u"]({blockNumber:r["m"]})),l=Object(i["b"])("block/time",r["u"]({blockTime:r["m"]})),p=Object(i["b"])("block/stale",r["u"]({stale:r["d"]})),f=Object(i["b"])("token/monitored",r["i"]([r["u"]({token:o["a"],tokenNetwork:o["a"]}),r["n"]({fromBlock:r["m"],toBlock:r["m"]})])),d=Object(i["c"])(u,"channel/open",r["n"]({settleTimeout:r["m"],deposit:Object(o["l"])(32)}),r["u"]({id:r["m"],token:o["a"],settleTimeout:r["m"],isFirstParticipant:r["d"],txHash:o["c"],txBlock:r["m"],confirmed:r["w"]([r["v"],r["d"]])})),b=Object(i["b"])("channel/monitored",r["u"]({id:r["m"]}),u),y=Object(i["c"])(u,"channel/deposit",r["i"]([r["w"]([r["u"]({deposit:Object(o["l"])(32)}),r["u"]({totalDeposit:Object(o["l"])(32)})]),r["n"]({waitOpen:r["k"](!0)})]),r["u"]({id:r["m"],participant:o["a"],totalDeposit:Object(o["l"])(32),txHash:o["c"],txBlock:r["m"],confirmed:r["w"]([r["v"],r["d"]])})),h=Object(i["b"])("channel/withdraw/success",r["u"]({id:r["m"],participant:o["a"],totalWithdraw:Object(o["l"])(32),txHash:o["c"],txBlock:r["m"],confirmed:r["w"]([r["v"],r["d"]])}),u),m=Object(i["c"])(u,"channel/close",r["v"],r["u"]({id:r["m"],participant:o["a"],txHash:o["c"],txBlock:r["m"],confirmed:r["w"]([r["v"],r["d"]])})),v=Object(i["b"])("channel/settleable",r["u"]({settleableBlock:r["m"]}),u),O=r["t"]([Object(o["j"])(a["e"]),Object(o["j"])(a["c"])]),j=Object(i["c"])(u,"channel/settle",r["w"]([r["u"]({coopSettle:r["t"]([O,O])}),r["v"]]),r["i"]([r["u"]({id:r["m"],txHash:o["c"],txBlock:r["m"],confirmed:r["w"]([r["v"],r["d"]])}),r["n"]({locks:r["p"](c["d"])})]))},fb60:function(e,t,n){e.exports=n.p+"img/transfer_steps_info.1dbe6e75.svg"}});